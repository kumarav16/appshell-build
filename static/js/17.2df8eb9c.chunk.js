(this["webpackJsonpapp-shell-client"]=this["webpackJsonpapp-shell-client"]||[]).push([[17,42,110],{1014:function(t,e,i){"use strict";i.r(e);var a=i(219),n=(i(723),i(724));i.d(e,"default",(function(){return n.default})),Object(a.a)().then((function(){Object(a.b)()}))},714:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return s})),i.d(e,"f",(function(){return l})),i.d(e,"g",(function(){return d})),i.d(e,"h",(function(){return p})),i.d(e,"i",(function(){return f})),i.d(e,"j",(function(){return u})),i.d(e,"k",(function(){return m})),i.d(e,"l",(function(){return b})),i.d(e,"m",(function(){return j}));var a=i(3),n=Object(a.a)("bh-a"),r=Object(a.a)("bh-action-menu"),o=Object(a.a)("bh-alert-item"),c=Object(a.a)("bh-avatar"),s=Object(a.a)("bh-button-tabs"),l=Object(a.a)("bh-divider"),d=Object(a.a)("bh-dropdown"),p=Object(a.a)("bh-icon"),f=Object(a.a)("bh-illustration"),u=Object(a.a)("bh-panel"),m=Object(a.a)("bh-search"),b=Object(a.a)("bh-spinner"),j=Object(a.a)("bh-status-indicator")},723:function(t,e,i){},724:function(t,e,i){"use strict";i.r(e);var a=i(92),n=i(46),r=i(17),o=i(12),c=i(26),s=i(36),l=i(0),d=i(93),p=i.n(d),f=i(756),u=i.n(f),m=(i(723),i(714)),b=i(4),j=function(t){Object(c.a)(i,t);var e=Object(s.a)(i);function i(t){var a;return Object(r.a)(this,i),(a=e.call(this,t)).getNotificationDataCall=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=a.restructureNotificationData(t);a.tabLoadData(e,a.state.activeTab.key)},a.restructureNotificationData=function(t){var e=p.a.orderBy(t,["createdDateTime"],["desc"]),i=u()();return e&&p.a.cloneDeep(e).map((function(t){t.category=p.a.isEmpty(t.category)?a.getCategoryTab(t.createdDateTime):t.category;var e=i.diff(t.createdDateTime,"days");if(0!==e)t.createdDateTime="".concat(e," days ago"),t.categoryGroup="".concat(e," days ago");else{var n=i.diff(t.createdDateTime,"hour");t.createdDateTime="".concat(n,"h ago"),t.categoryGroup="Today"}return t}))},a.getCategoryTab=function(t){var e=a.props.config&&a.props.config.timeSettings&&a.props.config.timeSettings.recent?a.props.config.timeSettings.recent:864e5;return new Date-new Date(t)<=e?"recent":"earlier"},a.tabLoadData=function(t){var e,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=a.state.selectedFilterValue,c=p.a.isEmpty(a.props.config.removedId)?[]:Object(n.a)(a.props.config.removedId),s=p.a.isEmpty(o)?a.props.config.filter&&a.props.config.filter.filterOptions?a.props.config.filter.filterOptions[0]:"":o,l=[];l=""!==r?p.a.filter(t,(function(t){return t.category===r})):t,i="all"!==s.value?p.a.isEmpty(c)?p.a.filter(l,(function(t){return t.filterCriteria===s.value})):p.a.filter(l,(function(t){return t.filterCriteria===s.value&&!p.a.includes(c,t.id)})):p.a.isEmpty(c)?l:p.a.filter(l,(function(t){return!p.a.includes(c,t.id)}));var d=p.a.groupBy(i,"categoryGroup"),f=Object.keys(d).map((function(t){return{notificationGroup:t,notificationList:d[t]}}));e=p.a.isEmpty(f)?Object(b.jsx)("div",{}):f.map((function(t){return a.getNotificationRow(t)})),a.setState({notificationData:f,renderNotificationComp:e})},a.onTabSelect=function(t){var e=!p.a.isEmpty(a.state.arrAfterRemovedObj)||a.state.removalFlag?a.state.arrAfterRemovedObj:a.state.cloneOriginalNotificationData,i=a.restructureNotificationData(e);a.tabLoadData(i,t.detail.key),a.setState({activeTab:t.detail})},a.onFilterMenu=function(t){var e,i=a.state.filterOptions,r=p.a.isEmpty(a.props.config.removedId)?[]:Object(n.a)(a.props.config.removedId),o=t.detail,c=i.map((function(t){return t.value===o.value?(t.selected=!0,t):(t.selected=!1,t)})),s=!p.a.isEmpty(a.state.arrAfterRemovedObj)||a.state.removalFlag?a.state.arrAfterRemovedObj:a.state.cloneOriginalNotificationData,l=a.restructureNotificationData(s);e="all"!==t.detail.value?p.a.isEmpty(r)?p.a.filter(l,(function(e){return e.filterCriteria===t.detail.value})):p.a.filter(l,(function(e){return e.filterCriteria===t.detail.value&&!p.a.includes(r,e.id)})):p.a.isEmpty(r)?l:p.a.filter(l,(function(t){return!p.a.includes(r,t.id)})),a.setState({filterOptions:c,selectedFilterValue:o}),a.tabLoadData(e,a.state.activeTab.key)},a.onRemove=function(t){var e=a.state,i=e.cloneOriginalNotificationData,r=e.arrAfterRemovedObj,o=e.activeTab,c=e.removalFlag,s=p.a.isEmpty(a.props.config.removedId)?[]:Object(n.a)(a.props.config.removedId);s.push(t.id);var l=!p.a.isEmpty(r)||c?r:i,d=p.a.filter(l,(function(t){return!p.a.isEmpty(s)&&!p.a.includes(s,t.id)})),f=a.restructureNotificationData(d);a.tabLoadData(f,o.key),a.setState({arrAfterRemovedObj:d,removalFlag:!0}),a.props.handleCustomEvent({type:"onCloseClick",removedId:s}),a.props.markNotificationRead(t,"onCloseClick")},a.getNotificationRow=function(t){var e=a.props.config,i=e.softDelete,n=e.updateErrorId,r=a.props.t;return""===t||""===t.notificationGroup||p.a.isEmpty(t.notificationList)?Object(b.jsx)("div",{}):Object(b.jsxs)("div",{className:"notif--group",children:[Object(b.jsx)("p",{className:"typography--label-small text-color-secondary notif--date",children:t.notificationGroup}),t.notificationList.map((function(t){var e=p.a.isEmpty(t.title)?"":t.title,o=p.a.isEmpty(t.message)?"":t.message,c=!p.a.isEmpty(t.createdDateTime)&&t.createdDateTime;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{id:t.id,className:"notif--container motion--normal",children:[Object(b.jsxs)("div",{className:"notif--status",children:[Object(b.jsx)("div",{className:"statusIndicator",children:!1===t.status&&Object(b.jsx)(m.m,{className:"notif--status-indicator",position:"standalone",theme:"accent",size:"xsmall"})}),Object(b.jsx)("div",{className:"notiTypeIcon",children:a.getIconBasedOnType(t)})]}),Object(b.jsxs)("div",{className:"notificationContent",onClick:function(){return a.props.markNotificationRead(t,"onContentClick")},children:[Object(b.jsx)("p",{className:"typography--body-small-semi-bold text-color-primary notif-title",children:e}),Object(b.jsx)("p",{className:"typography--body-small text-color-secondary notif--description",children:o}),Object(b.jsx)("p",{className:"typography--body-small text-color-secondary",children:c})]}),i&&Object(b.jsx)(m.h,{className:"closeIcon",icon:"close",size:"small",onClick:function(){return a.onRemove(t)}})]}),!p.a.isEmpty(n)&&n===t.id&&Object(b.jsx)("div",{className:"errorAlertItem",children:Object(b.jsx)(m.c,{type:"context",status:"critical",message:"<strong>".concat(r("InternalServerError"),".</strong> ").concat(r("ErrorForRead")),dismissible:"false"})}),Object(b.jsx)(m.f,{marginLeft:"medium",marginRight:"medium",marginTop:"none",marginBottom:"none"})]})}))]})},a.getIconBasedOnType=function(t){var e,i=p.a.isEmpty(t.type)?"":t.type;if("User generated"===i){var n=p.a.isEmpty(t.createdBy)?"":t.createdBy.split("@")[0].split("."),r=p.a.isEmpty(n)?"":n[1],o=p.a.isEmpty(n)?"":n[0];e=Object(b.jsx)(m.d,{type:"primary",size:"xsmall",image:"",false:!0,firstname:r,lastname:o})}else if(p.a.includes(i,"System"))e=Object(b.jsx)(m.h,{icon:"notification_important",color:a.getIconColor(i),size:"xsmall"});else{var c=a.props.config&&a.props.config.icons&&a.props.config.icons.iconOptions,s=p.a.find(c,(function(t){return t.value===i})),l=p.a.find(c,(function(t){return"default"===t.value})),d=p.a.isEmpty(s)?p.a.isEmpty(l)?{}:l:s,f=p.a.isEmpty(d)||p.a.isEmpty(d.iconName)?"":d.iconName,u=p.a.isEmpty(d)||p.a.isEmpty(d.color)?"primary":d.color;e=Object(b.jsx)(m.h,{icon:f,color:u,size:"xsmall"})}return e},a.getIconColor=function(t){return"System Warning"===t?"var(--color-fill-semantic-warning-default)":"System error"===t?"var(--color-fill-semantic-error-default)":"System Info"===t?"var(--color-fill-semantic-info-default)":""},a.onViewAllSelect=function(t){if(!a.props.data.isNoResponse){var e={navigationObject:p.a.get(t,"navigationObject",{})},i={state:{mode:p.a.get(e,"navigationObject.mode",""),detail:{payLoad:e.navigationObject}},appname:p.a.get(e,"navigationObject.appName","")};window.parent.postMessage(JSON.stringify({eventType:"navigation",payload:i}))}},a.getOtherScenariosScreens=function(){var t=a.props.config.notificationErrorScreen,e=a.props,i=e.data,n=e.t;return t?Object(b.jsxs)("div",{align:"center",className:"errorScreen",children:[Object(b.jsx)(m.i,{className:"serverError",source:"CouldNotComplete",title:"".concat(n("Error")," !"),description:n("InternalServerError")}),Object(b.jsxs)("div",{className:"errorContent",children:[Object(b.jsx)("p",{children:n("AdvanceNotifiErr1")}),Object(b.jsx)("p",{children:n("AdvanceNotifiErr2")})]})]}):i.isNoResponse?Object(b.jsx)("div",{align:"center",children:Object(b.jsx)(m.i,{className:"noYet",source:"EmptyBox",title:n("NoNotifiYet")})}):Object(b.jsx)("div",{align:"center",children:Object(b.jsx)(m.i,{className:"noRecent",source:"EmptyBox",title:n("NoRecentNotification")})})},a.state={tabList:[],activeTab:t.config.tabMenu&&t.config.tabs&&t.config.tabs.tabOptions?t.config.tabs.tabOptions.slice(0,3)[0]:t.config.tabMenu?{label:"Recent",key:"recent"}:{},filterOptions:[],selectedFilterValue:{},notificationData:[],renderNotificationComp:"",cloneOriginalNotificationData:[],arrAfterRemovedObj:[],removalFlag:!1},a}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.getNotificationDataCall(this.state.cloneOriginalNotificationData),this.setState({selectedFilterValue:this.props.config.filter&&this.props.config.filter.filterOptions?this.props.config.filter.filterOptions[0]:""})}},{key:"componentDidUpdate",value:function(t){if(!p.a.isEqual(t.data.items,this.props.data.items)||!p.a.isEqual(t.config.updateErrorId,this.props.config.updateErrorId)){var e=this.state.arrAfterRemovedObj,i=p.a.isEmpty(this.props.config.removedId)?[]:Object(n.a)(this.props.config.removedId),a=this.props.data&&this.props.data.items?this.props.data.items:[],r=p.a.filter(a,(function(t){return!p.a.isEmpty(i)&&!p.a.includes(i,t.id)})),o=p.a.isEmpty(r)?a:r,c=p.a.intersectionBy(a,e,"id");this.setState({arrAfterRemovedObj:c}),this.getNotificationDataCall(o)}}},{key:"render",value:function(){var t=this,e=this.state,i=e.tabList,n=e.filterOptions,r=e.renderNotificationComp,o=this.props.config,c=o.filter,s=o.tabMenu,l=o.viewAll,d=o.isOpen,f=o.requestAdvNotification,u=this.props,j=u.data,v=u.t,g=i.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{label:v("".concat(t.label))})}));return Object(b.jsx)("div",{id:"advanceNotification",children:Object(b.jsxs)(m.j,{slot:"bh-panel",width:"medium",header:v("Notifications"),id:"chart-comp--panel",isOpen:d,onBhEventClose:function(e){return t.props.handleCustomEvent(e)},children:[!p.a.isEmpty(l)&&Object(b.jsx)(m.a,{className:"notiViewAll typography--body-medium",type:"primary",text:v("ViewAll"),noUnderline:!0,href:"#",onClick:function(){return t.onViewAllSelect(l)},target:"_parent","left-icon":"visibility",disabled:!!j.isNoResponse}),Object(b.jsxs)("div",{className:"notif--header",children:[Object(b.jsx)("div",{className:s?"":"hideTab",children:s&&Object(b.jsx)(m.e,{className:"notificationTabs",small:!0,id:"notificationButtonTabs",onBhEventSelected:function(e){return t.onTabSelect(e)},items:JSON.stringify(g),activeKey:p.a.isEmpty(this.state.activeTab)?"":this.state.activeTab.key})}),Object(b.jsx)("div",{className:"notif--header-buttons",children:!p.a.isEmpty(c)&&Object(b.jsx)(m.b,{className:"notiActionMenu","menu-items":n,onBhEventSelected:function(e){return t.onFilterMenu(e)},selectedValue:p.a.isEmpty(this.state.selectedFilterValue)?"":this.state.selectedFilterValue.value,width:"small","icon-override":"more_vert",ellipsis:"true"})})]}),Object(b.jsx)("div",{id:"panel--content",children:f?Object(b.jsx)(m.l,{size:"large",className:"panelSpinner"}):p.a.isEmpty(j.items)?this.getOtherScenariosScreens():r})]})})}}],[{key:"getDerivedStateFromProps",value:function(t){return{cloneOriginalNotificationData:t.data.items,filterOptions:t.config.filter&&t.config.filter.filterOptions?t.config.filter.filterOptions:[],tabList:t.config.tabMenu&&t.config.tabs&&t.config.tabs.tabOptions?t.config.tabs.tabOptions.slice(0,3):t.config.tabMenu?[{label:"Recent",key:"recent"},{label:"Earlier",key:"earlier"}]:[]}}}]),i}(l.Component);e.default=j}}]);
//# sourceMappingURL=17.2df8eb9c.chunk.js.map