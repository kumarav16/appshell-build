(this["webpackJsonpapp-shell-client"]=this["webpackJsonpapp-shell-client"]||[]).push([[129],{627:function(t,i,e){"use strict";e.r(i),e.d(i,"bh_line_chart",(function(){return c}));var o=e(46),n=e(17),l=e(12),a=e(175),r=e(688),s=(e(774),e(873),e(992)),d="Unable to locate the expected attributes. Please check the documentation and attach mandatory attributes",c=function(){function t(i){Object(n.a)(this,t),Object(a.h)(this,i),this.bhEventChange=Object(a.d)(this,"bhEventChange",7),this.height=400,this.disabledDatasetIndex=[]}return Object(l.a)(t,[{key:"watchData",value:function(){try{this._data="string"===typeof this.data?JSON.parse(this.data):this.data,this.componentDidLoad()}catch(t){console.warn(d)}}},{key:"watchOption",value:function(){try{this._option="string"===typeof this.option?JSON.parse(this.option):this.option,this.componentDidLoad()}catch(t){console.warn(d)}}},{key:"watchChartOptionOverride",value:function(){try{this._chartOptionOverride="string"===typeof this.chartOptionOverride?JSON.parse(this.chartOptionOverride):this.chartOptionOverride,this.componentDidLoad()}catch(t){console.warn(d)}}},{key:"watchTheme",value:function(){this._theme="string"===typeof this.theme?JSON.parse(this.theme):this.theme}},{key:"componentWillLoad",value:function(){try{this._chartOptionOverride="string"===typeof this.chartOptionOverride?JSON.parse(this.chartOptionOverride):this.chartOptionOverride,this._data="string"===typeof this.data?JSON.parse(this.data):this.data,this._option="string"===typeof this.option?JSON.parse(this.option):this.option,this._theme="string"===typeof this.theme?JSON.parse(this.theme):this.theme}catch(t){console.warn(d)}}},{key:"componentDidLoad",value:function(){var t,i,e,o,n,l,a,c,p,h,v,u,g,y,m,b,f,x,_,O,S,w,k,L,C,F,D,A,I,z,j,P,X,E,B,M=this;try{var T=this,J=this.element__canvas.getContext("2d"),H=this._theme||r.a;s.a.defaults.LineWithDecorations=s.a.defaults.line,s.a.controllers.LineWithDecorations=s.a.controllers.line.extend({draw:function(t){if(s.a.controllers.line.prototype.draw.call(this,t),this.chart.tooltip._active&&this.chart.tooltip._active.length){var i=this.chart.tooltip._active[0],e=this.chart.ctx,o=i.tooltipPosition().x,n=this.chart.scales["y-axis-0"].top,l=this.chart.scales["y-axis-0"].bottom;e.save(),e.beginPath(),e.moveTo(o,n),e.lineTo(o,l),e.lineWidth=parseInt(H.effectBorderWidth.regular.replace("px","")),e.strokeStyle=H.colorBorder.controlUnselected,e.stroke(),this.chart.tooltip._active.forEach((function(t,i){if(T.disabledDatasetIndex.find((function(t){return t===i}))>-1);else{var n=new Path2D;n.moveTo(o,t._model.y),n.arc(o,t._model.y,4,0,2*Math.PI),e.fillStyle=t._options.borderColor,e.fill(n)}})),e.restore()}}}),this._chartOption=this.chartOptionOverride?this.chartOptionOverride:{type:"LineWithDecorations",data:{labels:null===(t=this._data)||void 0===t?void 0:t.labels,datasets:null===(i=this._data)||void 0===i?void 0:i.datasets.map((function(t,i){var e,o,n;return{label:t.label,data:t.data,lineTension:0,borderDash:(null===(e=M._option)||void 0===e?void 0:e.styleOverride)&&(null===(o=M._option.styleOverride[i])||void 0===o?void 0:o.isDashed)?[5,5]:[],borderWidth:2,borderColor:(null===(n=M._option)||void 0===n?void 0:n.styleOverride)&&M._option.styleOverride[i]&&M._option.styleOverride[i].color?M._option.styleOverride[i].color:Object(s.b)(M._option.mode,i),backgroundColor:H.colorFill.controlUnselected,borderCapStyle:"round",pointRadius:0,pointHoverRadius:4,pointHoverBorderColor:H.colorFill.controlUnselected,pointHitRadius:12}}))},options:{responsive:!0,tooltips:{enabled:!1,intersect:!1,mode:"x-axis",caretSize:0,caretPadding:H.spacing.paddingXsmall.replace("px",""),titleFontFamily:H.fontFamily.bodySmall,bodyFontFamily:H.fontFamily.bodySmall,titleSpacing:H.spacing.paddingXxsmall.replace("px",""),bodySpacing:0,cornerRadius:H.effectBorderRadius.medium.replace("px",""),xPadding:H.spacing.paddingXsmall.replace("px",""),yPadding:H.spacing.paddingXxsmall.replace("px",""),custom:(null===(o=null===(e=this._option)||void 0===e?void 0:e.tooltipSetting)||void 0===o?void 0:o.isDisabled)?function(){}:function(t){var i=T.element__tooltip;if(0!==t.opacity){if(i.classList.remove("above","below","no-transform"),t.yAlign?i.classList.add(t.yAlign):i.classList.add("no-transform"),t.body){var e=t.title||[],o=t.body.map((function(t){return t.lines})),n="<thead>";e.forEach((function(t){var i,e;n+="<tr><th>"+((null===(i=T._option.tooltipSetting)||void 0===i?void 0:i.title)?null===(e=T._option.tooltipSetting)||void 0===e?void 0:e.title:t)+"</th></tr>"})),n+="</thead><tbody>",o.forEach((function(i,e){var o,l,a,r,s,d,c,p;if(!T.disabledDatasetIndex.includes(e)){var h=t.labelColors[e],v="background:"+h.backgroundColor;v+="; border-color:"+h.borderColor,v+="; border-width: "+H.effectBorderWidth.thick;var u='<div style="background-color: '+h.borderColor+"; width: ".concat(H.spacing.marginXsmall,"; height: ").concat(H.spacing.marginXsmall,"; border-radius: 50%; margin-right: ").concat(H.spacing.marginXsmall,';"></div>'),g='<span style="'+v+'"></span>',y="".concat(i[0].slice(0,i[0].indexOf(":")+2)).concat((null===(l=null===(o=T._option.tooltipSetting)||void 0===o?void 0:o.unit)||void 0===l?void 0:l.prefix)?null===(r=null===(a=T._option.tooltipSetting)||void 0===a?void 0:a.unit)||void 0===r?void 0:r.prefix:"").concat(i[0].slice(i[0].indexOf(": ")+2)).concat((null===(d=null===(s=T._option.tooltipSetting)||void 0===s?void 0:s.unit)||void 0===d?void 0:d.suffix)?null===(p=null===(c=T._option.tooltipSetting)||void 0===c?void 0:c.unit)||void 0===p?void 0:p.suffix:"");n+='<tr><td><div style="display: flex; align-items: center;">'+u+g+y+"</div></td></tr>"}})),n+="</tbody>",i.querySelector("table").innerHTML=n}var l=this._chart.canvas.getBoundingClientRect();i.style.opacity="1",i.style.textAlign="left",i.style.position="absolute",t.caretX+t.width>.75*l.width?i.style.left=t.caretX-parseInt(H.spacing.marginLarge.replace("px",""))-t.width+"px":i.style.left=t.caretX+parseInt(H.spacing.marginXsmall.replace("px",""))+"px",i.style.top=t.caretY+"px",i.style.fontFamily=t._bodyFontFamily,i.style.fontSize=t.bodyFontSize+"px",i.style.fontStyle=t._bodyFontStyle,i.style.padding=t.yPadding+"px "+t.xPadding+"px",i.style.pointerEvents="none",i.style.transition="opacity ".concat(H.motionDuration.normal," ").concat(H.motionEasing.normal),i.style.color=H.colorText.commonInversePrimary,i.style.borderRadius=H.effectBorderRadius.medium,i.style.backgroundColor=H.colorFill.commonOverlay,i.style.zIndex="30"}else i.style.opacity="0"}},maintainAspectRatio:!1,scales:{xAxes:[{ticks:{suggestedMin:null===(l=null===(n=this._option)||void 0===n?void 0:n.xAxis)||void 0===l?void 0:l.suggestedMin,suggestedMax:null===(c=null===(a=this._option)||void 0===a?void 0:a.xAxis)||void 0===c?void 0:c.suggestedMax,stepSize:(null===(h=null===(p=this._option)||void 0===p?void 0:p.xAxis)||void 0===h?void 0:h.stepSize)?null===(u=null===(v=this._option)||void 0===v?void 0:v.xAxis)||void 0===u?void 0:u.stepSize:20,fontFamily:H.fontFamily.bodySmall,fontColor:H.colorText.commonSecondary,fontSize:H.fontSize.bodySmall.replace("px",""),padding:H.spacing.paddingXsmall.replace("px","")},gridLines:{color:(null===(y=null===(g=this._option)||void 0===g?void 0:g.xAxis)||void 0===y?void 0:y.isHidden)?H.colorFill.controlUnselected:H.colorBorder.commonPrimary,zeroLineColor:(null===(b=null===(m=this._option)||void 0===m?void 0:m.xAxis)||void 0===b?void 0:b.isHidden)?H.colorFill.controlUnselected:H.colorBorder.commonPrimary},scaleLabel:{display:!!(null===(x=null===(f=this._option)||void 0===f?void 0:f.xAxis)||void 0===x?void 0:x.label),fontFamily:H.fontFamily.bodySmall,labelString:null===(O=null===(_=this._option)||void 0===_?void 0:_.xAxis)||void 0===O?void 0:O.label}}],yAxes:[{ticks:{suggestedMin:null===(w=null===(S=this._option)||void 0===S?void 0:S.yAxis)||void 0===w?void 0:w.suggestedMin,suggestedMax:null===(L=null===(k=this._option)||void 0===k?void 0:k.yAxis)||void 0===L?void 0:L.suggestedMax,fontFamily:H.fontFamily.bodySmall,fontColor:H.colorText.commonSecondary,fontSize:H.fontSize.bodySmall.replace("px",""),padding:parseInt(H.spacing.paddingXsmall.replace("px","")),stepSize:(null===(F=null===(C=this._option)||void 0===C?void 0:C.yAxis)||void 0===F?void 0:F.stepSize)?null===(A=null===(D=this._option)||void 0===D?void 0:D.yAxis)||void 0===A?void 0:A.stepSize:20},gridLines:{color:(null===(z=null===(I=this._option)||void 0===I?void 0:I.yAxis)||void 0===z?void 0:z.isHidden)?H.colorFill.controlUnselected:H.colorBorder.commonPrimary,zeroLineColor:(null===(P=null===(j=this._option)||void 0===j?void 0:j.yAxis)||void 0===P?void 0:P.isHidden)?H.colorFill.controlUnselected:H.colorBorder.commonPrimary},scaleLabel:{display:!0,fontFamily:H.fontFamily.bodySmall,labelString:null===(E=null===(X=this._option)||void 0===X?void 0:X.yAxis)||void 0===E?void 0:E.label}}]},legend:{position:"bottom",display:!1},legendCallback:function(t){return'\n        <ul class="bh-line-chart--legend">\n          '.concat(function(t){return t.data.datasets.map((function(t){return'<li class="bh-line-chart--legend-li">\n              <div class="bh-line-chart--legend-item">\n                <span class="bh-line-chart--legend-item--dot" style="background-color: '.concat(t.borderColor,'"></span>\n                <span class="typography--label-small typography--color-primary">').concat(t.label,"</span>\n              </div>\n            </li>\n            ")})).join("")}(t),"\n        </ul>\n        \n      ")}}},this._chart=new s.a(J,this._chartOption),(null===(B=this._option)||void 0===B?void 0:B.disableLegend)||(this.element__legends.innerHTML=this._chart.generateLegend(),this.bindLegendClickEvent())}catch(R){console.warn(d)}}},{key:"bindLegendClickEvent",value:function(){var t=this;try{var i=this.element__legends.querySelectorAll(".bh-line-chart--legend-li");i.forEach((function(e,n){e.addEventListener("click",(function(){t.disabledDatasetIndex=t.disabledDatasetIndex.find((function(t){return t===n}))>-1?t.disabledDatasetIndex.filter((function(t){return t!==n})):[].concat(Object(o.a)(t.disabledDatasetIndex),[n]),t.disabledDatasetIndex.find((function(t){return t===n}))>-1?i[n].classList.add("hidden"):i[n].classList.remove("hidden");var e=t._option.styleOverride&&t._option.styleOverride[n]&&t._option.styleOverride[n].color?t._option.styleOverride[n].color:Object(s.b)(t._option.mode,n);t._chart.data.datasets[n].borderColor=t.disabledDatasetIndex.find((function(t){return t===n}))>-1?"".concat(e,"00"):e,t._chart.update(),t.bhEventChange.emit({disabledDatasetIndex:t.disabledDatasetIndex})}))}))}catch(e){console.warn(d)}}},{key:"render",value:function(){var t=this;try{return Object(a.f)(a.a,{class:"bh-line-chart"},Object(a.f)("div",{class:"bh-line-chart-wrapper",style:{height:"".concat(this.height,"px")}},Object(a.f)("canvas",{ref:function(i){t.element__canvas=i}})),Object(a.f)("div",{ref:function(i){t.element__legends=i}}),Object(a.f)("div",{ref:function(i){t.element__tooltip=i}},Object(a.f)("table",{class:"bink-calc__tooltip"})))}catch(i){console.warn(d)}}}],[{key:"watchers",get:function(){return{data:["watchData"],option:["watchOption"],chartOptionOverride:["watchChartOptionOverride"],theme:["watchTheme"]}}}]),t}();c.style=".bh-line-chart{display:block;overflow-x:hidden;position:relative}.bh-line-chart-wrapper{width:100%;height:420px}.bh-line-chart--legend{list-style-type:none;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:0;display:flex;flex-wrap:wrap;justify-content:center;margin-top:calc(var(--spacing-margin-medium) - var(--spacing-margin-xxsmall));margin-right:calc(-1 * var(--spacing-margin-large))}.bh-line-chart--legend-li{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:var(--spacing-margin-xxsmall)}.bh-line-chart--legend-li.hidden{opacity:0.2}.bh-line-chart--legend-item{display:flex;align-items:center;margin-right:var(--spacing-margin-large)}.bh-line-chart--legend-item--dot{width:8px;height:8px;border-radius:50%;display:block;margin-right:var(--spacing-margin-xsmall)}"}}]);
//# sourceMappingURL=129.f664c32c.chunk.js.map