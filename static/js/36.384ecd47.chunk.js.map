{"version":3,"sources":["components/BhNotification/BhNotification.test.js","../../src/components.ts","components/BhNotification/BhNotification.js"],"names":["jest","mock","withTranslation","Component","defaultProps","t","key","describe","recentTimestamp","moment","Date","subtract","format","CommonComponentProps","fn","datedRow","onRemove","notificationRenderComp","className","id","icon","color","size","onClick","markNotificationRead","marginLeft","marginRight","marginTop","marginBottom","it","component","mount","expect","toMatchSnapshot","formattedData","notificationGroup","notificationList","alterProps","config","find","props","onBhEventSelected","instance","onTabSelect","setProps","tabLoadData","getNotificationRow","getIconBasedOnType","data","setState","activeTab","_","omit","renderNotificationComp","getNotificationDataCall","advanceNotificationDataTemp","arrAfterRemovedObj","items","onFilterMenu","arrAfterRemovedObjTemp","first","prop","wrapper","window","parent","postMessage","simulate","toBeCalled","onBhEventClose","handleCustomEvent","BhA","BhNotification","notificationData","restructureNotificationData","state","array","orderedArray","orderBy","today","cloneDeep","map","item","category","isEmpty","getCategoryTab","createdDateTime","diff","categoryGroup","hours","recentTimeLimit","timeSettings","recent","arr","comp","resultArr","keyValue","selectedFilterValue","removedId","selFilterState","filter","filterOptions","tabNotificationData","i","value","filterCriteria","includes","groupByRes","groupBy","result","Object","keys","tab","inputArray","removalFlag","cloneOriginalNotificationData","detail","filterMenu","selFilter","filterOptionsTmp","opt","selected","row","removalIdArray","push","type","softDelete","updateErrorId","notification","header","title","description","message","createdTime","status","position","theme","dismissible","mailId","createdBy","split","last","image","false","firstname","lastname","getIconColor","iconOptionsArr","icons","iconOptions","customTypeObj","defaultIconObj","iconObj","iconName","iconColor","onViewAllSelect","viewAllObj","isNoResponse","context","navigationObject","get","payloadData","mode","payLoad","appname","JSON","stringify","eventType","payload","getOtherScenariosScreens","notificationErrorScreen","align","source","tabList","tabMenu","tabs","tabOptions","slice","this","prevProps","isEqual","notificationArr","filterData","inputArr","commonObjects","intersectionBy","configTemp","viewAll","isOpen","requestAdvNotification","i18TabList","label","slot","width","event","text","noUnderline","href","target","disabled","small","activeKey","selectedValue","ellipsis"],"mappings":"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","file":"static/js/36.384ecd47.chunk.js","sourcesContent":["import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { mount, shallow } from 'enzyme';\r\nimport { render, fireEvent } from '@testing-library/react';\r\nimport BhNotification from './BhNotification';\r\nimport moment from \"moment\";\r\nimport \"./BhNotification.css\";\r\nimport { BhButtonTabs, BhActionMenu, BhPanel, BhIcon, BhButton, BhDivider, BhStatusIndicator, BhAvatar, BhSpinner } from\r\n    '@baker-hughes-central-design/ui-toolkit-react/dist/components';\r\n\r\njest.mock(\"react-i18next\", () => ({\r\n    withTranslation: () => (Component) => {\r\n        Component.defaultProps = { ...Component.defaultProps, t: (key) => key };\r\n        return Component;\r\n    },\r\n}));\r\n\r\ndescribe('BhNotification', () => {\r\n    //Recent timestamp included\r\n    const recentTimestamp = moment(new Date()).subtract(2, 'hours').format();\r\n    const CommonComponentProps = {\r\n        \"handleCustomEvent\": jest.fn(),\r\n        \"markNotificationRead\": jest.fn(),\r\n        \"t\": jest.fn(),\r\n        \"config\": {\r\n            \"filter\": {\r\n                \"filterOptions\": [\r\n                    {\r\n                        \"value\": \"all\",\r\n                        \"label\": \"All\"\r\n                    },\r\n                    {\r\n                        \"value\": \"low\",\r\n                        \"label\": \"Low\"\r\n                    },\r\n                    {\r\n                        \"value\": \"high\",\r\n                        \"label\": \"High\"\r\n                    },\r\n                ]\r\n            },\r\n            \"tabMenu\": true,\r\n            \"softDelete\": true,\r\n            \"pollNotificationTimeInterval\": 300000,\r\n            \"viewAll\": {\r\n                \"navigationObject\": {\r\n                    \"mode\": \"spa\",\r\n                    \"appName\": \"eventApp\"\r\n                }\r\n            },\r\n            \"isOpen\": false,\r\n            \"requestAdvNotification\": true,\r\n            \"notificationErrorScreen\": false,\r\n            \"updateErrorId\": \"chart-comp--notification-1\",\r\n            \"removedId\": []\r\n        },\r\n        \"data\": {\r\n            \"isPartialResponse\": true,\r\n            \"isNoResponse\": false,\r\n            \"items\": [\r\n                {\r\n                    \"id\": \"chart-comp--notification-0\",\r\n                    \"title\": \"consectetur0\",\r\n                    \"message\": \"consectetur0 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                    \"createdDateTime\": recentTimestamp,\r\n                    \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                    \"type\": \"System Warning\",\r\n                    \"filterCriteria\": \"low\",\r\n                    \"status\": false,\r\n                    \"profilePictureUrl\": \"<url-for-photo>\",\r\n                    \"redirectAPI\": \"MicroappId/third party URL\",\r\n                    \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n                },\r\n                {\r\n                    \"id\": \"chart-comp--notification-1\",\r\n                    \"title\": \"consectetur1\",\r\n                    \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                    \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n                    \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                    \"type\": \"System error\",\r\n                    \"filterCriteria\": \"low\",\r\n                    \"status\": false,\r\n                    \"profilePictureUrl\": \"<url-for-photo>\",\r\n                    \"redirectAPI\": \"MicroappId/third party URL\",\r\n                    \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n                },\r\n                {\r\n                    \"id\": \"chart-comp--notification-2\",\r\n                    \"title\": \"consectetur2\",\r\n                    \"message\": \"consectetur2 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                    \"createdDateTime\": \"2022-12-08T12:38:06+05:30\",\r\n                    \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                    \"type\": \"System Info\",\r\n                    \"filterCriteria\": \"high\",\r\n                    \"status\": false,\r\n                    \"profilePictureUrl\": \"<url-for-photo>\",\r\n                    \"redirectAPI\": \"MicroappId/third party URL\",\r\n                    \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n                },\r\n                {\r\n                    \"id\": \"chart-comp--notification-3\",\r\n                    \"title\": \"consectetur3\",\r\n                    \"message\": \"consectetur3 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                    \"createdDateTime\": \"2022-11-30T11:38:06+05:30\",\r\n                    \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                    \"type\": \"User generated\",\r\n                    \"filterCriteria\": \"low\",\r\n                    \"status\": false,\r\n                    \"profilePictureUrl\": \"<url-for-photo>\",\r\n                    \"redirectAPI\": \"MicroappId/third party URL\",\r\n                    \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n                },\r\n                {\r\n                    \"id\": \"chart-comp--notificationIconColorElseCase\",\r\n                    \"title\": \"consecteturIconColorElseCase\",\r\n                    \"message\": \"consecteturIconColorElseCase ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                    \"createdDateTime\": \"2022-12-26T12:38:06+05:30\",\r\n                    \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                    \"type\": \"System Alert\",\r\n                    \"filterCriteria\": \"high\",\r\n                    \"status\": false,\r\n                    \"profilePictureUrl\": \"<url-for-photo>\",\r\n                    \"redirectAPI\": \"MicroappId/third party URL\",\r\n                    \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n                },\r\n                {\r\n                    \"id\": \"chart-comp--noTitlenoMessagenoType\",\r\n                    \"title\": \"\",\r\n                    \"message\": \"\",\r\n                    \"createdDateTime\": \"2022-12-21T12:38:06+05:30\",\r\n                    \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                    \"type\": \"\",\r\n                    \"filterCriteria\": \"high\",\r\n                    \"status\": false,\r\n                    \"profilePictureUrl\": \"<url-for-photo>\",\r\n                    \"redirectAPI\": \"MicroappId/third party URL\",\r\n                    \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n                },\r\n                {\r\n                    \"id\": \"chart-comp--userGeneratedTypenoCreatedByDetails\",\r\n                    \"title\": \"User generated title\",\r\n                    \"message\": \"User generated message\",\r\n                    \"createdDateTime\": \"2022-12-21T12:38:06+05:30\",\r\n                    \"createdBy\": \"\",\r\n                    \"type\": \"User generated\",\r\n                    \"filterCriteria\": \"high\",\r\n                    \"status\": false,\r\n                    \"profilePictureUrl\": \"<url-for-photo>\",\r\n                    \"redirectAPI\": \"MicroappId/third party URL\",\r\n                    \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n                }\r\n            ]\r\n        }\r\n    };\r\n\r\n    const datedRow = {\r\n        \"isPartialResponse\": true,\r\n        \"isNoResponse\": false,\r\n        \"items\": [{\r\n            \"id\": \"chart-comp--notification-4\",\r\n            \"title\": \"consectetur4\",\r\n            \"message\": \"consectetur4 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n            \"createdDateTime\": \"2022-09-30T11:38:06+05:30\",\r\n            \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n            \"type\": \"System Info\",\r\n            \"filterCriteria\": \"low\",\r\n            \"status\": false,\r\n            \"profilePictureUrl\": \"<url-for-photo>\",\r\n            \"redirectAPI\": \"statusApp\",\r\n            \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n        }]\r\n    };\r\n\r\n    const onRemove = jest.fn()\r\n\r\n    const notificationRenderComp = <div className=\"notif--group\">\r\n        <p className=\"typography--label-small text-color-secondary notif--date\">Today</p>\r\n        <>\r\n            <div id=\"chart-comp--notification-4\" className=\"notif--container motion--normal\">\r\n                <div className=\"notif--status\">\r\n                    <BhIcon icon=\"notification_important\" color=\"var(--color-fill-semantic-info-default)\" size=\"small\"></BhIcon>\r\n                </div>\r\n                <div className=\"notificationContent\" id=\"contentId\" onClick={CommonComponentProps.markNotificationRead}>\r\n                    <p className=\"typography--body-small-semi-bold text-color-primary notif-title\">Sed cursus duis consectetur4</p>\r\n                    <p className=\"typography--body-small text-color-secondary notif--description\">consectetur4 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.</p>\r\n                    <p className=\"typography--body-small text-color-secondary\">2022-10-20T15:38:06+05:30</p>\r\n                </div>\r\n                <BhIcon className=\"closeIcon\" icon=\"close\" size=\"small\" onClick={onRemove}></BhIcon>\r\n            </div>\r\n            <BhDivider marginLeft=\"medium\" marginRight=\"medium\" marginTop=\"none\" marginBottom=\"none\"></BhDivider>\r\n        </>\r\n    </div>\r\n\r\n    it('verify for BhNotification data got success when loads', () => {\r\n        const component = mount(<BhNotification {...CommonComponentProps} />);\r\n        expect(component).toMatchSnapshot();\r\n    });\r\n\r\n    it('verify for BhNotification diff data for icon variations config ', () => {\r\n        const advanceNotificationDataTemp = {\r\n            \"isPartialResponse\": true,\r\n            \"isNoResponse\": false,\r\n            \"items\": [{\r\n                \"id\": \"chart-comp--notification-Alerts\",\r\n                \"title\": \"consecteturAlerts\",\r\n                \"message\": \"consecteturAlerts ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-09-30T11:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"Alerts\",\r\n                \"filterCriteria\": \"low\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"statusApp\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n            },\r\n            {\r\n                \"id\": \"chart-comp--notification-Cases\",\r\n                \"title\": \"consecteturCases\",\r\n                \"message\": \"consecteturCases ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-09-30T11:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"Cases\",\r\n                \"filterCriteria\": \"low\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"statusApp\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n            }\r\n            ]\r\n        };\r\n\r\n        const formattedData = [{\r\n            notificationGroup: \"\",\r\n            notificationList: [{\r\n                \"id\": \"chart-comp--notification-Alerts\",\r\n                \"title\": \"consecteturAlerts\",\r\n                \"message\": \"consecteturAlerts ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-09-30T11:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"Alerts\",\r\n                \"filterCriteria\": \"low\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"statusApp\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n            },\r\n            {\r\n                \"id\": \"chart-comp--notification-Cases\",\r\n                \"title\": \"consecteturCases\",\r\n                \"message\": \"consecteturCases ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-09-30T11:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"Cases\",\r\n                \"filterCriteria\": \"low\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"statusApp\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n            }]\r\n\r\n        }];\r\n        const alterProps = {\r\n            ...CommonComponentProps, config: {\r\n                ...CommonComponentProps.config, \"requestAdvNotification\": false, \"icons\": {\r\n                    \"iconOptions\": [\r\n                        {\r\n                            \"iconName\": \"notification_important\",\r\n                            \"value\": \"Alerts\",\r\n                            \"color\": \"pink\"\r\n                        },\r\n                        {\r\n                            \"value\": \"Alerts1\"\r\n                        },\r\n                        {\r\n                            \"iconName\": \"info\",\r\n                            \"value\": \"default\"\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.find('BhButtonTabs').props().onBhEventSelected({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.instance().onTabSelect({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.setProps({ \"data\": advanceNotificationDataTemp });\r\n        component.instance().tabLoadData(formattedData, \"recent\");\r\n        component.instance().getNotificationRow(formattedData);\r\n        component.instance().getIconBasedOnType(formattedData[0].notificationList[0]);\r\n    });\r\n\r\n    it('verify for BhNotification diff data for default icon configuration ', () => {\r\n        const advanceNotificationDataTemp = {\r\n            \"isPartialResponse\": true,\r\n            \"isNoResponse\": false,\r\n            \"items\": [\r\n                {\r\n                    \"id\": \"chart-comp--notification-Cases\",\r\n                    \"title\": \"consecteturCases\",\r\n                    \"message\": \"consecteturCases ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                    \"createdDateTime\": \"2022-09-30T11:38:06+05:30\",\r\n                    \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                    \"type\": \"Cases\",\r\n                    \"filterCriteria\": \"low\",\r\n                    \"status\": false,\r\n                    \"profilePictureUrl\": \"<url-for-photo>\",\r\n                    \"redirectAPI\": \"statusApp\",\r\n                    \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n                }\r\n            ]\r\n        };\r\n\r\n        const formattedData = [{\r\n            notificationGroup: \"\",\r\n            notificationList: [\r\n                {\r\n                    \"id\": \"chart-comp--notification-Cases\",\r\n                    \"title\": \"consecteturCases\",\r\n                    \"message\": \"consecteturCases ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                    \"createdDateTime\": \"2022-09-30T11:38:06+05:30\",\r\n                    \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                    \"type\": \"Cases\",\r\n                    \"filterCriteria\": \"low\",\r\n                    \"status\": false,\r\n                    \"profilePictureUrl\": \"<url-for-photo>\",\r\n                    \"redirectAPI\": \"statusApp\",\r\n                    \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n                }]\r\n\r\n        }];\r\n        const alterProps = {\r\n            ...CommonComponentProps, config: {\r\n                ...CommonComponentProps.config, \"requestAdvNotification\": false, \"icons\": {\r\n                    \"iconOptions\": [\r\n                        {\r\n                            \"iconName\": \"info\",\r\n                            \"value\": \"default\"\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.find('BhButtonTabs').props().onBhEventSelected({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.instance().onTabSelect({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.setProps({ \"data\": advanceNotificationDataTemp });\r\n        component.instance().tabLoadData(formattedData, \"recent\");\r\n        component.instance().getNotificationRow(formattedData);\r\n        component.instance().getIconBasedOnType(formattedData[0].notificationList[0]);\r\n    });\r\n\r\n    it('verify for BhNotification has no data response, no notification yet screen will be displayed', () => {\r\n        const alterProps = {\r\n            ...CommonComponentProps, config: { ...CommonComponentProps.config, \"requestAdvNotification\": false }, data: {\r\n                \"isPartialResponse\": false,\r\n                \"isNoResponse\": true,\r\n                \"items\": []\r\n            }\r\n        };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        expect(component).toMatchSnapshot();\r\n    });\r\n\r\n    it('verify for BhNotification has read notification as response, no recent notification message will be displayed', () => {\r\n        const alterProps = {\r\n            ...CommonComponentProps, config: { ...CommonComponentProps.config, \"requestAdvNotification\": false }, data: {\r\n                \"isPartialResponse\": false,\r\n                \"isNoResponse\": false,\r\n                \"items\": []\r\n            }\r\n        };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        expect(component).toMatchSnapshot();\r\n    });\r\n\r\n    it('verify for BhNotification has no data response, no notification error screen will be displayed', () => {\r\n        const alterProps = { ...CommonComponentProps, config: { ...CommonComponentProps.config, \"requestAdvNotification\": false, \"notificationErrorScreen\": true }, data: {} };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        expect(component).toMatchSnapshot();\r\n    });\r\n\r\n    it('verify for BhNotification has no tabMenu and no softDelete config data', () => {\r\n        const alterProps = { ...CommonComponentProps, config: { ...CommonComponentProps.config, \"tabMenu\": false, \"softDelete\": false } };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.setState({ activeTab: {} });\r\n        expect(component).toMatchSnapshot();\r\n    });\r\n\r\n    it('verify for BhNotification has no filter', () => {\r\n        const alterProps = _.omit(CommonComponentProps, \"config.filter\");\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        expect(component).toMatchSnapshot();\r\n    });\r\n\r\n    it('verify for BhNotification when config has tab customized', () => {\r\n        const alterProps = {\r\n            ...CommonComponentProps, config: {\r\n                ...CommonComponentProps.config, \"requestAdvNotification\": false, \"tabs\": {\r\n                    \"tabOptions\": [\r\n                        {\r\n                            \"label\": \"My Notifications\",\r\n                            \"key\": \"personal\"\r\n                        },\r\n                        {\r\n                            \"label\": \"Team Notifications\",\r\n                            \"key\": \"team\"\r\n                        }\r\n                    ]\r\n                }\r\n            }, \"data\": datedRow\r\n        };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.setState({ renderNotificationComp: notificationRenderComp })\r\n    });\r\n\r\n    it('verify for BhNotification has timeSettings customized', () => {\r\n        const alterProps = {\r\n            ...CommonComponentProps, config: {\r\n                ...CommonComponentProps.config, \"timeSettings\": {\r\n                    \"recent\": 172800000\r\n                }\r\n            }\r\n        };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.setState({ activeTab: {} });\r\n        expect(component).toMatchSnapshot();\r\n    });\r\n\r\n    it('verify for BhNotification componentDidUpdate has data', () => {\r\n        const advanceNotificationDataTemp = {\r\n            \"isPartialResponse\": true,\r\n            \"isNoResponse\": false,\r\n            \"items\": [{\r\n                \"id\": \"chart-comp--notification-1\",\r\n                \"title\": \"consectetur1\",\r\n                \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"System error\",\r\n                \"filterCriteria\": \"low\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"MicroappId/third party URL\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n            },\r\n            {\r\n                \"id\": \"chart-comp--notification-2\",\r\n                \"title\": \"consectetur2\",\r\n                \"message\": \"consectetur2 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-10-25T12:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"System Info\",\r\n                \"filterCriteria\": \"high\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"MicroappId/third party URL\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n            }\r\n            ]\r\n        };\r\n        const data = [{\r\n            \"id\": \"chart-comp--notification-1\",\r\n            \"title\": \"consectetur1\",\r\n            \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n            \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n            \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n            \"type\": \"System error\",\r\n            \"filterCriteria\": \"low\",\r\n            \"status\": false,\r\n            \"profilePictureUrl\": \"<url-for-photo>\",\r\n            \"redirectAPI\": \"MicroappId/third party URL\",\r\n            \"navigationPaylaod\": \"Object/Array Containing payload\",\r\n            \"category\": \"20 days ago\"\r\n        }];\r\n        const alterProps = { ...CommonComponentProps, config: { ...CommonComponentProps.config, \"requestAdvNotification\": false, \"removedId\": [\"chart-comp--notification-2\"] } };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.setProps({ \"data\": advanceNotificationDataTemp });\r\n        component.instance().getNotificationDataCall(data)\r\n    });\r\n\r\n    it('verify for BhNotification componentDidUpdate has data with no items and removalId is empty', () => {\r\n        const advanceNotificationDataTemp = {\r\n            \"isPartialResponse\": true,\r\n            \"isNoResponse\": false\r\n        };\r\n        const data = [];\r\n        const alterProps = { ...CommonComponentProps, config: { ...CommonComponentProps.config, \"requestAdvNotification\": false } };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.setProps({ \"data\": advanceNotificationDataTemp });\r\n        component.instance().getNotificationDataCall(data)\r\n    });\r\n\r\n    it('verify for BhNotification componentDidUpdate has data of removalId not empty', () => {\r\n        const advanceNotificationDataTemp = {\r\n            \"isPartialResponse\": true,\r\n            \"isNoResponse\": false,\r\n            \"items\": [{\r\n                \"id\": \"chart-comp--notification-1\",\r\n                \"title\": \"consectetur1\",\r\n                \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"System error\",\r\n                \"filterCriteria\": \"low\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"MicroappId/third party URL\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n            },\r\n            {\r\n                \"id\": \"chart-comp--notification-2\",\r\n                \"title\": \"consectetur2\",\r\n                \"message\": \"consectetur2 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-10-25T12:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"System Info\",\r\n                \"filterCriteria\": \"high\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"MicroappId/third party URL\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n            }\r\n            ]\r\n        };\r\n        const alterProps = { ...CommonComponentProps, config: { ...CommonComponentProps.config, \"requestAdvNotification\": false, \"removedId\": [\"chart-comp--notification-2\"] } };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.setState({ arrAfterRemovedObj: advanceNotificationDataTemp.items });\r\n        component.setProps({ \"data\": advanceNotificationDataTemp });\r\n    });\r\n\r\n    it('verify for BhNotification for onFilterMenu when low menu is selected', () => {\r\n        const component = mount(<BhNotification {...CommonComponentProps} />);\r\n        component.find('BhActionMenu').props().onBhEventSelected({ \"detail\": { \"value\": \"low\", \"label\": \"Low\" } });\r\n        component.instance().onFilterMenu({ \"detail\": { \"value\": \"low\", \"label\": \"Low\" } });\r\n    });\r\n\r\n    it('verify for BhNotification for onFilterMenu All option', () => {\r\n        const component = mount(<BhNotification {...CommonComponentProps} />);\r\n        component.find('BhActionMenu').props().onBhEventSelected({ \"detail\": { \"value\": \"all\", \"label\": \"All\" } });\r\n        component.instance().onFilterMenu({ \"detail\": { \"value\": \"all\", \"label\": \"All\" } });\r\n    });\r\n\r\n    it('verify for BhNotification for onFilterMenu when state arrAfterRemovedObj has value, for other than all filter option ', () => {\r\n        const arrAfterRemovedObjTemp = [{\r\n            \"id\": \"chart-comp--notification-newIdForFilterException\",\r\n            \"title\": \"consecteturnewIdForFilterException\",\r\n            \"message\": \"consecteturnewIdForFilterException ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n            \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n            \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n            \"type\": \"System error\",\r\n            \"filterCriteria\": \"low\",\r\n            \"status\": false,\r\n            \"profilePictureUrl\": \"<url-for-photo>\",\r\n            \"redirectAPI\": \"MicroappId/third party URL\",\r\n            \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n        }];\r\n        const alterProps = { ...CommonComponentProps, config: { ...CommonComponentProps.config, \"removedId\": [\"chart-comp--notification-newIdForFilterException\"] } };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.find('BhButtonTabs').props().onBhEventSelected({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.setState({ \"arrAfterRemovedObj\": arrAfterRemovedObjTemp, \"removalFlag\": true });\r\n        component.instance().onFilterMenu({ \"detail\": { \"value\": \"low\", \"label\": \"Low\" } });\r\n    });\r\n\r\n    it('verify for BhNotification for onFilterMenu when state arrAfterRemovedObj has value, for all option in filter', () => {\r\n        const arrAfterRemovedObjTemp = [{\r\n            \"id\": \"chart-comp--notification-1\",\r\n            \"title\": \"consectetur1\",\r\n            \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n            \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n            \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n            \"type\": \"System error\",\r\n            \"filterCriteria\": \"low\",\r\n            \"status\": false,\r\n            \"profilePictureUrl\": \"<url-for-photo>\",\r\n            \"redirectAPI\": \"MicroappId/third party URL\",\r\n            \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n        }];\r\n        const alterProps = { ...CommonComponentProps, config: { ...CommonComponentProps.config, \"removedId\": [\"chart-comp--notification-2\"] } };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.find('BhButtonTabs').props().onBhEventSelected({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.setState({ \"arrAfterRemovedObj\": arrAfterRemovedObjTemp, \"removalFlag\": true });\r\n        component.instance().onFilterMenu({ \"detail\": { \"value\": \"all\", \"label\": \"All\" } });\r\n    });\r\n\r\n    it('verify for BhNotification for onRemove when state arrAfterRemovedObj has value ', () => {\r\n        const arrAfterRemovedObjTemp = [{\r\n            \"id\": \"chart-comp--notification-1\",\r\n            \"title\": \"consectetur1\",\r\n            \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n            \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n            \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n            \"type\": \"System error\",\r\n            \"filterCriteria\": \"low\",\r\n            \"status\": false,\r\n            \"profilePictureUrl\": \"<url-for-photo>\",\r\n            \"redirectAPI\": \"MicroappId/third party URL\",\r\n            \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n        }];\r\n        const component = mount(<BhNotification {...CommonComponentProps} />);\r\n        component.find('BhButtonTabs').props().onBhEventSelected({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.setState({ \"arrAfterRemovedObj\": arrAfterRemovedObjTemp, \"removalFlag\": true });\r\n        component.instance().onRemove(arrAfterRemovedObjTemp[0]);\r\n    });\r\n\r\n    it('verify for BhNotification for onRemove (Onclick of close Icon)', () => {\r\n        const alterProps = { ...CommonComponentProps, config: { ...CommonComponentProps.config, \"requestAdvNotification\": false, \"removedId\": [\"chart-comp--notification-1\"] }, \"data\": datedRow };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.setState({ renderNotificationComp: notificationRenderComp })\r\n        const wrapper = component.find(\"#panel--content\");\r\n        wrapper.find('.closeIcon').first().prop('onClick')();\r\n        component.instance().onRemove(datedRow.items[0]);\r\n    });\r\n\r\n    it('verify for BhNotification for getNotificationRow else scenario of item empty items ', () => {\r\n        const arrAfterRemovedObjTemp = [{\r\n            \"id\": \"chart-comp--notification-1\",\r\n            \"title\": \"consectetur1\",\r\n            \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n            \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n            \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n            \"type\": \"System error\",\r\n            \"filterCriteria\": \"low\",\r\n            \"status\": false,\r\n            \"profilePictureUrl\": \"<url-for-photo>\",\r\n            \"redirectAPI\": \"MicroappId/third party URL\",\r\n            \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n        }];\r\n        const formattedData = [{\r\n            notificationGroup: \"\",\r\n            notificationList: [{\r\n                \"id\": \"chart-comp--notification-1\",\r\n                \"title\": \"consectetur1\",\r\n                \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"System error\",\r\n                \"filterCriteria\": \"low\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"MicroappId/third party URL\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\"\r\n            }]\r\n\r\n        }];\r\n        const component = mount(<BhNotification {...CommonComponentProps} />);\r\n        component.find('BhButtonTabs').props().onBhEventSelected({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.setState({ \"arrAfterRemovedObj\": arrAfterRemovedObjTemp, \"removalFlag\": true });\r\n        component.instance().onTabSelect({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.instance().tabLoadData(formattedData, \"recent\");\r\n        component.instance().getNotificationRow(formattedData);\r\n    });\r\n\r\n    it('verify for BhNotification for viewAll', () => {\r\n        window.parent.postMessage = jest.fn();\r\n        const component = mount(<BhNotification {...CommonComponentProps} />);\r\n        component.find('BhA').simulate('click');\r\n        expect(window.parent.postMessage).toBeCalled();\r\n    });\r\n\r\n    it('verify for BhNotification for viewAll if scenario', () => {\r\n        const unreadNotification = {\r\n            \"isPartialResponse\": true,\r\n            \"isNoResponse\": true,\r\n            \"items\": []\r\n        };\r\n        const alterProps = { ...CommonComponentProps, config: { ...CommonComponentProps.config, \"requestAdvNotification\": false }, \"data\": unreadNotification };\r\n        window.parent.postMessage = jest.fn();\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.find('BhA').simulate('click');\r\n    });\r\n\r\n    it('verify for BhNotification for onBhEventClose', () => {\r\n        const component = mount(<BhNotification {...CommonComponentProps} />);\r\n        component.find('BhPanel').props().onBhEventClose();\r\n        expect(CommonComponentProps.handleCustomEvent).toBeCalled();\r\n    });\r\n\r\n    it('verify for BhNotification for getNotificationRow else scenario of item empty items ', () => {\r\n        const arrAfterRemovedObjTemp = [{\r\n            \"id\": \"chart-comp--notification-1\",\r\n            \"title\": \"consectetur1\",\r\n            \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n            \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n            \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n            \"type\": \"System error\",\r\n            \"filterCriteria\": \"low\",\r\n            \"status\": false,\r\n            \"profilePictureUrl\": \"<url-for-photo>\",\r\n            \"redirectAPI\": \"MicroappId/third party URL\",\r\n            \"navigationPaylaod\": \"Object/Array Containing payload\",\r\n            \"category\": \"recent\"\r\n\r\n        }];\r\n        const formattedData = [{\r\n            notificationGroup: \"\",\r\n            notificationList: [{\r\n                \"id\": \"chart-comp--notification-1\",\r\n                \"title\": \"consectetur1\",\r\n                \"message\": \"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-10-20T14:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"System error\",\r\n                \"filterCriteria\": \"low\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"MicroappId/third party URL\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\",\r\n                \"category\": \"recent\"\r\n            },\r\n            {\r\n                \"id\": \"chart-comp--notification-100\",\r\n                \"title\": \"consectetur100\",\r\n                \"message\": \"consectetur100 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'\",\r\n                \"createdDateTime\": \"2022-10-25T14:38:06+05:30\",\r\n                \"createdBy\": \"Vijayakumar.Nandhini@bakerhughes.com\",\r\n                \"type\": \"System error\",\r\n                \"filterCriteria\": \"low\",\r\n                \"status\": false,\r\n                \"profilePictureUrl\": \"<url-for-photo>\",\r\n                \"redirectAPI\": \"MicroappId/third party URL\",\r\n                \"navigationPaylaod\": \"Object/Array Containing payload\",\r\n                \"category\": \"recent\"\r\n            }]\r\n\r\n        }];\r\n        const alterProps = {\r\n            ...CommonComponentProps, config: { ...CommonComponentProps.config, \"requestAdvNotification\": false, \"removedId\": [\"chart-comp--notification-1\"] }\r\n        };\r\n        const component = mount(<BhNotification {...alterProps} />);\r\n        component.find('BhButtonTabs').props().onBhEventSelected({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.setState({ \"arrAfterRemovedObj\": arrAfterRemovedObjTemp, \"removalFlag\": true });\r\n        component.instance().onFilterMenu({ \"detail\": { \"value\": \"low\", \"label\": \"Low\" } });\r\n        component.instance().onTabSelect({ \"detail\": { \"key\": \"recent\", \"label\": \"Recent\" } });\r\n        component.instance().tabLoadData(formattedData, \"recent\");\r\n        component.instance().getNotificationRow(formattedData);\r\n    });\r\n\r\n});","/* eslint-disable */\r\n/* tslint:disable */\r\n/* auto-generated react proxies */\r\nimport { createReactComponent } from './react-component-lib';\r\nexport const BhA = /*@__PURE__*/ createReactComponent('bh-a');\r\nexport const BhAccordion = /*@__PURE__*/ createReactComponent('bh-accordion');\r\nexport const BhActionBar = /*@__PURE__*/ createReactComponent('bh-action-bar');\r\nexport const BhActionMenu = /*@__PURE__*/ createReactComponent('bh-action-menu');\r\nexport const BhAlert = /*@__PURE__*/ createReactComponent('bh-alert');\r\nexport const BhAlertItem = /*@__PURE__*/ createReactComponent('bh-alert-item');\r\nexport const BhAppShell = /*@__PURE__*/ createReactComponent('bh-app-shell');\r\nexport const BhAppShellMenu = /*@__PURE__*/ createReactComponent('bh-app-shell-menu');\r\nexport const BhAvatar = /*@__PURE__*/ createReactComponent('bh-avatar');\r\nexport const BhAvatarGroup = /*@__PURE__*/ createReactComponent('bh-avatar-group');\r\nexport const BhBadge = /*@__PURE__*/ createReactComponent('bh-badge');\r\nexport const BhBarChart = /*@__PURE__*/ createReactComponent('bh-bar-chart');\r\nexport const BhBreadcrumbs = /*@__PURE__*/ createReactComponent('bh-breadcrumbs');\r\nexport const BhButton = /*@__PURE__*/ createReactComponent('bh-button');\r\nexport const BhButtonDropdown = /*@__PURE__*/ createReactComponent('bh-button-dropdown');\r\nexport const BhButtonGroup = /*@__PURE__*/ createReactComponent('bh-button-group');\r\nexport const BhButtonTabs = /*@__PURE__*/ createReactComponent('bh-button-tabs');\r\nexport const BhCard = /*@__PURE__*/ createReactComponent('bh-card');\r\nexport const BhCheckbox = /*@__PURE__*/ createReactComponent('bh-checkbox');\r\nexport const BhChip = /*@__PURE__*/ createReactComponent('bh-chip');\r\nexport const BhChipGroup = /*@__PURE__*/ createReactComponent('bh-chip-group');\r\nexport const BhContent = /*@__PURE__*/ createReactComponent('bh-content');\r\nexport const BhDataTable = /*@__PURE__*/ createReactComponent('bh-data-table');\r\nexport const BhDatePicker = /*@__PURE__*/ createReactComponent('bh-date-picker');\r\nexport const BhDateRangePicker = /*@__PURE__*/ createReactComponent('bh-date-range-picker');\r\nexport const BhDateTimePicker = /*@__PURE__*/ createReactComponent('bh-date-time-picker');\r\nexport const BhDialog = /*@__PURE__*/ createReactComponent('bh-dialog');\r\nexport const BhDivider = /*@__PURE__*/ createReactComponent('bh-divider');\r\nexport const BhDonutChart = /*@__PURE__*/ createReactComponent('bh-donut-chart');\r\nexport const BhDropdown = /*@__PURE__*/ createReactComponent('bh-dropdown');\r\nexport const BhError = /*@__PURE__*/ createReactComponent('bh-error');\r\nexport const BhFooter = /*@__PURE__*/ createReactComponent('bh-footer');\r\nexport const BhFormMessage = /*@__PURE__*/ createReactComponent('bh-form-message');\r\nexport const BhHeader = /*@__PURE__*/ createReactComponent('bh-header');\r\nexport const BhIcon = /*@__PURE__*/ createReactComponent('bh-icon');\r\nexport const BhIllustration = /*@__PURE__*/ createReactComponent('bh-illustration');\r\nexport const BhIncrementer = /*@__PURE__*/ createReactComponent('bh-incrementer');\r\nexport const BhInlineDropdown = /*@__PURE__*/ createReactComponent('bh-inline-dropdown');\r\nexport const BhKpi = /*@__PURE__*/ createReactComponent('bh-kpi');\r\nexport const BhLineChart = /*@__PURE__*/ createReactComponent('bh-line-chart');\r\nexport const BhList = /*@__PURE__*/ createReactComponent('bh-list');\r\nexport const BhMenu = /*@__PURE__*/ createReactComponent('bh-menu');\r\nexport const BhMenuItem = /*@__PURE__*/ createReactComponent('bh-menu-item');\r\nexport const BhMobileMenu = /*@__PURE__*/ createReactComponent('bh-mobile-menu');\r\nexport const BhModal = /*@__PURE__*/ createReactComponent('bh-modal');\r\nexport const BhNavMenu = /*@__PURE__*/ createReactComponent('bh-nav-menu');\r\nexport const BhPagination = /*@__PURE__*/ createReactComponent('bh-pagination');\r\nexport const BhPanel = /*@__PURE__*/ createReactComponent('bh-panel');\r\nexport const BhProgressBar = /*@__PURE__*/ createReactComponent('bh-progress-bar');\r\nexport const BhRadioButton = /*@__PURE__*/ createReactComponent('bh-radio-button');\r\nexport const BhScatterChart = /*@__PURE__*/ createReactComponent('bh-scatter-chart');\r\nexport const BhSearch = /*@__PURE__*/ createReactComponent('bh-search');\r\nexport const BhSelectionGroup = /*@__PURE__*/ createReactComponent('bh-selection-group');\r\nexport const BhSettingsMenu = /*@__PURE__*/ createReactComponent('bh-settings-menu');\r\nexport const BhSlider = /*@__PURE__*/ createReactComponent('bh-slider');\r\nexport const BhSpinner = /*@__PURE__*/ createReactComponent('bh-spinner');\r\nexport const BhStatusIndicator = /*@__PURE__*/ createReactComponent('bh-status-indicator');\r\nexport const BhStepper = /*@__PURE__*/ createReactComponent('bh-stepper');\r\nexport const BhSystemAlertItem = /*@__PURE__*/ createReactComponent('bh-system-alert-item');\r\nexport const BhTabs = /*@__PURE__*/ createReactComponent('bh-tabs');\r\nexport const BhTabularList = /*@__PURE__*/ createReactComponent('bh-tabular-list');\r\nexport const BhTextArea = /*@__PURE__*/ createReactComponent('bh-text-area');\r\nexport const BhTextInput = /*@__PURE__*/ createReactComponent('bh-text-input');\r\nexport const BhTimePicker = /*@__PURE__*/ createReactComponent('bh-time-picker');\r\nexport const BhTimeZonePicker = /*@__PURE__*/ createReactComponent('bh-time-zone-picker');\r\nexport const BhTitleWrapper = /*@__PURE__*/ createReactComponent('bh-title-wrapper');\r\nexport const BhToggle = /*@__PURE__*/ createReactComponent('bh-toggle');\r\nexport const BhTokenDemo = /*@__PURE__*/ createReactComponent('bh-token-demo');\r\nexport const BhTooltip = /*@__PURE__*/ createReactComponent('bh-tooltip');\r\nexport const BhTree = /*@__PURE__*/ createReactComponent('bh-tree');\r\nexport const BhTypeAhead = /*@__PURE__*/ createReactComponent('bh-type-ahead');\r\nexport const BhUploader = /*@__PURE__*/ createReactComponent('bh-uploader');\r\nexport const BhVerticalMenu = /*@__PURE__*/ createReactComponent('bh-vertical-menu');\r\n//# sourceMappingURL=components.js.map","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport _ from \"lodash\";\r\nimport moment from \"moment\";\r\nimport \"./BhNotification.css\";\r\nimport { BhButtonTabs, BhActionMenu, BhPanel, BhIcon, BhDivider, BhStatusIndicator, BhAvatar, BhSpinner, BhA, BhIllustration, BhAlertItem } from\r\n  '@baker-hughes-central-design/ui-toolkit-react/dist/components';\r\n\r\n\r\nclass BhNotification extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tabList: [],\r\n      activeTab: props.config.tabMenu && props.config.tabs && props.config.tabs.tabOptions ? props.config.tabs.tabOptions.slice(0, 3)[0] :\r\n        props.config.tabMenu ? { \"label\": \"Recent\", \"key\": \"recent\" } : {},\r\n      filterOptions: [],\r\n      selectedFilterValue: {},\r\n      notificationData: [],\r\n      renderNotificationComp: \"\",\r\n      cloneOriginalNotificationData: [],\r\n      arrAfterRemovedObj: [],\r\n      removalFlag: false\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(props) {\r\n    return {\r\n      cloneOriginalNotificationData: props.data.items,\r\n      filterOptions: props.config.filter && props.config.filter.filterOptions ? props.config.filter.filterOptions : [],\r\n      tabList: props.config.tabMenu && props.config.tabs && props.config.tabs.tabOptions ? props.config.tabs.tabOptions.slice(0, 3) :\r\n        props.config.tabMenu ? [{ \"label\": \"Recent\", \"key\": \"recent\" }, { \"label\": \"Earlier\", \"key\": \"earlier\" }] : []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getNotificationDataCall(this.state.cloneOriginalNotificationData);\r\n    this.setState({\r\n      selectedFilterValue: this.props.config.filter && this.props.config.filter.filterOptions ? this.props.config.filter.filterOptions[0] : \"\"\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!_.isEqual(prevProps.data.items, this.props.data.items) || !_.isEqual(prevProps.config.updateErrorId, this.props.config.updateErrorId)) {\r\n      const { arrAfterRemovedObj } = this.state;\r\n      let removedId = !_.isEmpty(this.props.config.removedId) ? [...this.props.config.removedId] : [];\r\n\r\n      let notificationArr = this.props.data && this.props.data.items ? this.props.data.items : []\r\n\r\n      let filterData = _.filter(notificationArr, i => !_.isEmpty(removedId) && !_.includes(removedId, i.id));\r\n      let inputArr = !_.isEmpty(filterData) ? filterData : notificationArr;\r\n      let commonObjects = _.intersectionBy(notificationArr, arrAfterRemovedObj, \"id\");\r\n\r\n      this.setState({ arrAfterRemovedObj: commonObjects });\r\n      this.getNotificationDataCall(inputArr);\r\n    }\r\n  }\r\n\r\n  getNotificationDataCall = (notificationData = []) => {\r\n    let formattedData = this.restructureNotificationData(notificationData);\r\n    this.tabLoadData(formattedData, this.state.activeTab.key);\r\n  }\r\n\r\n  restructureNotificationData = (array) => {\r\n    let orderedArray = _.orderBy(array, [\"createdDateTime\"], [\"desc\"]);\r\n    let today = moment();\r\n    let alteredResponse = orderedArray && _.cloneDeep(orderedArray).map((item) => {\r\n      item.category = !_.isEmpty(item.category) ? item.category : this.getCategoryTab(item.createdDateTime);\r\n\r\n      let category = today.diff(item.createdDateTime, 'days');\r\n      if (category !== 0) {\r\n        item.createdDateTime = `${category} days ago`;\r\n        item.categoryGroup = `${category} days ago`;\r\n      } else {\r\n        let hours = today.diff(item.createdDateTime, 'hour');\r\n        item.createdDateTime = `${hours}h ago`;\r\n        item.categoryGroup = \"Today\";\r\n      }\r\n      return item\r\n    });\r\n    return alteredResponse;\r\n  }\r\n\r\n  getCategoryTab = (createdDateTime) => {\r\n    let recentTimeLimit = this.props.config && this.props.config.timeSettings && this.props.config.timeSettings.recent ? this.props.config.timeSettings.recent : 86400000;\r\n\r\n    let catValue;\r\n    let today = new Date();\r\n    let rowDateTime = new Date(createdDateTime);\r\n    let rangeMilliseconds = today - rowDateTime;\r\n\r\n    if (rangeMilliseconds <= recentTimeLimit) {\r\n      catValue = \"recent\"\r\n    } else {\r\n      catValue = \"earlier\"\r\n    }\r\n    return catValue;\r\n  }\r\n\r\n  tabLoadData = (arr, keyValue = \"\") => {\r\n    const { selectedFilterValue } = this.state;\r\n    let removedId = !_.isEmpty(this.props.config.removedId) ? [...this.props.config.removedId] : [];\r\n\r\n    let selFilterState = !_.isEmpty(selectedFilterValue) ? selectedFilterValue :\r\n      this.props.config.filter && this.props.config.filter.filterOptions ? this.props.config.filter.filterOptions[0] : \"\";\r\n    let tabNotificationData = [];\r\n    let comp, resultArr;\r\n\r\n    if (keyValue !== \"\") {\r\n      tabNotificationData = _.filter(arr, i => i.category === keyValue);\r\n    } else {\r\n      tabNotificationData = arr;\r\n    }\r\n\r\n    if (selFilterState.value !== \"all\") {\r\n      resultArr = !_.isEmpty(removedId) ? _.filter(tabNotificationData, item => item.filterCriteria === selFilterState.value && !_.includes(removedId, item.id)) :\r\n        _.filter(tabNotificationData, item => item.filterCriteria === selFilterState.value);\r\n    } else {\r\n      resultArr = !_.isEmpty(removedId) ? _.filter(tabNotificationData, item => !_.includes(removedId, item.id)) : tabNotificationData;\r\n    }\r\n\r\n    let groupByRes = _.groupBy(resultArr, \"categoryGroup\");\r\n    let result = Object.keys(groupByRes).map(function (key) {\r\n      return { notificationGroup: key, notificationList: groupByRes[key] };\r\n    });\r\n\r\n    comp = _.isEmpty(result) ? <div></div> : result.map(item => {\r\n      return this.getNotificationRow(item)\r\n    });\r\n    this.setState({ notificationData: result, renderNotificationComp: comp });\r\n  }\r\n\r\n  onTabSelect = (tab) => {\r\n    let inputArray = !_.isEmpty(this.state.arrAfterRemovedObj) || this.state.removalFlag ? this.state.arrAfterRemovedObj : this.state.cloneOriginalNotificationData;\r\n    let formattedData = this.restructureNotificationData(inputArray);\r\n    this.tabLoadData(formattedData, tab.detail.key);\r\n    this.setState({ activeTab: tab.detail });\r\n  }\r\n\r\n  onFilterMenu = (filterMenu) => {\r\n    const { filterOptions } = this.state;\r\n    let removedId = !_.isEmpty(this.props.config.removedId) ? [...this.props.config.removedId] : [];\r\n\r\n    let selFilter = filterMenu.detail;\r\n    let filterOptionsTmp = filterOptions.map(opt => {\r\n      if (opt.value === selFilter.value) {\r\n        opt.selected = true;\r\n        return opt;\r\n      } else {\r\n        opt.selected = false;\r\n        return opt;\r\n      }\r\n    });\r\n\r\n    let inputArray = !_.isEmpty(this.state.arrAfterRemovedObj) || this.state.removalFlag ? this.state.arrAfterRemovedObj : this.state.cloneOriginalNotificationData;\r\n    let formattedData = this.restructureNotificationData(inputArray);\r\n    let result;\r\n\r\n    if (filterMenu.detail.value !== \"all\") {\r\n      result = !_.isEmpty(removedId) ? _.filter(formattedData, item => item.filterCriteria === filterMenu.detail.value && !_.includes(removedId, item.id)) :\r\n        _.filter(formattedData, item => item.filterCriteria === filterMenu.detail.value);\r\n    } else {\r\n      result = !_.isEmpty(removedId) ? _.filter(formattedData, item => !_.includes(removedId, item.id)) : formattedData;\r\n    }\r\n\r\n    this.setState({ filterOptions: filterOptionsTmp, selectedFilterValue: selFilter });\r\n    this.tabLoadData(result, this.state.activeTab.key);\r\n  }\r\n\r\n  onRemove = (row) => {\r\n    const { cloneOriginalNotificationData, arrAfterRemovedObj, activeTab, removalFlag } = this.state;\r\n\r\n    let removalIdArray = !_.isEmpty(this.props.config.removedId) ? [...this.props.config.removedId] : [];\r\n    removalIdArray.push(row.id);\r\n\r\n    let inputArray = !_.isEmpty(arrAfterRemovedObj) || removalFlag ? arrAfterRemovedObj : cloneOriginalNotificationData;\r\n    let result = _.filter(inputArray, i => !_.isEmpty(removalIdArray) && !_.includes(removalIdArray, i.id));\r\n    let formattedData = this.restructureNotificationData(result);\r\n    this.tabLoadData(formattedData, activeTab.key);\r\n    this.setState({ arrAfterRemovedObj: result, removalFlag: true });\r\n    //To maintain removed data\r\n    this.props.handleCustomEvent({ type: \"onCloseClick\", removedId: removalIdArray });\r\n    //To update it as read notification\r\n    this.props.markNotificationRead(row, \"onCloseClick\");\r\n  }\r\n\r\n  getNotificationRow = (item) => {\r\n    const { softDelete, updateErrorId } = this.props.config;\r\n    const { t } = this.props;\r\n    if (item !== \"\" && item.notificationGroup !== \"\" && !_.isEmpty(item.notificationList)) {\r\n      return (\r\n        <div className=\"notif--group\">\r\n          <p className=\"typography--label-small text-color-secondary notif--date\">{item.notificationGroup}</p>\r\n          {\r\n            item.notificationList.map(notification => {\r\n              let header = !_.isEmpty(notification.title) ? notification.title : \"\";\r\n              let description = !_.isEmpty(notification.message) ? notification.message : \"\";\r\n              let createdTime = !_.isEmpty(notification.createdDateTime) && notification.createdDateTime;\r\n\r\n              return (\r\n                <>\r\n                  <div id={notification.id} className=\"notif--container motion--normal\">\r\n                    <div className=\"notif--status\">\r\n                      <div className=\"statusIndicator\">\r\n                        {\r\n                          notification.status === false &&\r\n                          <BhStatusIndicator className=\"notif--status-indicator\" position=\"standalone\" theme=\"accent\" size=\"xsmall\" />\r\n                        }\r\n                      </div>\r\n                      <div className=\"notiTypeIcon\">\r\n                        {\r\n                          this.getIconBasedOnType(notification)\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"notificationContent\" onClick={() => this.props.markNotificationRead(notification, \"onContentClick\")}>\r\n                      <p className=\"typography--body-small-semi-bold text-color-primary notif-title\">{header}</p>\r\n                      <p className=\"typography--body-small text-color-secondary notif--description\">{description}</p>\r\n                      <p className=\"typography--body-small text-color-secondary\">{createdTime}</p>\r\n                    </div>\r\n                    {\r\n                      softDelete &&\r\n                      <BhIcon className=\"closeIcon\" icon=\"close\" size=\"small\" onClick={() => this.onRemove(notification)} />\r\n                    }\r\n                  </div>\r\n                  {\r\n                    !_.isEmpty(updateErrorId) && updateErrorId === notification.id &&\r\n                    <div className=\"errorAlertItem\"><BhAlertItem type='context' status='critical'\r\n                      message={`<strong>${t(\"InternalServerError\")}.</strong> ${t(\"ErrorForRead\")}`} dismissible=\"false\" /></div>\r\n                  }\r\n                  <BhDivider marginLeft=\"medium\" marginRight=\"medium\" marginTop=\"none\" marginBottom=\"none\" />\r\n                </>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      )\r\n    } else {\r\n      return <div />\r\n    }\r\n  }\r\n\r\n  getIconBasedOnType = (notification) => {\r\n    let comp;\r\n    let type = !_.isEmpty(notification.type) ? notification.type : \"\";\r\n    if (type === \"User generated\") {\r\n      let mailId = !_.isEmpty(notification.createdBy) ? notification.createdBy.split(\"@\")[0].split(\".\") : \"\";\r\n      let first = !_.isEmpty(mailId) ? mailId[1] : \"\";\r\n      let last = !_.isEmpty(mailId) ? mailId[0] : \"\";\r\n      comp = <BhAvatar type=\"primary\" size=\"xsmall\" image=\"\" false firstname={first} lastname={last} />\r\n\r\n    } else if (_.includes(type, \"System\")) {\r\n      comp = <BhIcon icon=\"notification_important\" color={this.getIconColor(type)} size=\"xsmall\" />\r\n\r\n    } else {\r\n      const iconOptionsArr = this.props.config && this.props.config.icons && this.props.config.icons.iconOptions;\r\n      let customTypeObj = _.find(iconOptionsArr, i => i.value === type);\r\n      let defaultIconObj = _.find(iconOptionsArr, i => i.value === \"default\");\r\n      let iconObj = !_.isEmpty(customTypeObj) ? customTypeObj :\r\n        !_.isEmpty(defaultIconObj) ? defaultIconObj : {};\r\n      let iconName = !_.isEmpty(iconObj) && !_.isEmpty(iconObj.iconName) ? iconObj.iconName : \"\";\r\n      let iconColor = !_.isEmpty(iconObj) && !_.isEmpty(iconObj.color) ? iconObj.color : \"primary\";\r\n      comp = <BhIcon icon={iconName} color={iconColor} size=\"xsmall\" />\r\n\r\n    }\r\n    return comp;\r\n  }\r\n\r\n  getIconColor = (type) => {\r\n    let color;\r\n    if (type === \"System Warning\") {\r\n      color = `var(--color-fill-semantic-warning-default)`\r\n    } else if (type === \"System error\") {\r\n      color = `var(--color-fill-semantic-error-default)`\r\n    } else if (type === \"System Info\") {\r\n      color = `var(--color-fill-semantic-info-default)`\r\n    } else {\r\n      color = \"\";\r\n    }\r\n    return color;\r\n  }\r\n\r\n  onViewAllSelect = (viewAllObj) => {\r\n    const { data } = this.props;\r\n    if (data.isNoResponse) {\r\n      return\r\n    } else {\r\n      const context = {\r\n        navigationObject: _.get(viewAllObj, \"navigationObject\", {})\r\n      }\r\n      let payloadData = {\r\n        state: { mode: _.get(context, \"navigationObject.mode\", \"\"), detail: { payLoad: context.navigationObject } },\r\n        appname: _.get(context, \"navigationObject.appName\", \"\")\r\n      }\r\n      window.parent.postMessage(JSON.stringify({ eventType: \"navigation\", payload: payloadData }));\r\n    }\r\n  };\r\n\r\n  getOtherScenariosScreens = () => {\r\n    const { notificationErrorScreen } = this.props.config;\r\n    const { data, t } = this.props;\r\n    let comp;\r\n    if (notificationErrorScreen) {\r\n      comp = <div align=\"center\" className=\"errorScreen\">\r\n        <BhIllustration className=\"serverError\" source='CouldNotComplete' title={`${t(\"Error\")} !`} description={t(\"InternalServerError\")} />\r\n        <div className=\"errorContent\">\r\n          <p>{t(\"AdvanceNotifiErr1\")}</p>\r\n          <p>{t(\"AdvanceNotifiErr2\")}</p>\r\n        </div>\r\n      </div>\r\n    } else if (data.isNoResponse) {\r\n      comp = <div align=\"center\">\r\n        <BhIllustration className=\"noYet\" source='EmptyBox' title={t(\"NoNotifiYet\")} />\r\n      </div>\r\n    } else {\r\n      comp = comp = <div align=\"center\">\r\n        <BhIllustration className=\"noRecent\" source='EmptyBox' title={t(\"NoRecentNotification\")} />\r\n      </div>\r\n    }\r\n    return comp;\r\n  }\r\n\r\n  render() {\r\n    const { tabList, filterOptions, renderNotificationComp } = this.state;\r\n    const configTemp = this.props.config;\r\n    const { filter, tabMenu, viewAll, isOpen, requestAdvNotification } = configTemp;\r\n    const { data, t } = this.props;\r\n    let i18TabList = tabList.map(item => { return { ...item, \"label\": t(`${item.label}`) } });\r\n    return (\r\n      <div id='advanceNotification'>\r\n        <BhPanel\r\n          slot=\"bh-panel\"\r\n          width=\"medium\"\r\n          header={t(\"Notifications\")}\r\n          id=\"chart-comp--panel\"\r\n          isOpen={isOpen}\r\n          onBhEventClose={(event) => this.props.handleCustomEvent(event)}\r\n        >\r\n          {\r\n            !_.isEmpty(viewAll) &&\r\n            <BhA\r\n              className=\"notiViewAll typography--body-medium\"\r\n              type=\"primary\"\r\n              text={t(\"ViewAll\")}\r\n              noUnderline\r\n              href=\"#\"\r\n              onClick={() => this.onViewAllSelect(viewAll)}\r\n              target=\"_parent\"\r\n              left-icon=\"visibility\"\r\n              disabled={data.isNoResponse ? true : false}>\r\n            </BhA>\r\n          }\r\n          <div className=\"notif--header\">\r\n            <div className={tabMenu ? \"\" : \"hideTab\"}>\r\n              {\r\n                tabMenu &&\r\n                <BhButtonTabs\r\n                  className=\"notificationTabs\"\r\n                  small\r\n                  id=\"notificationButtonTabs\"\r\n                  onBhEventSelected={(event) => this.onTabSelect(event)}\r\n                  items={JSON.stringify(i18TabList)}\r\n                  activeKey={!_.isEmpty(this.state.activeTab) ? this.state.activeTab.key : \"\"}>\r\n                </BhButtonTabs>\r\n              }\r\n            </div>\r\n            <div className=\"notif--header-buttons\">\r\n              {\r\n                !_.isEmpty(filter) &&\r\n                <BhActionMenu\r\n                  className=\"notiActionMenu\"\r\n                  menu-items={filterOptions}\r\n                  onBhEventSelected={(event) => this.onFilterMenu(event)}\r\n                  selectedValue={!_.isEmpty(this.state.selectedFilterValue) ? this.state.selectedFilterValue.value : \"\"}\r\n                  width=\"small\"\r\n                  icon-override=\"more_vert\"\r\n                  ellipsis=\"true\">\r\n                </BhActionMenu>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div id=\"panel--content\">\r\n            {requestAdvNotification ? <BhSpinner size=\"large\" className=\"panelSpinner\"></BhSpinner> :\r\n              _.isEmpty(data.items) ? this.getOtherScenariosScreens() : renderNotificationComp}\r\n          </div>\r\n        </BhPanel>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BhNotification;\r\n\r\nBhNotification.propTypes = {\r\n  config: PropTypes.object,\r\n  data: PropTypes.object,\r\n  markNotificationRead: PropTypes.func,\r\n  handleCustomEvent: PropTypes.func,\r\n}\r\n"],"sourceRoot":""}