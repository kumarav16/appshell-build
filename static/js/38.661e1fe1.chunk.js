(this["webpackJsonpapp-shell-client"]=this["webpackJsonpapp-shell-client"]||[]).push([[38,24,118],{1357:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),i=n(993),a=n(2040),o=n(685),s=(n(224),n(755),n(751),n(4)),c=[{id:"dashboard",name:"Asset Dashboard",link:"/asset-dashboard/",iconSvg:"<svg>test</svg?",host:"https://ofe-dev-nginx-lb01-1933176829.us-west-2.elb.amazonaws.com",path:"/asset-dashboard",template:"/index.html",navService:"/nav",default:!1,feedbackFlag:!0,visibility:!0,displayTextId:"dashboard",menuItemId:"cases"},{id:"appbuilder",name:"App Builder",link:"/app-builder/",icon:"warningrounded",host:"https://cde-sc-nginx-dev01-elb01-238862697.us-west-2.elb.amazonaws.com/appbuilder",path:"/app-builder",template:"/index.html",navService:"/nav",default:!0,visibility:!0},{id:"demo-app",name:"App Demo",link:"/app-demo/",icon:"warningrounded",host:"https://cde-sc-nginx-dev01-elb01-238862697.us-west-2.elb.amazonaws.com/appbuilder",path:"/app-demo",template:"/index.html",navService:"/nav",default:!1,displayTextId:"demo-app",visibility:!0}];describe("Static testing begins",(function(){it("verify for Static group mounted",(function(){window.location.hash="/openResourceAttributes.txt";window.localStorage.setItem("navigation",JSON.stringify(c)),window.localStorage.setItem("userInfoDialogMap",JSON.stringify([{type:"group",mode:"spa",name:"About",icon:"tune",subMenu:[{location:"/openResourceAttributes.txt",name:"Licenses Attributions",icon:"tune",default:!0},{location:"/i18.txt",name:"Version",icon:"tune",default:!1},{type:"file",location:"/i18.html",name:"richHTML",mode:"spa",icon:"tune"}]}]));var n=Promise.resolve({responseStatus:200,data:"error"}),r=Promise.resolve({json:function(){return n}});jest.spyOn(e,"fetch").mockImplementation((function(){return r}));var l=Object(o.mount)(Object(s.jsx)(a.a,{children:Object(s.jsx)(t.Suspense,{children:Object(s.jsx)(i.default,{})})})).find("OpenResourceStaticPage").at(0);console.log(l.debug()),l.find("div.activePage").simulate("click"),expect(l.find("span#staticPageTitle").at(0).text()).toEqual("Licenses Attributions")})),it("verify for Static group mounted without error",(function(){window.location.hash="/openResourceAttributes.txt";window.localStorage.setItem("navigation",JSON.stringify([])),window.localStorage.setItem("userInfoDialogMap",JSON.stringify([{type:"group",mode:"spa",name:"About",icon:"tune",subMenu:[{location:"/openResourceAttributes.txt",name:"Licenses Attributions",icon:"tune",default:!0}]}]));var n=Promise.resolve({responseStatus:200,data:"success"}),c=Promise.resolve({json:function(){return n}});jest.spyOn(e,"fetch").mockImplementation((function(){return c}));var r=Object(o.mount)(Object(s.jsx)(a.a,{children:Object(s.jsx)(t.Suspense,{children:Object(s.jsx)(i.default,{})})})).find("OpenResourceStaticPage").at(0);r.find("div.activePage").simulate("click"),expect(r.find("span#staticPageTitle").at(0).text()).toEqual("Licenses Attributions")})),it("verify for Static mounted",(function(){window.location.hash="/i18.html";window.localStorage.setItem("userInfoDialogMap",JSON.stringify([{type:"file",location:"/i18.html",name:"richHTML",mode:"spa",icon:"tune"}]));var n=Promise.resolve({responseStatus:200,message:"success"}),c=Promise.resolve({json:function(){return n}});jest.spyOn(e,"fetch").mockImplementation((function(){return c}));var r=Object(o.mount)(Object(s.jsx)(a.a,{children:Object(s.jsx)(t.Suspense,{children:Object(s.jsx)(i.default,{})})})).find("OpenResourceStaticPage").at(0);expect(r.find("span#staticPageTitle").text()).toEqual("richHTML")})),it("verify for Static mounted",(function(){window.location.hash="/i18.html";window.localStorage.setItem("userInfoDialogMap",JSON.stringify([{type:"file",location:"/i18.html",name:"richHTML",mode:"spa",icon:"tune"}]));var n=Promise.resolve({responseStatus:200,timeoutmsg:"success timeout"}),c=Promise.resolve({json:function(){return n}});jest.spyOn(e,"fetch").mockImplementation((function(){return c}));var r=Object(o.mount)(Object(s.jsx)(a.a,{children:Object(s.jsx)(t.Suspense,{children:Object(s.jsx)(i.default,{})})})).find("OpenResourceStaticPage").at(0);expect(r.find("span#leftStaticPagetitle").text()).toEqual("richHTML"),expect(r.find("span#staticPageContent").text()).toEqual("")})),it("verify for Static mounted location path and static file different",(function(){window.location.hash="/parag.html";window.localStorage.setItem("userInfoDialogMap",JSON.stringify([{type:"file",location:"/i18.html",name:"richHTML",mode:"spa",icon:"tune"}]));var n=Promise.resolve({responseStatus:200,timeoutmsg:"success timeout"}),c=Promise.resolve({json:function(){return n}});jest.spyOn(e,"fetch").mockImplementation((function(){return c}));var r=Object(o.mount)(Object(s.jsx)(a.a,{children:Object(s.jsx)(t.Suspense,{children:Object(s.jsx)(i.default,{})})})).find("OpenResourceStaticPage").at(0);expect(r.find("span#leftStaticPagetitle").text()).toEqual(""),expect(r.find("span#staticPageContent").text()).toEqual("")})),it("verify for failed apis",(function(){window.location.hash="/i18.html";window.localStorage.setItem("designTemplate","system1-multiapp"),window.localStorage.setItem("userInfoDialogMap",JSON.stringify([{type:"file",location:"/i18.html",name:"richHTML",mode:"spa",icon:"tune"}])),e.fetch=jest.fn((function(){return Promise.reject({message:"fetch failed"})})),Object(o.mount)(Object(s.jsx)(a.a,{children:Object(s.jsx)(t.Suspense,{children:Object(s.jsx)(i.default,{})})}))}))}))}.call(this,n(133))},2040:function(e,t,n){"use strict";var i=n(231),a=n.n(i),o=n(0),s=n.n(o),c=n(5),r=n.n(c),l=n(94),u=n(232);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var n,i;d(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=i=p(this,e.call.apply(e,[this].concat(o))),i.history=Object(l.a)(i.props),p(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){a()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return s.a.createElement(u.a,{history:this.history,children:this.props.children})},t}(s.a.Component);f.propTypes={basename:r.a.string,forceRefresh:r.a.bool,getUserConfirmation:r.a.func,keyLength:r.a.number,children:r.a.node},t.a=f},696:function(e,t){},919:function(e,t,n){},993:function(e,t,n){"use strict";n.r(t);var i=n(45),a=n(0),o=n(657),s=(n(919),n(67)),c=n(664),r=n(694),l=n(2075),u=n(2073),d=n(2074),p=n(2072),f=n(2065),h=n(93),m=n.n(h),j=n(4);t.default=Object(c.a)()(Object(o.a)((function(e){var t=JSON.parse(window.localStorage.getItem("userInfoDialogMap")),n=t.filter((function(e){return e.subMenu})),o=n.length>0&&n[0].subMenu.filter((function(e){return e.default})),c="",h="",b="",g="",O=null!==localStorage.getItem("navigation")?JSON.parse(localStorage.getItem("navigation")):[];O=O.filter((function(e){return!e.hasOwnProperty("visibility")||e.visibility}));for(var v=0;v<t.length;v++){if("group"!==t[v].type&&t[v].location==="/"+window.location.hash.split("/")[1]){c=t[v].name,h=t[v].icon,b=t[v].type;break}if("group"===t[v].type)for(var x=0;x<t[v].subMenu.length;x++)if(t[v].subMenu[x].location==="/"+window.location.hash.split("/")[1]){c=t[v].name,h=t[v].icon,b=t[v].type,g=t[v].subMenu[x].name;break}}var y=Object(a.useState)(""),S=Object(i.a)(y,2),w=S[0],P=S[1],I=Object(a.useState)(!1),N=Object(i.a)(I,2),M=N[0],T=N[1],_=Object(a.useState)(""),k=Object(i.a)(_,2),A=k[0],E=k[1],R=Object(a.useState)("group"!==b?"":o[0].name),L=Object(i.a)(R,2),J=L[0],C=L[1],D=Object(a.useState)(!1),H=Object(i.a)(D,2),q=H[0],z=H[1],B=Object(a.useState)(m.a.startsWith(localStorage.getItem("designTemplate"),"system")),F=Object(i.a)(B,2),W=F[0];F[1];return Object(a.useEffect)((function(){fetch("".concat(window.location.pathname,"static/").concat(window.location.hash.split("/")[1])).then((function(e){return e.json()})).then((function(t){"success timeout"===t.timeoutmsg?(T(!0),E("session-timeout")):"error"===t.data?(P(e.t("ErrorOpenSourceAttribution")),z(!0)):(P(unescape(t.data)),C(g),z(!0))})).catch((function(t){P(e.t("ErrorOpenSourceAttribution")),z(!0)}))}),[]),"session-timeout"==A?Object(j.jsxs)(r.default,{showDialog:M,id:"dialogPopup",children:[Object(j.jsx)(p.a,{id:"alert-dialog-title",children:e.t("SessionTimeout")}),Object(j.jsx)(u.a,{children:Object(j.jsx)(d.a,{id:"alert-dialog-description",children:e.t("SessionTimeoutInfo")})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(f.a,{onClick:function(){T(!1),e.history.push("/login")},autoFocus:!0,children:e.t("Close")})})]}):Object(j.jsx)("div",{className:W?"horizontal hide-drawer":0===O.length?"vertical hide-drawer":"vertical",children:Object(j.jsx)("div",{className:"e7700_96651",children:"group"!==b?Object(j.jsxs)("div",{className:"e7000_1208",children:[Object(j.jsxs)("div",{className:"activePage",children:[Object(j.jsx)("span",{className:"e7700_96654",children:h}),Object(j.jsx)("span",{className:"e7700_96653",id:"leftStaticPagetitle",children:e.t(c)})]}),Object(j.jsx)("span",{className:"e7000_1219",id:"staticPageContent",children:q?Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.t(w)}}):Object(j.jsx)("div",{style:{height:"70vh"},children:Object(j.jsx)(s.a,{})})}),Object(j.jsx)("div",{className:"e7700_96601",children:Object(j.jsx)("span",{className:"e7000_1217",id:"staticPageTitle",children:e.t(c)})})]}):n[0].subMenu.map((function(t){return Object(j.jsxs)("div",{className:"e7000_1208",children:[Object(j.jsxs)("div",{className:t.name===J?"activePage":"e7700_96652",onClick:function(){return n=t.location,t.name,void fetch("".concat(window.location.pathname,"static").concat(n)).then((function(e){return e.json()})).then((function(t){"error"===t.data?(P(e.t("ErrorOpenSourceAttribution")),z(!0)):(z(!0),P(unescape(t.data)),e.history.push(n))}));var n},children:[Object(j.jsx)("span",{className:"e7700_96654",children:t.icon}),Object(j.jsx)("span",{className:"e7700_96653",id:"leftStaticPagetitle",children:e.t(t.name)})]}),Object(j.jsx)("span",{className:"e7000_1219",id:"staticPageContent",children:q?Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:e.t(w)}}):Object(j.jsx)("div",{style:{height:"70vh"},children:Object(j.jsx)(s.a,{})})}),Object(j.jsx)("div",{className:"e7700_96601",children:Object(j.jsx)("span",{className:"e7000_1217",id:"staticPageTitle",children:e.t(J)})})]})}))})})})))}}]);
//# sourceMappingURL=38.661e1fe1.chunk.js.map