(this["webpackJsonpapp-shell-client"]=this["webpackJsonpapp-shell-client"]||[]).push([[36,42,110],{1339:function(t,e,a){"use strict";a.r(e);var i=a(92),o=(a(0),a(93)),r=a.n(o),n=a(685),c=(a(755),a(724)),s=a(756),l=a.n(s),d=(a(723),a(714)),p=a(4);jest.mock("react-i18next",(function(){return{withTranslation:function(){return function(t){return t.defaultProps=Object(i.a)(Object(i.a)({},t.defaultProps),{},{t:function(t){return t}}),t}}}})),describe("BhNotification",(function(){var t=l()(new Date).subtract(2,"hours").format(),e={handleCustomEvent:jest.fn(),markNotificationRead:jest.fn(),t:jest.fn(),config:{filter:{filterOptions:[{value:"all",label:"All"},{value:"low",label:"Low"},{value:"high",label:"High"}]},tabMenu:!0,softDelete:!0,pollNotificationTimeInterval:3e5,viewAll:{navigationObject:{mode:"spa",appName:"eventApp"}},isOpen:!1,requestAdvNotification:!0,notificationErrorScreen:!1,updateErrorId:"chart-comp--notification-1",removedId:[]},data:{isPartialResponse:!0,isNoResponse:!1,items:[{id:"chart-comp--notification-0",title:"consectetur0",message:"consectetur0 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:t,createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System Warning",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--notification-2",title:"consectetur2",message:"consectetur2 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-12-08T12:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System Info",filterCriteria:"high",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--notification-3",title:"consectetur3",message:"consectetur3 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-11-30T11:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"User generated",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--notificationIconColorElseCase",title:"consecteturIconColorElseCase",message:"consecteturIconColorElseCase ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-12-26T12:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System Alert",filterCriteria:"high",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--noTitlenoMessagenoType",title:"",message:"",createdDateTime:"2022-12-21T12:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"",filterCriteria:"high",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--userGeneratedTypenoCreatedByDetails",title:"User generated title",message:"User generated message",createdDateTime:"2022-12-21T12:38:06+05:30",createdBy:"",type:"User generated",filterCriteria:"high",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"}]}},a={isPartialResponse:!0,isNoResponse:!1,items:[{id:"chart-comp--notification-4",title:"consectetur4",message:"consectetur4 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-09-30T11:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System Info",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"statusApp",navigationPaylaod:"Object/Array Containing payload"}]},o=jest.fn(),s=Object(p.jsxs)("div",{className:"notif--group",children:[Object(p.jsx)("p",{className:"typography--label-small text-color-secondary notif--date",children:"Today"}),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{id:"chart-comp--notification-4",className:"notif--container motion--normal",children:[Object(p.jsx)("div",{className:"notif--status",children:Object(p.jsx)(d.h,{icon:"notification_important",color:"var(--color-fill-semantic-info-default)",size:"small"})}),Object(p.jsxs)("div",{className:"notificationContent",id:"contentId",onClick:e.markNotificationRead,children:[Object(p.jsx)("p",{className:"typography--body-small-semi-bold text-color-primary notif-title",children:"Sed cursus duis consectetur4"}),Object(p.jsx)("p",{className:"typography--body-small text-color-secondary notif--description",children:"consectetur4 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor."}),Object(p.jsx)("p",{className:"typography--body-small text-color-secondary",children:"2022-10-20T15:38:06+05:30"})]}),Object(p.jsx)(d.h,{className:"closeIcon",icon:"close",size:"small",onClick:o})]}),Object(p.jsx)(d.f,{marginLeft:"medium",marginRight:"medium",marginTop:"none",marginBottom:"none"})]})]});it("verify for BhNotification data got success when loads",(function(){var t=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},e)));expect(t).toMatchSnapshot()})),it("verify for BhNotification diff data for icon variations config ",(function(){var t=[{notificationGroup:"",notificationList:[{id:"chart-comp--notification-Alerts",title:"consecteturAlerts",message:"consecteturAlerts ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-09-30T11:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"Alerts",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"statusApp",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--notification-Cases",title:"consecteturCases",message:"consecteturCases ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-09-30T11:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"Cases",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"statusApp",navigationPaylaod:"Object/Array Containing payload"}]}],a=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1,icons:{iconOptions:[{iconName:"notification_important",value:"Alerts",color:"pink"},{value:"Alerts1"},{iconName:"info",value:"default"}]}})}),o=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},a)));o.find("BhButtonTabs").props().onBhEventSelected({detail:{key:"recent",label:"Recent"}}),o.instance().onTabSelect({detail:{key:"recent",label:"Recent"}}),o.setProps({data:{isPartialResponse:!0,isNoResponse:!1,items:[{id:"chart-comp--notification-Alerts",title:"consecteturAlerts",message:"consecteturAlerts ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-09-30T11:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"Alerts",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"statusApp",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--notification-Cases",title:"consecteturCases",message:"consecteturCases ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-09-30T11:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"Cases",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"statusApp",navigationPaylaod:"Object/Array Containing payload"}]}}),o.instance().tabLoadData(t,"recent"),o.instance().getNotificationRow(t),o.instance().getIconBasedOnType(t[0].notificationList[0])})),it("verify for BhNotification diff data for default icon configuration ",(function(){var t=[{notificationGroup:"",notificationList:[{id:"chart-comp--notification-Cases",title:"consecteturCases",message:"consecteturCases ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-09-30T11:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"Cases",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"statusApp",navigationPaylaod:"Object/Array Containing payload"}]}],a=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1,icons:{iconOptions:[{iconName:"info",value:"default"}]}})}),o=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},a)));o.find("BhButtonTabs").props().onBhEventSelected({detail:{key:"recent",label:"Recent"}}),o.instance().onTabSelect({detail:{key:"recent",label:"Recent"}}),o.setProps({data:{isPartialResponse:!0,isNoResponse:!1,items:[{id:"chart-comp--notification-Cases",title:"consecteturCases",message:"consecteturCases ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-09-30T11:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"Cases",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"statusApp",navigationPaylaod:"Object/Array Containing payload"}]}}),o.instance().tabLoadData(t,"recent"),o.instance().getNotificationRow(t),o.instance().getIconBasedOnType(t[0].notificationList[0])})),it("verify for BhNotification has no data response, no notification yet screen will be displayed",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1}),data:{isPartialResponse:!1,isNoResponse:!0,items:[]}}),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));expect(a).toMatchSnapshot()})),it("verify for BhNotification has read notification as response, no recent notification message will be displayed",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1}),data:{isPartialResponse:!1,isNoResponse:!1,items:[]}}),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));expect(a).toMatchSnapshot()})),it("verify for BhNotification has no data response, no notification error screen will be displayed",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1,notificationErrorScreen:!0}),data:{}}),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));expect(a).toMatchSnapshot()})),it("verify for BhNotification has no tabMenu and no softDelete config data",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{tabMenu:!1,softDelete:!1})}),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));a.setState({activeTab:{}}),expect(a).toMatchSnapshot()})),it("verify for BhNotification has no filter",(function(){var t=r.a.omit(e,"config.filter"),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));expect(a).toMatchSnapshot()})),it("verify for BhNotification when config has tab customized",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1,tabs:{tabOptions:[{label:"My Notifications",key:"personal"},{label:"Team Notifications",key:"team"}]}}),data:a});Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t))).setState({renderNotificationComp:s})})),it("verify for BhNotification has timeSettings customized",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{timeSettings:{recent:1728e5}})}),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));a.setState({activeTab:{}}),expect(a).toMatchSnapshot()})),it("verify for BhNotification componentDidUpdate has data",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1,removedId:["chart-comp--notification-2"]})}),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));a.setProps({data:{isPartialResponse:!0,isNoResponse:!1,items:[{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--notification-2",title:"consectetur2",message:"consectetur2 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-25T12:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System Info",filterCriteria:"high",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"}]}}),a.instance().getNotificationDataCall([{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload",category:"20 days ago"}])})),it("verify for BhNotification componentDidUpdate has data with no items and removalId is empty",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1})}),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));a.setProps({data:{isPartialResponse:!0,isNoResponse:!1}}),a.instance().getNotificationDataCall([])})),it("verify for BhNotification componentDidUpdate has data of removalId not empty",(function(){var t={isPartialResponse:!0,isNoResponse:!1,items:[{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"},{id:"chart-comp--notification-2",title:"consectetur2",message:"consectetur2 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-25T12:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System Info",filterCriteria:"high",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"}]},a=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1,removedId:["chart-comp--notification-2"]})}),o=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},a)));o.setState({arrAfterRemovedObj:t.items}),o.setProps({data:t})})),it("verify for BhNotification for onFilterMenu when low menu is selected",(function(){var t=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},e)));t.find("BhActionMenu").props().onBhEventSelected({detail:{value:"low",label:"Low"}}),t.instance().onFilterMenu({detail:{value:"low",label:"Low"}})})),it("verify for BhNotification for onFilterMenu All option",(function(){var t=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},e)));t.find("BhActionMenu").props().onBhEventSelected({detail:{value:"all",label:"All"}}),t.instance().onFilterMenu({detail:{value:"all",label:"All"}})})),it("verify for BhNotification for onFilterMenu when state arrAfterRemovedObj has value, for other than all filter option ",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{removedId:["chart-comp--notification-newIdForFilterException"]})}),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));a.find("BhButtonTabs").props().onBhEventSelected({detail:{key:"recent",label:"Recent"}}),a.setState({arrAfterRemovedObj:[{id:"chart-comp--notification-newIdForFilterException",title:"consecteturnewIdForFilterException",message:"consecteturnewIdForFilterException ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"}],removalFlag:!0}),a.instance().onFilterMenu({detail:{value:"low",label:"Low"}})})),it("verify for BhNotification for onFilterMenu when state arrAfterRemovedObj has value, for all option in filter",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{removedId:["chart-comp--notification-2"]})}),a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));a.find("BhButtonTabs").props().onBhEventSelected({detail:{key:"recent",label:"Recent"}}),a.setState({arrAfterRemovedObj:[{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"}],removalFlag:!0}),a.instance().onFilterMenu({detail:{value:"all",label:"All"}})})),it("verify for BhNotification for onRemove when state arrAfterRemovedObj has value ",(function(){var t=[{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"}],a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},e)));a.find("BhButtonTabs").props().onBhEventSelected({detail:{key:"recent",label:"Recent"}}),a.setState({arrAfterRemovedObj:t,removalFlag:!0}),a.instance().onRemove(t[0])})),it("verify for BhNotification for onRemove (Onclick of close Icon)",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1,removedId:["chart-comp--notification-1"]}),data:a}),o=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t)));o.setState({renderNotificationComp:s}),o.find("#panel--content").find(".closeIcon").first().prop("onClick")(),o.instance().onRemove(a.items[0])})),it("verify for BhNotification for getNotificationRow else scenario of item empty items ",(function(){var t=[{notificationGroup:"",notificationList:[{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"}]}],a=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},e)));a.find("BhButtonTabs").props().onBhEventSelected({detail:{key:"recent",label:"Recent"}}),a.setState({arrAfterRemovedObj:[{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload"}],removalFlag:!0}),a.instance().onTabSelect({detail:{key:"recent",label:"Recent"}}),a.instance().tabLoadData(t,"recent"),a.instance().getNotificationRow(t)})),it("verify for BhNotification for viewAll",(function(){window.parent.postMessage=jest.fn(),Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},e))).find("BhA").simulate("click"),expect(window.parent.postMessage).toBeCalled()})),it("verify for BhNotification for viewAll if scenario",(function(){var t=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1}),data:{isPartialResponse:!0,isNoResponse:!0,items:[]}});window.parent.postMessage=jest.fn(),Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},t))).find("BhA").simulate("click")})),it("verify for BhNotification for onBhEventClose",(function(){Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},e))).find("BhPanel").props().onBhEventClose(),expect(e.handleCustomEvent).toBeCalled()})),it("verify for BhNotification for getNotificationRow else scenario of item empty items ",(function(){var t=[{notificationGroup:"",notificationList:[{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload",category:"recent"},{id:"chart-comp--notification-100",title:"consectetur100",message:"consectetur100 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-25T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload",category:"recent"}]}],a=Object(i.a)(Object(i.a)({},e),{},{config:Object(i.a)(Object(i.a)({},e.config),{},{requestAdvNotification:!1,removedId:["chart-comp--notification-1"]})}),o=Object(n.mount)(Object(p.jsx)(c.default,Object(i.a)({},a)));o.find("BhButtonTabs").props().onBhEventSelected({detail:{key:"recent",label:"Recent"}}),o.setState({arrAfterRemovedObj:[{id:"chart-comp--notification-1",title:"consectetur1",message:"consectetur1 ornare placerat nisl. Vivamus etiam tempus aliquam porttitor.'",createdDateTime:"2022-10-20T14:38:06+05:30",createdBy:"Vijayakumar.Nandhini@bakerhughes.com",type:"System error",filterCriteria:"low",status:!1,profilePictureUrl:"<url-for-photo>",redirectAPI:"MicroappId/third party URL",navigationPaylaod:"Object/Array Containing payload",category:"recent"}],removalFlag:!0}),o.instance().onFilterMenu({detail:{value:"low",label:"Low"}}),o.instance().onTabSelect({detail:{key:"recent",label:"Recent"}}),o.instance().tabLoadData(t,"recent"),o.instance().getNotificationRow(t)}))}))},696:function(t,e){},714:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return c})),a.d(e,"e",(function(){return s})),a.d(e,"f",(function(){return l})),a.d(e,"g",(function(){return d})),a.d(e,"h",(function(){return p})),a.d(e,"i",(function(){return f})),a.d(e,"j",(function(){return u})),a.d(e,"k",(function(){return m})),a.d(e,"l",(function(){return b})),a.d(e,"m",(function(){return y}));var i=a(3),o=Object(i.a)("bh-a"),r=Object(i.a)("bh-action-menu"),n=Object(i.a)("bh-alert-item"),c=Object(i.a)("bh-avatar"),s=Object(i.a)("bh-button-tabs"),l=Object(i.a)("bh-divider"),d=Object(i.a)("bh-dropdown"),p=Object(i.a)("bh-icon"),f=Object(i.a)("bh-illustration"),u=Object(i.a)("bh-panel"),m=Object(i.a)("bh-search"),b=Object(i.a)("bh-spinner"),y=Object(i.a)("bh-status-indicator")},723:function(t,e,a){},724:function(t,e,a){"use strict";a.r(e);var i=a(92),o=a(46),r=a(17),n=a(12),c=a(26),s=a(36),l=a(0),d=a(93),p=a.n(d),f=a(756),u=a.n(f),m=(a(723),a(714)),b=a(4),y=function(t){Object(c.a)(a,t);var e=Object(s.a)(a);function a(t){var i;return Object(r.a)(this,a),(i=e.call(this,t)).getNotificationDataCall=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=i.restructureNotificationData(t);i.tabLoadData(e,i.state.activeTab.key)},i.restructureNotificationData=function(t){var e=p.a.orderBy(t,["createdDateTime"],["desc"]),a=u()();return e&&p.a.cloneDeep(e).map((function(t){t.category=p.a.isEmpty(t.category)?i.getCategoryTab(t.createdDateTime):t.category;var e=a.diff(t.createdDateTime,"days");if(0!==e)t.createdDateTime="".concat(e," days ago"),t.categoryGroup="".concat(e," days ago");else{var o=a.diff(t.createdDateTime,"hour");t.createdDateTime="".concat(o,"h ago"),t.categoryGroup="Today"}return t}))},i.getCategoryTab=function(t){var e=i.props.config&&i.props.config.timeSettings&&i.props.config.timeSettings.recent?i.props.config.timeSettings.recent:864e5;return new Date-new Date(t)<=e?"recent":"earlier"},i.tabLoadData=function(t){var e,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=i.state.selectedFilterValue,c=p.a.isEmpty(i.props.config.removedId)?[]:Object(o.a)(i.props.config.removedId),s=p.a.isEmpty(n)?i.props.config.filter&&i.props.config.filter.filterOptions?i.props.config.filter.filterOptions[0]:"":n,l=[];l=""!==r?p.a.filter(t,(function(t){return t.category===r})):t,a="all"!==s.value?p.a.isEmpty(c)?p.a.filter(l,(function(t){return t.filterCriteria===s.value})):p.a.filter(l,(function(t){return t.filterCriteria===s.value&&!p.a.includes(c,t.id)})):p.a.isEmpty(c)?l:p.a.filter(l,(function(t){return!p.a.includes(c,t.id)}));var d=p.a.groupBy(a,"categoryGroup"),f=Object.keys(d).map((function(t){return{notificationGroup:t,notificationList:d[t]}}));e=p.a.isEmpty(f)?Object(b.jsx)("div",{}):f.map((function(t){return i.getNotificationRow(t)})),i.setState({notificationData:f,renderNotificationComp:e})},i.onTabSelect=function(t){var e=!p.a.isEmpty(i.state.arrAfterRemovedObj)||i.state.removalFlag?i.state.arrAfterRemovedObj:i.state.cloneOriginalNotificationData,a=i.restructureNotificationData(e);i.tabLoadData(a,t.detail.key),i.setState({activeTab:t.detail})},i.onFilterMenu=function(t){var e,a=i.state.filterOptions,r=p.a.isEmpty(i.props.config.removedId)?[]:Object(o.a)(i.props.config.removedId),n=t.detail,c=a.map((function(t){return t.value===n.value?(t.selected=!0,t):(t.selected=!1,t)})),s=!p.a.isEmpty(i.state.arrAfterRemovedObj)||i.state.removalFlag?i.state.arrAfterRemovedObj:i.state.cloneOriginalNotificationData,l=i.restructureNotificationData(s);e="all"!==t.detail.value?p.a.isEmpty(r)?p.a.filter(l,(function(e){return e.filterCriteria===t.detail.value})):p.a.filter(l,(function(e){return e.filterCriteria===t.detail.value&&!p.a.includes(r,e.id)})):p.a.isEmpty(r)?l:p.a.filter(l,(function(t){return!p.a.includes(r,t.id)})),i.setState({filterOptions:c,selectedFilterValue:n}),i.tabLoadData(e,i.state.activeTab.key)},i.onRemove=function(t){var e=i.state,a=e.cloneOriginalNotificationData,r=e.arrAfterRemovedObj,n=e.activeTab,c=e.removalFlag,s=p.a.isEmpty(i.props.config.removedId)?[]:Object(o.a)(i.props.config.removedId);s.push(t.id);var l=!p.a.isEmpty(r)||c?r:a,d=p.a.filter(l,(function(t){return!p.a.isEmpty(s)&&!p.a.includes(s,t.id)})),f=i.restructureNotificationData(d);i.tabLoadData(f,n.key),i.setState({arrAfterRemovedObj:d,removalFlag:!0}),i.props.handleCustomEvent({type:"onCloseClick",removedId:s}),i.props.markNotificationRead(t,"onCloseClick")},i.getNotificationRow=function(t){var e=i.props.config,a=e.softDelete,o=e.updateErrorId,r=i.props.t;return""===t||""===t.notificationGroup||p.a.isEmpty(t.notificationList)?Object(b.jsx)("div",{}):Object(b.jsxs)("div",{className:"notif--group",children:[Object(b.jsx)("p",{className:"typography--label-small text-color-secondary notif--date",children:t.notificationGroup}),t.notificationList.map((function(t){var e=p.a.isEmpty(t.title)?"":t.title,n=p.a.isEmpty(t.message)?"":t.message,c=!p.a.isEmpty(t.createdDateTime)&&t.createdDateTime;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{id:t.id,className:"notif--container motion--normal",children:[Object(b.jsxs)("div",{className:"notif--status",children:[Object(b.jsx)("div",{className:"statusIndicator",children:!1===t.status&&Object(b.jsx)(m.m,{className:"notif--status-indicator",position:"standalone",theme:"accent",size:"xsmall"})}),Object(b.jsx)("div",{className:"notiTypeIcon",children:i.getIconBasedOnType(t)})]}),Object(b.jsxs)("div",{className:"notificationContent",onClick:function(){return i.props.markNotificationRead(t,"onContentClick")},children:[Object(b.jsx)("p",{className:"typography--body-small-semi-bold text-color-primary notif-title",children:e}),Object(b.jsx)("p",{className:"typography--body-small text-color-secondary notif--description",children:n}),Object(b.jsx)("p",{className:"typography--body-small text-color-secondary",children:c})]}),a&&Object(b.jsx)(m.h,{className:"closeIcon",icon:"close",size:"small",onClick:function(){return i.onRemove(t)}})]}),!p.a.isEmpty(o)&&o===t.id&&Object(b.jsx)("div",{className:"errorAlertItem",children:Object(b.jsx)(m.c,{type:"context",status:"critical",message:"<strong>".concat(r("InternalServerError"),".</strong> ").concat(r("ErrorForRead")),dismissible:"false"})}),Object(b.jsx)(m.f,{marginLeft:"medium",marginRight:"medium",marginTop:"none",marginBottom:"none"})]})}))]})},i.getIconBasedOnType=function(t){var e,a=p.a.isEmpty(t.type)?"":t.type;if("User generated"===a){var o=p.a.isEmpty(t.createdBy)?"":t.createdBy.split("@")[0].split("."),r=p.a.isEmpty(o)?"":o[1],n=p.a.isEmpty(o)?"":o[0];e=Object(b.jsx)(m.d,{type:"primary",size:"xsmall",image:"",false:!0,firstname:r,lastname:n})}else if(p.a.includes(a,"System"))e=Object(b.jsx)(m.h,{icon:"notification_important",color:i.getIconColor(a),size:"xsmall"});else{var c=i.props.config&&i.props.config.icons&&i.props.config.icons.iconOptions,s=p.a.find(c,(function(t){return t.value===a})),l=p.a.find(c,(function(t){return"default"===t.value})),d=p.a.isEmpty(s)?p.a.isEmpty(l)?{}:l:s,f=p.a.isEmpty(d)||p.a.isEmpty(d.iconName)?"":d.iconName,u=p.a.isEmpty(d)||p.a.isEmpty(d.color)?"primary":d.color;e=Object(b.jsx)(m.h,{icon:f,color:u,size:"xsmall"})}return e},i.getIconColor=function(t){return"System Warning"===t?"var(--color-fill-semantic-warning-default)":"System error"===t?"var(--color-fill-semantic-error-default)":"System Info"===t?"var(--color-fill-semantic-info-default)":""},i.onViewAllSelect=function(t){if(!i.props.data.isNoResponse){var e={navigationObject:p.a.get(t,"navigationObject",{})},a={state:{mode:p.a.get(e,"navigationObject.mode",""),detail:{payLoad:e.navigationObject}},appname:p.a.get(e,"navigationObject.appName","")};window.parent.postMessage(JSON.stringify({eventType:"navigation",payload:a}))}},i.getOtherScenariosScreens=function(){var t=i.props.config.notificationErrorScreen,e=i.props,a=e.data,o=e.t;return t?Object(b.jsxs)("div",{align:"center",className:"errorScreen",children:[Object(b.jsx)(m.i,{className:"serverError",source:"CouldNotComplete",title:"".concat(o("Error")," !"),description:o("InternalServerError")}),Object(b.jsxs)("div",{className:"errorContent",children:[Object(b.jsx)("p",{children:o("AdvanceNotifiErr1")}),Object(b.jsx)("p",{children:o("AdvanceNotifiErr2")})]})]}):a.isNoResponse?Object(b.jsx)("div",{align:"center",children:Object(b.jsx)(m.i,{className:"noYet",source:"EmptyBox",title:o("NoNotifiYet")})}):Object(b.jsx)("div",{align:"center",children:Object(b.jsx)(m.i,{className:"noRecent",source:"EmptyBox",title:o("NoRecentNotification")})})},i.state={tabList:[],activeTab:t.config.tabMenu&&t.config.tabs&&t.config.tabs.tabOptions?t.config.tabs.tabOptions.slice(0,3)[0]:t.config.tabMenu?{label:"Recent",key:"recent"}:{},filterOptions:[],selectedFilterValue:{},notificationData:[],renderNotificationComp:"",cloneOriginalNotificationData:[],arrAfterRemovedObj:[],removalFlag:!1},i}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.getNotificationDataCall(this.state.cloneOriginalNotificationData),this.setState({selectedFilterValue:this.props.config.filter&&this.props.config.filter.filterOptions?this.props.config.filter.filterOptions[0]:""})}},{key:"componentDidUpdate",value:function(t){if(!p.a.isEqual(t.data.items,this.props.data.items)||!p.a.isEqual(t.config.updateErrorId,this.props.config.updateErrorId)){var e=this.state.arrAfterRemovedObj,a=p.a.isEmpty(this.props.config.removedId)?[]:Object(o.a)(this.props.config.removedId),i=this.props.data&&this.props.data.items?this.props.data.items:[],r=p.a.filter(i,(function(t){return!p.a.isEmpty(a)&&!p.a.includes(a,t.id)})),n=p.a.isEmpty(r)?i:r,c=p.a.intersectionBy(i,e,"id");this.setState({arrAfterRemovedObj:c}),this.getNotificationDataCall(n)}}},{key:"render",value:function(){var t=this,e=this.state,a=e.tabList,o=e.filterOptions,r=e.renderNotificationComp,n=this.props.config,c=n.filter,s=n.tabMenu,l=n.viewAll,d=n.isOpen,f=n.requestAdvNotification,u=this.props,y=u.data,h=u.t,j=a.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{label:h("".concat(t.label))})}));return Object(b.jsx)("div",{id:"advanceNotification",children:Object(b.jsxs)(m.j,{slot:"bh-panel",width:"medium",header:h("Notifications"),id:"chart-comp--panel",isOpen:d,onBhEventClose:function(e){return t.props.handleCustomEvent(e)},children:[!p.a.isEmpty(l)&&Object(b.jsx)(m.a,{className:"notiViewAll typography--body-medium",type:"primary",text:h("ViewAll"),noUnderline:!0,href:"#",onClick:function(){return t.onViewAllSelect(l)},target:"_parent","left-icon":"visibility",disabled:!!y.isNoResponse}),Object(b.jsxs)("div",{className:"notif--header",children:[Object(b.jsx)("div",{className:s?"":"hideTab",children:s&&Object(b.jsx)(m.e,{className:"notificationTabs",small:!0,id:"notificationButtonTabs",onBhEventSelected:function(e){return t.onTabSelect(e)},items:JSON.stringify(j),activeKey:p.a.isEmpty(this.state.activeTab)?"":this.state.activeTab.key})}),Object(b.jsx)("div",{className:"notif--header-buttons",children:!p.a.isEmpty(c)&&Object(b.jsx)(m.b,{className:"notiActionMenu","menu-items":o,onBhEventSelected:function(e){return t.onFilterMenu(e)},selectedValue:p.a.isEmpty(this.state.selectedFilterValue)?"":this.state.selectedFilterValue.value,width:"small","icon-override":"more_vert",ellipsis:"true"})})]}),Object(b.jsx)("div",{id:"panel--content",children:f?Object(b.jsx)(m.l,{size:"large",className:"panelSpinner"}):p.a.isEmpty(y.items)?this.getOtherScenariosScreens():r})]})})}}],[{key:"getDerivedStateFromProps",value:function(t){return{cloneOriginalNotificationData:t.data.items,filterOptions:t.config.filter&&t.config.filter.filterOptions?t.config.filter.filterOptions:[],tabList:t.config.tabMenu&&t.config.tabs&&t.config.tabs.tabOptions?t.config.tabs.tabOptions.slice(0,3):t.config.tabMenu?[{label:"Recent",key:"recent"},{label:"Earlier",key:"earlier"}]:[]}}}]),a}(l.Component);e.default=y}}]);
//# sourceMappingURL=36.384ecd47.chunk.js.map