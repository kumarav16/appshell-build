/*! For license information please see 90.5e800391.chunk.js.LICENSE.txt */
(this["webpackJsonpapp-shell-client"]=this["webpackJsonpapp-shell-client"]||[]).push([[90],{1134:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return S}));var r=n(37),i=n(1075),o=n(40);function a(e,t,n,r){return a="undefined"!==typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var a,s=Object(i.a)(e,t);if(s){if((a=Object.getOwnPropertyDescriptor(s,t)).set)return a.set.call(r,n),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(r,t)){if(!a.writable)return!1;a.value=n,Object.defineProperty(r,t,a)}else Object(o.a)(r,t,n);return!0},a(e,t,n,r)}function s(e,t,n,r,i){if(!a(e,t,n,r||e)&&i)throw new TypeError("failed to set property");return n}var l,c,d,h,u,p,f=n(17),_=n(12),g=n(773),m=n(52),v=n(26),b=n(36),y=n(786),A=n(728),k=n(836);Object(A.B)("vaadin-checkbox",Object(A.m)(l||(l=Object(y.a)(["\n    :host {\n      -webkit-tap-highlight-color: transparent;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      user-select: none;\n      cursor: default;\n      outline: none;\n    }\n\n    [part='label']:not([empty]) {\n      margin: 0.1875em 0.875em 0.1875em 0.375em;\n    }\n\n    [part='checkbox'] {\n      width: calc(1em + 2px);\n      height: calc(1em + 2px);\n      margin: 0.1875em;\n      position: relative;\n      border-radius: var(--lumo-border-radius-s);\n      background-color: var(--lumo-contrast-20pct);\n      transition: transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2), background-color 0.15s;\n      pointer-events: none;\n      line-height: 1.2;\n    }\n\n    :host([indeterminate]) [part='checkbox'],\n    :host([checked]) [part='checkbox'] {\n      background-color: var(--lumo-primary-color);\n    }\n\n    /* Needed to align the checkbox nicely on the baseline */\n    [part='checkbox']::before {\n      content: '\\2003';\n    }\n\n    /* Checkmark */\n    [part='checkbox']::after {\n      content: '';\n      display: inline-block;\n      width: 0;\n      height: 0;\n      border: 0 solid var(--lumo-primary-contrast-color);\n      border-width: 0.1875em 0 0 0.1875em;\n      box-sizing: border-box;\n      transform-origin: 0 0;\n      position: absolute;\n      top: 0.8125em;\n      left: 0.5em;\n      transform: scale(0.55) rotate(-135deg);\n      opacity: 0;\n    }\n\n    :host([checked]) [part='checkbox']::after {\n      opacity: 1;\n      width: 0.625em;\n      height: 1.0625em;\n    }\n\n    /* Indeterminate checkmark */\n    :host([indeterminate]) [part='checkbox']::after {\n      transform: none;\n      opacity: 1;\n      top: 45%;\n      height: 10%;\n      left: 22%;\n      right: 22%;\n      width: auto;\n      border: 0;\n      background-color: var(--lumo-primary-contrast-color);\n      transition: opacity 0.25s;\n    }\n\n    /* Focus ring */\n    :host([focus-ring]) [part='checkbox'] {\n      box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);\n    }\n\n    /* Disabled */\n    :host([disabled]) {\n      pointer-events: none;\n      color: var(--lumo-disabled-text-color);\n    }\n\n    :host([disabled]) [part='label'] ::slotted(*) {\n      color: inherit;\n    }\n\n    :host([disabled]) [part='checkbox'] {\n      background-color: var(--lumo-contrast-10pct);\n    }\n\n    :host([disabled]) [part='checkbox']::after {\n      border-color: var(--lumo-contrast-30pct);\n    }\n\n    :host([indeterminate][disabled]) [part='checkbox']::after {\n      background-color: var(--lumo-contrast-30pct);\n    }\n\n    /* RTL specific styles */\n    :host([dir='rtl']) [part='label']:not([empty]) {\n      margin: 0.1875em 0.375em 0.1875em 0.875em;\n    }\n\n    /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */\n    :host(:hover) [part='checkbox']::after {\n      transition: width 0.1s, height 0.25s;\n    }\n\n    /* Used for activation \"halo\" */\n    [part='checkbox']::before {\n      color: transparent;\n      display: inline-block;\n      width: 100%;\n      height: 100%;\n      border-radius: inherit;\n      background-color: inherit;\n      transform: scale(1.4);\n      opacity: 0;\n      transition: transform 0.1s, opacity 0.8s;\n    }\n\n    /* Hover */\n    :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {\n      background-color: var(--lumo-contrast-30pct);\n    }\n\n    /* Disable hover for touch devices */\n    @media (pointer: coarse) {\n      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {\n        background-color: var(--lumo-contrast-20pct);\n      }\n    }\n\n    /* Active */\n    :host([active]) [part='checkbox'] {\n      transform: scale(0.9);\n      transition-duration: 0.05s;\n    }\n\n    :host([active][checked]) [part='checkbox'] {\n      transform: scale(1.1);\n    }\n\n    :host([active]:not([checked])) [part='checkbox']::before {\n      transition-duration: 0.01s, 0.01s;\n      transform: scale(0);\n      opacity: 0.4;\n    }\n  "],["\n    :host {\n      -webkit-tap-highlight-color: transparent;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      user-select: none;\n      cursor: default;\n      outline: none;\n    }\n\n    [part='label']:not([empty]) {\n      margin: 0.1875em 0.875em 0.1875em 0.375em;\n    }\n\n    [part='checkbox'] {\n      width: calc(1em + 2px);\n      height: calc(1em + 2px);\n      margin: 0.1875em;\n      position: relative;\n      border-radius: var(--lumo-border-radius-s);\n      background-color: var(--lumo-contrast-20pct);\n      transition: transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2), background-color 0.15s;\n      pointer-events: none;\n      line-height: 1.2;\n    }\n\n    :host([indeterminate]) [part='checkbox'],\n    :host([checked]) [part='checkbox'] {\n      background-color: var(--lumo-primary-color);\n    }\n\n    /* Needed to align the checkbox nicely on the baseline */\n    [part='checkbox']::before {\n      content: '\\\\2003';\n    }\n\n    /* Checkmark */\n    [part='checkbox']::after {\n      content: '';\n      display: inline-block;\n      width: 0;\n      height: 0;\n      border: 0 solid var(--lumo-primary-contrast-color);\n      border-width: 0.1875em 0 0 0.1875em;\n      box-sizing: border-box;\n      transform-origin: 0 0;\n      position: absolute;\n      top: 0.8125em;\n      left: 0.5em;\n      transform: scale(0.55) rotate(-135deg);\n      opacity: 0;\n    }\n\n    :host([checked]) [part='checkbox']::after {\n      opacity: 1;\n      width: 0.625em;\n      height: 1.0625em;\n    }\n\n    /* Indeterminate checkmark */\n    :host([indeterminate]) [part='checkbox']::after {\n      transform: none;\n      opacity: 1;\n      top: 45%;\n      height: 10%;\n      left: 22%;\n      right: 22%;\n      width: auto;\n      border: 0;\n      background-color: var(--lumo-primary-contrast-color);\n      transition: opacity 0.25s;\n    }\n\n    /* Focus ring */\n    :host([focus-ring]) [part='checkbox'] {\n      box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);\n    }\n\n    /* Disabled */\n    :host([disabled]) {\n      pointer-events: none;\n      color: var(--lumo-disabled-text-color);\n    }\n\n    :host([disabled]) [part='label'] ::slotted(*) {\n      color: inherit;\n    }\n\n    :host([disabled]) [part='checkbox'] {\n      background-color: var(--lumo-contrast-10pct);\n    }\n\n    :host([disabled]) [part='checkbox']::after {\n      border-color: var(--lumo-contrast-30pct);\n    }\n\n    :host([indeterminate][disabled]) [part='checkbox']::after {\n      background-color: var(--lumo-contrast-30pct);\n    }\n\n    /* RTL specific styles */\n    :host([dir='rtl']) [part='label']:not([empty]) {\n      margin: 0.1875em 0.375em 0.1875em 0.875em;\n    }\n\n    /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */\n    :host(:hover) [part='checkbox']::after {\n      transition: width 0.1s, height 0.25s;\n    }\n\n    /* Used for activation \"halo\" */\n    [part='checkbox']::before {\n      color: transparent;\n      display: inline-block;\n      width: 100%;\n      height: 100%;\n      border-radius: inherit;\n      background-color: inherit;\n      transform: scale(1.4);\n      opacity: 0;\n      transition: transform 0.1s, opacity 0.8s;\n    }\n\n    /* Hover */\n    :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {\n      background-color: var(--lumo-contrast-30pct);\n    }\n\n    /* Disable hover for touch devices */\n    @media (pointer: coarse) {\n      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {\n        background-color: var(--lumo-contrast-20pct);\n      }\n    }\n\n    /* Active */\n    :host([active]) [part='checkbox'] {\n      transform: scale(0.9);\n      transition-duration: 0.05s;\n    }\n\n    :host([active][checked]) [part='checkbox'] {\n      transform: scale(1.1);\n    }\n\n    :host([active]:not([checked])) [part='checkbox']::before {\n      transition-duration: 0.01s, 0.01s;\n      transform: scale(0);\n      opacity: 0.4;\n    }\n  "]))),{moduleId:"lumo-checkbox"});var x=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.call(this)}return Object(_.a)(n,[{key:"name",get:function(){return this.checked?this._storedName:""},set:function(e){this._storedName=e}},{key:"ready",value:function(){Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this),this.setAttribute("role","checkbox"),this._nativeCheckbox=this.shadowRoot.querySelector('input[type="checkbox"]'),this.addEventListener("click",this._handleClick.bind(this)),this._addActiveListeners();var e=this.getAttribute("name");e&&(this.name=e),this.shadowRoot.querySelector('[part~="label"]').querySelector("slot").addEventListener("slotchange",this._updateLabelAttribute.bind(this)),this._updateLabelAttribute()}},{key:"_updateLabelAttribute",value:function(){var e=this.shadowRoot.querySelector('[part~="label"]'),t=e.firstElementChild.assignedNodes();this._isAssignedNodesEmpty(t)?e.setAttribute("empty",""):e.removeAttribute("empty")}},{key:"_isAssignedNodesEmpty",value:function(e){return 0===e.length||1==e.length&&e[0].nodeType==Node.TEXT_NODE&&""===e[0].textContent.trim()}},{key:"_checkedChanged",value:function(e){this.indeterminate?this.setAttribute("aria-checked","mixed"):this.setAttribute("aria-checked",Boolean(e))}},{key:"_indeterminateChanged",value:function(e){e?this.setAttribute("aria-checked","mixed"):this.setAttribute("aria-checked",this.checked)}},{key:"_addActiveListeners",value:function(){var e=this;this._addEventListenerToNode(this,"down",(function(t){e.__interactionsAllowed(t)&&e.setAttribute("active","")})),this._addEventListenerToNode(this,"up",(function(){return e.removeAttribute("active")})),this.addEventListener("keydown",(function(t){e.__interactionsAllowed(t)&&32===t.keyCode&&(t.preventDefault(),e.setAttribute("active",""))})),this.addEventListener("keyup",(function(t){e.__interactionsAllowed(t)&&32===t.keyCode&&(t.preventDefault(),e._toggleChecked(),e.removeAttribute("active"),e.indeterminate&&(e.indeterminate=!1))}))}},{key:"focusElement",get:function(){return this.shadowRoot.querySelector("input")}},{key:"__interactionsAllowed",value:function(e){return!this.disabled&&"a"!==e.target.localName}},{key:"_handleClick",value:function(e){this.__interactionsAllowed(e)&&(this.indeterminate?(this.indeterminate=!1,e.preventDefault(),this._toggleChecked()):e.composedPath()[0]!==this._nativeCheckbox&&(e.preventDefault(),this._toggleChecked()))}},{key:"_toggleChecked",value:function(){this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change",{composed:!1,bubbles:!0}))}}],[{key:"template",get:function(){return Object(A.r)(c||(c=Object(y.a)(['\n      <style>\n        :host {\n          display: inline-block;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n\n        label {\n          display: inline-flex;\n          align-items: baseline;\n          outline: none;\n        }\n\n        [part=\'checkbox\'] {\n          position: relative;\n          display: inline-block;\n          flex: none;\n        }\n\n        input[type=\'checkbox\'] {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          width: 100%;\n          height: 100%;\n          opacity: 0;\n          cursor: inherit;\n          margin: 0;\n        }\n\n        :host([disabled]) {\n          -webkit-tap-highlight-color: transparent;\n        }\n      </style>\n\n      <label>\n        <span part="checkbox">\n          <input\n            type="checkbox"\n            checked="{{checked::change}}"\n            disabled$="[[disabled]]"\n            indeterminate="{{indeterminate::change}}"\n            role="presentation"\n            tabindex="-1"\n          />\n        </span>\n\n        <span part="label">\n          <slot></slot>\n        </span>\n      </label>\n    '])))}},{key:"is",get:function(){return"vaadin-checkbox"}},{key:"version",get:function(){return"3.0.0"}},{key:"properties",get:function(){return{checked:{type:Boolean,value:!1,notify:!0,observer:"_checkedChanged",reflectToAttribute:!0},indeterminate:{type:Boolean,notify:!0,observer:"_indeterminateChanged",reflectToAttribute:!0,value:!1},value:{type:String,value:"on"},_nativeCheckbox:{type:Object}}}}]),n}(Object(A.d)(Object(A.b)(Object(A.j)(Object(A.f)(A.i)))));customElements.define(x.is,x),Object(A.B)("vaadin-grid",Object(A.m)(d||(d=Object(y.a)(["\n    :host {\n      font-family: var(--lumo-font-family);\n      font-size: var(--lumo-font-size-m);\n      line-height: var(--lumo-line-height-s);\n      color: var(--lumo-body-text-color);\n      background-color: var(--lumo-base-color);\n      box-sizing: border-box;\n      -webkit-text-size-adjust: 100%;\n      -webkit-tap-highlight-color: transparent;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n\n      /* For internal use only */\n      --_lumo-grid-border-color: var(--lumo-contrast-20pct);\n      --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);\n      --_lumo-grid-border-width: 1px;\n      --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);\n    }\n\n    /* No (outer) border */\n\n    :host(:not([theme~='no-border'])) {\n      border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);\n    }\n\n    /* Cell styles */\n\n    [part~='cell'] {\n      min-height: var(--lumo-size-m);\n      background-color: var(--lumo-base-color);\n    }\n\n    [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      cursor: default;\n      padding: var(--lumo-space-xs) var(--lumo-space-m);\n    }\n\n    /* Apply row borders by default and introduce the \"no-row-borders\" variant */\n    :host(:not([theme~='no-row-borders'])) [part~='cell']:not([part~='details-cell']) {\n      border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Hide first body row top border */\n    :host(:not([theme~='no-row-borders'])) [part='row'][first] [part~='cell']:not([part~='details-cell']) {\n      border-top: 0;\n      min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));\n    }\n\n    /* Focus-ring */\n\n    [part~='cell']:focus {\n      outline: none;\n    }\n\n    :host([navigating]) [part~='cell']:focus::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n    }\n\n    /* Drag and Drop styles */\n    :host([dragover])::after {\n      content: '';\n      position: absolute;\n      z-index: 100;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n    }\n\n    [part~='row'][dragover] {\n      z-index: 100 !important;\n    }\n\n    [part~='row'][dragover] [part~='cell'] {\n      overflow: visible;\n    }\n\n    [part~='row'][dragover] [part~='cell']::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      height: calc(var(--_lumo-grid-border-width) + 2px);\n      pointer-events: none;\n      background: var(--lumo-primary-color-50pct);\n    }\n\n    :host([theme~='no-row-borders']) [dragover] [part~='cell']::after {\n      height: 2px;\n    }\n\n    [part~='row'][dragover='below'] [part~='cell']::after {\n      top: 100%;\n      bottom: auto;\n      margin-top: -1px;\n    }\n\n    [part~='row'][dragover='above'] [part~='cell']::after {\n      top: auto;\n      bottom: 100%;\n      margin-bottom: -1px;\n    }\n\n    [part~='row'][details-opened][dragover='below'] [part~='cell']:not([part~='details-cell'])::after,\n    [part~='row'][details-opened][dragover='above'] [part~='details-cell']::after {\n      display: none;\n    }\n\n    [part~='row'][dragover][dragover='on-top'] [part~='cell']::after {\n      height: 100%;\n    }\n\n    [part~='row'][dragstart] {\n      /* Add bottom-space to the row so the drag number doesn't get clipped. Needed for IE/Edge */\n      border-bottom: 100px solid transparent;\n      z-index: 100 !important;\n      opacity: 0.9;\n    }\n\n    [part~='row'][dragstart] [part~='cell'] {\n      border: none !important;\n      box-shadow: none !important;\n    }\n\n    [part~='row'][dragstart] [part~='cell'][last-column] {\n      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;\n    }\n\n    [part~='row'][dragstart] [part~='cell'][first-column] {\n      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);\n    }\n\n    [ios] [part~='row'][dragstart] [part~='cell'] {\n      background: var(--lumo-primary-color-50pct);\n    }\n\n    #scroller:not([ios]) [part~='row'][dragstart]:not([dragstart=''])::after {\n      display: block;\n      position: absolute;\n      left: var(--_grid-drag-start-x);\n      top: var(--_grid-drag-start-y);\n      z-index: 100;\n      content: attr(dragstart);\n      align-items: center;\n      justify-content: center;\n      box-sizing: border-box;\n      padding: calc(var(--lumo-space-xs) * 0.8);\n      color: var(--lumo-error-contrast-color);\n      background-color: var(--lumo-error-color);\n      border-radius: var(--lumo-border-radius-m);\n      font-family: var(--lumo-font-family);\n      font-size: var(--lumo-font-size-xxs);\n      line-height: 1;\n      font-weight: 500;\n      text-transform: initial;\n      letter-spacing: initial;\n      min-width: calc(var(--lumo-size-s) * 0.7);\n      text-align: center;\n    }\n\n    /* Headers and footers */\n\n    [part~='header-cell'] ::slotted(vaadin-grid-cell-content),\n    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content),\n    [part~='reorder-ghost'] {\n      font-size: var(--lumo-font-size-s);\n      font-weight: 500;\n    }\n\n    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content) {\n      font-weight: 400;\n    }\n\n    [part='row']:only-child [part~='header-cell'] {\n      min-height: var(--lumo-size-xl);\n    }\n\n    /* Header borders */\n\n    /* Hide first header row top border */\n    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='header-cell'] {\n      border-top: 0;\n    }\n\n    [part='row']:last-child [part~='header-cell'] {\n      border-bottom: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host(:not([theme~='no-row-borders'])) [part='row']:last-child [part~='header-cell'] {\n      border-bottom-color: var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Overflow uses a stronger border color */\n    :host([overflow~='top']) [part='row']:last-child [part~='header-cell'] {\n      border-bottom-color: var(--_lumo-grid-border-color);\n    }\n\n    /* Footer borders */\n\n    [part='row']:first-child [part~='footer-cell'] {\n      border-top: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='footer-cell'] {\n      border-top-color: var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Overflow uses a stronger border color */\n    :host([overflow~='bottom']) [part='row']:first-child [part~='footer-cell'] {\n      border-top-color: var(--_lumo-grid-border-color);\n    }\n\n    /* Column reordering */\n\n    :host([reordering]) [part~='cell'] {\n      background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);\n    }\n\n    :host([reordering]) [part~='cell'][reorder-status='allowed'] {\n      background: var(--lumo-base-color);\n    }\n\n    :host([reordering]) [part~='cell'][reorder-status='dragging'] {\n      background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);\n    }\n\n    [part~='reorder-ghost'] {\n      opacity: 0.85;\n      box-shadow: var(--lumo-box-shadow-s);\n      /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */\n      padding: var(--lumo-space-s) var(--lumo-space-m) !important;\n    }\n\n    /* Column resizing */\n\n    [part='resize-handle'] {\n      width: 3px;\n      background-color: var(--lumo-primary-color-50pct);\n      opacity: 0;\n      transition: opacity 0.2s;\n    }\n\n    :host(:not([reordering])) *:not([column-resizing]) [part~='cell']:hover [part='resize-handle'],\n    [part='resize-handle']:active {\n      opacity: 1;\n      transition-delay: 0.15s;\n    }\n\n    /* Column borders */\n\n    :host([theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {\n      border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Frozen columns */\n\n    [last-frozen] {\n      border-right: var(--_lumo-grid-border-width) solid transparent;\n      overflow: hidden;\n    }\n\n    :host([overflow~='left']) [part~='cell'][last-frozen]:not([part~='details-cell']) {\n      border-right-color: var(--_lumo-grid-border-color);\n    }\n\n    /* Row stripes */\n\n    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='body-cell'],\n    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='details-cell'] {\n      background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));\n      background-repeat: repeat-x;\n    }\n\n    /* Selected row */\n\n    /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */\n    :host(:not([reordering])) [part~='row'][selected] {\n      z-index: 1;\n    }\n\n    :host(:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {\n      background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));\n      background-repeat: repeat;\n    }\n\n    /* Cover the border of an unselected row */\n    :host(:not([theme~='no-row-borders'])) [part~='row'][selected] [part~='cell']:not([part~='details-cell']) {\n      box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);\n    }\n\n    /* Compact */\n\n    :host([theme~='compact']) [part='row']:only-child [part~='header-cell'] {\n      min-height: var(--lumo-size-m);\n    }\n\n    :host([theme~='compact']) [part~='cell'] {\n      min-height: var(--lumo-size-s);\n    }\n\n    :host([theme~='compact']) [part='row'][first] [part~='cell']:not([part~='details-cell']) {\n      min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));\n    }\n\n    :host([theme~='compact']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      padding: var(--lumo-space-xs) var(--lumo-space-s);\n    }\n\n    /* Wrap cell contents */\n\n    :host([theme~='wrap-cell-content']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      white-space: normal;\n    }\n\n    /* RTL specific styles */\n\n    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][last-column] {\n      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);\n    }\n\n    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][first-column] {\n      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;\n    }\n\n    :host([dir='rtl'][theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {\n      border-right: none;\n      border-left: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n    }\n\n    :host([dir='rtl']) [last-frozen] {\n      border-right: none;\n      border-left: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host([dir='rtl'][overflow~='right']) [part~='cell'][last-frozen]:not([part~='details-cell']) {\n      border-left-color: var(--_lumo-grid-border-color);\n    }\n  "]))),{moduleId:"lumo-grid"}),Object(A.B)("vaadin-checkbox",Object(A.m)(h||(h=Object(y.a)(["\n    :host(.vaadin-grid-select-all-checkbox) {\n      font-size: var(--lumo-font-size-m);\n    }\n  "]))),{moduleId:"vaadin-grid-select-all-checkbox-lumo"});var w=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),C=w&&w[1]>=8,O=Object(A.n)({behaviors:[A.g,k.a],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedVirtualIndex:-1,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return this._physicalSize-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){return Math.max(0,this._virtualCount-this._physicalCount)},set _virtualStart(e){e=this._clamp(e,0,this._maxVirtualStart),this._virtualStartVal=e},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(e){(e%=this._physicalCount)<0&&(e=this._physicalCount+e),this._physicalStartVal=e},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(e){this._physicalCountVal=e},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return Boolean(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var e=this._firstVisibleIndexVal;if(null==e){var t=this._physicalTop+this._scrollOffset;e=this._iterateItems((function(e,n){if((t+=this._physicalSizes[e])>this._scrollPosition)return n}))||0,this._firstVisibleIndexVal=e}return e},get lastVisibleIndex(){var e=this._lastVisibleIndexVal;if(null==e){var t=this._physicalTop+this._scrollOffset;this._iterateItems((function(n,r){t<this._scrollBottom&&(e=r),t+=this._physicalSizes[n]})),this._lastVisibleIndexVal=e}return e},get _scrollOffset(){return this._scrollerPaddingTop},attached:function(){this._debounce("_render",this._render,A.o),this.listen(this,"iron-resize","_resizeHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler")},updateViewportBoundaries:function(){var e=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(e["padding-top"],10),this._isRTL=Boolean("rtl"===e.direction),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight},_scrollHandler:function(){var e=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),t=e-this._scrollPosition,n=t>=0;if(this._scrollPosition=e,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(t)>this._physicalSize&&this._physicalSize>0){t-=this._scrollOffset;var r=Math.round(t/this._physicalAverage);this._virtualStart=this._virtualStart+r,this._physicalStart=this._physicalStart+r,this._physicalTop=Math.floor(this._virtualStart)*this._physicalAverage,this._update()}else if(this._physicalCount>0){var i=this._getReusables(n),o=i.physicalTop,a=i.indexes;n?(this._physicalTop=o,this._virtualStart=this._virtualStart+a.length,this._physicalStart=this._physicalStart+a.length):(this._virtualStart=this._virtualStart-a.length,this._physicalStart=this._physicalStart-a.length),this._update(a,n?null:a),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),A.w)}},_getReusables:function(e){var t,n,r,i=[],o=this._hiddenContentSize*this._ratio,a=this._virtualStart,s=this._virtualEnd,l=this._physicalCount,c=this._physicalTop+this._scrollOffset,d=this._physicalBottom+this._scrollOffset,h=this._scrollTop,u=this._scrollBottom;for(e?(t=this._physicalStart,n=h-c):(t=this._physicalEnd,n=d-u);n-=r=this._physicalSizes[t],!(i.length>=l||n<=o);)if(e){if(s+i.length+1>=this._virtualCount)break;if(c+r>=h-this._scrollOffset)break;i.push(t),c+=r,t=(t+1)%l}else{if(a-i.length<=0)break;if(c+this._physicalSize-r<=u)break;i.push(t),c-=r,t=0===t?l-1:t-1}return{indexes:i,physicalTop:c-this._scrollOffset}},_update:function(e,t){if(!(e&&0===e.length||0===this._physicalCount)){if(this._assignModels(e),this._updateMetrics(e),t)for(;t.length;){var n=t.pop();this._physicalTop-=this._physicalSizes[n]}this._positionItems(),this._updateScrollerSize()}},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(e){var t=this._clamp(this._physicalCount+e,3,this._virtualCount-this._virtualStart)-this._physicalCount,n=Math.round(.5*this._physicalCount);if(!(t<0)){if(t>0){var r=window.performance.now();[].push.apply(this._physicalItems,this._createPool(t));for(var i=0;i<t;i++)this._physicalSizes.push(0);this._physicalCount=this._physicalCount+t,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+t),this._update(),this._templateCost=(window.performance.now()-r)/t,n=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===n||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,n)),A.s):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,n),A.w))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var e=this._getReusables(!0),t=e.physicalTop,n=e.indexes;this._physicalTop=t,this._virtualStart=this._virtualStart+n.length,this._physicalStart=this._physicalStart+n.length,this._update(n),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_itemsChanged:function(e){"items"===e.path&&(this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._debounce("_render",this._render,A.o))},_iterateItems:function(e,t){var n,r,i,o;if(2===arguments.length&&t){for(o=0;o<t.length;o++)if(n=t[o],r=this._computeVidx(n),null!=(i=e.call(this,n,r)))return i}else{for(n=this._physicalStart,r=this._virtualStart;n<this._physicalCount;n++,r++)if(null!=(i=e.call(this,n,r)))return i;for(n=0;n<this._physicalStart;n++,r++)if(null!=(i=e.call(this,n,r)))return i}},_computeVidx:function(e){return e>=this._physicalStart?this._virtualStart+(e-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+e},_updateMetrics:function(e){Object(A.p)();var t=0,n=0,r=this._physicalAverageCount,i=this._physicalAverage;this._iterateItems((function(e){n+=this._physicalSizes[e],this._physicalSizes[e]=this._physicalItems[e].offsetHeight,t+=this._physicalSizes[e],this._physicalAverageCount+=this._physicalSizes[e]?1:0}),e),this._physicalSize=this._physicalSize+t-n,this._physicalAverageCount!==r&&(this._physicalAverage=Math.round((i*r+t)/this._physicalAverageCount))},_positionItems:function(){this._adjustScrollPosition();var e=this._physicalTop;this._iterateItems((function(t){this.translate3d(0,e+"px",0,this._physicalItems[t]),e+=this._physicalSizes[t]}))},_adjustScrollPosition:function(){var e=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==e){this._physicalTop=this._physicalTop-e;var t=this._scrollTop;!C&&t>0&&this._resetScrollPosition(t-e)}},_resetScrollPosition:function(e){this.scrollTarget&&e>=0&&(this._scrollTop=e,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(e){this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,((e=(e=e||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToIndex:function(e){if(!("number"!==typeof e||e<0||e>this.items.length-1)&&(Object(A.p)(),0!==this._physicalCount)){e=this._clamp(e,0,this._virtualCount-1),(!this._isIndexRendered(e)||e>=this._maxVirtualStart)&&(this._virtualStart=e-1),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart)*this._physicalAverage;for(var t=this._physicalStart,n=this._virtualStart,r=0,i=this._hiddenContentSize;n<e&&r<=i;)r+=this._physicalSizes[t],t=(t+1)%this._physicalCount,n++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+r),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",(function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this.updateViewportBoundaries(),this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)}),A.o)},_isIndexRendered:function(e){return e>=this._virtualStart&&e<=this._virtualEnd},_getPhysicalIndex:function(e){return(this._physicalStart+(e-this._virtualStart))%this._physicalCount},_clamp:function(e,t,n){return Math.min(n,Math.max(t,e))},_debounce:function(e,t,n){this._debouncers=this._debouncers||{},this._debouncers[e]=A.c.debounce(this._debouncers[e],n,t.bind(this)),Object(A.q)(this._debouncers[e])}}),I=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"connectedCallback",value:function(){Object(g.a)(Object(m.a)(n.prototype),"connectedCallback",this).call(this),this._scrollHandler()}},{key:"_updateScrollerItem",value:function(){}},{key:"_afterScroll",value:function(){}},{key:"_getRowTarget",value:function(){}},{key:"_createScrollerRows",value:function(){}},{key:"_canPopulate",value:function(){}},{key:"scrollToIndex",value:function(e){var t=this;this._warnPrivateAPIAccess("scrollToIndex"),this._scrollingToIndex=!0,e=Math.min(Math.max(e,0),this._effectiveSize-1),this.$.table.scrollTop=e/this._effectiveSize*(this.$.table.scrollHeight-this.$.table.offsetHeight),this._scrollHandler(),this._accessIronListAPI((function(){return t._maxScrollTop}))&&this._virtualCount<this._effectiveSize&&this._adjustVirtualIndexOffset(1e6),this._accessIronListAPI((function(){return Object(g.a)(Object(m.a)(n.prototype),"scrollToIndex",t).call(t,e-t._vidxOffset)})),this._scrollHandler();var r=Array.from(this.$.items.children).filter((function(t){return t.index===e}))[0];if(r){var i=r.getBoundingClientRect().top-this.$.header.getBoundingClientRect().bottom;Math.abs(i)>1&&(this.$.table.scrollTop+=i,this._scrollHandler())}this._scrollingToIndex=!1}},{key:"_effectiveSizeChanged",value:function(e){var t,r=this,i=0;if(this._iterateItems((function(e,n){if(n===r._firstVisibleIndex){var o=r._physicalItems[e];t=o.index,i=o.getBoundingClientRect().top}})),this.items&&e<this.items.length&&(this._scrollTop=0),!Array.isArray(this.items)){this.items={length:Math.min(e,1e5)}}this._accessIronListAPI((function(){return Object(g.a)(Object(m.a)(n.prototype),"_itemsChanged",r).call(r,{path:"items"})})),this._virtualCount=Math.min(this.items.length,e)||0,0===this._scrollTop&&(this._accessIronListAPI((function(){return r._scrollToIndex(Math.min(e-1,t))})),this._iterateItems((function(e){var n=r._physicalItems[e];if(n.index===t&&(r.$.table.scrollTop+=Math.round(n.getBoundingClientRect().top-i)),n.index===r._focusedItemIndex&&r._itemsFocusable&&r.$.items.contains(r.shadowRoot.activeElement)){var o=Array.from(r._itemsFocusable.parentElement.children).indexOf(r._itemsFocusable);n.children[o].focus()}}))),this._assignModels(),requestAnimationFrame((function(){return r._update()})),this.__updateFooterPositioning()}},{key:"_positionItems",value:function(){var e,t=this;this._adjustScrollPosition(),isNaN(this._physicalTop)&&(e=!0,this._physicalTop=0);var n=this._physicalTop;this._iterateItems((function(e){t._physicalItems[e].style.transform="translateY(".concat(n,"px)"),n+=t._physicalSizes[e]})),e&&this._scrollToIndex(0)}},{key:"_increasePoolIfNeeded",value:function(e){var t=this;0===e&&this._scrollingToIndex||!this._canPopulate()||!this._effectiveSize||(this._initialPoolCreated?this._optPhysicalSize!==1/0&&(this._debounceIncreasePool=A.c.debounce(this._debounceIncreasePool,A.o,(function(){t._updateMetrics();var e=t._optPhysicalSize-t._physicalSize,r=Math.ceil(e/t._physicalAverage);t._physicalCount+r>t._effectiveSize&&(r=Math.max(0,t._effectiveSize-t._physicalCount)),t._physicalSize&&r>0&&t._optPhysicalSize!==1/0&&(Object(g.a)(Object(m.a)(n.prototype),"_increasePoolIfNeeded",t).call(t,r),t.__reorderChildNodes())}))):(this._initialPoolCreated=!0,Object(g.a)(Object(m.a)(n.prototype),"_increasePoolIfNeeded",this).call(this,25)))}},{key:"__reorderChildNodes",value:function(){var e=this,t=Array.from(this.$.items.childNodes);!!t.reduce((function(e,t,n,r){if(0===n||r[n-1].index===t.index-1)return e}),!0)||t.sort((function(e,t){return e.index-t.index})).forEach((function(t){return e.$.items.appendChild(t)}))}},{key:"_createPool",value:function(e){var t=this,n=document.createDocumentFragment(),r=this._createScrollerRows(e);r.forEach((function(e){return n.appendChild(e)})),this._getRowTarget().appendChild(n);var i=this.querySelector("[slot]");if(i){var o=i.getAttribute("slot");i.setAttribute("slot","foo-bar"),i.setAttribute("slot",o)}return Object(A.t)(this,(function(){return t.notifyResize()})),r}},{key:"_assignModels",value:function(e){var t=this;this._iterateItems((function(e,n){var r=t._physicalItems[e];t._toggleAttribute("hidden",n>=t._effectiveSize,r),t._updateScrollerItem(r,n+(t._vidxOffset||0))}),e)}},{key:"_scrollHandler",value:function(){var e=this,t=this.$.table.scrollTop-this._scrollPosition;this._accessIronListAPI(Object(g.a)(Object(m.a)(n.prototype),"_scrollHandler",this));var r=this._vidxOffset;this._accessIronListAPI((function(){return e._maxScrollTop}))&&this._virtualCount<this._effectiveSize?this._adjustVirtualIndexOffset(t):this._vidxOffset=0,this._vidxOffset!==r&&this._update(),this._afterScroll()}},{key:"_adjustVirtualIndexOffset",value:function(e){if(Math.abs(e)>1e4){if(this._noScale)return void(this._noScale=!1);var t=this.$.table.scrollTop/(this.$.table.scrollHeight-this.$.table.offsetHeight),r=t*this._effectiveSize;this._vidxOffset=Math.round(r-t*this._virtualCount)}else{var i=this._vidxOffset||0;0===this._scrollTop?(this._vidxOffset=0,i!==this._vidxOffset&&Object(g.a)(Object(m.a)(n.prototype),"scrollToIndex",this).call(this,0)):this.firstVisibleIndex<1e3&&this._vidxOffset>0&&(this._vidxOffset-=Math.min(this._vidxOffset,100),i!==this._vidxOffset&&Object(g.a)(Object(m.a)(n.prototype),"scrollToIndex",this).call(this,this.firstVisibleIndex+(i-this._vidxOffset)),this._noScale=!0);var o=this._effectiveSize-this._virtualCount;this._scrollTop>=this._maxScrollTop&&this._maxScrollTop>0?(this._vidxOffset=o,i!==this._vidxOffset&&Object(g.a)(Object(m.a)(n.prototype),"scrollToIndex",this).call(this,this._virtualCount)):this.firstVisibleIndex>this._virtualCount-1e3&&this._vidxOffset<o&&(this._vidxOffset+=Math.min(o-this._vidxOffset,100),i!==this._vidxOffset&&Object(g.a)(Object(m.a)(n.prototype),"scrollToIndex",this).call(this,this.firstVisibleIndex-(this._vidxOffset-i)),this._noScale=!0)}}},{key:"_accessIronListAPI",value:function(e){var t=this;this._warnPrivateAPIAccessAsyncEnabled=!1;var n=e.apply(this);return this._debouncerWarnPrivateAPIAccess=A.c.debounce(this._debouncerWarnPrivateAPIAccess,A.o,(function(){return t._warnPrivateAPIAccessAsyncEnabled=!0})),n}},{key:"_debounceRender",value:function(e,t){var r=this;Object(g.a)(Object(m.a)(n.prototype),"_debounceRender",this).call(this,(function(){return r._accessIronListAPI(e)}),t)}},{key:"_warnPrivateAPIAccess",value:function(e){this._warnPrivateAPIAccessAsyncEnabled&&console.warn("Accessing private API (".concat(e,")!"))}},{key:"_render",value:function(){this._accessIronListAPI(Object(g.a)(Object(m.a)(n.prototype),"_render",this))}},{key:"_itemsChanged",value:function(){}},{key:"_firstVisibleIndex",get:function(){var e=this;return this._accessIronListAPI((function(){return Object(g.a)(Object(m.a)(n.prototype),"firstVisibleIndex",e)}))}},{key:"_lastVisibleIndex",get:function(){var e=this;return this._accessIronListAPI((function(){return Object(g.a)(Object(m.a)(n.prototype),"lastVisibleIndex",e)}))}},{key:"_scrollToIndex",value:function(e){var t=this;this._accessIronListAPI((function(){return t.scrollToIndex(e)}))}},{key:"firstVisibleIndex",get:function(){return this._warnPrivateAPIAccess("firstVisibleIndex"),Object(g.a)(Object(m.a)(n.prototype),"firstVisibleIndex",this)},set:function(e){this._warnPrivateAPIAccess("firstVisibleIndex"),s(Object(m.a)(n.prototype),"firstVisibleIndex",e,this,!0)}},{key:"lastVisibleIndex",get:function(){return this._warnPrivateAPIAccess("lastVisibleIndex"),Object(g.a)(Object(m.a)(n.prototype),"lastVisibleIndex",this)},set:function(e){this._warnPrivateAPIAccess("lastVisibleIndex"),s(Object(m.a)(n.prototype),"lastVisibleIndex",e,this,!0)}},{key:"updateViewportBoundaries",value:function(){this._warnPrivateAPIAccess("updateViewportBoundaries"),Object(g.a)(Object(m.a)(n.prototype),"updateViewportBoundaries",this).apply(this,arguments)}},{key:"_resizeHandler",value:function(){Object(g.a)(Object(m.a)(n.prototype),"_resizeHandler",this).call(this),Object(A.p)()}}],[{key:"properties",get:function(){return{size:{type:Number,notify:!0},_vidxOffset:{type:Number,value:0}}}},{key:"observers",get:function(){return["_effectiveSizeChanged(_effectiveSize)"]}}]),n}(O),S=function(e){if(!e.parentNode)return!1;var t=-1!==Array.from(e.parentNode.querySelectorAll("[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]")).filter((function(e){return"cell body-cell"!==e.getAttribute("part")})).indexOf(e);return!e.disabled&&t},T=function(){function e(t,n,r){Object(f.a)(this,e),this.grid=t,this.parentCache=n,this.parentItem=r,this.itemCaches={},this.items={},this.effectiveSize=0,this.size=0,this.pendingRequests={}}return Object(_.a)(e,[{key:"isLoading",value:function(){var e=this;return Boolean(Object.keys(this.pendingRequests).length||Object.keys(this.itemCaches).filter((function(t){return e.itemCaches[t].isLoading()}))[0])}},{key:"getItemForIndex",value:function(e){var t=this.getCacheAndIndex(e),n=t.cache,r=t.scaledIndex;return n.items[r]}},{key:"updateSize",value:function(){var e=this;this.effectiveSize=!this.parentItem||this.grid._isExpanded(this.parentItem)?this.size+Object.keys(this.itemCaches).reduce((function(t,n){var r=e.itemCaches[n];return r.updateSize(),t+r.effectiveSize}),0):0}},{key:"ensureSubCacheForScaledIndex",value:function(t){if(!this.itemCaches[t]){var n=new e(this.grid,this,this.items[t]);this.itemCaches[t]=n,this.grid._loadPage(0,n)}}},{key:"getCacheAndIndex",value:function(e){for(var t=e,n=Object.keys(this.itemCaches),r=0;r<n.length;r++){var i=Number(n[r]),o=this.itemCaches[i];if(t<=i)return{cache:this,scaledIndex:t};if(t<=i+o.effectiveSize)return o.getCacheAndIndex(t-i-1);t-=o.effectiveSize}return{cache:this,scaledIndex:t}}}]),e}(),E=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this))._instanceProps={detailsOpened:!0,index:!0,item:!0,selected:!0,expanded:!0,level:!0},e}return Object(_.a)(n,[{key:"createInstance",value:function(){this._ensureTemplatized();var e=new this._TemplateClass({});return this.addInstance(e),e}},{key:"addInstance",value:function(e){var t=this;-1===this._templateInstances.indexOf(e)&&(this._templateInstances.push(e),requestAnimationFrame((function(){return t.notifyPath("_templateInstances.*",t._templateInstances)})))}},{key:"removeInstance",value:function(e){var t=this._templateInstances.indexOf(e);this.splice("_templateInstances",t,1)}},{key:"_ensureTemplatized",value:function(){this._TemplateClass||(this._TemplateClass=Object(A.u)(this.template,this,{instanceProps:this._instanceProps,parentModel:!0,forwardHostProp:function(e,t){this._forwardParentProp(e,t),this._templateInstances&&this._templateInstances.forEach((function(n){return n.notifyPath(e,t)}))},notifyInstanceProp:function(e,t,n){var r=this;if("index"!==t&&"item"!==t){var i="__".concat(t,"__");if(e[i]!==n){e[i]=n;var o=Array.from(this._grid.$.items.children).filter((function(t){return r._grid._itemsEqual(t._item,e.item)}))[0];o&&Array.from(o.children).forEach((function(e){e._instance&&(e._instance[i]=n,e._instance.notifyPath(t,n))}));var a="item.";if(Array.isArray(this._grid.items)&&0===t.indexOf(a)){var s=this._grid.items.indexOf(e.item),l=t.slice(a.length);this._grid.notifyPath("items.".concat(s,".").concat(l),n)}var c="_".concat(t,"InstanceChangedCallback");this._grid&&this._grid[c]&&this._grid[c](e,n)}}}}))}},{key:"_forwardParentProp",value:function(e,t){this._parentPathValues[e]=t,this._templateInstances.forEach((function(n){return n.notifyPath(e,t)}))}},{key:"_templateInstancesChanged",value:function(e){var t,n,r=this;if("_templateInstances"===e.path)t=0,n=this._templateInstances.length;else{if("_templateInstances.splices"!==e.path)return;t=e.value.index,n=e.value.addedCount}Object.keys(this._parentPathValues||{}).forEach((function(e){for(var i=t;i<t+n;i++)r._templateInstances[i].set(e,r._parentPathValues[e])}))}}],[{key:"is",get:function(){return"vaadin-grid-templatizer"}},{key:"properties",get:function(){return{dataHost:Object,template:Object,_templateInstances:{type:Array,value:function(){return[]}},_parentPathValues:{value:function(){return{}}},_grid:Object}}},{key:"observers",get:function(){return["_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)"]}}]),n}(A.i);customElements.define(E.is,E);var z=500,j=500,P="between",R="on-top-or-between",D="on-grid",F="on-top",L="above",H="below",$="empty",N=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,null,[{key:"is",get:function(){return"vaadin-grid-column"}},{key:"properties",get:function(){return{width:{type:String,value:"100px"},flexGrow:{type:Number,value:1},renderer:Function,path:{type:String},autoWidth:{type:Boolean,value:!1},_bodyTemplate:{type:Object},_cells:Array}}}]),n}(function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this))._templateObserver=new A.e(Object(r.a)(e),(function(){e._headerTemplate=e._prepareHeaderTemplate(),e._footerTemplate=e._prepareFooterTemplate(),e._bodyTemplate=e._prepareBodyTemplate()})),e}return Object(_.a)(n,[{key:"connectedCallback",value:function(){var e=this;Object(g.a)(Object(m.a)(n.prototype),"connectedCallback",this).call(this),this._bodyTemplate&&(this._bodyTemplate.templatizer._grid=this._grid),this._headerTemplate&&(this._headerTemplate.templatizer._grid=this._grid),this._footerTemplate&&(this._footerTemplate.templatizer._grid=this._grid),this._templateObserver.flush(),this._bodyTemplate||this._templateObserver.callback(),requestAnimationFrame((function(){e._allCells.forEach((function(t){t._content.parentNode||e._grid&&e._grid.appendChild(t._content)}))}))}},{key:"disconnectedCallback",value:function(){var e=this;Object(g.a)(Object(m.a)(n.prototype),"disconnectedCallback",this).call(this),requestAnimationFrame((function(){e._findHostGrid()||e._allCells.forEach((function(e){e._content.parentNode&&e._content.parentNode.removeChild(e._content)}))})),this._gridValue=void 0}},{key:"_findHostGrid",value:function(){for(var e=this;e&&!/^vaadin.*grid(-pro)?$/.test(e.localName);)e=e.assignedSlot?e.assignedSlot.parentNode:e.parentNode;return e||void 0}},{key:"_grid",get:function(){return this._gridValue||(this._gridValue=this._findHostGrid()),this._gridValue}},{key:"_allCells",get:function(){return[].concat(this._cells||[]).concat(this._emptyCells||[]).concat(this._headerCell).concat(this._footerCell).filter((function(e){return e}))}},{key:"_prepareHeaderTemplate",value:function(){return this._prepareTemplatizer(this._findTemplate(!0)||null,{})}},{key:"_prepareFooterTemplate",value:function(){return this._prepareTemplatizer(this._findTemplate(!1,!0)||null,{})}},{key:"_prepareBodyTemplate",value:function(){return this._prepareTemplatizer(this._findTemplate()||null)}},{key:"_prepareTemplatizer",value:function(e,t){if(e&&!e.templatizer){var n=new E;n._grid=this._grid,n.dataHost=this.dataHost,n._instanceProps=t||n._instanceProps,n.template=e,e.templatizer=n}return e}},{key:"_renderHeaderAndFooter",value:function(){this.headerRenderer&&this._headerCell&&this.__runRenderer(this.headerRenderer,this._headerCell),this.footerRenderer&&this._footerCell&&this.__runRenderer(this.footerRenderer,this._footerCell)}},{key:"__runRenderer",value:function(e,t,n){var r=[t._content,this];n&&n.item&&r.push(n),e.apply(this,r)}},{key:"__setColumnTemplateOrRenderer",value:function(e,t,n){var r=this;if(!this.hidden){if(e&&t)throw new Error("You should only use either a renderer or a template");n.forEach((function(n){var i=r._grid.__getRowModel(n.parentElement);if(t)n._renderer=t,(i.item||t===r.headerRenderer||t===r.footerRenderer)&&r.__runRenderer(t,n,i);else if(n._template!==e){n._template=e,n._content.innerHTML="",e.templatizer._grid=e.templatizer._grid||r._grid;var o=e.templatizer.createInstance();n._content.appendChild(o.root),n._instance=o,i.item&&n._instance.setProperties(i)}}))}}},{key:"_setBodyTemplateOrRenderer",value:function(e,t,n){(e||t)&&n&&this.__setColumnTemplateOrRenderer(e,t,n)}},{key:"_setHeaderTemplateOrRenderer",value:function(e,t,n){(e||t)&&n&&this.__setColumnTemplateOrRenderer(e,t,[n])}},{key:"_setFooterTemplateOrRenderer",value:function(e,t,n){(e||t)&&n&&(this.__setColumnTemplateOrRenderer(e,t,[n]),this._grid.__updateHeaderFooterRowVisibility(n.parentElement))}},{key:"_selectFirstTemplate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return A.e.getFlattenedNodes(this).filter((function(n){return"template"===n.localName&&n.classList.contains("header")===e&&n.classList.contains("footer")===t}))[0]}},{key:"_findTemplate",value:function(e,t){var n=this._selectFirstTemplate(e,t);return n&&this.dataHost&&(n._rootDataHost=this.dataHost._rootDataHost||this.dataHost),n}},{key:"_flexGrowChanged",value:function(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("flexGrow"),this._allCells.forEach((function(t){return t.style.flexGrow=e}))}},{key:"_orderChanged",value:function(e){this._allCells.forEach((function(t){return t.style.order=e}))}},{key:"_widthChanged",value:function(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("width"),this._allCells.forEach((function(t){return t.style.width=e})),this._grid&&this._grid.__forceReflow&&this._grid.__forceReflow()}},{key:"_frozenChanged",value:function(e){var t=this;this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("frozen",e),this._allCells.forEach((function(n){return t._toggleAttribute("frozen",e,n)})),this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}},{key:"_lastFrozenChanged",value:function(e){var t=this;this._allCells.forEach((function(n){return t._toggleAttribute("last-frozen",e,n)})),this.parentElement&&this.parentElement._columnPropChanged&&(this.parentElement._lastFrozen=e)}},{key:"_pathOrHeaderChanged",value:function(e,t,n,r,i,o,a,s,l){var c=this,d=void 0!==t;!a&&!l&&d&&n&&this.__setTextContent(n._content,t),e&&i.value&&(o||s||this.__setColumnTemplateOrRenderer(void 0,(function(t,n,r){var i=r.item;return c.__setTextContent(t,c.get(e,i))}),i.value),a||l||d||!n||null===t||this.__setTextContent(n._content,this._generateHeader(e))),n&&this._grid.__updateHeaderFooterRowVisibility(n.parentElement)}},{key:"__setTextContent",value:function(e,t){e.textContent!==t&&(e.textContent=t)}},{key:"_generateHeader",value:function(e){return e.substr(e.lastIndexOf(".")+1).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/-/g," ").replace(/^./,(function(e){return e.toUpperCase()}))}},{key:"_toggleAttribute",value:function(e,t,n){n.hasAttribute(e)===!t&&(t?n.setAttribute(e,""):n.removeAttribute(e))}},{key:"_reorderStatusChanged",value:function(e){this._allCells.forEach((function(t){return t.setAttribute("reorder-status",e)}))}},{key:"_resizableChanged",value:function(e,t){void 0!==e&&void 0!==t&&t&&[t].concat(this._emptyCells).forEach((function(t){if(t){var n=t.querySelector('[part~="resize-handle"]');if(n&&t.removeChild(n),e){var r=document.createElement("div");r.setAttribute("part","resize-handle"),t.appendChild(r)}}}))}},{key:"_textAlignChanged",value:function(e){var t;void 0!==e&&(-1!==["start","end","center"].indexOf(e)?("ltr"===getComputedStyle(this._grid).direction?"start"===e?t="left":"end"===e&&(t="right"):"start"===e?t="right":"end"===e&&(t="left"),this._allCells.forEach((function(n){n._content.style.textAlign=e,getComputedStyle(n._content).textAlign!==e&&(n._content.style.textAlign=t)}))):console.warn('textAlign can only be set as "start", "end" or "center"'))}},{key:"_hiddenChanged",value:function(e){var t=this;this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("hidden",e),!!e!==!!this._previousHidden&&this._grid&&(!0===e&&this._allCells.forEach((function(e){e._content.parentNode&&e._content.parentNode.removeChild(e._content)})),this._grid._debouncerHiddenChanged=A.c.debounce(this._grid._debouncerHiddenChanged,A.o,(function(){t._grid&&t._grid._renderColumnTree&&t._grid._renderColumnTree(t._grid._columnTree)})),this._grid._updateLastFrozen&&this._grid._updateLastFrozen(),this._grid.notifyResize&&this._grid.notifyResize(),this._grid._resetKeyboardNavigation&&this._grid._resetKeyboardNavigation()),this._previousHidden=e}}],[{key:"properties",get:function(){return{resizable:{type:Boolean,value:function(){if("vaadin-grid-column-group"!==this.localName){var e=this.parentNode;return e&&"vaadin-grid-column-group"===e.localName&&e.resizable||!1}}},_headerTemplate:{type:Object},_footerTemplate:{type:Object},frozen:{type:Boolean,value:!1},hidden:{type:Boolean},header:{type:String},textAlign:{type:String},_lastFrozen:{type:Boolean,value:!1},_order:Number,_reorderStatus:Boolean,_emptyCells:Array,_headerCell:Object,_footerCell:Object,_grid:Object,headerRenderer:Function,footerRenderer:Function}}},{key:"observers",get:function(){return["_widthChanged(width, _headerCell, _footerCell, _cells.*)","_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)","_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)","_pathOrHeaderChanged(path, header, _headerCell, _footerCell, _cells.*, renderer, headerRenderer, _bodyTemplate, _headerTemplate)","_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)","_orderChanged(_order, _headerCell, _footerCell, _cells.*)","_lastFrozenChanged(_lastFrozen)","_setBodyTemplateOrRenderer(_bodyTemplate, renderer, _cells, _cells.*)","_setHeaderTemplateOrRenderer(_headerTemplate, headerRenderer, _headerCell)","_setFooterTemplateOrRenderer(_footerTemplate, footerRenderer, _footerCell)","_resizableChanged(resizable, _headerCell)","_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)","_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)"]}}]),n}(Object(A.v)(A.i)));customElements.define(N.is,N),Object(A.B)("vaadin-grid",Object(A.m)(u||(u=Object(y.a)(["\n    @keyframes vaadin-grid-appear {\n      to {\n        opacity: 1;\n      }\n    }\n\n    :host {\n      display: block;\n      animation: 1ms vaadin-grid-appear;\n      height: 400px;\n      flex: 1 1 auto;\n      align-self: stretch;\n      position: relative;\n    }\n\n    :host([hidden]) {\n      display: none !important;\n    }\n\n    #scroller {\n      display: block;\n      transform: translateY(0);\n      width: auto;\n      height: auto;\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n\n    :host([height-by-rows]) {\n      height: auto;\n      align-self: flex-start;\n      flex-grow: 0;\n      width: 100%;\n    }\n\n    :host([height-by-rows]) #scroller {\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    #table {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      height: 100%;\n      overflow: auto;\n      position: relative;\n      outline: none;\n      /* Workaround for a Desktop Safari bug: new stacking context here prevents the scrollbar from getting hidden */\n      z-index: 0;\n    }\n\n    #header,\n    #footer {\n      display: block;\n      position: -webkit-sticky;\n      position: sticky;\n      left: 0;\n      overflow: visible;\n      width: 100%;\n      z-index: 1;\n    }\n\n    #header {\n      top: 0;\n    }\n\n    th {\n      text-align: inherit;\n    }\n\n    /* Safari doesn't work with \"inherit\" */\n    [safari] th {\n      text-align: initial;\n    }\n\n    #footer {\n      bottom: 0;\n    }\n\n    #items {\n      flex-grow: 1;\n      flex-shrink: 0;\n      display: block;\n      position: -webkit-sticky;\n      position: sticky;\n      width: 100%;\n      left: 0;\n      overflow: visible;\n    }\n\n    [part~='row'] {\n      display: flex;\n      width: 100%;\n      box-sizing: border-box;\n      margin: 0;\n    }\n\n    [part~='row'][loading] [part~='body-cell'] ::slotted(vaadin-grid-cell-content) {\n      opacity: 0;\n    }\n\n    #items [part~='row'] {\n      position: absolute;\n    }\n\n    #items [part~='row']:empty {\n      height: 1em;\n    }\n\n    [part~='cell']:not([part~='details-cell']) {\n      flex-shrink: 0;\n      flex-grow: 1;\n      box-sizing: border-box;\n      display: flex;\n      width: 100%;\n      position: relative;\n      align-items: center;\n      padding: 0;\n      white-space: nowrap;\n    }\n\n    [part~='details-cell'] {\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      box-sizing: border-box;\n      padding: 0;\n    }\n\n    [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      display: block;\n      width: 100%;\n      box-sizing: border-box;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    [hidden] {\n      display: none !important;\n    }\n\n    [frozen] {\n      z-index: 2;\n      will-change: transform;\n    }\n\n    [no-scrollbars][safari] #table,\n    [no-scrollbars][firefox] #table {\n      overflow: hidden;\n    }\n\n    /* Reordering styles */\n    :host([reordering]) [part~='cell'] ::slotted(vaadin-grid-cell-content),\n    :host([reordering]) [part~='resize-handle'],\n    #scroller[no-content-pointer-events] [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      pointer-events: none;\n    }\n\n    [part~='reorder-ghost'] {\n      visibility: hidden;\n      position: fixed;\n      pointer-events: none;\n      opacity: 0.5;\n\n      /* Prevent overflowing the grid in Firefox */\n      top: 0;\n      left: 0;\n    }\n\n    :host([reordering]) {\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    /* Resizing styles */\n    [part~='resize-handle'] {\n      position: absolute;\n      top: 0;\n      right: 0;\n      height: 100%;\n      cursor: col-resize;\n      z-index: 1;\n    }\n\n    [part~='resize-handle']::before {\n      position: absolute;\n      content: '';\n      height: 100%;\n      width: 35px;\n      transform: translateX(-50%);\n    }\n\n    [last-column] [part~='resize-handle']::before,\n    [last-frozen] [part~='resize-handle']::before {\n      width: 18px;\n      transform: none;\n      right: 0;\n    }\n\n    #scroller[column-resizing] {\n      -ms-user-select: none;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    /* Sizer styles */\n    #sizer {\n      display: flex;\n      position: absolute;\n      visibility: hidden;\n    }\n\n    #sizer [part~='details-cell'] {\n      display: none !important;\n    }\n\n    #sizer [part~='cell'][hidden] {\n      display: none !important;\n    }\n\n    #sizer [part~='cell'] {\n      display: block;\n      flex-shrink: 0;\n      line-height: 0;\n      height: 0 !important;\n      min-height: 0 !important;\n      max-height: 0 !important;\n      padding: 0 !important;\n      border: none !important;\n    }\n\n    #sizer [part~='cell']::before {\n      content: '-';\n    }\n\n    #sizer [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      display: none !important;\n    }\n\n    /* RTL specific styles */\n\n    :host([dir='rtl']) #items,\n    :host([dir='rtl']) #header,\n    :host([dir='rtl']) #footer {\n      left: auto;\n    }\n\n    :host([dir='rtl']) [part~='reorder-ghost'] {\n      left: auto;\n      right: 0;\n    }\n\n    :host([dir='rtl']) [part~='resize-handle'] {\n      left: 0;\n      right: auto;\n    }\n\n    :host([dir='rtl']) [part~='resize-handle']::before {\n      transform: translateX(50%);\n    }\n\n    :host([dir='rtl']) [last-column] [part~='resize-handle']::before,\n    :host([dir='rtl']) [last-frozen] [part~='resize-handle']::before {\n      left: 0;\n      right: auto;\n    }\n  "]))),{moduleId:"vaadin-grid-styles"});var M=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}(),B=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this)).addEventListener("animationend",e._onAnimationEnd),e}return Object(_.a)(n,[{key:"connectedCallback",value:function(){Object(g.a)(Object(m.a)(n.prototype),"connectedCallback",this).call(this),this.recalculateColumnWidths()}},{key:"attributeChangedCallback",value:function(e,t,r){Object(g.a)(Object(m.a)(n.prototype),"attributeChangedCallback",this).call(this,e,t,r),"dir"===e&&(this.__isRTL="rtl"===r,this._updateScrollerMeasurements())}},{key:"__hasRowsWithClientHeight",value:function(){return!!Array.from(this.$.items.children).filter((function(e){return e.clientHeight})).length}},{key:"__itemsReceived",value:function(){this._recalculateColumnWidthOnceLoadingFinished&&!this._cache.isLoading()&&this.__hasRowsWithClientHeight()&&(this._recalculateColumnWidthOnceLoadingFinished=!1,this.recalculateColumnWidths())}},{key:"_recalculateColumnWidths",value:function(e){e.forEach((function(e){e.width="auto",e._origFlexGrow=e.flexGrow,e.flexGrow=0})),e.forEach((function(e){e._currentWidth=0,e._allCells.forEach((function(t){var n=t.offsetWidth+1;e._currentWidth=Math.max(e._currentWidth,n)}))})),e.forEach((function(e){e.width="".concat(e._currentWidth,"px"),e.flexGrow=e._origFlexGrow,e._currentWidth=void 0,e._origFlexGrow=void 0}))}},{key:"recalculateColumnWidths",value:function(){if(this._columnTree)if(this._cache.isLoading())this._recalculateColumnWidthOnceLoadingFinished=!0;else{var e=this._getColumns().filter((function(e){return!e.hidden&&e.autoWidth}));this._recalculateColumnWidths(e)}}},{key:"_createScrollerRows",value:function(e){for(var t=this,n=[],r=0;r<e;r++){var i=document.createElement("tr");i.setAttribute("part","row"),i.setAttribute("role","row"),this._columnTree&&this._updateRow(i,this._columnTree[this._columnTree.length-1],"body",!1,!0),n.push(i)}return this._columnTree&&this._columnTree[this._columnTree.length-1].forEach((function(e){return e.isConnected&&e.notifyPath&&e.notifyPath("_cells.*",e._cells)})),Object(A.x)(this,(function(){t._updateFirstAndLastColumn(),t._resetKeyboardNavigation()})),n}},{key:"_getRowTarget",value:function(){return this.$.items}},{key:"_createCell",value:function(e){var t=this,n="vaadin-grid-cell-content-"+(this._contentIndex=this._contentIndex+1||0),r=document.createElement("vaadin-grid-cell-content");r.setAttribute("slot",n);var i=document.createElement(e);i.id=n.replace("-content-","-"),i.setAttribute("tabindex","-1"),i.setAttribute("role","td"===e?"gridcell":"columnheader");var o=document.createElement("slot");return o.setAttribute("name",n),i.appendChild(o),i._content=r,r.addEventListener("mousedown",(function(){if(window.chrome){document.addEventListener("mouseup",(function e(){r.contains(t.getRootNode().activeElement)||i.focus(),document.removeEventListener("mouseup",e,!0)}),!0)}else setTimeout((function(){r.contains(t.getRootNode().activeElement)||i.focus()}))})),i}},{key:"_updateRow",value:function(e,t,n,r,i){var o=this;n=n||"body";var a=document.createDocumentFragment();Array.from(e.children).forEach((function(e){return e._vacant=!0})),e.innerHTML="","sizer"!==e.id&&(e.hidden=!0),t.filter((function(e){return!e.hidden})).forEach((function(t,s,l){var c;if("body"===n){if(t._cells=t._cells||[],(c=t._cells.filter((function(e){return e._vacant}))[0])||(c=o._createCell("td"),t._cells.push(c)),c.setAttribute("part","cell body-cell"),e.appendChild(c),s===l.length-1&&(o._rowDetailsTemplate||o.rowDetailsRenderer)){o._detailsCells=o._detailsCells||[];var d=o._detailsCells.filter((function(e){return e._vacant}))[0]||o._createCell("td");-1===o._detailsCells.indexOf(d)&&o._detailsCells.push(d),d._content.parentElement||a.appendChild(d._content),o._configureDetailsCell(d),e.appendChild(d),o._a11ySetRowDetailsCell(e,d),d._vacant=!1}t.notifyPath&&!i&&t.notifyPath("_cells.*",t._cells)}else{var h="header"===n?"th":"td";r||"vaadin-grid-column-group"===t.localName?((c=t["_".concat(n,"Cell")]||o._createCell(h))._column=t,e.appendChild(c),t["_".concat(n,"Cell")]=c):(t._emptyCells=t._emptyCells||[],(c=t._emptyCells.filter((function(e){return e._vacant}))[0]||o._createCell(h))._column=t,e.appendChild(c),-1===t._emptyCells.indexOf(c)&&t._emptyCells.push(c)),c.setAttribute("part","cell ".concat(n,"-cell")),o.__updateHeaderFooterRowVisibility(e)}c._content.parentElement||a.appendChild(c._content),c._vacant=!1,c._column=t})),this.appendChild(a),this._frozenCellsChanged(),this._updateFirstAndLastColumnForRow(e)}},{key:"__updateHeaderFooterRowVisibility",value:function(e){var t=this;if(e){var n=Array.from(e.children).filter((function(n){var r=n._column;if(r._emptyCells&&r._emptyCells.indexOf(n)>-1)return!1;if(e.parentElement===t.$.header){if(r.headerRenderer||r._headerTemplate)return!0;if(null===r.header)return!1;if(r.path||void 0!==r.header)return!0}else if(r.footerRenderer||r._footerTemplate)return!0}));e.hidden!==!n.length&&(e.hidden=!n.length,this.notifyResize())}}},{key:"_updateScrollerItem",value:function(e,t){this._preventScrollerRotatingCellFocus(e,t),this._columnTree&&(this._toggleAttribute("first",0===t,e),this._toggleAttribute("odd",t%2,e),this._a11yUpdateRowRowindex(e,t),this._getItem(t,e))}},{key:"_columnTreeChanged",value:function(e){this._renderColumnTree(e),this.recalculateColumnWidths()}},{key:"_renderColumnTree",value:function(e){var t=this;for(Array.from(this.$.items.children).forEach((function(n){return t._updateRow(n,e[e.length-1],null,!1,!0)}));this.$.header.children.length<e.length;){var n=document.createElement("tr");n.setAttribute("part","row"),n.setAttribute("role","row"),this.$.header.appendChild(n);var r=document.createElement("tr");r.setAttribute("part","row"),r.setAttribute("role","row"),this.$.footer.appendChild(r)}for(;this.$.header.children.length>e.length;)this.$.header.removeChild(this.$.header.firstElementChild),this.$.footer.removeChild(this.$.footer.firstElementChild);Array.from(this.$.header.children).forEach((function(n,r){return t._updateRow(n,e[r],"header",r===e.length-1)})),Array.from(this.$.footer.children).forEach((function(n,r){return t._updateRow(n,e[e.length-1-r],"footer",0===r)})),this._updateRow(this.$.sizer,e[e.length-1]),this._resizeHandler(),this._frozenCellsChanged(),this._updateFirstAndLastColumn(),this._resetKeyboardNavigation(),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows(),this.__updateFooterPositioning()}},{key:"__updateFooterPositioning",value:function(){var e=this;(this._firefox&&(this.$.items.style.paddingBottom=0,this.heightByRows||(this.$.items.style.paddingBottom="".concat(this.$.footer.offsetHeight,"px"))),this._ios)&&(!window.CSS.supports("position","sticky")&&(this.$.table.style.height="",this.$.table.style.minHeight="100%",this.$.table.style.maxHeight="100%",setTimeout((function(){return e.$.table.style.height="".concat(e.$.scroller.offsetHeight,"px")}))))}},{key:"_updateItem",value:function(e,t){var n=this;e._item=t;var r=this.__getRowModel(e);this._toggleAttribute("selected",r.selected,e),this._a11yUpdateRowSelected(e,r.selected),this._a11yUpdateRowLevel(e,r.level),this._toggleAttribute("expanded",r.expanded,e),this._toggleAttribute("details-opened",this._isDetailsOpened(t),e),(this._rowDetailsTemplate||this.rowDetailsRenderer)&&this._toggleDetailsCell(e,t),this._generateCellClassNames(e,r),this._filterDragAndDrop(e,r),Array.from(e.children).forEach((function(e){if(e._renderer){var t=e._column||n;e._renderer.call(t,e._content,t,r)}else e._instance&&(e._instance.__detailsOpened__=r.detailsOpened,e._instance.__selected__=r.selected,e._instance.__level__=r.level,e._instance.__expanded__=r.expanded,e._instance.setProperties(r))})),this._debouncerUpdateHeights=A.c.debounce(this._debouncerUpdateHeights,A.D.after(1),(function(){n._updateMetrics(),n._positionItems(),n._updateScrollerSize()}))}},{key:"_resizeHandler",value:function(){this._updateDetailsCellHeights(),this._accessIronListAPI(Object(g.a)(Object(m.a)(n.prototype),"_resizeHandler",this),!0),this._updateScrollerMeasurements(),this.__updateFooterPositioning()}},{key:"_onAnimationEnd",value:function(e){var t=this;0===e.animationName.indexOf("vaadin-grid-appear")&&(this._render(),e.stopPropagation(),this.notifyResize(),this.__itemsReceived(),requestAnimationFrame((function(){t.__scrollToPendingIndex(),t.$.table.style.webkitOverflowScrolling="touch"})))}},{key:"_toggleAttribute",value:function(e,t,n){n.hasAttribute(e)===!t&&(t?n.setAttribute(e,""):n.removeAttribute(e))}},{key:"__getRowModel",value:function(e){return{index:e.index,item:e._item,level:this._getIndexLevel(e.index),expanded:this._isExpanded(e._item),selected:this._isSelected(e._item),detailsOpened:!(!this._rowDetailsTemplate&&!this.rowDetailsRenderer)&&this._isDetailsOpened(e._item)}}},{key:"render",value:function(){this._columnTree&&(this._columnTree.forEach((function(e){e.forEach((function(e){return e._renderHeaderAndFooter()}))})),this._update())}},{key:"notifyResize",value:function(){Object(g.a)(Object(m.a)(n.prototype),"notifyResize",this).call(this)}},{key:"_heightByRowsChanged",value:function(e,t){(e||t)&&this.notifyResize()}},{key:"__forceReflow",value:function(){var e=this;this._debouncerForceReflow=A.c.debounce(this._debouncerForceReflow,A.o,(function(){e.$.scroller.style.overflow="hidden",setTimeout((function(){return e.$.scroller.style.overflow=""}))}))}}],[{key:"template",get:function(){return Object(A.r)(p||(p=Object(y.a)(['\n      <div\n        id="scroller"\n        safari$="[[_safari]]"\n        ios$="[[_ios]]"\n        loading$="[[loading]]"\n        column-reordering-allowed$="[[columnReorderingAllowed]]"\n      >\n        <table id="table" role="grid" aria-multiselectable="true" tabindex="0">\n          <caption id="sizer" part="row"></caption>\n          <thead id="header" role="rowgroup"></thead>\n          <tbody id="items" role="rowgroup"></tbody>\n          <tfoot id="footer" role="rowgroup"></tfoot>\n        </table>\n\n        <div part="reorder-ghost"></div>\n      </div>\n\n      <div id="focusexit" tabindex="0"></div>\n    '])))}},{key:"is",get:function(){return"vaadin-grid"}},{key:"version",get:function(){return"6.0.2"}},{key:"observers",get:function(){return["_columnTreeChanged(_columnTree, _columnTree.*)"]}},{key:"properties",get:function(){return{_safari:{type:Boolean,value:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},_ios:{type:Boolean,value:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},_firefox:{type:Boolean,value:navigator.userAgent.toLowerCase().indexOf("firefox")>-1},_android:{type:Boolean,value:/android/i.test(navigator.userAgent)},_touchDevice:{type:Boolean,value:M},heightByRows:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_heightByRowsChanged"},_recalculateColumnWidthOnceLoadingFinished:{type:Boolean,value:!0}}}}]),n}(Object(A.d)(Object(A.j)(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"_sizeChanged",value:function(e){var t=e-this._cache.size;this._cache.size+=t,this._cache.effectiveSize+=t,this._effectiveSize=this._cache.effectiveSize,this._increasePoolIfNeeded(0),this._debounceIncreasePool&&this._debounceIncreasePool.flush()}},{key:"_getItem",value:function(e,t){if(!(e>=this._effectiveSize)){t.index=e;var n=this._cache.getCacheAndIndex(e),r=n.cache,i=n.scaledIndex,o=r.items[i];o?(this._toggleAttribute("loading",!1,t),this._updateItem(t,o),this._isExpanded(o)&&r.ensureSubCacheForScaledIndex(i)):(this._toggleAttribute("loading",!0,t),this._loadPage(this._getPageForIndex(i),r))}}},{key:"_expandedInstanceChangedCallback",value:function(e,t){void 0!==e.item&&(t?this.expandItem(e.item):this.collapseItem(e.item))}},{key:"getItemId",value:function(e){return this.itemIdPath?this.get(this.itemIdPath,e):e}},{key:"_isExpanded",value:function(e){return this.__expandedKeys.has(this.getItemId(e))}},{key:"_expandedItemsChanged",value:function(){this.__cacheExpandedKeys(),this._cache.updateSize(),this._effectiveSize=this._cache.effectiveSize,this._assignModels()}},{key:"_itemIdPathChanged",value:function(){this.__cacheExpandedKeys()}},{key:"__cacheExpandedKeys",value:function(){var e=this;this.expandedItems&&(this.__expandedKeys=new Set,this.expandedItems.forEach((function(t){e.__expandedKeys.add(e.getItemId(t))})))}},{key:"expandItem",value:function(e){this._isExpanded(e)||this.push("expandedItems",e)}},{key:"collapseItem",value:function(e){this._isExpanded(e)&&this.splice("expandedItems",this._getItemIndexInArray(e,this.expandedItems),1)}},{key:"_getIndexLevel",value:function(e){for(var t=this._cache.getCacheAndIndex(e).cache,n=0;t.parentCache;)t=t.parentCache,n++;return n}},{key:"_canPopulate",value:function(){return Boolean(this._hasData&&this._columnTree)}},{key:"_loadPage",value:function(e,t){var n=this;if(!t.pendingRequests[e]&&this.dataProvider){this._setLoading(!0),t.pendingRequests[e]=!0;var r={page:e,pageSize:this.pageSize,sortOrders:this._mapSorters(),filters:this._mapFilters(),parentItem:t.parentItem};this._debounceIncreasePool&&this._debounceIncreasePool.flush(),this.dataProvider(r,(function(i,o){void 0!==o?t.size=o:r.parentItem&&(t.size=i.length);var a=Array.from(n.$.items.children).map((function(e){return e._item}));i.forEach((function(r,i){var o=e*n.pageSize+i;t.items[o]=r,n._isExpanded(r)&&a.indexOf(r)>-1&&t.ensureSubCacheForScaledIndex(o)})),n._hasData=!0,delete t.pendingRequests[e],n._debouncerApplyCachedData=A.c.debounce(n._debouncerApplyCachedData,A.D.after(0),(function(){n._setLoading(!1),n._cache.updateSize(),n._effectiveSize=n._cache.effectiveSize,Array.from(n.$.items.children).filter((function(e){return!e.hidden})).forEach((function(e){n._cache.getItemForIndex(e.index)&&n._getItem(e.index,e)})),n._increasePoolIfNeeded(0),n.__scrollToPendingIndex()})),n._cache.isLoading()||n._debouncerApplyCachedData.flush(),n.__itemsReceived()}))}}},{key:"_getPageForIndex",value:function(e){return Math.floor(e/this.pageSize)}},{key:"clearCache",value:function(){this._cache=new T(this),Array.from(this.$.items.children).forEach((function(e){Array.from(e.children).forEach((function(e){e._instance&&e._instance._setPendingProperty("item",{},!1)}))})),this._cache.size=this.size||0,this._cache.updateSize(),this._hasData=!1,this._assignModels(),this._effectiveSize&&this._initialPoolCreated||this._loadPage(0,this._cache)}},{key:"_pageSizeChanged",value:function(e,t){void 0!==t&&e!==t&&this.clearCache()}},{key:"_checkSize",value:function(){void 0===this.size&&0===this._effectiveSize&&console.warn("The <vaadin-grid> needs the total number of items in order to display rows. Set the total number of items to the `size` property, or provide the total number of items in the second argument of the `dataProvider`\u2019s `callback` call.")}},{key:"_dataProviderChanged",value:function(e,t){void 0!==t&&this.clearCache(),e&&this.items&&this.items.length&&this._scrollToIndex(this._firstVisibleIndex),this._ensureFirstPageLoaded(),this._debouncerCheckSize=A.c.debounce(this._debouncerCheckSize,A.D.after(2e3),this._checkSize.bind(this)),this._scrollHandler()}},{key:"_ensureFirstPageLoaded",value:function(){this._hasData||this._loadPage(0,this._cache)}},{key:"_itemsEqual",value:function(e,t){return this.getItemId(e)===this.getItemId(t)}},{key:"_getItemIndexInArray",value:function(e,t){var n=this,r=-1;return t.forEach((function(t,i){n._itemsEqual(t,e)&&(r=i)})),r}},{key:"scrollToIndex",value:function(e){Object(g.a)(Object(m.a)(n.prototype),"scrollToIndex",this).call(this,e),isNaN(e)||!this._cache.isLoading()&&this.clientHeight||(this.__pendingScrollToIndex=e)}},{key:"__scrollToPendingIndex",value:function(){if(this.__pendingScrollToIndex&&this.$.items.children.length){var e=this.__pendingScrollToIndex;delete this.__pendingScrollToIndex,this._debounceIncreasePool&&this._debounceIncreasePool.flush(),this.scrollToIndex(e)}}}],[{key:"properties",get:function(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},dataProvider:{type:Object,notify:!0,observer:"_dataProviderChanged"},loading:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0},_cache:{type:Object,value:function(){return new T(this)}},itemIdPath:{type:String,value:null},expandedItems:{type:Object,notify:!0,value:function(){return[]}}}}},{key:"observers",get:function(){return["_sizeChanged(size)","_itemIdPathChanged(itemIdPath)","_expandedItemsChanged(expandedItems.*)"]}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"_itemsChanged",value:function(e,t,n){if(n){if(!Array.isArray(e))return void 0!==e&&null!==e||(this.size=0),void(this.dataProvider===this._arrayDataProvider&&(this.dataProvider=void 0));this.size=e.length,this.dataProvider=this.dataProvider||this._arrayDataProvider,this.clearCache(),this._ensureFirstPageLoaded()}}},{key:"_arrayDataProvider",value:function(e,t){var n=(Array.isArray(this.items)?this.items:[]).slice(0);this._filters&&this._checkPaths(this._filters,"filtering",n)&&(n=this._filter(n)),this.size=n.length,e.sortOrders.length&&this._checkPaths(this._sorters,"sorting",n)&&(n=n.sort(this._multiSort.bind(this)));var r=e.page*e.pageSize,i=r+e.pageSize;t(n.slice(r,i),n.length)}},{key:"_checkPaths",value:function(e,t,n){if(!n.length)return!1;var r=!0;for(var i in e){var o=e[i].path;if(o&&-1!==o.indexOf(".")){var a=o.replace(/\.[^.]*$/,"");void 0===A.a.get(a,n[0])&&(console.warn('Path "'.concat(o,'" used for ').concat(t," does not exist in all of the items, ").concat(t," is disabled.")),r=!1)}}return r}},{key:"_multiSort",value:function(e,t){var n=this;return this._sorters.map((function(r){return"asc"===r.direction?n._compare(A.a.get(r.path,e),A.a.get(r.path,t)):"desc"===r.direction?n._compare(A.a.get(r.path,t),A.a.get(r.path,e)):0})).reduce((function(e,t){return e||t}),0)}},{key:"_normalizeEmptyValue",value:function(e){return[void 0,null].indexOf(e)>=0?"":isNaN(e)?e.toString():e}},{key:"_compare",value:function(e,t){return(e=this._normalizeEmptyValue(e))<(t=this._normalizeEmptyValue(t))?-1:e>t?1:0}},{key:"_filter",value:function(e){var t=this;return e.filter((function(e){return 0===t._filters.filter((function(n){var r=t._normalizeEmptyValue(A.a.get(n.path,e)),i=t._normalizeEmptyValue(n.value).toString().toLowerCase();return-1===r.toString().toLowerCase().indexOf(i)})).length}))}}],[{key:"properties",get:function(){return{items:Array}}},{key:"observers",get:function(){return["_itemsChanged(items, items.*, isAttached)"]}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"ready",value:function(){Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this),this._addNodeObserver()}},{key:"_hasColumnGroups",value:function(e){for(var t=0;t<e.length;t++)if("vaadin-grid-column-group"===e[t].localName)return!0;return!1}},{key:"_getChildColumns",value:function(e){return A.e.getFlattenedNodes(e).filter(this._isColumnElement)}},{key:"_flattenColumnGroups",value:function(e){var t=this;return e.map((function(e){return"vaadin-grid-column-group"===e.localName?t._getChildColumns(e):[e]})).reduce((function(e,t){return e.concat(t)}),[])}},{key:"_getColumnTree",value:function(){for(var e=[],t=A.e.getFlattenedNodes(this).filter(this._isColumnElement);e.push(t),this._hasColumnGroups(t);)t=this._flattenColumnGroups(t);return e}},{key:"_updateColumnTree",value:function(){var e=this._getColumnTree();this._arrayEquals(e,this._columnTree)||(this._columnTree=e)}},{key:"_addNodeObserver",value:function(){var e=this;this._observer=new A.e(this,(function(t){var n=t.addedNodes.filter((function(e){return"template"===e.localName&&e.classList.contains("row-details")}))[0];n&&e._rowDetailsTemplate!==n&&(e._rowDetailsTemplate=n);var r=function(t){return t.filter(e._isColumnElement).length>0};if(r(t.addedNodes)||r(t.removedNodes)){var i=t.removedNodes.flatMap((function(e){return e._allCells})),o=function(e){return i.filter((function(t){return t._content.contains(e)})).length};e.__removeSorters(e._sorters.filter(o)),e.__removeFilters(e._filters.filter(o)),e._updateColumnTree()}e._debouncerCheckImports=A.c.debounce(e._debouncerCheckImports,A.D.after(2e3),e._checkImports.bind(e)),e._ensureFirstPageLoaded()}))}},{key:"_arrayEquals",value:function(e,t){if(!e||!t||e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!this._arrayEquals(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}},{key:"_checkImports",value:function(){var e=this;["vaadin-grid-column-group","vaadin-grid-filter","vaadin-grid-filter-column","vaadin-grid-tree-toggle","vaadin-grid-selection-column","vaadin-grid-sort-column","vaadin-grid-sorter"].forEach((function(t){var n=e.querySelector(t);!n||n instanceof A.i||console.warn("Make sure you have imported the required module for <".concat(t,"> element."))}))}},{key:"_updateFirstAndLastColumn",value:function(){var e=this;Array.from(this.shadowRoot.querySelectorAll("tr")).forEach((function(t){return e._updateFirstAndLastColumnForRow(t)}))}},{key:"_updateFirstAndLastColumnForRow",value:function(e){var t=this;Array.from(e.querySelectorAll('[part~="cell"]:not([part~="details-cell"])')).sort((function(e,t){return e._column._order-t._column._order})).forEach((function(e,n,r){t._toggleAttribute("first-column",0===n,e),t._toggleAttribute("last-column",n===r.length-1,e)}))}},{key:"_isColumnElement",value:function(e){return e.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/.test(e.localName)}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"ready",value:function(){Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this),this.$.scroller.addEventListener("click",this._onClick.bind(this)),this.addEventListener("cell-activate",this._activateItem.bind(this))}},{key:"_activateItem",value:function(e){var t=e.detail.model,n=t?t.item:null;n&&(this.activeItem=this._itemsEqual(this.activeItem,n)?null:n)}},{key:"_onClick",value:function(e){if(!e.defaultPrevented){var t=e.composedPath(),n=t[t.indexOf(this.$.table)-3];if(n&&!(n.getAttribute("part").indexOf("details-cell")>-1)){var r=n._content,i=this.getRootNode().activeElement;r.contains(i)||this._isFocusable(e.target)||this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(n.parentElement)}}))}}}},{key:"_isFocusable",value:function(e){return S(e)}}],[{key:"properties",get:function(){return{activeItem:{type:Object,notify:!0,value:null}}}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(f.a)(this,n),(e=t.call(this))._scrollLineHeight=e._getScrollLineHeight(),e}return Object(_.a)(n,[{key:"_scrollTop",get:function(){return this.$.table.scrollTop},set:function(e){this.$.table.scrollTop=e}},{key:"_getScrollLineHeight",value:function(){var e=document.createElement("div");e.style.fontSize="initial",e.style.display="none",document.body.appendChild(e);var t=window.getComputedStyle(e).fontSize;return document.body.removeChild(e),t?window.parseInt(t):void 0}},{key:"_scrollViewportHeightUpdated",value:function(e){this._scrollPageHeight=e-this.$.header.clientHeight-this.$.footer.clientHeight-this._scrollLineHeight}},{key:"ready",value:function(){var e=this;Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this),this.$.outerscroller=document.createElement("div"),this.scrollTarget=this.$.table,this.addEventListener("wheel",this._onWheel),this.$.items.addEventListener("focusin",(function(t){var n=t.composedPath().indexOf(e.$.items);e._rowWithFocusedElement=t.composedPath()[n-1]})),this.$.items.addEventListener("focusout",(function(){return e._rowWithFocusedElement=void 0})),this.scrollTarget.addEventListener("mousedown",(function(){return e.__mouseDown=!0})),this.scrollTarget.addEventListener("mouseup",(function(){e.__mouseDown=!1,e.__pendingReorder&&(e.__pendingReorder=!1,setTimeout((function(){return e._reorderRows()}),z))}))}},{key:"scrollToIndex",value:function(e){var t=this;this._accessIronListAPI((function(){return Object(g.a)(Object(m.a)(n.prototype),"scrollToIndex",t).call(t,e)}))}},{key:"_onWheel",value:function(e){var t=this;if(!e.ctrlKey&&!this._hasScrolledAncestor(e.target,e.deltaX,e.deltaY)){var n=this.$.table,r=e.deltaY;if(e.deltaMode===WheelEvent.DOM_DELTA_LINE?r*=this._scrollLineHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(r*=this._scrollPageHeight),this._wheelAnimationFrame)return this._deltaYAcc+=r,void e.preventDefault();r+=this._deltaYAcc,this._deltaYAcc=0,this._wheelAnimationFrame=!0,this._debouncerWheelAnimationFrame=A.c.debounce(this._debouncerWheelAnimationFrame,A.o,(function(){return t._wheelAnimationFrame=!1}));var i=Math.abs(e.deltaX)+Math.abs(r);this._canScroll(n,e.deltaX,r)?(e.preventDefault(),n.scrollTop+=r,n.scrollLeft+=e.deltaX,this._scrollHandler(),this._hasResidualMomentum=!0,this._ignoreNewWheel=!0,this._debouncerIgnoreNewWheel=A.c.debounce(this._debouncerIgnoreNewWheel,A.D.after(j),(function(){return t._ignoreNewWheel=!1}))):this._hasResidualMomentum&&i<=this._previousMomentum||this._ignoreNewWheel?e.preventDefault():i>this._previousMomentum&&(this._hasResidualMomentum=!1),this._previousMomentum=i}}},{key:"_hasScrolledAncestor",value:function(e,t,n){return"vaadin-grid-cell-content"!==e.localName&&(!(!this._canScroll(e,t,n)||-1===["auto","scroll"].indexOf(getComputedStyle(e).overflow))||(e!==this&&e.parentElement?this._hasScrolledAncestor(e.parentElement,t,n):void 0))}},{key:"_canScroll",value:function(e,t,n){return n>0&&e.scrollTop<e.scrollHeight-e.offsetHeight||n<0&&e.scrollTop>0||t>0&&e.scrollLeft<e.scrollWidth-e.offsetWidth||t<0&&e.scrollLeft>0}},{key:"_scheduleScrolling",value:function(){var e=this;this._scrollingFrame||(this._scrollingFrame=requestAnimationFrame((function(){return e._toggleAttribute("scrolling",!0,e.$.scroller)}))),this._debounceScrolling=A.c.debounce(this._debounceScrolling,A.D.after(z),(function(){cancelAnimationFrame(e._scrollingFrame),delete e._scrollingFrame,e._toggleAttribute("scrolling",!1,e.$.scroller),e._reorderRows()}))}},{key:"_afterScroll",value:function(){this._translateStationaryElements(),this.hasAttribute("reordering")||this._scheduleScrolling(),this._updateOverflow()}},{key:"_updateOverflow",value:function(){var e=this,t="",n=this.$.table;n.scrollTop<n.scrollHeight-n.clientHeight&&(t+=" bottom"),n.scrollTop>0&&(t+=" top"),n.scrollLeft<n.scrollWidth-n.clientWidth&&(t+=" right"),n.scrollLeft>0&&(t+=" left"),this._debounceOverflow=A.c.debounce(this._debounceOverflow,A.o,(function(){var n=t.trim();n.length>0&&e.getAttribute("overflow")!==n?e.setAttribute("overflow",n):0==n.length&&e.hasAttribute("overflow")&&e.removeAttribute("overflow")}))}},{key:"_reorderRows",value:function(){var e=this;if(this.__mouseDown)this.__pendingReorder=!0;else{var t=this.$.items,n=t.querySelectorAll("tr");if(n.length){var r=this._virtualStart+this._vidxOffset,i=this._rowWithFocusedElement||Array.from(n).filter((function(e){return!e.hidden}))[0];if(i){var o=i.index-r,a=Array.from(n).indexOf(i)-o;if(a>0)for(var s=0;s<a;s++)t.appendChild(n[s]);else if(a<0)for(var l=n.length+a;l<n.length;l++)t.insertBefore(n[l],n[0]);if(this._safari){var c=this.$.header.style.transform;this.$.header.style.transform="",setTimeout((function(){return e.$.header.style.transform=c}))}}}}}},{key:"_frozenCellsChanged",value:function(){var e=this;this._debouncerCacheElements=A.c.debounce(this._debouncerCacheElements,A.w,(function(){Array.from(e.shadowRoot.querySelectorAll('[part~="cell"]')).forEach((function(e){e.style.transform=""})),e._frozenCells=Array.prototype.slice.call(e.$.table.querySelectorAll("[frozen]")),e._updateScrollerMeasurements(),e._translateStationaryElements()})),this._updateLastFrozen()}},{key:"_updateScrollerMeasurements",value:function(){this._frozenCells.length>0&&this.__isRTL&&(this.__scrollerMetrics={scrollWidth:this.$.table.scrollWidth,clientWidth:this.$.table.clientWidth})}},{key:"_updateLastFrozen",value:function(){if(this._columnTree){var e=this._columnTree[this._columnTree.length-1].slice(0);e.sort((function(e,t){return e._order-t._order}));var t=e.reduce((function(e,t,n){return t._lastFrozen=!1,t.frozen&&!t.hidden?n:e}),void 0);void 0!==t&&(e[t]._lastFrozen=!0)}}},{key:"_translateStationaryElements",value:function(){var e=Math.max(0,this._scrollLeft),t=Math.max(0,this._scrollTop),n=0,r=0,i=0;if(this._useSticky||(n=e,r=t,i=this.$.table.clientHeight-this.$.footer.offsetHeight-this.$.footer.offsetTop),this.$.header.style.transform=this._getTranslate(-e+n,r),this.$.footer.style.transform=this._getTranslate(-e+n,r+i),this.$.items.style.transform=this._getTranslate(-e+n,0),this._frozenCells.length>0)for(var o=this.__isRTL?this.__getNormalizedScrollLeft(this.$.table)+this.__scrollerMetrics.clientWidth-this.__scrollerMetrics.scrollWidth:this._scrollLeft,a=this._getTranslate(o,0),s=0;s<this._frozenCells.length;s++)this._frozenCells[s].style.transform=a}},{key:"_getTranslate",value:function(e,t){return"translate(".concat(e,"px, ").concat(t,"px)")}}],[{key:"properties",get:function(){return{_frozenCells:{type:Array,value:function(){return[]}},_rowWithFocusedElement:Element,_deltaYAcc:{type:Number,value:0},_useSticky:{type:Boolean,value:window.CSS&&window.CSS.supports&&(window.CSS.supports("position","sticky")||window.CSS.supports("position","-webkit-sticky"))}}}},{key:"observers",get:function(){return["_scrollViewportHeightUpdated(_viewportHeight)"]}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"_isSelected",value:function(e){return this.selectedItems&&this._getItemIndexInArray(e,this.selectedItems)>-1}},{key:"selectItem",value:function(e){this._isSelected(e)||this.push("selectedItems",e)}},{key:"deselectItem",value:function(e){var t=this._getItemIndexInArray(e,this.selectedItems);t>-1&&this.splice("selectedItems",t,1)}},{key:"_toggleItem",value:function(e){-1===this._getItemIndexInArray(e,this.selectedItems)?this.selectItem(e):this.deselectItem(e)}},{key:"_selectedItemsChanged",value:function(e){var t=this;!this.$.items.children.length||"selectedItems"!==e.path&&"selectedItems.splices"!==e.path||Array.from(this.$.items.children).forEach((function(e){t._updateItem(e,e._item)}))}},{key:"_selectedInstanceChangedCallback",value:function(e,t){t?this.selectItem(e.item):this.deselectItem(e.item)}}],[{key:"properties",get:function(){return{selectedItems:{type:Object,notify:!0,value:function(){return[]}}}}},{key:"observers",get:function(){return["_selectedItemsChanged(selectedItems.*)"]}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"ready",value:function(){Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this),this.addEventListener("sorter-changed",this._onSorterChanged)}},{key:"_onSorterChanged",value:function(e){var t=e.target;e.stopPropagation(),this.__updateSorter(t),this.__applySorters()}},{key:"__removeSorters",value:function(e){0!=e.length&&(this._sorters=this._sorters.filter((function(t){return e.indexOf(t)<0})),this.multiSort&&this.__updateSortOrders(),this.__applySorters())}},{key:"__updateSortOrders",value:function(){var e=this;this._sorters.forEach((function(t,n){return t._order=e._sorters.length>1?n:null}),this)}},{key:"__updateSorter",value:function(e){if(e.direction||-1!==this._sorters.indexOf(e))if(e._order=null,this.multiSort)this._removeArrayItem(this._sorters,e),e.direction&&this._sorters.unshift(e),this.__updateSortOrders();else if(e.direction){var t=this._sorters.filter((function(t){return t!=e}));this._sorters=[e],t.forEach((function(e){e._order=null,e.direction=null}))}}},{key:"__applySorters",value:function(){this.dataProvider&&this.isAttached&&JSON.stringify(this._previousSorters)!==JSON.stringify(this._mapSorters())&&this.clearCache(),this._a11yUpdateSorters(),this._previousSorters=this._mapSorters()}},{key:"_mapSorters",value:function(){return this._sorters.map((function(e){return{path:e.path,direction:e.direction}}))}},{key:"_removeArrayItem",value:function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}],[{key:"properties",get:function(){return{multiSort:{type:Boolean,value:!1},_sorters:{type:Array,value:function(){return[]}},_previousSorters:{type:Array,value:function(){return[]}}}}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"_rowDetailsTemplateOrRendererChanged",value:function(e,t){var n=this;if(e&&t)throw new Error("You should only use either a renderer or a template for row details");if(e||t){if(e&&!e.templatizer){var r=new E;r._grid=this,r.dataHost=this.dataHost,r.template=e,e.templatizer=r}this._columnTree&&Array.from(this.$.items.children).forEach((function(e){e.querySelector("[part~=details-cell]")||(n._updateRow(e,n._columnTree[n._columnTree.length-1]),n._a11yUpdateRowDetailsOpened(e,!1)),delete e.querySelector("[part~=details-cell]")._instance})),this.detailsOpenedItems.length&&(Array.from(this.$.items.children).forEach(this._toggleDetailsCell,this),this._update())}}},{key:"_detailsOpenedItemsChanged",value:function(e){var t=this;"detailsOpenedItems.length"!==e.path&&e.value&&Array.from(this.$.items.children).forEach((function(e){t._toggleDetailsCell(e,e._item),t._a11yUpdateRowDetailsOpened(e,t._isDetailsOpened(e._item)),t._toggleAttribute("details-opened",t._isDetailsOpened(e._item),e)}))}},{key:"_configureDetailsCell",value:function(e){e.setAttribute("part","cell details-cell"),this._toggleAttribute("frozen",!0,e)}},{key:"_toggleDetailsCell",value:function(e,t){var n=this,r=e.querySelector('[part~="details-cell"]');if(r){var i=!this._isDetailsOpened(t),o=!!r.hidden!==i;(r._instance||r._renderer)&&r.hidden===i||(r.hidden=i,i?e.style.removeProperty("padding-bottom"):(this.rowDetailsRenderer?(r._renderer=this.rowDetailsRenderer,r._renderer.call(this,r._content,this,{index:e.index,item:t})):this._rowDetailsTemplate&&!r._instance&&(r._instance=this._rowDetailsTemplate.templatizer.createInstance(),r._content.innerHTML="",r._content.appendChild(r._instance.root),this._updateItem(e,t)),Object(A.p)(),e.style.setProperty("padding-bottom","".concat(r.offsetHeight,"px")),requestAnimationFrame((function(){return n.notifyResize()})))),o&&(this._updateMetrics(),this._positionItems())}}},{key:"_updateDetailsCellHeights",value:function(){Array.from(this.$.items.querySelectorAll('[part~="details-cell"]:not([hidden])')).forEach((function(e){e.parentElement.style.setProperty("padding-bottom","".concat(e.offsetHeight,"px"))}))}},{key:"_isDetailsOpened",value:function(e){return this.detailsOpenedItems&&-1!==this._getItemIndexInArray(e,this.detailsOpenedItems)}},{key:"openItemDetails",value:function(e){this._isDetailsOpened(e)||this.push("detailsOpenedItems",e)}},{key:"closeItemDetails",value:function(e){this._isDetailsOpened(e)&&this.splice("detailsOpenedItems",this._getItemIndexInArray(e,this.detailsOpenedItems),1)}},{key:"_detailsOpenedInstanceChangedCallback",value:function(e,t){t?this.openItemDetails(e.item):this.closeItemDetails(e.item)}}],[{key:"properties",get:function(){return{detailsOpenedItems:{type:Array,value:function(){return[]}},_rowDetailsTemplate:Object,rowDetailsRenderer:Function,_detailsCells:{type:Array}}}},{key:"observers",get:function(){return["_detailsOpenedItemsChanged(detailsOpenedItems.*, _rowDetailsTemplate, rowDetailsRenderer)","_rowDetailsTemplateOrRendererChanged(_rowDetailsTemplate, rowDetailsRenderer)"]}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"ready",value:function(){var e=this;Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this),this._ios||this._android||(this.addEventListener("keydown",this._onKeyDown),this.addEventListener("keyup",this._onKeyUp),this.addEventListener("focusin",this._onFocusIn),this.addEventListener("focusout",this._onFocusOut),this.$.table.addEventListener("focusin",this._onCellFocusIn.bind(this)),this.$.table.addEventListener("focusout",this._onCellFocusOut.bind(this)),this.addEventListener("mousedown",(function(){e._toggleAttribute("navigating",!1,e),e._isMousedown=!0})),this.addEventListener("mouseup",(function(){return e._isMousedown=!1})))}},{key:"_focusableChanged",value:function(e,t){t&&t.setAttribute("tabindex","-1"),e&&e.setAttribute("tabindex","0")}},{key:"_onKeyDown",value:function(e){var t,n=e.key;switch(n){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":case"Home":case"End":t="Navigation";break;case"Enter":case"Escape":case"F2":t="Interaction";break;case"Tab":t="Tab";break;case" ":t="Space"}this._detectInteracting(e),this.hasAttribute("interacting")&&"Interaction"!==t&&(t=void 0),t&&this["_on".concat(t,"KeyDown")](e,n)}},{key:"_ensureScrolledToIndex",value:function(e){Array.from(this.$.items.children).filter((function(t){return t.index===e}))[0]||this._scrollToIndex(e)}},{key:"_onNavigationKeyDown",value:function(e,t){var n=this;function r(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}this._scrollHandler(),e.preventDefault();var i=this._lastVisibleIndex-this._firstVisibleIndex-1,o=0,a=0;switch(t){case"ArrowRight":o=this.__isRTL?-1:1;break;case"ArrowLeft":o=this.__isRTL?1:-1;break;case"Home":o=-1/0,e.ctrlKey&&(a=-1/0);break;case"End":o=1/0,e.ctrlKey&&(a=1/0);break;case"ArrowDown":a=1;break;case"ArrowUp":a=-1;break;case"PageDown":a=i;break;case"PageUp":a=-i}var s=e.composedPath()[0],l=r(s),c=this._elementMatches(s,'[part~="details-cell"]'),d=s.parentNode,h=d.parentNode,u=(h===this.$.items?this._effectiveSize:h.children.length)-1,p=h===this.$.items?void 0!==this._focusedItemIndex?this._focusedItemIndex:d.index:r(d),f=Math.max(0,Math.min(p+a,u)),_=!1;if(h===this.$.items){var g=d._item,m=this._cache.getItemForIndex(f);(_=c?0===a:1===a&&this._isDetailsOpened(g)||-1===a&&f!==p&&this._isDetailsOpened(m))!==c&&(1===a&&_||-1===a&&!_)&&(f=p)}if(h!==this.$.items)if(f>p)for(;f<u&&h.children[f].hidden;)f++;else if(f<p)for(;f>0&&h.children[f].hidden;)f--;void 0===this._focusedColumnOrder&&(this._focusedColumnOrder=c?0:this._getColumns(h,p).filter((function(e){return!e.hidden}))[l]._order);var v=this._getColumns(h,f).filter((function(e){return!e.hidden})),b=v.map((function(e){return e._order})).sort((function(e,t){return e-t})),y=b.length-1,A=b.indexOf(b.slice(0).sort((function(e,t){return Math.abs(e-n._focusedColumnOrder)-Math.abs(t-n._focusedColumnOrder)}))[0]),k=0===a&&c?A:Math.max(0,Math.min(A+o,y));k!==A&&(this._focusedColumnOrder=void 0),h===this.$.items&&this._ensureScrolledToIndex(f),this._toggleAttribute("navigating",!0,this);var x=v.reduce((function(e,t,n){return e[t._order]=n,e}),{})[b[k]],w=h===this.$.items?Array.from(h.children).filter((function(e){return e.index===f}))[0]:h.children[f];if(w){var C=_?Array.from(w.children).filter((function(e){return n._elementMatches(e,'[part~="details-cell"]')}))[0]:w.children[x];if(this._scrollHorizontallyToCell(C),h===this.$.items&&(this._focusedItemIndex=f),h===this.$.items){var O=C.getBoundingClientRect(),I=this.$.footer.getBoundingClientRect().top,S=this.$.header.getBoundingClientRect().bottom;O.bottom>I?(this.$.table.scrollTop+=O.bottom-I,this._scrollHandler()):O.top<S&&(this.$.table.scrollTop-=S-O.top,this._scrollHandler())}C.focus()}}},{key:"_parseEventPath",value:function(e){var t=e.indexOf(this.$.table);return{rowGroup:e[t-1],row:e[t-2],cell:e[t-3]}}},{key:"_onInteractionKeyDown",value:function(e,t){var n,r=e.composedPath()[0],i="input"===r.localName&&!/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(r.type);switch(t){case"Enter":n=!this.hasAttribute("interacting")||!i;break;case"Escape":n=!1;break;case"F2":n=!this.hasAttribute("interacting")}var o=this._parseEventPath(e.composedPath()).cell;if(this.hasAttribute("interacting")!==n)if(n){var a=o._content.querySelector("[focus-target]")||o._content.firstElementChild;a&&(e.preventDefault(),a.focus(),this._toggleAttribute("interacting",!0,this),this._toggleAttribute("navigating",!1,this))}else e.preventDefault(),this._focusedColumnOrder=void 0,o.focus(),this._toggleAttribute("interacting",!1,this),this._toggleAttribute("navigating",!0,this)}},{key:"_predictFocusStepTarget",value:function(e,t){var n=[this.$.table,this._headerFocusable,this._itemsFocusable,this._footerFocusable,this.$.focusexit],r=n.indexOf(e);for(r+=t;r>=0&&r<=n.length-1&&(!n[r]||n[r].parentNode.hidden);)r+=t;return n[r]}},{key:"_onTabKeyDown",value:function(e){var t=this,n=this._predictFocusStepTarget(e.composedPath()[0],e.shiftKey?-1:1);if(n===this.$.table)this.$.table.focus();else if(n===this.$.focusexit)this.$.focusexit.focus();else if(n===this._itemsFocusable){var r=n,i=this._itemsFocusable.parentNode;if(this._ensureScrolledToIndex(this._focusedItemIndex),i.index!==this._focusedItemIndex){var o=Array.from(i.children).indexOf(this._itemsFocusable),a=Array.from(this.$.items.children).filter((function(e){return e.index===t._focusedItemIndex}))[0];a&&(r=a.children[o])}e.preventDefault(),r.focus()}else e.preventDefault(),n.focus();this._toggleAttribute("navigating",!0,this)}},{key:"_onSpaceKeyDown",value:function(e){e.preventDefault();var t=e.composedPath()[0];t._content&&t._content.firstElementChild||this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(t.parentElement)}}))}},{key:"_onKeyUp",value:function(e){if(/^( |SpaceBar)$/.test(e.key)){e.preventDefault();var t=e.composedPath()[0];if(t._content&&t._content.firstElementChild){var n=this.hasAttribute("navigating");t._content.firstElementChild.click(),this._toggleAttribute("navigating",n,this)}}}},{key:"_onFocusIn",value:function(e){this._isMousedown||this._toggleAttribute("navigating",!0,this);var t=e.composedPath()[0];t===this.$.table||t===this.$.focusexit?(this._predictFocusStepTarget(t,t===this.$.table?1:-1).focus(),this._toggleAttribute("interacting",!1,this)):this._detectInteracting(e)}},{key:"_onFocusOut",value:function(e){this._toggleAttribute("navigating",!1,this),this._detectInteracting(e)}},{key:"_onCellFocusIn",value:function(e){if(this._detectInteracting(e),3===e.composedPath().indexOf(this.$.table)){var t=e.composedPath()[0];this._activeRowGroup=t.parentNode.parentNode,this._activeRowGroup===this.$.header?this._headerFocusable=t:this._activeRowGroup===this.$.items?this._itemsFocusable=t:this._activeRowGroup===this.$.footer&&(this._footerFocusable=t),t._content.dispatchEvent(new CustomEvent("cell-focusin",{bubbles:!1}))}this._detectFocusedItemIndex(e)}},{key:"_onCellFocusOut",value:function(e){3===e.composedPath().indexOf(this.$.table)&&e.composedPath()[0]._content.dispatchEvent(new CustomEvent("cell-focusout",{bubbles:!1}))}},{key:"_detectInteracting",value:function(e){this._toggleAttribute("interacting",e.composedPath().some((function(e){return"vaadin-grid-cell-content"===e.localName})),this)}},{key:"_detectFocusedItemIndex",value:function(e){var t=this._parseEventPath(e.composedPath()),n=t.rowGroup,r=t.row;n===this.$.items&&(this._focusedItemIndex=r.index)}},{key:"_preventScrollerRotatingCellFocus",value:function(e,t){e.index===this._focusedItemIndex&&this.hasAttribute("navigating")&&this._activeRowGroup===this.$.items&&(this._navigatingIsHidden=!0,this._toggleAttribute("navigating",!1,this)),t===this._focusedItemIndex&&this._navigatingIsHidden&&(this._navigatingIsHidden=!1,this._toggleAttribute("navigating",!0,this))}},{key:"_getColumns",value:function(e,t){var n=this._columnTree.length-1;return e===this.$.header?n=t:e===this.$.footer&&(n=this._columnTree.length-1-t),this._columnTree[n]}},{key:"_resetKeyboardNavigation",value:function(){var e=this;if(this.$.header.firstElementChild&&(this._headerFocusable=Array.from(this.$.header.firstElementChild.children).filter((function(e){return!e.hidden}))[0]),this.$.items.firstElementChild){var t=this._iterateItems((function(t,n){if(e._firstVisibleIndex===n)return e.$.items.children[t]}));t&&(this._itemsFocusable=Array.from(t.children).filter((function(e){return!e.hidden}))[0])}this.$.footer.firstElementChild&&(this._footerFocusable=Array.from(this.$.footer.firstElementChild.children).filter((function(e){return!e.hidden}))[0])}},{key:"_scrollHorizontallyToCell",value:function(e){if(!e.hasAttribute("frozen")&&!this._elementMatches(e,'[part~="details-cell"]')){for(var t=e.getBoundingClientRect(),n=e.parentNode,r=Array.from(n.children).indexOf(e),i=this.$.table.getBoundingClientRect(),o=i.left,a=i.right,s=r-1;s>=0;s--){var l=n.children[s];if(!l.hasAttribute("hidden")&&!this._elementMatches(l,'[part~="details-cell"]')&&l.hasAttribute("frozen")){o=l.getBoundingClientRect().right;break}}for(var c=r+1;c<n.children.length;c++){var d=n.children[c];if(!d.hasAttribute("hidden")&&!this._elementMatches(d,'[part~="details-cell"]')&&d.hasAttribute("frozen")){a=d.getBoundingClientRect().left;break}}t.left<o&&(this.$.table.scrollLeft+=Math.round(t.left-o)),t.right>a&&(this.$.table.scrollLeft+=Math.round(t.right-a))}}},{key:"_elementMatches",value:function(e,t){return e.matches?e.matches(t):-1!==Array.from(e.parentNode.querySelectorAll(t)).indexOf(e)}}],[{key:"properties",get:function(){return{_headerFocusable:{type:Object,observer:"_focusableChanged"},_itemsFocusable:{type:Object,observer:"_focusableChanged"},_footerFocusable:{type:Object,observer:"_focusableChanged"},_navigatingIsHidden:Boolean,_focusedItemIndex:{type:Number,value:0},_focusedColumnOrder:Number}}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"_a11yGetHeaderRowCount",value:function(e){return e.filter((function(e){return e.some((function(e){return e._headerTemplate||e.headerRenderer||e.path||e.header}))})).length}},{key:"_a11yGetFooterRowCount",value:function(e){return e.filter((function(e){return e.some((function(e){return e._headerTemplate||e.headerRenderer}))})).length}},{key:"_a11yUpdateGridSize",value:function(e,t){if(void 0!==e&&void 0!==t){var n=t[t.length-1];this.$.table.setAttribute("aria-rowcount",e+this._a11yGetHeaderRowCount(t)+this._a11yGetFooterRowCount(t)),this.$.table.setAttribute("aria-colcount",n&&n.length||0),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows()}}},{key:"_a11yUpdateHeaderRows",value:function(){Array.from(this.$.header.children).forEach((function(e,t){return e.setAttribute("aria-rowindex",t+1)}))}},{key:"_a11yUpdateFooterRows",value:function(){var e=this;Array.from(this.$.footer.children).forEach((function(t,n){return t.setAttribute("aria-rowindex",e._a11yGetHeaderRowCount(e._columnTree)+e.size+n+1)}))}},{key:"_a11yUpdateRowRowindex",value:function(e,t){e.setAttribute("aria-rowindex",t+this._a11yGetHeaderRowCount(this._columnTree)+1)}},{key:"_a11yUpdateRowSelected",value:function(e,t){e.setAttribute("aria-selected",Boolean(t)),Array.from(e.children).forEach((function(e){return e.setAttribute("aria-selected",Boolean(t))}))}},{key:"_a11yUpdateRowLevel",value:function(e,t){e.setAttribute("aria-level",t+1)}},{key:"_a11yUpdateRowDetailsOpened",value:function(e,t){Array.from(e.children).forEach((function(e){"boolean"===typeof t?e.setAttribute("aria-expanded",t):e.hasAttribute("aria-expanded")&&e.removeAttribute("aria-expanded")}))}},{key:"_a11ySetRowDetailsCell",value:function(e,t){Array.from(e.children).forEach((function(e){e!==t&&e.setAttribute("aria-controls",t.id)}))}},{key:"_a11yUpdateCellColspan",value:function(e,t){e.setAttribute("aria-colspan",Number(t))}},{key:"_a11yUpdateSorters",value:function(){Array.from(this.querySelectorAll("vaadin-grid-sorter")).forEach((function(e){for(var t=e.parentNode;t&&"vaadin-grid-cell-content"!==t.localName;)t=t.parentNode;t&&t.assignedSlot&&t.assignedSlot.parentNode.setAttribute("aria-sort",{asc:"ascending",desc:"descending"}[String(e.direction)]||"none")}))}}],[{key:"observers",get:function(){return["_a11yUpdateGridSize(size, _columnTree, _columnTree.*)"]}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"ready",value:function(){Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this),this.addEventListener("filter-changed",this._filterChanged.bind(this))}},{key:"_filterChanged",value:function(e){e.stopPropagation(),this.__addFilter(e.target),this.__applyFilters()}},{key:"__removeFilters",value:function(e){0!=e.length&&(this._filters=this._filters.filter((function(t){return e.indexOf(t)<0})),this.__applyFilters())}},{key:"__addFilter",value:function(e){-1===this._filters.indexOf(e)&&this._filters.push(e)}},{key:"__applyFilters",value:function(){this.dataProvider&&this.isAttached&&this.clearCache()}},{key:"_mapFilters",value:function(){return this._filters.map((function(e){return{path:e.path,value:e.value}}))}}],[{key:"properties",get:function(){return{_filters:{type:Array,value:function(){return[]}}}}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"ready",value:function(){Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this),Object(A.l)(this,"track",this._onTrackEvent),this._reorderGhost=this.shadowRoot.querySelector('[part="reorder-ghost"]'),this.addEventListener("touchstart",this._onTouchStart.bind(this)),this.addEventListener("touchmove",this._onTouchMove.bind(this)),this.addEventListener("touchend",this._onTouchEnd.bind(this)),this.addEventListener("contextmenu",this._onContextMenu.bind(this))}},{key:"_onContextMenu",value:function(e){this.hasAttribute("reordering")&&e.preventDefault()}},{key:"_onTouchStart",value:function(e){var t=this;this._startTouchReorderTimeout=setTimeout((function(){t._onTrackStart({detail:{x:e.touches[0].clientX,y:e.touches[0].clientY}})}),100)}},{key:"_onTouchMove",value:function(e){this._draggedColumn&&e.preventDefault(),clearTimeout(this._startTouchReorderTimeout)}},{key:"_onTouchEnd",value:function(){clearTimeout(this._startTouchReorderTimeout),this._onTrackEnd()}},{key:"_onTrackEvent",value:function(e){if("start"===e.detail.state){var t=e.composedPath(),n=t[t.indexOf(this.$.header)-2];if(!n||!n._content)return;if(n._content.contains(this.getRootNode().activeElement))return;if(this.$.scroller.hasAttribute("column-resizing"))return;this._touchDevice||this._onTrackStart(e)}else"track"===e.detail.state?this._onTrack(e):"end"===e.detail.state&&this._onTrackEnd(e)}},{key:"_onTrackStart",value:function(e){if(this.columnReorderingAllowed){var t=e.composedPath&&e.composedPath();if(!t||!t.filter((function(e){return e.hasAttribute&&e.hasAttribute("draggable")}))[0]){var n=this._cellFromPoint(e.detail.x,e.detail.y);if(n&&-1!==n.getAttribute("part").indexOf("header-cell")){for(this._toggleAttribute("reordering",!0,this),this._draggedColumn=n._column;1===this._draggedColumn.parentElement.childElementCount;)this._draggedColumn=this._draggedColumn.parentElement;this._setSiblingsReorderStatus(this._draggedColumn,"allowed"),this._draggedColumn._reorderStatus="dragging",this._updateGhost(n),this._reorderGhost.style.visibility="visible",this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y),this._autoScroller()}}}}},{key:"_onTrack",value:function(e){if(this._draggedColumn){var t=this._cellFromPoint(e.detail.x,e.detail.y);if(t){var n=this._getTargetColumn(t,this._draggedColumn);this._isSwapAllowed(this._draggedColumn,n)&&this._isSwappableByPosition(n,e.detail.x)&&this._swapColumnOrders(this._draggedColumn,n),this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y),this._lastDragClientX=e.detail.x}}}},{key:"_onTrackEnd",value:function(){this._draggedColumn&&(this._toggleAttribute("reordering",!1,this),this._draggedColumn._reorderStatus="",this._setSiblingsReorderStatus(this._draggedColumn,""),this._draggedColumn=null,this._lastDragClientX=null,this._reorderGhost.style.visibility="hidden",this.dispatchEvent(new CustomEvent("column-reorder",{detail:{columns:this._getColumnsInOrder()}})))}},{key:"_getColumnsInOrder",value:function(){return this._columnTree.slice(0).pop().filter((function(e){return!e.hidden})).sort((function(e,t){return e._order-t._order}))}},{key:"_cellFromPoint",value:function(e,t){e=e||0,t=t||0,this._draggedColumn||this._toggleAttribute("no-content-pointer-events",!0,this.$.scroller);var n=this.shadowRoot.elementFromPoint(e,t);if(this._toggleAttribute("no-content-pointer-events",!1,this.$.scroller),n&&n._column)return n}},{key:"_updateGhostPosition",value:function(e,t){var n=this._reorderGhost.getBoundingClientRect(),r=e-n.width/2,i=t-n.height/2,o=parseInt(this._reorderGhost._left||0),a=parseInt(this._reorderGhost._top||0);this._reorderGhost._left=o-(n.left-r),this._reorderGhost._top=a-(n.top-i),this._reorderGhost.style.transform="translate(".concat(this._reorderGhost._left,"px, ").concat(this._reorderGhost._top,"px)")}},{key:"_updateGhost",value:function(e){var t=this._reorderGhost;t.textContent=e._content.innerText;var n=window.getComputedStyle(e);return["boxSizing","display","width","height","background","alignItems","padding","border","flex-direction","overflow"].forEach((function(e){return t.style[e]=n[e]})),t}},{key:"_updateOrders",value:function(e,t){var n=this;void 0!==e&&void 0!==t&&(e[0].forEach((function(e){return e._order=0})),e[0].forEach((function(e,t){return e._order=(t+1)*n._orderBaseScope})))}},{key:"_setSiblingsReorderStatus",value:function(e,t){var n=this;Array.from(e.parentNode.children).filter((function(t){return/column/.test(t.localName)&&n._isSwapAllowed(t,e)})).forEach((function(e){return e._reorderStatus=t}))}},{key:"_autoScroller",value:function(){if(this._lastDragClientX){var e=this._lastDragClientX-this.getBoundingClientRect().right+50,t=this.getBoundingClientRect().left-this._lastDragClientX+50;e>0?this.$.table.scrollLeft+=e/10:t>0&&(this.$.table.scrollLeft-=t/10),this._scrollHandler()}this._draggedColumn&&this.async(this._autoScroller,10)}},{key:"_isSwapAllowed",value:function(e,t){if(e&&t){var n=e!==t,r=e.parentElement===t.parentElement,i=e.frozen===t.frozen;return n&&r&&i}}},{key:"_isSwappableByPosition",value:function(e,t){var n=Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~="cell"]')).filter((function(t){return e.contains(t._column)}))[0],r=this.$.header.querySelector("tr:not([hidden]) [reorder-status=dragging]").getBoundingClientRect(),i=n.getBoundingClientRect();return i.left>r.left?t>i.right-r.width:t<i.left+r.width}},{key:"_swapColumnOrders",value:function(e,t){var n=e._order;e._order=t._order,t._order=n,this._updateLastFrozen(),this._updateFirstAndLastColumn()}},{key:"_getTargetColumn",value:function(e,t){if(e&&t){for(var n=e._column;n.parentElement!==t.parentElement&&n!==this;)n=n.parentElement;return n.parentElement===t.parentElement?n:e._column}}}],[{key:"properties",get:function(){return{columnReorderingAllowed:{type:Boolean,value:!1},_orderBaseScope:{type:Number,value:1e7}}}},{key:"observers",get:function(){return["_updateOrders(_columnTree, _columnTree.*)"]}}]),n}(Object(A.f)(e))}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"ready",value:function(){Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this);var e=this.$.scroller;Object(A.l)(e,"track",this._onHeaderTrack.bind(this)),e.addEventListener("touchmove",(function(t){return e.hasAttribute("column-resizing")&&t.preventDefault()})),e.addEventListener("contextmenu",(function(e){return"resize-handle"==e.target.getAttribute("part")&&e.preventDefault()})),e.addEventListener("mousedown",(function(e){return"resize-handle"===e.target.getAttribute("part")&&e.preventDefault()}))}},{key:"_onHeaderTrack",value:function(e){var t=e.target;if("resize-handle"===t.getAttribute("part")){var n=t.parentElement._column;for(this._toggleAttribute("column-resizing",!0,this.$.scroller);"vaadin-grid-column-group"===n.localName;)n=Array.prototype.slice.call(n._childColumns,0).sort((function(e,t){return e._order-t._order})).filter((function(e){return!e.hidden})).pop();var r=Array.from(this.$.header.querySelectorAll('[part~="row"]:last-child [part~="cell"]')),i=r.filter((function(e){return e._column===n}))[0];if(i.offsetWidth){var o=window.getComputedStyle(i),a=10+parseInt(o.paddingLeft)+parseInt(o.paddingRight)+parseInt(o.borderLeftWidth)+parseInt(o.borderRightWidth)+parseInt(o.marginLeft)+parseInt(o.marginRight),s=i.offsetWidth+(this.__isRTL?i.getBoundingClientRect().left-e.detail.x:e.detail.x-i.getBoundingClientRect().right);n.width=Math.max(a,s)+"px",n.flexGrow=0}r.sort((function(e,t){return e._column._order-t._column._order})).forEach((function(e,t,n){t<n.indexOf(i)&&(e._column.width=e.offsetWidth+"px",e._column.flexGrow=0)})),"end"===e.detail.state&&(this._toggleAttribute("column-resizing",!1,this.$.scroller),this.dispatchEvent(new CustomEvent("column-resize",{detail:{resizedColumn:n}}))),this._resizeHandler()}}}]),n}(Object(A.f)(e))}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"getEventContext",value:function(e){var t={},n=e.composedPath(),r=n[n.indexOf(this.$.table)-3];return r?(t.section=["body","header","footer","details"].filter((function(e){return r.getAttribute("part").indexOf(e)>-1}))[0],r._column&&(t.column=r._column),"body"!==t.section&&"details"!==t.section||Object.assign(t,this.__getRowModel(r.parentElement)),t):t}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"ready",value:function(){var e=this;Object(g.a)(Object(m.a)(n.prototype),"ready",this).call(this),this.$.table.addEventListener("dragstart",this._onDragStart.bind(this)),this.$.table.addEventListener("dragend",this._onDragEnd.bind(this)),this.$.table.addEventListener("dragover",this._onDragOver.bind(this)),this.$.table.addEventListener("dragleave",this._onDragLeave.bind(this)),this.$.table.addEventListener("drop",this._onDrop.bind(this)),this.$.table.addEventListener("dragenter",(function(t){e.dropMode&&(t.preventDefault(),t.stopPropagation())}))}},{key:"_onDragStart",value:function(e){var t=this;if(this.rowsDraggable){var n=e.target;if("vaadin-grid-cell-content"===n.localName&&(n=n.assignedSlot.parentNode.parentNode),n.parentNode!==this.$.items)return;if(e.stopPropagation(),this._toggleAttribute("dragging-rows",!0,this),this._safari){var r=n.style.transform;n.style.top=/translateY\((.*)\)/.exec(r)[1],n.style.transform="none",requestAnimationFrame((function(){n.style.top="",n.style.transform=r}))}var i=n.getBoundingClientRect();this._ios?e.dataTransfer.setDragImage(n):e.dataTransfer.setDragImage(n,e.clientX-i.left,e.clientY-i.top);var o=[n];this._isSelected(n._item)&&(o=this.__getViewportRows().filter((function(e){return t._isSelected(e._item)})).filter((function(e){return!t.dragFilter||t.dragFilter(t.__getRowModel(e))}))),e.dataTransfer.setData("text",this.__formatDefaultTransferData(o)),n.setAttribute("dragstart",o.length>1?o.length:""),this.updateStyles({"--_grid-drag-start-x":"".concat(e.clientX-i.left+20,"px"),"--_grid-drag-start-y":"".concat(e.clientY-i.top+10,"px")}),requestAnimationFrame((function(){n.removeAttribute("dragstart"),t.updateStyles({"--_grid-drag-start-x":"","--_grid-drag-start-y":""})}));var a=new CustomEvent("grid-dragstart",{detail:{draggedItems:o.map((function(e){return e._item})),setDragData:function(t,n){return e.dataTransfer.setData(t,n)},setDraggedItemsCount:function(e){return n.setAttribute("dragstart",e)}}});a.originalEvent=e,this.dispatchEvent(a)}}},{key:"_onDragEnd",value:function(e){this._toggleAttribute("dragging-rows",!1,this),e.stopPropagation();var t=new CustomEvent("grid-dragend");t.originalEvent=e,this.dispatchEvent(t)}},{key:"_onDragLeave",value:function(e){e.stopPropagation(),this._clearDragStyles()}},{key:"_onDragOver",value:function(e){if(this.dropMode){if(this._dropLocation=void 0,this._dragOverItem=void 0,this.__dndAutoScroll(e.clientY))return void this._clearDragStyles();var t=e.composedPath().filter((function(e){return"tr"===e.localName}))[0];if(this._effectiveSize&&this.dropMode!==D)if(t&&t.parentNode===this.$.items){var n=t.getBoundingClientRect();if(this._dropLocation=F,this.dropMode===P){var r=e.clientY-n.top<n.bottom-e.clientY;this._dropLocation=r?L:H}else this.dropMode===R&&(e.clientY-n.top<n.height/3?this._dropLocation=L:e.clientY-n.top>n.height/3*2&&(this._dropLocation=H))}else{if(t)return;if(this.dropMode!==P&&this.dropMode!==R)return;t=Array.from(this.$.items.children).filter((function(e){return!e.hidden})).pop(),this._dropLocation=H}else this._dropLocation=$;if(t&&t.hasAttribute("drop-disabled"))return void(this._dropLocation=void 0);e.stopPropagation(),e.preventDefault(),this._dropLocation===$?this._toggleAttribute("dragover",!0,this):t?(this._dragOverItem=t._item,t.getAttribute("dragover")!==this._dropLocation&&t.setAttribute("dragover",this._dropLocation)):this._clearDragStyles()}}},{key:"__dndAutoScroll",value:function(e){var t=this;if(this.__dndAutoScrolling)return!0;var n=this.$.header.getBoundingClientRect().bottom,r=this.$.footer.getBoundingClientRect().top,i=n-e+this.__dndAutoScrollThreshold,o=e-r+this.__dndAutoScrollThreshold,a=0;if(o>0?a=2*o:i>0&&(a=2*-i),a){var s=this.$.table.scrollTop;if(this.$.table.scrollTop+=a,s!==this.$.table.scrollTop)return this.__dndAutoScrolling=!0,setTimeout((function(){return t.__dndAutoScrolling=!1}),20),this._scrollHandler(),!0}}},{key:"__getViewportRows",value:function(){var e=this.$.header.getBoundingClientRect().bottom,t=this.$.footer.getBoundingClientRect().top;return Array.from(this.$.items.children).filter((function(n){var r=n.getBoundingClientRect();return r.bottom>e&&r.top<t}))}},{key:"_clearDragStyles",value:function(){this.removeAttribute("dragover"),Array.from(this.$.items.children).forEach((function(e){return e.removeAttribute("dragover")}))}},{key:"_onDrop",value:function(e){if(this.dropMode){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.types&&Array.from(e.dataTransfer.types).map((function(t){return{type:t,data:e.dataTransfer.getData(t)}}));this._clearDragStyles();var n=new CustomEvent("grid-drop",{bubbles:e.bubbles,cancelable:e.cancelable,detail:{dropTargetItem:this._dragOverItem,dropLocation:this._dropLocation,dragData:t}});n.originalEvent=e,this.dispatchEvent(n)}}},{key:"__formatDefaultTransferData",value:function(e){return e.map((function(e){return Array.from(e.children).filter((function(e){return!e.hidden&&-1===e.getAttribute("part").indexOf("details-cell")})).sort((function(e,t){return e._column._order>t._column._order?1:-1})).map((function(e){return e._content.textContent.trim()})).filter((function(e){return e})).join("\t")})).join("\n")}},{key:"_dragDropAccessChanged",value:function(){this.filterDragAndDrop()}},{key:"filterDragAndDrop",value:function(){var e=this;Array.from(this.$.items.children).filter((function(e){return!e.hidden})).forEach((function(t){e._filterDragAndDrop(t,e.__getRowModel(t))}))}},{key:"_filterDragAndDrop",value:function(e,t){var n=!this.rowsDraggable||this.dragFilter&&!this.dragFilter(t),r=!this.dropMode||this.dropFilter&&!this.dropFilter(t);Array.from(e.children).map((function(e){return e._content})).forEach((function(e){n?e.removeAttribute("draggable"):e.setAttribute("draggable",!0)})),this._toggleAttribute("drag-disabled",n,e),this._toggleAttribute("drop-disabled",r,e)}}],[{key:"properties",get:function(){return{dropMode:String,rowsDraggable:Boolean,dragFilter:Function,dropFilter:Function,__dndAutoScrollThreshold:{value:50}}}},{key:"observers",get:function(){return["_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter)"]}}]),n}(e)}(function(e){return function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"__cellClassNameGeneratorChanged",value:function(){this.generateCellClassNames()}},{key:"generateCellClassNames",value:function(){var e=this;Array.from(this.$.items.children).filter((function(e){return!e.hidden})).forEach((function(t){return e._generateCellClassNames(t,e.__getRowModel(t))}))}},{key:"_generateCellClassNames",value:function(e,t){var n=this;Array.from(e.children).forEach((function(e){if(e.__generatedClasses&&e.__generatedClasses.forEach((function(t){return e.classList.remove(t)})),n.cellClassNameGenerator){var r=n.cellClassNameGenerator(e._column,t);e.__generatedClasses=r&&r.split(" ").filter((function(e){return e.length>0})),e.__generatedClasses&&e.__generatedClasses.forEach((function(t){return e.classList.add(t)}))}}))}}],[{key:"properties",get:function(){return{cellClassNameGenerator:Function}}},{key:"observers",get:function(){return["__cellClassNameGeneratorChanged(cellClassNameGenerator)"]}}]),n}(e)}(I)))))))))))))))))));function V(e){var t=document.createElement("dom-module");t.setAttribute("theme-for","vaadin-grid"),t.setAttribute("id","bh-ui-toolkit__vaadin-grid");t.innerHTML='<template><style>\n\n  :host([gridtype="tree"]) {\n    --_lumo-grid-border-width: 0px;\n    background-color: transparent;\n  }\n  \n  :host([gridtype="tree"]:not([theme~=\'no-border\'])) {\n    box-shadow: none!important;\n    border: none!important;\n  }\n\n\n  :host([gridtype="tree"]:not([theme~=\'no-border\'])) [part~=\'row\'][selected] [part~=\'cell\']:not([part~=\'details-cell\']) {\n    box-shadow: none;\n  }\n\n  :host([gridtype="tree"]:not([reordering])) [part~=\'row\'][selected] [part~=\'body-cell\']:not([part~=\'details-cell\']) {\n    background-image: none;\n  }\n\n  :host([gridtype="tree"]) #header {\n    display: none;\n  }\n  \n  :host([gridtype="tree"]) [part~="body-cell"] {\n    color: var(--color-text-common-secondary);\n    font-family: var(--font-family-body-small);\n    letter-spacing: var(--font-letter-spacing-body-small);\n    line-height: var(--font-line-height-body-small);\n    position: relative;  \n    box-shadow: none;\n    min-width: 180px;\n    min-height: unset;\n  }\n\n  :host([gridtype="tree"]) [part=\'toggle\'] {\n      margin: none!important;\n  }\n\n \n\n  :host([gridtype="tree"][noverticalborder=\'true\']) [part~="body-cell"] {\n    border-right: none;\n  }\n\n  :host([gridtype="tree"]) [part~="cell"] {\n    background-color: transparent;\n  }\n\n  :host([gridtype="tree"]) [part~="cell"] ::slotted(vaadin-grid-cell-content) {\n    font-weight: var(--font-weight-body-small);\n    font-size: var(--font-size-body-small);\n    letter-spacing: var(--font-letter-spacing-body-small);\n    line-height: var(--font-line-height-body-small);\n    position: relative;\n    padding-top:0 !important;\n    padding-bottom:0 !important;\n    cursor: pointer;\n    transition: all;\n    transition-timing-function: var(--motion-easing-fast);\n    transition-duration: var(--motion-duration-fast);\n  }\n\n  :host([gridtype="tree"]) [part~=\'cell\']:focus {\n    outline: none !important;\n  }\n  :host([gridtype="tree"][navigating]) [part~=\'cell\']:focus::before {\n    box-shadow: none !important;\n  }\n \n\n  :host([gridtype="tree"]) [part~="body-cell"]:hover ::slotted(vaadin-grid-cell-content) {\n    color: var(--color-text-common-primary);\n  }\n\n  :host([gridtype="tree"]:not([reordering])) [part~=\'row\'][selected] [part~=\'body-cell\']:not([part~=\'details-cell\']) {\n    background-image: none;\n  }\n\n   :host([gridtype="tree"]:not([theme~=\'no-border\'])) [part~=\'row\'][selected]  [part~="cell"] ::slotted(vaadin-grid-cell-content){\n      color: var(--color-text-link-primary-default);\n      text-decoration: underline;\n      position: relative;\n      padding-top:0 !important;\n      padding-bottom:0 !important;\n      background: none;\n      box-shadow: none;\n  }\n\n  @media (hover: hover) {\n    :host([gridtype="tree"]:hover) (:not([theme~=\'no-border\'])) [part~=\'row\'] [part~="cell"] ::slotted(vaadin-grid-cell-content) {\n      // color: var(--color-text-common-primary);\n    }\n  }\n\n  :host([gridtype="tree"][spacing="medium"]) {\n    height: unset;\n  }\n\n  :host([gridtype="tree"][spacing="medium"][shouldoverflow="true"]) {\n    height:  var(--tabularlist-default-height) ;\n  }\n\n  :host([gridtype="tree"][spacing="medium"]) [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n    height: 26px;\n    padding: var(--spacing-padding-small) var(--spacing-padding-small);\n  }\n\n  :host([gridtype="tree"]:not([theme~=\'no-row-borders\'])) [part=\'row\'][first] [part~=\'cell\']:not([part~=\'details-cell\']) {\n    transform: translateY(5px);\n  }\n\n    :host([gridtype="tabularlist"]) {\n      border: none;\n      background-color:var(--table-background-color);\n    }\n\n    :host([gridtype="tabularlist"][linkitem="true"]) [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n      cursor: pointer;\n    }\n\n    :host([gridtype="tabularlist"][reordering]) [part~="cell"][reorder-status="dragging"] {\n      background-color: var(--color-fill-menu-selected-supplemental);\n      background: var(--color-fill-menu-selected-supplemental);\n    }\n\n    :host([gridtype="tabularlist"]) [part~=\'row\'][selected] [part~=\'cell\']:not([part~=\'details-cell\']) {\n      box-shadow: none;\n    }\n\n    :host([gridtype="tabularlist"]) [part~="reorder-ghost"] {\n      background: var(--color-fill-menu-selected-supplemental);\n      background-color: var(--color-fill-menu-selected-supplemental);\n      font-family: var(--font-family-label-small);\n      letter-spacing: var(--font-letter-spacing-label-small);\n      line-height: var(--font-line-height-label-small);\n      font-weight: var(--font-weight-label-small);\n      font-size: var(--font-size-label-small);\n    }\n\n    :host([gridtype="tabularlist"]) [part~="header-cell"] {\n      background-color: var(--color-fill-common-tertiary);\n      color: var(--color-text-common-primary);\n      font-family: var(--font-family-label-small);\n      letter-spacing: var(--font-letter-spacing-label-small);\n      line-height: var(--font-line-height-label-small);\n      min-height: 42px !important;\n      min-width: var(--tabularlist-header-cell-min-width);\n      height: 42px;\n      align-items: center;\n      position: relative;\n      cursor: pointer;      \n    }\n    :host([gridtype="tabularlist"][noverticalborder=\'false\']) [part~="header-cell"]{\n      border-right: 1px solid var(--color-border-common-primary);    \n      }\n    :host([gridtype="tabularlist"][selection=\'true\']) [part~="header-cell"]:first-child {\n      min-width: 64px;\n      width: 64px !important;\n      padding: 0 8px;\n      height: 42px;\n      min-height: 42px !important;\n    }\n\n    :host([gridtype="tabularlist"][selection=\'true\'][searchmode="column"]) [part~="header-cell"]:first-child {\n      height: 87px;\n      min-height: 87px !important;\n    }\n    \n    :host([gridtype="tabularlist"][selection=\'true\']) [part~="header-cell"]:first-child ::slotted(vaadin-grid-cell-content) {\n      display: flex;\n      justify-content: center;\n    }\n\n    :host([gridtype="tabularlist"][selection=\'true\'][searchmode="column"]) [part~="header-cell"]:first-child ::slotted(vaadin-grid-cell-content) {\n      padding-bottom: 44px;\n    }\n\n    :host([gridtype="tabularlist"][selection=\'true\'][searchmode="column"]) [part~="header-cell"]:first-child:before {\n      position: absolute;\n      content: \' \';\n      width: 64px;\n      height: 44px;\n      border-top: 1px solid var(--color-border-common-primary);\n      background-color: var(--color-fill-common-secondary);\n      top: 41px;\n      left: 0;\n    }\n\n    :host([gridtype="tabularlist"][selection=\'true\']) [part~=\'cell\'][part~="header-cell"]:first-child ::slotted(vaadin-grid-cell-content) {\n      text-overflow: clip;\n      margin-right: 0;\n    }\n\n    :host([gridtype="tabularlist"][searchmode="column"]) [part~="header-cell"] {\n      min-height: 87px !important;\n      height: 87px;\n    }\n\n    :host([gridtype="tabularlist"][searchmode="column"]) [part~="header-cell"] ::slotted(vaadin-grid-cell-content) {\n      margin-right: 0;\n      padding: 0;\n    }\n\n    :host([gridtype="tabularlist"][searchmode="column"]) [part~="header-cell"]:after {\n      top: 13px;\n    }\n\n    :host([gridtype="tabularlist"][searchmode="column"]) [part=\'resize-handle\'] {\n      height: 42px;\n    }\n\n    :host([gridtype="tabularlist"][noverticalborder=\'true\']) [part~="header-cell"] {\n      border-right: none;\n    }\n\n    \n\n    :host([gridtype="tabularlist"]) [part~="header-cell"] ::slotted(vaadin-grid-cell-content) {\n      font-weight: var(--font-weight-label-small);\n      font-size: var(--font-size-label-small);\n      padding: 0 var(--tabulatlist-header-cell-padding);\n      position: relative;\n      cursor: pointer;\n      margin-right: var(--tabulatlist-header-cell-margin);\n    }\n    \n    :host([gridtype="tabularlist"][rowselection="true"]) [role~="row"]:hover [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n      background-color: var(--color-fill-menu-highlighted);\n      cursor: pointer;\n    }\n\n    :host([gridtype="tabularlist"]:not([reordering])) [part~=\'row\'][selected] [part~=\'body-cell\']:not([part~=\'details-cell\']) {\n      background-image: linear-gradient(var(--color-fill-menu-selected-supplemental), var(--color-fill-menu-selected-supplemental));\n    }\n\n    :host([gridtype="tabularlist"][rowselection="true"]) [role~="row"][selected]:hover [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n      background-color: var(--color-fill-menu-selected-supplemental);\n      background-image: linear-gradient(var(--color-fill-menu-selected-supplemental), var(--color-fill-menu-selected-supplemental));\n    }\n\n    :host([gridtype="tabularlist"]) [part~="body-cell"] {\n      color: var(--color-text-common-secondary);\n      font-family: var(--font-family-body-medium);\n      letter-spacing: var(--letter-spacing-body-medium);\n      line-height: var(--font-line-height-body-medium);\n      position: relative;\n      border-top: 1px solid var(--color-border-common-primary);      \n      min-width: var(--tabularlist-header-cell-min-width);\n      background-color: var(--color-fill-common-secondary);      \n    }\n    :host([gridtype="tabularlist"][noverticalborder=\'false\']) [part~=\'body-cell\'] {\n      border-right: 1px solid var(--color-border-common-primary);\n      border-bottom: 1px solid var(--color-border-common-primary);\n  }\n    :host([gridtype="tabularlist"][selection=\'true\']) [part~="body-cell"]:first-child {\n      min-width: 64px;\n      width: 64px !important;\n      padding: 0 8px;\n    } \n\n    :host([gridtype="tabularlist"][selection=\'true\']) [part~=\'cell\'][part~="body-cell"]:first-child ::slotted(vaadin-grid-cell-content) {\n      text-overflow: clip;\n    }\n\n    :host([gridtype="tabularlist"][noverticalborder=\'true\']) [part~="body-cell"] {\n      border-right: none;\n    }\n\n    :host([gridtype="tabularlist"][reordering]) [part~=\'cell\'][reorder-status=\'allowed\'] {\n      background-color: var(--color-fill-common-secondary);\n    }\n\n    :host([gridtype="tabularlist"]) [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n      font-weight: var(--font-weight-body-medium);\n      font-size: var(--font-size-body-medium);\n      position: relative;\n    }\n\n    :host([gridtype="tabularlist"][spacing="large"]){\n      height: unset;\n      // max-height: 651px;\n    }\n\n    :host([gridtype="tabularlist"][spacing="large"][shouldoverflow="true"]) {\n      height: 651px;\n    }\n\n    :host([gridtype="tabularlist"][spacing="large"]) [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n      height:60px;\n      padding: var(--spacing-padding-medium) var(--spacing-padding-small);\n    }\n    :host([gridtype="tabularlist"][spacing="auto"]) [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n      padding: var(--spacing-padding-medium) var(--spacing-padding-small);\n    }\n\n    :host([gridtype="tabularlist"][spacing="auto"]) [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n      height: auto;\n     \n    }\n\n    :host([gridtype="tabularlist"][spacing="medium"]) {\n      height: unset;\n    }\n\n    :host([gridtype="tabularlist"][spacing="medium"][shouldoverflow="true"]) {\n      height:  var(--tabularlist-default-height) ;\n    }\n\n    :host([gridtype="tabularlist"][spacing="medium"]) [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n      height: 44px;\n      padding: var(--spacing-padding-small) var(--spacing-padding-small);\n    }\n\n    :host([gridtype="tabularlist"][spacing="small"]) {\n      height: unset;\n      // max-height: 411px;\n    }\n\n    :host([gridtype="tabularlist"][spacing="small"][shouldoverflow="true"]) {\n      height: 411px;\n    }\n\n    :host([gridtype="tabularlist"][spacing="small"]) [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {\n      height: 36px;\n      padding: var(--spacing-padding-xsmall) var(--spacing-padding-small);\n    }\n\n    :host([gridtype="tabularlist"]) [part=\'resize-handle\'] {\n      width: 2px;\n      background-color: var(--color-fill-control-selected);\n      right: 0px;\n      -webkit-transition: background-color var(--motion-duration-fast) var(--motion-easing-fast);\n      transition: background-color var(--motion-duration-fast) var(--motion-easing-fast);\n    }\n\n    :host([gridtype="tabularlist"]) [part=\'resize-handle\']::before {\n      width: 25px;\n    }\n\n    :host([gridtype="tabularlist"][navigating]) [part~=\'header-cell\']:focus::before {\n      height: 41px;\n    }\n\n    :host([gridtype="tabularlist"][navigating]) [part~=\'cell\']:focus::before {\n      box-shadow: inset 0 0 0 2px var(--color-border-common-focused);\n    }\n\n  </style>\n  </template>';var n=document.createElement("dom-module");n.setAttribute("theme-for","vaadin-checkbox"),n.setAttribute("id","bh-ui-toolkit__vaadin-checkbox");return n.innerHTML='<template><style>\n    :host {\n      width: var(--checkbox-width);\n      height: var(--checkbox-height);\n      margin: 0 var(--spacing-margin-xxsmall);\n      cursor: pointer !important;\n      border: none;\n      transition: all;\n      transition-timing-function: var(--motion-easing-fast);\n      transition-duration: var(--motion-duration-fast);\n    }\n\n    :host [part~="checkbox"] {\n      background-color: var(--color-fill-control-unselected);\n      width: var(--checkbox-width);\n      height: var(--checkbox-height);\n      border-style: solid;\n      border-width: var(--effect-border-width-thick);\n      border-color: var(--color-border-control-unselected);\n      box-sizing: border-box;\n      border-radius: var(--effect-border-radius-light);\n      margin: 0;\n      transition: all;\n      transition-timing-function: var(--motion-easing-fast);\n      transition-duration: var(--motion-duration-fast);\n    }\n\n    :host(:active) [part~="checkbox"] {\n      transform: unset;\n    }\n\n    :host(:hover) label {\n      cursor: pointer !important;\n    }\n\n    :host(:focus) [part~="checkbox"] {\n      box-shadow: var(--effect-drop-shadow-focus-primary);\n    }\n\n    :host [part~="checkbox"] input {\n      border: none;\n    }\n\n    :host [part~="checkbox"]::before {\n      background-color: var(--color-fill-control-unselected);\n      width: var(--checkbox-width);\n      height: var(--checkbox-height);\n      border-style: solid;\n      border-width: var(--effect-border-width-thick);\n      border-color: var(--color-border-control-unselected);\n      box-sizing: border-box;\n      transition: all;\n      transition-timing-function: var(--motion-easing-fast);\n      transition-duration: var(--motion-duration-fast);\n      transform: scale(1);\n    }\n\n    :host(:hover) [part~="checkbox"]::before {\n      background-color: var(--color-fill-control-unselected) !important;\n    }\n\n    :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part=\'checkbox\'] {\n      background-color: var(--color-fill-control-unselected);\n    }\n\n    :host([checked]) [part=\'checkbox\'] {\n      background-color: var(--color-fill-control-selected);\n      border-color: var(--color-border-control-selected);\n    }\n\n    :host([checked]:not([indeterminate])) [part=\'checkbox\']:after {\n      border-width: 2px 0 0 2px;\n      transform: rotate(-135deg);\n      width: 6px;\n      height: 12px;\n      top: 12px;\n      left: 5px;\n    }\n\n    :host([indeterminate]) [part=\'checkbox\']::after {\n      width: 12px;\n      height: 2px;\n      left: 1px;\n    }\n  </style>\n  </template>',[t,n]}customElements.define(B.is,B)},652:function(e,t,n){"use strict";n.r(t),n.d(t,"bh_tree",(function(){return b}));var r,i,o,a=n(17),s=n(12),l=n(773),c=n(52),d=n(26),h=n(36),u=n(786),p=n(175),f=n(728),_=n(1134);n(836);Object(f.B)("vaadin-grid-tree-toggle",Object(f.m)(r||(r=Object(u.a)(["\n    :host {\n      --vaadin-grid-tree-toggle-level-offset: 2em;\n      align-items: center;\n      vertical-align: middle;\n      margin-left: calc(var(--lumo-space-s) * -1);\n      -webkit-tap-highlight-color: transparent;\n    }\n\n    :host(:not([leaf])) {\n      cursor: default;\n    }\n\n    [part='toggle'] {\n      display: inline-block;\n      font-size: 1.5em;\n      line-height: 1;\n      width: 1em;\n      height: 1em;\n      text-align: center;\n      color: var(--lumo-contrast-50pct);\n      /* Increase touch target area */\n      padding: calc(1em / 3);\n      margin: calc(1em / -3);\n    }\n\n    :host(:not([dir='rtl'])) [part='toggle'] {\n      margin-right: 0;\n    }\n\n    @media (hover: hover) {\n      :host(:hover) [part='toggle'] {\n        color: var(--lumo-contrast-80pct);\n      }\n    }\n\n    [part='toggle']::before {\n      font-family: 'lumo-icons';\n      display: inline-block;\n      height: 100%;\n    }\n\n    :host(:not([expanded])) [part='toggle']::before {\n      content: var(--lumo-icons-angle-right);\n    }\n\n    :host([expanded]) [part='toggle']::before {\n      content: var(--lumo-icons-angle-right);\n      transform: rotate(90deg);\n    }\n\n    /* Experimental support for hierarchy connectors, using an unsupported selector */\n    :host([theme~='connectors']) #level-spacer {\n      position: relative;\n      z-index: -1;\n      font-size: 1em;\n      height: 1.5em;\n    }\n\n    :host([theme~='connectors']) #level-spacer::before {\n      display: block;\n      content: '';\n      margin-top: calc(var(--lumo-space-m) * -1);\n      height: calc(var(--lumo-space-m) + 3em);\n      background-image: linear-gradient(\n        to right,\n        transparent calc(var(--vaadin-grid-tree-toggle-level-offset) - 1px),\n        var(--lumo-contrast-10pct) calc(var(--vaadin-grid-tree-toggle-level-offset) - 1px)\n      );\n      background-size: var(--vaadin-grid-tree-toggle-level-offset) var(--vaadin-grid-tree-toggle-level-offset);\n      background-position: calc(var(--vaadin-grid-tree-toggle-level-offset) / 2 - 2px) 0;\n    }\n\n    /* RTL specific styles */\n\n    :host([dir='rtl']) {\n      margin-left: 0;\n      margin-right: calc(var(--lumo-space-s) * -1);\n    }\n\n    :host([dir='rtl']) [part='toggle'] {\n      margin-left: 0;\n    }\n\n    :host([dir='rtl'][expanded]) [part='toggle']::before {\n      transform: rotate(-90deg);\n    }\n\n    :host([dir='rtl'][theme~='connectors']) #level-spacer::before {\n      background-image: linear-gradient(\n        to left,\n        transparent calc(var(--vaadin-grid-tree-toggle-level-offset) - 1px),\n        var(--lumo-contrast-10pct) calc(var(--vaadin-grid-tree-toggle-level-offset) - 1px)\n      );\n      background-position: calc(100% - (var(--vaadin-grid-tree-toggle-level-offset) / 2 - 2px)) 0;\n    }\n\n    :host([dir='rtl']:not([expanded])) [part='toggle']::before,\n    :host([dir='rtl'][expanded]) [part='toggle']::before {\n      content: var(--lumo-icons-angle-left);\n    }\n  "]))),{moduleId:"lumo-grid-tree-toggle"});var g=document.createElement("template");g.innerHTML="\n  <style>\n    @font-face {\n      font-family: \"vaadin-grid-tree-icons\";\n      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQkAA0AAAAABrwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAECAAAABoAAAAcgHwa6EdERUYAAAPsAAAAHAAAAB4AJwAOT1MvMgAAAZQAAAA/AAAAYA8TBIJjbWFwAAAB8AAAAFUAAAFeGJvXWmdhc3AAAAPkAAAACAAAAAgAAAAQZ2x5ZgAAAlwAAABLAAAAhIrPOhFoZWFkAAABMAAAACsAAAA2DsJI02hoZWEAAAFcAAAAHQAAACQHAgPHaG10eAAAAdQAAAAZAAAAHAxVAgBsb2NhAAACSAAAABIAAAASAIAAVG1heHAAAAF8AAAAGAAAACAACgAFbmFtZQAAAqgAAAECAAACTwflzbdwb3N0AAADrAAAADYAAABZQ7Ajh3icY2BkYGAA4twv3Vfi+W2+MnCzMIDANSOmbGSa2YEZRHEwMIEoAAoiB6sAeJxjYGRgYD7w/wADAwsDCDA7MDAyoAI2AFEEAtIAAAB4nGNgZGBg4GBgZgDRDAxMDGgAAAGbABB4nGNgZp7JOIGBlYGBaSbTGQYGhn4IzfiawZiRkwEVMAqgCTA4MDA+38d84P8BBgdmIAapQZJVYGAEAGc/C54AeJxjYYAAxlAIzQTELAwMBxgZGB0ACy0BYwAAAHicY2BgYGaAYBkGRgYQiADyGMF8FgYbIM3FwMHABISMDArP9/3/+/8/WJXC8z0Q9v8nEp5gHVwMMMAIMo+RDYiZoQJMQIKJARUA7WBhGN4AACFKDtoAAAAAAAAAAAgACAAQABgAJgA0AEIAAHichYvBEYBADAKBVHBjBT4swl9KS2k05o0XHd/yW1hAfBFwCv9sIlJu3nZaNS3PXAaXXHI8Lge7DlzF7C1RgXc7xkK6+gvcD2URmQB4nK2RQWoCMRiFX3RUqtCli65yADModOMBLLgQSqHddRFnQghIAnEUvEA3vUUP0LP0Fj1G+yb8R5iEhO9/ef/7FwFwj28o9EthiVp4hBlehcfUP4Ur8o/wBAv8CU+xVFvhOR7UB7tUdUdlVRJ6HnHWTnhM/V24In8JT5j/KzzFSi2E53hUz7jCcrcIiDDwyKSW1JEct2HdIPH1DFytbUM0PofWdNk5E5oUqb/Q6HHBiVGZpfOXkyUMEj5IyBuNmYZQjBobfsuassvnkKLe1OuBBj0VQ8cRni2xjLWsHaM0jrjx3peYA0/vrdmUYqe9iy7bzrX6eNP7Jh1SijX+AaUVbB8AAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSruZMzlHaB0q4A76kLlwAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKxJigiD6mhFTNowGACmcA/8AAA==) format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n  </style>\n",document.head.appendChild(g.content);var m=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"ready",value:function(){var e=this;Object(l.a)(Object(c.a)(n.prototype),"ready",this).call(this),this.addEventListener("click",(function(t){return e._onClick(t)}))}},{key:"_onClick",value:function(e){this.leaf||Object(_.c)(e.target)||(e.preventDefault(),this.expanded=!this.expanded)}},{key:"_levelChanged",value:function(e){var t=Number(e).toString();this.style.setProperty("---level",t)}}],[{key:"template",get:function(){return Object(f.r)(i||(i=Object(u.a)(["\n      <style>\n        :host {\n          display: inline-flex;\n          align-items: baseline;\n\n          /* CSS API for :host */\n          --vaadin-grid-tree-toggle-level-offset: 1em;\n          --_collapsed-icon: '\\e7be\\00a0';\n        }\n\n        :host([dir='rtl']) {\n          --_collapsed-icon: '\\e7bd\\00a0';\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n\n        :host(:not([leaf])) {\n          cursor: pointer;\n        }\n\n        #level-spacer,\n        [part='toggle'] {\n          flex: none;\n        }\n\n        #level-spacer {\n          display: inline-block;\n          width: calc(var(---level, '0') * var(--vaadin-grid-tree-toggle-level-offset));\n        }\n\n        [part='toggle']::before {\n          font-family: 'vaadin-grid-tree-icons';\n          line-height: 1em; /* make icon font metrics not affect baseline */\n        }\n\n        :host(:not([expanded])) [part='toggle']::before {\n          content: var(--_collapsed-icon);\n        }\n\n        :host([expanded]) [part='toggle']::before {\n          content: '\\e7bc\\00a0'; /* icon glyph + single non-breaking space */\n        }\n\n        :host([leaf]) [part='toggle'] {\n          visibility: hidden;\n        }\n      </style>\n\n      <span id=\"level-spacer\"></span>\n      <span part=\"toggle\"></span>\n      <slot></slot>\n    "],["\n      <style>\n        :host {\n          display: inline-flex;\n          align-items: baseline;\n\n          /* CSS API for :host */\n          --vaadin-grid-tree-toggle-level-offset: 1em;\n          --_collapsed-icon: '\\\\e7be\\\\00a0';\n        }\n\n        :host([dir='rtl']) {\n          --_collapsed-icon: '\\\\e7bd\\\\00a0';\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n\n        :host(:not([leaf])) {\n          cursor: pointer;\n        }\n\n        #level-spacer,\n        [part='toggle'] {\n          flex: none;\n        }\n\n        #level-spacer {\n          display: inline-block;\n          width: calc(var(---level, '0') * var(--vaadin-grid-tree-toggle-level-offset));\n        }\n\n        [part='toggle']::before {\n          font-family: 'vaadin-grid-tree-icons';\n          line-height: 1em; /* make icon font metrics not affect baseline */\n        }\n\n        :host(:not([expanded])) [part='toggle']::before {\n          content: var(--_collapsed-icon);\n        }\n\n        :host([expanded]) [part='toggle']::before {\n          content: '\\\\e7bc\\\\00a0'; /* icon glyph + single non-breaking space */\n        }\n\n        :host([leaf]) [part='toggle'] {\n          visibility: hidden;\n        }\n      </style>\n\n      <span id=\"level-spacer\"></span>\n      <span part=\"toggle\"></span>\n      <slot></slot>\n    "])))}},{key:"is",get:function(){return"vaadin-grid-tree-toggle"}},{key:"properties",get:function(){return{level:{type:Number,value:0,observer:"_levelChanged"},leaf:{type:Boolean,value:!1,reflectToAttribute:!0},expanded:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0}}}}]),n}(Object(f.j)(Object(f.v)(f.i)));customElements.define(m.is,m);var v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"_prepareBodyTemplate",value:function(){var e=this._prepareTemplatizer(this.$.template);return e.templatizer.dataHost=this,e}},{key:"__isLeafItem",value:function(e,t){return!(e&&e[t])}},{key:"__getToggleContent",value:function(e,t){return e&&this.get(e,t)}}],[{key:"template",get:function(){return Object(f.r)(o||(o=Object(u.a)(['\n      <template id="template">\n        <vaadin-grid-tree-toggle\n          leaf="[[__isLeafItem(item, itemHasChildrenPath)]]"\n          expanded="{{expanded}}"\n          level="[[level]]"\n        >\n          [[__getToggleContent(path, item)]]\n        </vaadin-grid-tree-toggle>\n      </template>\n    '])))}},{key:"is",get:function(){return"vaadin-grid-tree-column"}},{key:"properties",get:function(){return{path:String,itemHasChildrenPath:{type:String,value:"children"}}}}]),n}(_.b);customElements.define(v.is,v);var b=function(){function e(t){Object(a.a)(this,e),Object(p.h)(this,t),this.bhEventSelected=Object(p.d)(this,"bhEventSelected",7)}return Object(s.a)(e,[{key:"watchPayload",value:function(){this.parseData()}},{key:"watchOption",value:function(){this.parseData()}},{key:"parseData",value:function(){this._payload="string"===typeof this.payload?JSON.parse(this.payload):this.payload;var e=[];this.flattenNestedData(e,this._payload.data),this._payload.data=e,this._payload.length=e.length,this._option="string"===typeof this.option?JSON.parse(this.option):this.option}},{key:"flattenNestedData",value:function(e,t){var n=function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a={};if("object"===typeof n&&!Array.isArray(n)){var s=null===n||void 0===n?void 0:n.children;s&&Array.isArray(s)?s.forEach((function(e,n){var i="".concat(o+1,"-").concat(n);a=t(e,i,r,o+1)})):a=n}var l=n.name,c=n.key,d=n.link,h=!1;return void 0!==n.children&&(h=!0),e.push({name:l,key:c,uid:r,parentuid:i,level:o,link:d,hasChildren:h}),a},r=0;return t.forEach((function(e){var t=(++r).toString();n(e,t)})),t}},{key:"componentWillLoad",value:function(){this.parseData(),document.getElementById("bh-tree__grid-toggle-style")||function(e){var t=document.createElement("dom-module");return t.setAttribute("theme-for","vaadin-grid-tree-toggle"),t.setAttribute("id","bh-tree__grid-toggle-style"),t.innerHTML="<template><style>\n\n    #level-spacer {\n      height: 26px;\n      border-right: 1px solid var(--color-border-common-primary);\n      position: relative;\n      left: -14px;\n    }\n\n    :host([expanded]) [part='toggle']::before {\n      content: '\\e5cc';\n      font-family: var(--font-family-icon-small);\n      color: var(--color-fill-control-selected);\n    }\n\n    :host(:not([expanded])) [part='toggle']::before {\n      content: '\\e5cc';\n      font-family: var(--font-family-icon-small);\n      color: var(--color-text-common-secondary);\n    }\n\n    :host([leaf]) [part='toggle'] {\n      visibility: hidden;\n    }\n\n  </style>\n  </template>",[t]}().forEach((function(e){document.body.appendChild(e)})),document.getElementById("bh-ui-toolkit__vaadin-grid")||Object(_.a)().forEach((function(e){document.body.appendChild(e)}))}},{key:"componentDidLoad",value:function(){var e=this;this.el__grid.dataProvider=function(t,n){var r,i,o,a,s=[];if(void 0===t.parentItem){var l=null===(i=null===(r=e._payload)||void 0===r?void 0:r.data)||void 0===i?void 0:i.filter((function(e){return 1===e.level}));null===l||void 0===l||l.forEach((function(e){s.push(e)}))}else{var c=null===(a=null===(o=e._payload)||void 0===o?void 0:o.data)||void 0===a?void 0:a.filter((function(e){return e.parentuid===t.parentItem.uid}));null===c||void 0===c||c.forEach((function(e){s.push(e)}))}n(s,s.length)},this.el__grid.addEventListener("active-item-changed",(function(t){t.preventDefault();var n=t.detail.value;""!==n.link&&(e.el__grid.selectedItems=n?[n]:[])}))}},{key:"render",value:function(){var e,t=this;return Object(p.f)(p.a,{class:"bh-tree",id:this.id},Object(p.f)("div",{class:"bh-tree__container",ref:function(e){t.el__container=e}},Object(p.f)("vaadin-grid",{gridtype:"tree",id:"".concat(this.id,"__vaadin-grid"),"aria-label":"Asset Tree",theme:"no-border",ref:function(e){t.el__grid=e},heightByRows:!0,spacing:(null===(e=this._option)||void 0===e?void 0:e.spacing)||"medium",onClick:function(e){var n,r=null===(n=t.el__grid.getEventContext(e))||void 0===n?void 0:n.item;t.bhEventSelected.emit(r)}},Object(p.f)("vaadin-grid-tree-column",{path:"name","item-has-children-path":"hasChildren",resizable:!0}))))}}],[{key:"watchers",get:function(){return{payload:["watchPayload"],option:["watchOption"]}}}]),e}();b.style=".bh-tree__container{position:relative}"},836:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(728),i={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(e,t){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),t)if("document"===e)this.scrollTarget=this._doc;else if("string"===typeof e){var n=this.domHost;this.scrollTarget=n&&n.$?n.$[e]:Object(r.y)(this.ownerDocument).querySelector("#"+e)}else this._isValidScrollTarget()&&(this._oldScrollTarget=e,this._toggleScrollListener(this._shouldHaveListener,e))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(e){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,e):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=e)},set _scrollLeft(e){this.scrollTarget===this._doc?window.scrollTo(e,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=e)},scroll:function(e,t){var n;"object"===typeof e?(n=e.left,t=e.top):n=e,n=n||0,t=t||0,this.scrollTarget===this._doc?window.scrollTo(n,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=n,this.scrollTarget.scrollTop=t)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(e,t){var n=t===this._doc?window:t;e?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),n.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(n.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(e){this._shouldHaveListener=e,this._toggleScrollListener(e,this.scrollTarget)}}}}]);
//# sourceMappingURL=90.5e800391.chunk.js.map