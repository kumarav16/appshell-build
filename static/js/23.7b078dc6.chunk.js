(this["webpackJsonpapp-shell-client"]=this["webpackJsonpapp-shell-client"]||[]).push([[23],{744:function(t,e,o){"use strict";o.r(e),function(t){var i=o(92),n=o(32),a=o(53),r=o(17),s=o(12),p=o(26),c=o(36),l=o(40),d=o(0),m=o.n(d),g=o(771),f=o.n(g),u=o(110),h=o.n(u),v=o(93),S=o.n(v),x=o(4),I=250,w=function(t){var e;return{root:{display:"flex",webkitUserSelect:"none",userSelect:"none"},menuButton:{},hide:{display:"none"},appsIcons:{fontSize:"18px !important"},appChessIcon:{color:"#757575 !important"},appString:{fontWeight:"900",fontSize:"22px",padding:"20px 20px"},appToolbar:{height:"72px",padding:"0px 32px 0px 16px !important"},appChildToolbar:{width:"100%",height:"72px !important"},appHeader:{float:"left"},appTitle:{float:"right",color:"rgb(255,255,255)",marginTop:"14px",fontWeight:"400"},appBuilderTitle:{textDecoration:"none"},appBuilderTitleS1:{textDecoration:"none",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"},content:{flexGrow:1,paddingTop:t.spacing(9),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},contentShift:{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0},logoutconfirm:{fontFamily:"var(--font-family-body-small)",fontStyle:"normal",fontWeight:"var(--font-weight-body-small)",fontSize:"var(--font-size-body-small)",lineHeight:"var(--font-line-height-body-small)",letterSpacing:"var(--font-letter-spacing-body-small)",color:"var(--color-text-common-primary)",margin:"0"},appLists:{color:"#000 !important"},listItemTxt:{"& span":{color:"#000 !important",fontSize:"16px !important"}},userIconAppBar:{position:"absolute !important",width:"44px !important",height:"44px !important",right:"32px !important",top:"calc(50% - 44px/2) !important",cursor:"pointer !important",marginLeft:"12px"},userIconAppBarHorizontal:{position:"relative !important",width:"44px !important",height:"44px !important",cursor:"pointer !important",marginLeft:"12px"},userIconWithInitialsAppBar:{position:"absolute !important",left:"9.09% !important",right:"9.09% !important",top:"9.19% !important",bottom:"9.09% !important",borderRadius:"36px !important",width:"36px !important",height:"36px !important",fontFamily:"Poppins !important",fontStyle:"normal !important",fontWeight:"500 !important",background:"#147D64 !important",fontSize:"14px !important",lineHeight:"20px !important",letterSpacing:"0px !important",color:"#ffffff !important"},upperIconHalfRing:{width:"44px",height:"22px",borderTopLeftRadius:"22px",borderTopRightRadius:"22px",border:"2px solid #02A783",borderBottom:" 0",boxSizing:"borderBox",transform:"matrix(-1, -0.01, 0.01, 1, 0, 0)"},lowerIconHalfRing:{width:"44px",height:"22px",borderTopLeftRadius:"22px",borderTopRightRadius:"22px",border:"2px solid #02A783",borderBottom:" 0",boxSizing:"borderBox",transform:"matrix(-1, -0.01, 0.01, -1, 0, 0)"},verticalHeader:{marginTop:"12px"},commentButton:{backgroundColor:"#02BC93",color:"#fff",fontFamily:"Poppins",fontStyle:"normal",fontWeight:"600",fontSize:"12px",lineHeight:"18px",letterSpacing:"0.1px",height:"36px",borderRadius:"4px",top:"26%",position:"absolute",right:"8%","&:hover":{backgroundColor:"#02BC93"}},FeedbackIconButton:{right:"96px",top:"18px",color:"#fff",borderRadius:"100%",position:"absolute",display:"inline-block",width:"36px",height:"36px",cursor:"pointer",textAlign:"center",marginLeft:"4px",paddingTop:"6px","&:hover":{backgroundColor:"#014d40",borderRadius:"30px"},"&:active":{background:"#147d64",borderRadius:"30px"}},tabSection:{color:"white"},tabs:{color:"white",minWidth:"72px",height:"72px !important",fontSize:"12px !important",lineHeight:"18px !important",textTransform:"none !important",fontFamily:"Noto Sans !important",fontStyle:"normal",fontWeight:"400",letterSpacing:"0.4px !important",textAlign:"center"},tabSelected:{background:"#4f4f4f !important",height:"100% !important",color:"white",fontWeight:"bold !important",zIndex:"-1"},logoDiscription:{width:"210px",position:"absolute",top:"15px",display:"inline-block",paddingLeft:"10px",fontFamily:"Poppins",color:"#FFFFFF"},bently:{fontStyle:"normal",fontWeight:"600",fontSize:"11px",lineHeight:"16px",display:"flex",alignItems:"center"},bentlyBg:{marginLeft:"47px",width:"250px",height:"72px",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundPosition:"46px -1px"},benAppname:{fontWeight:"700",fontSize:"20px",lineHeight:"30px",display:"flex",alignItems:"center",margin:"0px"},benSubname:{fontWeight:300,paddingLeft:"5px"},white:{color:"white"},appBar:{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),backgroundColor:"var(--color-fill-common-brand)",color:"#878282 !important"},appBarShift:{marginLeft:I,width:"calc(100% - ".concat(I,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawer:{width:I,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:I,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerClose:(e={transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:t.spacing(7)+2},Object(l.a)(e,t.breakpoints.up("sm"),{width:t.spacing(7)+2}),Object(l.a)(e,"@media (max-width: 767px)",{width:"0px"}),e)}};e.default=function(e){var o=function(o){Object(p.a)(d,o);var l=Object(c.a)(d);function d(){var t;Object(r.a)(this,d);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=l.call.apply(l,[this].concat(o))).state={notitfication:{},isLogoutOpen:!1,notificationConfig:{},notificationData:{},advNotificationCount:0,requestAdvNotification:!0,notificationErrorScreen:!1,updateErrorId:""},t.getNotificationData=function(){t.setState({requestAdvNotification:!0}),fetch("".concat(window.location.pathname,"Notification-hub/advanceNotification-proxy/notifications"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Content-Type-Options":"nosniff","Cache-Control":"no-cache"}}).then((function(t){return t.json()})).then((function(e){var o,i=0,n=S.a.isEmpty(e)?"":e.statusCode;200===n||206===n?(i=S.a.filter(e.body,(function(t){return!1===t.status})).length,o={isPartialResponse:200!==n,isNoResponse:!1,items:e.body}):o={isPartialResponse:!1,isNoResponse:!0,items:[]},t.setState({notificationErrorScreen:!1,requestAdvNotification:!1,notificationData:o,advNotificationCount:i>0?i:0})})).catch((function(e){t.setState({notificationErrorScreen:!0,requestAdvNotification:!1})}))},t.markNotificationRead=function(e,o){var i=t.state.notificationConfig,n=S.a.isEmpty(e.redirectAPI)?"":e.redirectAPI,a=i&&i.commonRedirectMicroapp?i.commonRedirectMicroapp:"";if(!S.a.isEmpty(n)||!S.a.isEmpty(a))if(t.setState({requestAdvNotification:!0}),!1===e.status)fetch("".concat(window.location.pathname,"Notification-hub/advanceNotification-proxy/notifications"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify([{id:e.id,status:!0}])}).then((function(t){return t.json()})).then((function(i){if(S.a.includes(i.body,"Updated")){var n=t.state.notificationData,a=n.items&&S.a.cloneDeep(n.items).map((function(t){return t.id===e.id?(t.status=!0,t):t})),r=S.a.filter(a,(function(t){return!1===t.status})).length,s={isPartialResponse:!0,isNoResponse:!1,items:a};if(t.setState({notificationErrorScreen:!1,requestAdvNotification:!1,notificationData:s,advNotificationCount:r>0?r:0}),"onContentClick"!==o)return;t.redirectionFromNotification(e)}})).catch((function(o){var i=t.state.notificationData,n=S.a.filter(i,(function(t){return!1===t.status})).length,a={isPartialResponse:!0,isNoResponse:!1,items:i.items};t.setState({notificationErrorScreen:!1,requestAdvNotification:!1,notificationData:a,advNotificationCount:n>0?n:0,updateErrorId:e.id})}));else{if(t.setState({requestAdvNotification:!1}),"onContentClick"!==o)return;t.redirectionFromNotification(e)}},t.redirectionFromNotification=function(e){var o,i,n,a=t.state.notificationConfig,r=S.a.isEmpty(e.redirectAPI)?"":e.redirectAPI,s=a&&a.commonRedirectMicroapp?a.commonRedirectMicroapp:"";if(S.a.isEmpty(r)){if(!S.a.isEmpty(s)){var p=S.a.get(s,"navigationObject.appName","");o=S.a.isEmpty(S.a.find(JSON.parse(localStorage.getItem("navigation")),(function(t){return t.id===p})))?"":p,i=S.a.get(s,"navigationObject",{}),n=S.a.get(s,"navigationObject.mode",""),t.getWindowPostMessageMethod(o,n,i)}}else S.a.includes(r,"/")?window.open(r):(o=S.a.isEmpty(S.a.find(JSON.parse(localStorage.getItem("navigation")),(function(t){return t.id===r})))?"":r,n="spa",i=S.a.isEmpty(e.navigationPaylaod)?"":e.navigationPaylaod,t.getWindowPostMessageMethod(o,n,i))},t.getWindowPostMessageMethod=function(t,e,o){var i={state:{mode:e,detail:{payLoad:{context:{eventName:"BhNotification-RedirectEvent",body:o,timeStamp:Date.now(),origin:window.location.origin}}.context}},appname:t},n=JSON.stringify({eventType:"navigation",payload:i});window.parent.postMessage(n,window.origin)},t.getlogouturl=function(){fetch("".concat(window.location.pathname,"logout"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":" no-cache"}}).then((function(t){return t.json()})).then((function(t){localStorage.setItem("sessionLogout",!0),localStorage.setItem("logoutSuccess",!0),window.location.href=t.logout+window.location.origin+("/"===window.location.pathname?"":"/"+window.location.pathname.substring(1,window.location.pathname.length))})).catch((function(){return t.setState({message:t.props.t("LoginError"),loading:!1})}))},t.handleLogout=Object(a.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("isAuthorized"),localStorage.removeItem("activeToken"),localStorage.removeItem("permissions"),localStorage.removeItem("microapps"),localStorage.removeItem("navigation"),localStorage.removeItem("commonappImpacted"),localStorage.removeItem("defaultAppLink"),localStorage.removeItem("productName"),localStorage.removeItem("app_link"),localStorage.removeItem("authUrl"),localStorage.removeItem("grantType"),localStorage.removeItem("userInfoDialogMap"),localStorage.removeItem("username"),localStorage.removeItem("designTemplate"),localStorage.removeItem("appfailed"),localStorage.removeItem("headerMenuConfig"),localStorage.removeItem("sessionTimeOut"),localStorage.removeItem("UserInfo"),localStorage.removeItem("tenantid"),localStorage.removeItem("tenantDropDown"),localStorage.removeItem("searchConfig"),localStorage.removeItem("menuItems"),localStorage.removeItem("licencesUrl"),localStorage.removeItem("thankYouMsg"),localStorage.removeItem("unlicensedMessage"),localStorage.removeItem("showHeaderMenuIcon"),localStorage.removeItem("polling"),localStorage.removeItem("wsport"),localStorage.removeItem("tenancy"),localStorage.removeItem("selectedApp"),localStorage.removeItem("advanceNotificationMeta"),localStorage.removeItem("displayMenuItemOnHeader"),localStorage.removeItem("displayMicroappOnHeader"),localStorage.removeItem("applicationName"),localStorage.removeItem("selectedTenant"),localStorage.removeItem("appVersion"),e.next=38,t.getlogouturl();case 38:console.log("executed");case 39:case"end":return e.stop()}}),e)}))),t.setIsLogoutOpen=function(e){t.setState({isLogoutOpen:e})},t.getBrowserInfo=function(){var t,e,o,i=navigator.userAgent,n=navigator.appName,a=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10);return-1!=(e=i.indexOf("Opera"))?(n="Opera",a=i.substring(e+6),-1!=(e=i.indexOf("Version"))&&(a=i.substring(e+8))):-1!=(e=i.indexOf("MSIE"))?(n="Microsoft Internet Explorer",a=i.substring(e+5)):-1!=(e=i.indexOf("Chrome"))?(n="Chrome",a=i.substring(e+7)):-1!=(e=i.indexOf("Safari"))?(n="Safari",a=i.substring(e+7),-1!=(e=i.indexOf("Version"))&&(a=i.substring(e+8))):-1!=(e=i.indexOf("Firefox"))?(n="Firefox",a=i.substring(e+8)):(t=i.lastIndexOf(" ")+1)<(e=i.lastIndexOf("/"))&&(n=i.substring(t,e),a=i.substring(e+1)),-1!=(o=a.indexOf(";"))&&(a=a.substring(0,o)),-1!=(o=a.indexOf(" "))&&(a=a.substring(0,o)),r=parseInt(""+a,10),isNaN(r)&&(a=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10)),{Browsername:n,version:a,majorVersion:r}},t}return Object(s.a)(d,[{key:"componentWillMount",value:function(){if("undefined"!==window.localStorage.getItem("advanceNotificationMeta")&&"null"!==window.localStorage.getItem("advanceNotificationMeta")){var t=JSON.parse(localStorage.getItem("advanceNotificationMeta"));this.setState({notificationConfig:t}),this.getNotificationData()}}},{key:"componentDidMount",value:function(){"undefined"!==window.localStorage.getItem("advanceNotificationMeta")&&"null"!==window.localStorage.getItem("advanceNotificationMeta")&&this.state.notificationConfig&&this.state.notificationConfig.pollNotificationTimeInterval&&""!==this.state.notificationConfig.pollNotificationTimeInterval&&setInterval(this.getNotificationData,this.state.notificationConfig.pollNotificationTimeInterval)}},{key:"setIsOpen",value:function(t){this.setState({pop_open:t})}},{key:"handleUserIconClick",value:function(t){t.preventDefault(),this.setState({pop_open:!this.state.pop_open,anchorEl:t.currentTarget})}},{key:"updateCurrentAppName",value:function(){if(this.location.pathname=-1===this.location.pathname.substring(1).indexOf("/")?this.location.pathname+"/":this.location.pathname,this.location.pathname&&"permissionsnotfound/"!==this.location.pathname&&"/ErrorOccurred/"!==this.location.pathname){var e=this.location.pathname.replace(/[.*+#?^$|[\]\\]/g,"").substring(1),o=e.substring(0,e.indexOf("/")),i=e.substring(e.indexOf("/"));if("/"!=i&&""!=i){this.location.pathname="/".concat(o,"/");var n=JSON.stringify({eventType:"navigation",payload:{pathname:"/"+e,state:{mode:"spa",detail:{timeStamp:Date.now(),origin:o,route:i,eventName:"deeplinkEvent",body:{route:i}}}}});window.getContext||(window.getContext=function(){return[{payLoad:{timeStamp:Date.now(),origin:o,route:i,eventName:"deeplinkEvent",body:{route:i}}}]}),window.contextPayload=window.getContext(),window.parent.postMessage(n),this.history.push(this.location.pathname)}}if((window.localStorage||t.localStorage)&&!f()(this.location)){var a,r=-1===this.location.pathname.substring(1).indexOf("/")?this.location.pathname+"/":this.location.pathname,s=(null!==window.localStorage.getItem("navigation")?JSON.parse(window.localStorage.getItem("navigation")):[]).find((function(t){return t.link===r}));window.localStorage.getItem("userInfoDialogMap")&&JSON.parse(window.localStorage.getItem("userInfoDialogMap")).filter((function(t){return t.location==="/".concat(window.location.hash.split("/")[1])}));if(f()(s)&&"/permissionsnotfound/"!==this.location.pathname&&"/ErrorOccurred/"!==this.location.pathname){var p=(null!==window.localStorage.getItem("microapps")?JSON.parse(window.localStorage.getItem("microapps")):[]).find((function(t){return t.link===r}));if(p)return p.id}if(a=s?""!=window.i18Resources?s.displayTextId?s.displayTextId:s.id:s.name:"",window.currentAppObject=s,"false"===localStorage.getItem("displayMenuItemOnHeader")&&"false"===localStorage.getItem("displayMicroappOnHeader")&&"undefind"!==localStorage.getItem("applicationName"))a=localStorage.getItem("applicationName");else if("true"===localStorage.getItem("displayMenuItemOnHeader")){var c=JSON.parse(localStorage.getItem("menuItems"));if(currentAppObject&&currentAppObject.menuItemId){var l=c&&c.find((function(t){return t.id===currentAppObject.menuItemId}));a=l?""!=window.i18Resources?l.displayTextId?l.displayTextId:l.id:l.name:""}}return a}}},{key:"render",value:function(){return Object(x.jsx)(e,Object(i.a)(Object(i.a)({setIsOpen:this.setIsOpen,setIsLogoutOpen:this.setIsLogoutOpen,handleLogout:this.handleLogout,updateCurrentAppName:this.updateCurrentAppName},this.props),{},{handleUserIconClick:this.handleUserIconClick,notitfication:this.state.notitfication,userInfo:this.props.userInfo,isLogoutOpen:this.state.isLogoutOpen,open:this.props.open,browserInfo:this.getBrowserInfo(),notificationConfig:this.state.notificationConfig,notificationData:this.state.notificationData,advNotificationCount:this.state.advNotificationCount,markNotificationRead:this.markNotificationRead,requestAdvNotification:this.state.requestAdvNotification,notificationErrorScreen:this.state.notificationErrorScreen,updateErrorId:this.state.updateErrorId}))}}]),d}(m.a.Component);return h()(w)(o)}}.call(this,o(133))}}]);
//# sourceMappingURL=23.7b078dc6.chunk.js.map