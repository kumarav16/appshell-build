{"version":3,"sources":["components/OpenResourceStaticPage.test.js","../node_modules/react-router-dom/es/BrowserRouter.js","components/OpenResourceStaticPage.js"],"names":["navigation","describe","it","window","location","hash","localStorage","setItem","JSON","stringify","mockJsonPromise","Promise","resolve","responseStatus","data","mockFetchPromise","json","jest","spyOn","global","mockImplementation","component","mount","find","at","console","log","debug","simulate","expect","text","toEqual","message","timeoutmsg","fetch","fn","reject","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","BrowserRouter","_React$Component","_temp","_this","this","_len","arguments","length","args","Array","_key","apply","concat","history","createHistory","props","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","componentWillMount","warning","render","React","createElement","Router","children","Component","propTypes","basename","PropTypes","string","forceRefresh","bool","getUserConfirmation","func","keyLength","number","node","withTranslation","withRouter","userInfoDialogMap","parse","getItem","group","filter","n","subMenu","defaultSubMenu","default","title","icon","type","menuName","navigationString","nav","hasOwnProperty","visibility","i","split","name","j","useState","dataHtml","setdataHtml","dialogShow","setdialogShow","eventType","seteventType","subName","setSubName","hideSpinner","setHideSpinner","_","startsWith","appTheme","useEffect","pathname","then","response","t","unescape","catch","error","showDialog","id","onClick","push","autoFocus","className","dangerouslySetInnerHTML","__html","style","height","map"],"mappings":"qIAAA,wFAOMA,EAAW,CACf,CACI,GAAK,YACL,KAAQ,kBACR,KAAQ,oBACR,QAAW,kBACX,KAAQ,oEACR,KAAO,mBACP,SAAW,cACX,WAAa,OACb,SAAW,EACX,cAAe,EACf,YAAa,EACb,cAAgB,YAChB,WAAa,SAEf,CACE,GAAK,aACL,KAAQ,cACR,KAAQ,gBACR,KAAQ,iBACR,KAAQ,oFACR,KAAO,eACP,SAAW,cACX,WAAa,OACb,SAAW,EACX,YAAa,GAEf,CACE,GAAK,WACL,KAAQ,WACR,KAAQ,aACR,KAAQ,iBACR,KAAQ,oFACR,KAAO,YACP,SAAW,cACX,WAAa,OACb,SAAW,EACX,cAAgB,WAChB,YAAa,IAGnBC,SAAS,yBAAwB,WAC/BC,GAAG,mCAAmC,WACpCC,OAAOC,SAASC,KAAO,8BA8BvBF,OAAOG,aAAaC,QAAQ,aAAaC,KAAKC,UAAUT,IACxDG,OAAOG,aAAaC,QAAQ,oBAAqBC,KAAKC,UA9B5B,CACxB,CACE,KAAQ,QACR,KAAQ,MACR,KAAQ,QACR,KAAQ,OACR,QAAW,CACT,CACE,SAAY,8BACZ,KAAQ,wBACR,KAAQ,OACR,SAAW,GAEb,CACE,SAAY,WACZ,KAAQ,UACR,KAAQ,OACR,SAAW,GAEb,CACE,KAAQ,OACR,SAAY,YACZ,KAAQ,WACR,KAAQ,MACR,KAAQ,aAOhB,IAIMC,EAAkBC,QAAQC,QAJJ,CAC1BC,eAAgB,IAChBC,KAAM,UAGFC,EAAmBJ,QAAQC,QAAQ,CACvCI,KAAM,kBAAMN,CAAe,IAE7BO,KAAKC,MAAMC,EAAQ,SAASC,oBAAmB,kBAAML,CAAgB,IACrE,IACMM,EADUC,gBAAM,cAAC,IAAM,UAAC,cAAC,WAAQ,UAAC,cAAC,UAAsB,SACrCC,KAAK,0BAA0BC,GAAG,GAC5DC,QAAQC,IAAIL,EAAUM,SACtBN,EAAUE,KAAK,kBAAkBK,SAAS,SAC1CC,OAAOR,EAAUE,KAAK,wBAAwBC,GAAG,GAAGM,QAAQC,QAAQ,wBAEtE,IACA7B,GAAG,iDAAiD,WAClDC,OAAOC,SAASC,KAAO,8BAiBvBF,OAAOG,aAAaC,QAAQ,aAAaC,KAAKC,UAAU,KACxDN,OAAOG,aAAaC,QAAQ,oBAAqBC,KAAKC,UAjB5B,CACxB,CACE,KAAQ,QACR,KAAQ,MACR,KAAQ,QACR,KAAQ,OACR,QAAW,CACT,CACE,SAAY,8BACZ,KAAQ,wBACR,KAAQ,OACR,SAAW,QAOnB,IAIMC,EAAkBC,QAAQC,QAJJ,CAC1BC,eAAgB,IAChBC,KAAM,YAGFC,EAAmBJ,QAAQC,QAAQ,CACvCI,KAAM,kBAAMN,CAAe,IAE7BO,KAAKC,MAAMC,EAAQ,SAASC,oBAAmB,kBAAML,CAAgB,IACrE,IACMM,EADUC,gBAAM,cAAC,IAAM,UAAC,cAAC,WAAQ,UAAC,cAAC,UAAsB,SACrCC,KAAK,0BAA0BC,GAAG,GAC5DH,EAAUE,KAAK,kBAAkBK,SAAS,SAC1CC,OAAOR,EAAUE,KAAK,wBAAwBC,GAAG,GAAGM,QAAQC,QAAQ,wBACtE,IACA7B,GAAG,6BAA6B,WAC9BC,OAAOC,SAASC,KAAO,YAUvBF,OAAOG,aAAaC,QAAQ,oBAAqBC,KAAKC,UAT5B,CACxB,CACE,KAAQ,OACR,SAAY,YACZ,KAAQ,WACR,KAAQ,MACR,KAAQ,WAIZ,IAIMC,EAAkBC,QAAQC,QAJJ,CAC1BC,eAAgB,IAChBmB,QAAS,YAGLjB,EAAmBJ,QAAQC,QAAQ,CACvCI,KAAM,kBAAMN,CAAe,IAE7BO,KAAKC,MAAMC,EAAQ,SAASC,oBAAmB,kBAAML,CAAgB,IACrE,IACMM,EADUC,gBAAM,cAAC,IAAM,UAAC,cAAC,WAAQ,UAAC,cAAC,UAAsB,SACrCC,KAAK,0BAA0BC,GAAG,GAC5DK,OAAOR,EAAUE,KAAK,wBAAwBO,QAAQC,QAAQ,WAChE,IACA7B,GAAG,6BAA6B,WAC9BC,OAAOC,SAASC,KAAO,YAUvBF,OAAOG,aAAaC,QAAQ,oBAAqBC,KAAKC,UAT5B,CACxB,CACE,KAAQ,OACR,SAAY,YACZ,KAAQ,WACR,KAAQ,MACR,KAAQ,WAIZ,IAIMC,EAAkBC,QAAQC,QAJJ,CAC1BC,eAAgB,IAChBoB,WAAY,oBAGRlB,EAAmBJ,QAAQC,QAAQ,CACvCI,KAAM,kBAAMN,CAAe,IAE7BO,KAAKC,MAAMC,EAAQ,SAASC,oBAAmB,kBAAML,CAAgB,IACrE,IACMM,EADUC,gBAAM,cAAC,IAAM,UAAC,cAAC,WAAQ,UAAC,cAAC,UAAsB,SACrCC,KAAK,0BAA0BC,GAAG,GAC5DK,OAAOR,EAAUE,KAAK,4BAA4BO,QAAQC,QAAQ,YAClEF,OAAOR,EAAUE,KAAK,0BAA0BO,QAAQC,QAAQ,GAClE,IACA7B,GAAG,qEAAqE,WACtEC,OAAOC,SAASC,KAAO,cAUvBF,OAAOG,aAAaC,QAAQ,oBAAqBC,KAAKC,UAT5B,CACxB,CACE,KAAQ,OACR,SAAY,YACZ,KAAQ,WACR,KAAQ,MACR,KAAQ,WAIZ,IAIMC,EAAkBC,QAAQC,QAJJ,CAC1BC,eAAgB,IAChBoB,WAAY,oBAGRlB,EAAmBJ,QAAQC,QAAQ,CACvCI,KAAM,kBAAMN,CAAe,IAE7BO,KAAKC,MAAMC,EAAQ,SAASC,oBAAmB,kBAAML,CAAgB,IACrE,IACMM,EADUC,gBAAM,cAAC,IAAM,UAAC,cAAC,WAAQ,UAAC,cAAC,UAAsB,SACrCC,KAAK,0BAA0BC,GAAG,GAC5DK,OAAOR,EAAUE,KAAK,4BAA4BO,QAAQC,QAAQ,IAClEF,OAAOR,EAAUE,KAAK,0BAA0BO,QAAQC,QAAQ,GAClE,IACA7B,GAAG,0BAA0B,WAC3BC,OAAOC,SAASC,KAAO,YAUvBF,OAAOG,aAAaC,QAAQ,iBAAiB,oBAC7CJ,OAAOG,aAAaC,QAAQ,oBAAqBC,KAAKC,UAV5B,CACxB,CACE,KAAQ,OACR,SAAY,YACZ,KAAQ,WACR,KAAQ,MACR,KAAQ,WAKZU,EAAOe,MAAQjB,KAAKkB,IAAG,kBACrBxB,QAAQyB,OAAO,CACbJ,QAAS,gBACT,IAEJV,gBAAM,cAAC,IAAM,UAAC,cAAC,WAAQ,UAAC,cAAC,UAAsB,QAGjD,GACF,G,uDCxOA,gFAASe,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,oCAAwC,CAExJ,SAASC,EAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,MAAM,IAAIE,eAAe,6DAAgE,OAAOD,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BD,EAAPC,CAAa,CAc/O,IAAIE,EAAgB,SAAUC,GAG5B,SAASD,IACP,IAAIE,EAAOC,EAEXX,EAAgBY,KAAMJ,GAEtB,IAAK,IAAIK,EAAOC,UAAUC,OAAQC,EAAOC,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC3EF,EAAKE,GAAQJ,UAAUI,GAGzB,OAAeR,EAASC,EAAQP,EAA2BQ,KAAMH,EAAiBH,KAAKa,MAAMV,EAAkB,CAACG,MAAMQ,OAAOJ,KAAiBL,EAAMU,QAAUC,YAAcX,EAAMY,OAAgBnB,EAA2BO,EAAnCD,EAC5L,CAUA,OAnCF,SAAmBc,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAItB,UAAU,kEAAoEsB,GAAeD,EAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,UAAW,CAAEG,YAAa,CAAEC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,EAAY,CAa3eW,CAAU5B,EAAeC,GAczBD,EAAckB,UAAUW,mBAAqB,WAC3CC,KAAS1B,KAAKW,MAAMF,QAAS,8IAC/B,EAEAb,EAAckB,UAAUa,OAAS,WAC/B,OAAOC,IAAMC,cAAcC,IAAQ,CAAErB,QAAST,KAAKS,QAASsB,SAAU/B,KAAKW,MAAMoB,UACnF,EAEOnC,CACT,CAxBoB,CAwBlBgC,IAAMI,WAERpC,EAAcqC,UAAY,CACxBC,SAAUC,IAAUC,OACpBC,aAAcF,IAAUG,KACxBC,oBAAqBJ,IAAUK,KAC/BC,UAAWN,IAAUO,OACrBX,SAAUI,IAAUQ,MAIP/C,K,6NCsGAgD,wBAAkBC,aA/HF,SAAClC,GAC9B,IAAImC,EAAoBvF,KAAKwF,MAAM7F,OAAOG,aAAa2F,QAAQ,sBAC3DC,EAAQH,EAAkBI,QAAO,SAAAC,GAAC,OAAIA,EAAEC,OAAO,IAC/CC,EAAiBJ,EAAM9C,OAAS,GAAK8C,EAAM,GAAGG,QAAQF,QAAO,SAAAC,GAAC,OAAIA,EAAEG,OAAO,IAC3EC,EAAQ,GACRC,EAAO,GACPC,EAAO,GACPC,EAAW,GACXC,EAA0D,OAAvCtG,aAAa2F,QAAQ,cAAyBzF,KAAKwF,MAAM1F,aAAa2F,QAAQ,eAAiB,GACtHW,EAAmBA,EAAiBT,QAAO,SAAAU,GAAG,OAAKA,EAAIC,eAAe,eAAiBD,EAAIE,UAAU,IACrG,IAAK,IAAIC,EAAI,EAAGA,EAAIjB,EAAkB3C,OAAQ4D,IAAK,CACjD,GAAkC,UAA9BjB,EAAkBiB,GAAGN,MAAqBX,EAAkBiB,GAAG5G,WAAa,IAAMD,OAAOC,SAASC,KAAK4G,MAAM,KAAK,GAAK,CACzHT,EAAQT,EAAkBiB,GAAGE,KAC7BT,EAAOV,EAAkBiB,GAAGP,KAC5BC,EAAOX,EAAkBiB,GAAGN,KAC5B,KACF,CAAO,GAAkC,UAA9BX,EAAkBiB,GAAGN,KAC9B,IAAK,IAAIS,EAAI,EAAGA,EAAIpB,EAAkBiB,GAAGX,QAAQjD,OAAQ+D,IACvD,GAAIpB,EAAkBiB,GAAGX,QAAQc,GAAG/G,WAAa,IAAMD,OAAOC,SAASC,KAAK4G,MAAM,KAAK,GAAI,CACzFT,EAAQT,EAAkBiB,GAAGE,KAC7BT,EAAOV,EAAkBiB,GAAGP,KAC5BC,EAAOX,EAAkBiB,GAAGN,KAC5BC,EAAWZ,EAAkBiB,GAAGX,QAAQc,GAAGD,KAC3C,KACF,CAGN,CACA,MAA8BE,mBAAS,IAAG,mBAArCC,EAAQ,KAAEC,EAAW,KAC1B,EAAkCF,oBAAS,GAAM,mBAA5CG,EAAU,KAAEC,EAAa,KAC9B,EAAgCJ,mBAAS,IAAG,mBAAvCK,EAAS,KAAEC,EAAY,KAC5B,EAA4BN,mBAAkB,UAATV,EAAiB,GAAGJ,EAAe,GAAGY,MAAK,mBAA3ES,EAAO,KAAEC,EAAU,KACxB,EAAoCR,oBAAS,GAAM,mBAA9CS,EAAW,KAAEC,EAAc,KAChC,EAA8BV,mBAASW,IAAEC,WAAW1H,aAAa2F,QAAQ,kBAAmB,WAAU,mBAAjGgC,EAAQ,KAAa,KA8C1B,OAHFC,qBAAU,WAnCRhG,MAAM,GAAD,OAAI/B,OAAOC,SAAS+H,SAAQ,kBAAUhI,OAAOC,SAASC,KAAK4G,MAAM,KAAK,KACxEmB,MAAK,SAAAC,GAAQ,OAAIA,EAASrH,MAAM,IAChCoH,MAAK,SAAAtH,GACmB,oBAApBA,EAAKmB,YACNuF,GAAc,GACdE,EAAa,oBACQ,UAAd5G,EAAKA,MACZwG,EAAY1D,EAAM0E,EAAE,+BACpBR,GAAe,KAEfR,EAAYiB,SAASzH,EAAKA,OAC1B8G,EAAWjB,GACXmB,GAAe,GAErB,IAAGU,OAAM,SAACC,GACRnB,EAAY1D,EAAM0E,EAAE,+BACpBR,GAAe,EACjB,GAoBA,GAAE,IACY,mBAAXL,EAEG,eAAC,UAAS,CAACiB,WAAYnB,EAAYoB,GAAI,cAAc,UACjD,cAAC,IAAW,CAACA,GAAG,qBAAoB,SAAE/E,EAAM0E,EAAE,oBAC9C,cAAC,IAAa,UACd,cAAC,IAAiB,CAACK,GAAG,2BAA0B,SAC/C/E,EAAM0E,EAAE,0BAGT,cAAC,IAAa,UACd,cAAC,IAAM,CAAEM,QArDnB,WACEpB,GAAc,GACd5D,EAAMF,QAAQmF,KAAK,SACvB,EAkD2CC,WAAS,WACvClF,EAAM0E,EAAE,gBAOnB,qBAAKS,UAAWd,EAAW,yBAAuD,IAA5BrB,EAAiBxD,OAAe,uBAAyB,WAAW,SACtH,qBAAK2F,UAAU,cAAa,SAEX,UAATrC,EACA,sBAAKqC,UAAU,aAAY,UAC3B,sBAAKA,UAAU,aAAY,UACzB,sBAAMA,UAAU,cAAa,SAAEtC,IAC/B,sBAAMsC,UAAU,cAAcJ,GAAG,sBAAqB,SAAG/E,EAAM0E,EAAE9B,QAE7D,sBAAMuC,UAAU,aAAaJ,GAAG,oBAAmB,SACjDd,EAA+D,qBAAKmB,wBAAyB,CAAEC,OAAQrF,EAAM0E,EAAEjB,MAAjG,qBAAK6B,MAAO,CAACC,OAAO,QAAQ,SAAC,cAAC,IAAO,QAErD,qBAAKJ,UAAU,cAAa,SAAC,sBAAMA,UAAU,aAAaJ,GAAG,kBAAiB,SAAE/E,EAAM0E,EAAE9B,UAE9FN,EAAM,GAAGG,QAAQ+C,KAAI,SAAAhD,GAAC,OACpB,sBAAK2C,UAAU,aAAY,UAC7B,sBAAKA,UAAY3C,EAAEc,OAASS,EAAS,aAAa,cAAeiB,QAAS,kBApDnExI,EAoDqFgG,EAAEhG,SAAUgG,EAAEc,UAnDtHhF,MAAM,GAAD,OAAI/B,OAAOC,SAAS+H,SAAQ,iBAAS/H,IACvCgI,MAAK,SAAAC,GAAQ,OAAIA,EAASrH,MAAM,IAChCoH,MAAK,SAAAtH,GACa,UAAdA,EAAKA,MACNwG,EAAY1D,EAAM0E,EAAE,+BACpBR,GAAe,KAEfA,GAAe,GACfR,EAAYiB,SAASzH,EAAKA,OAC1B8C,EAAMF,QAAQmF,KAAKzI,GAEzB,IAZF,IAAqBA,CAoDwG,EAAC,UAC9G,sBAAM2I,UAAU,cAAa,SAAE3C,EAAEK,OACjC,sBAAMsC,UAAU,cAAcJ,GAAG,sBAAqB,SAAG/E,EAAM0E,EAAElC,EAAEc,WAE/D,sBAAM6B,UAAU,aAAaJ,GAAG,oBAAmB,SACjDd,EAA+D,qBAAKmB,wBAAyB,CAAEC,OAAQrF,EAAM0E,EAAEjB,MAAjG,qBAAK6B,MAAO,CAACC,OAAO,QAAQ,SAAC,cAAC,IAAO,QAErD,qBAAKJ,UAAU,cAAa,SAAC,sBAAMA,UAAU,aAAaJ,GAAG,kBAAiB,SAAE/E,EAAM0E,EAAEX,SAA4B,OAMxI,I","file":"static/js/38.661e1fe1.chunk.js","sourcesContent":["import React, { Suspense } from 'react';\r\nimport OpenResourceStaticPage from './OpenResourceStaticPage';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport {shallow,mount,render} from 'enzyme';\r\nimport ReactDOM from 'react-dom';\r\nimport { fireEvent } from '@testing-library/react';\r\nimport $ from \"jquery\";\r\nconst navigation=[\r\n  {\r\n      \"id\":\"dashboard\",\r\n      \"name\": \"Asset Dashboard\",\r\n      \"link\": \"/asset-dashboard/\",\r\n      \"iconSvg\": \"<svg>test</svg?\",\r\n      \"host\": \"https://ofe-dev-nginx-lb01-1933176829.us-west-2.elb.amazonaws.com\",\r\n      \"path\":\"/asset-dashboard\",\r\n      \"template\":\"/index.html\",\r\n      \"navService\":\"/nav\",\r\n      \"default\": false,\r\n      \"feedbackFlag\":true,\r\n      \"visibility\":true,\r\n      \"displayTextId\":\"dashboard\",\r\n      \"menuItemId\":'cases'\r\n    },\r\n    {\r\n      \"id\":\"appbuilder\",\r\n      \"name\": \"App Builder\",\r\n      \"link\": \"/app-builder/\",\r\n      \"icon\": \"warningrounded\",\r\n      \"host\": \"https://cde-sc-nginx-dev01-elb01-238862697.us-west-2.elb.amazonaws.com/appbuilder\",\r\n      \"path\":\"/app-builder\",\r\n      \"template\":\"/index.html\",\r\n      \"navService\":\"/nav\",\r\n      \"default\": true,\r\n      \"visibility\":true\r\n    },\r\n    {\r\n      \"id\":\"demo-app\",\r\n      \"name\": \"App Demo\",\r\n      \"link\": \"/app-demo/\",\r\n      \"icon\": \"warningrounded\",\r\n      \"host\": \"https://cde-sc-nginx-dev01-elb01-238862697.us-west-2.elb.amazonaws.com/appbuilder\",\r\n      \"path\":\"/app-demo\",\r\n      \"template\":\"/index.html\",\r\n      \"navService\":\"/nav\",\r\n      \"default\": false,\r\n      \"displayTextId\":\"demo-app\",\r\n      \"visibility\":true\r\n    }\r\n];\r\ndescribe('Static testing begins',()=>{\r\n  it('verify for Static group mounted', () => {\r\n    window.location.hash = '/openResourceAttributes.txt';\r\n    const userInfoDialogMap = [\r\n      {\r\n        \"type\": \"group\",\r\n        \"mode\": \"spa\",\r\n        \"name\": \"About\",\r\n        \"icon\": \"tune\",\r\n        \"subMenu\": [\r\n          {\r\n            \"location\": \"/openResourceAttributes.txt\",\r\n            \"name\": \"Licenses Attributions\",\r\n            \"icon\": \"tune\",\r\n            \"default\": true\r\n          },\r\n          {\r\n            \"location\": \"/i18.txt\",\r\n            \"name\": \"Version\",\r\n            \"icon\": \"tune\",\r\n            \"default\": false\r\n          },\r\n          {\r\n            \"type\": \"file\",\r\n            \"location\": \"/i18.html\",\r\n            \"name\": \"richHTML\",\r\n            \"mode\": \"spa\",\r\n            \"icon\": \"tune\"\r\n          },\r\n        ]\r\n      }\r\n    ];\r\n    window.localStorage.setItem('navigation',JSON.stringify(navigation));\r\n    window.localStorage.setItem('userInfoDialogMap', JSON.stringify(userInfoDialogMap))\r\n    const mockSuccessResponse = {\r\n      responseStatus: 200,\r\n      data: 'error'\r\n    };\r\n    const mockJsonPromise = Promise.resolve(mockSuccessResponse); // 2\r\n    const mockFetchPromise = Promise.resolve({ // 3\r\n      json: () => mockJsonPromise,\r\n    });\r\n    jest.spyOn(global, 'fetch').mockImplementation(() => mockFetchPromise);\r\n    const wrapper = mount(<Router><Suspense><OpenResourceStaticPage /></Suspense></Router>);\r\n    const component = wrapper.find(\"OpenResourceStaticPage\").at(0);\r\n    console.log(component.debug());\r\n    component.find('div.activePage').simulate('click');\r\n    expect(component.find('span#staticPageTitle').at(0).text()).toEqual('Licenses Attributions');\r\n    //expect(component.find('div#staticPageTitle').text()).toEqual('PermissionRequired');\r\n  });\r\n  it('verify for Static group mounted without error', () => {\r\n    window.location.hash = '/openResourceAttributes.txt';\r\n    const userInfoDialogMap = [\r\n      {\r\n        \"type\": \"group\",\r\n        \"mode\": \"spa\",\r\n        \"name\": \"About\",\r\n        \"icon\": \"tune\",\r\n        \"subMenu\": [\r\n          {\r\n            \"location\": \"/openResourceAttributes.txt\",\r\n            \"name\": \"Licenses Attributions\",\r\n            \"icon\": \"tune\",\r\n            \"default\": true\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n    window.localStorage.setItem('navigation',JSON.stringify([]));\r\n    window.localStorage.setItem('userInfoDialogMap', JSON.stringify(userInfoDialogMap))\r\n    const mockSuccessResponse = {\r\n      responseStatus: 200,\r\n      data: 'success'\r\n    };\r\n    const mockJsonPromise = Promise.resolve(mockSuccessResponse); // 2\r\n    const mockFetchPromise = Promise.resolve({ // 3\r\n      json: () => mockJsonPromise,\r\n    });\r\n    jest.spyOn(global, 'fetch').mockImplementation(() => mockFetchPromise);\r\n    const wrapper = mount(<Router><Suspense><OpenResourceStaticPage /></Suspense></Router>);\r\n    const component = wrapper.find(\"OpenResourceStaticPage\").at(0);\r\n    component.find('div.activePage').simulate('click');\r\n    expect(component.find('span#staticPageTitle').at(0).text()).toEqual('Licenses Attributions');\r\n  });\r\n  it('verify for Static mounted', () => {\r\n    window.location.hash = '/i18.html'\r\n    const userInfoDialogMap = [\r\n      {\r\n        \"type\": \"file\",\r\n        \"location\": \"/i18.html\",\r\n        \"name\": \"richHTML\",\r\n        \"mode\": \"spa\",\r\n        \"icon\": \"tune\"\r\n      }\r\n    ]\r\n    window.localStorage.setItem('userInfoDialogMap', JSON.stringify(userInfoDialogMap));\r\n    const mockSuccessResponse = {\r\n      responseStatus: 200,\r\n      message: 'success'\r\n    };\r\n    const mockJsonPromise = Promise.resolve(mockSuccessResponse); // 2\r\n    const mockFetchPromise = Promise.resolve({ // 3\r\n      json: () => mockJsonPromise,\r\n    });\r\n    jest.spyOn(global, 'fetch').mockImplementation(() => mockFetchPromise);\r\n    const wrapper = mount(<Router><Suspense><OpenResourceStaticPage /></Suspense></Router>);\r\n    const component = wrapper.find(\"OpenResourceStaticPage\").at(0);\r\n    expect(component.find('span#staticPageTitle').text()).toEqual('richHTML');\r\n  });\r\n  it('verify for Static mounted', () => {\r\n    window.location.hash = '/i18.html'\r\n    const userInfoDialogMap = [\r\n      {\r\n        \"type\": \"file\",\r\n        \"location\": \"/i18.html\",\r\n        \"name\": \"richHTML\",\r\n        \"mode\": \"spa\",\r\n        \"icon\": \"tune\"\r\n      }\r\n    ]\r\n    window.localStorage.setItem('userInfoDialogMap', JSON.stringify(userInfoDialogMap));\r\n    const mockSuccessResponse = {\r\n      responseStatus: 200,\r\n      timeoutmsg: 'success timeout',\r\n    };\r\n    const mockJsonPromise = Promise.resolve(mockSuccessResponse); // 2\r\n    const mockFetchPromise = Promise.resolve({ // 3\r\n      json: () => mockJsonPromise,\r\n    });\r\n    jest.spyOn(global, 'fetch').mockImplementation(() => mockFetchPromise);\r\n    const wrapper = mount(<Router><Suspense><OpenResourceStaticPage /></Suspense></Router>);\r\n    const component = wrapper.find(\"OpenResourceStaticPage\").at(0);\r\n    expect(component.find('span#leftStaticPagetitle').text()).toEqual('richHTML');\r\n    expect(component.find('span#staticPageContent').text()).toEqual('');\r\n  });\r\n  it('verify for Static mounted location path and static file different', () => {\r\n    window.location.hash = '/parag.html'\r\n    const userInfoDialogMap = [\r\n      {\r\n        \"type\": \"file\",\r\n        \"location\": \"/i18.html\",\r\n        \"name\": \"richHTML\",\r\n        \"mode\": \"spa\",\r\n        \"icon\": \"tune\"\r\n      }\r\n    ]\r\n    window.localStorage.setItem('userInfoDialogMap', JSON.stringify(userInfoDialogMap));\r\n    const mockSuccessResponse = {\r\n      responseStatus: 200,\r\n      timeoutmsg: 'success timeout',\r\n    };\r\n    const mockJsonPromise = Promise.resolve(mockSuccessResponse); // 2\r\n    const mockFetchPromise = Promise.resolve({ // 3\r\n      json: () => mockJsonPromise,\r\n    });\r\n    jest.spyOn(global, 'fetch').mockImplementation(() => mockFetchPromise);\r\n    const wrapper = mount(<Router><Suspense><OpenResourceStaticPage /></Suspense></Router>);\r\n    const component = wrapper.find(\"OpenResourceStaticPage\").at(0);\r\n    expect(component.find('span#leftStaticPagetitle').text()).toEqual('');\r\n    expect(component.find('span#staticPageContent').text()).toEqual('');\r\n  });\r\n  it('verify for failed apis', () => {\r\n    window.location.hash = '/i18.html'\r\n    const userInfoDialogMap = [\r\n      {\r\n        \"type\": \"file\",\r\n        \"location\": \"/i18.html\",\r\n        \"name\": \"richHTML\",\r\n        \"mode\": \"spa\",\r\n        \"icon\": \"tune\"\r\n      }\r\n    ]\r\n    window.localStorage.setItem(\"designTemplate\",\"system1-multiapp\");\r\n    window.localStorage.setItem('userInfoDialogMap', JSON.stringify(userInfoDialogMap));\r\n    global.fetch = jest.fn(() =>\r\n      Promise.reject({\r\n        message: \"fetch failed\"\r\n      })\r\n    );\r\n    mount(<Router><Suspense><OpenResourceStaticPage /></Suspense></Router>);\r\n    // const component = wrapper.find(\"OpenResourceStaticPage\").at(0);\r\n    \r\n  });\r\n});\r\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport warning from \"warning\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createBrowserHistory as createHistory } from \"history\";\nimport Router from \"./Router\";\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\n\nvar BrowserRouter = function (_React$Component) {\n  _inherits(BrowserRouter, _React$Component);\n\n  function BrowserRouter() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, BrowserRouter);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.history = createHistory(_this.props), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  BrowserRouter.prototype.componentWillMount = function componentWillMount() {\n    warning(!this.props.history, \"<BrowserRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\");\n  };\n\n  BrowserRouter.prototype.render = function render() {\n    return React.createElement(Router, { history: this.history, children: this.props.children });\n  };\n\n  return BrowserRouter;\n}(React.Component);\n\nBrowserRouter.propTypes = {\n  basename: PropTypes.string,\n  forceRefresh: PropTypes.bool,\n  getUserConfirmation: PropTypes.func,\n  keyLength: PropTypes.number,\n  children: PropTypes.node\n};\n\n\nexport default BrowserRouter;","/* \r\n *  *************************************************\r\n *   BH [Highly] Confidential\r\n *   [Unpublished] Copyright 2020.  Baker Hughes\r\n *  \r\n *   NOTICE:  All information contained herein is, and remains the property of Baker Hughes, and/or\r\n *   its affiliates.  The intellectual and technical concepts contained herein are proprietary to Baker Hughes\r\n *   and/or its affiliates and may be covered by patents, copyrights, and/or trade secrets.  Dissemination of this information or\r\n *   reproduction of this material is strictly forbidden unless prior written permission is obtained from Baker Hughes.\r\n *  **************************************************\r\n *  \r\n */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { withRouter } from \"react-router\";\r\nimport './OpenResourceStaticPage.css';\r\nimport Loading from '../Loading';\r\nimport { withTranslation } from 'react-i18next';\r\nimport DialogBox from '../components/DialogBox';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport _ from \"lodash\";\r\n\r\n\r\nconst OpenResourceStaticPage = (props) => {\r\n  let userInfoDialogMap = JSON.parse(window.localStorage.getItem('userInfoDialogMap'));\r\n  let group = userInfoDialogMap.filter(n => n.subMenu);\r\n  let defaultSubMenu = group.length > 0 && group[0].subMenu.filter(n => n.default);\r\n  let title = '';\r\n  let icon = '';\r\n  let type = '';\r\n  let menuName = '';\r\n  let navigationString = localStorage.getItem('navigation') !== null ? JSON.parse(localStorage.getItem('navigation')) : [];\r\n  navigationString = navigationString.filter(nav => !nav.hasOwnProperty(\"visibility\") || nav.visibility);\r\n  for (let i = 0; i < userInfoDialogMap.length; i++) {\r\n    if (userInfoDialogMap[i].type !== 'group' && (userInfoDialogMap[i].location === '/' + window.location.hash.split(\"/\")[1])) {\r\n      title = userInfoDialogMap[i].name;\r\n      icon = userInfoDialogMap[i].icon;\r\n      type = userInfoDialogMap[i].type;\r\n      break;\r\n    } else if (userInfoDialogMap[i].type === 'group') {\r\n      for (let j = 0; j < userInfoDialogMap[i].subMenu.length; j++) {\r\n        if (userInfoDialogMap[i].subMenu[j].location === '/' + window.location.hash.split(\"/\")[1]) {\r\n          title = userInfoDialogMap[i].name;\r\n          icon = userInfoDialogMap[i].icon;\r\n          type = userInfoDialogMap[i].type;\r\n          menuName = userInfoDialogMap[i].subMenu[j].name\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  let [dataHtml, setdataHtml] = useState(\"\");\r\n  let [dialogShow, setdialogShow] = useState(false);\r\n  let [eventType, seteventType] = useState(\"\");\r\n  let [subName, setSubName] = useState(type !== 'group'?\"\":defaultSubMenu[0].name);\r\n  let [hideSpinner, setHideSpinner] = useState(false);\r\n  let [appTheme, setAppTheme] = useState(_.startsWith(localStorage.getItem(\"designTemplate\"), \"system\"))\r\n\r\n  /* istanbul ignore next */\r\n  function callTimeout() {\r\n    setdialogShow(false);\r\n    props.history.push('/login');\r\n}\r\n  function loadData(){\r\n  fetch(`${window.location.pathname}static/${window.location.hash.split(\"/\")[1]}`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      if(data.timeoutmsg === 'success timeout'){\r\n        setdialogShow(true);\r\n        seteventType(\"session-timeout\");\r\n      }else if(data.data === 'error'){\r\n        setdataHtml(props.t(\"ErrorOpenSourceAttribution\"));\r\n        setHideSpinner(true);\r\n      }else{\r\n        setdataHtml(unescape(data.data));\r\n        setSubName(menuName);\r\n        setHideSpinner(true);\r\n      }\r\n  }).catch((error) => {\r\n    setdataHtml(props.t(\"ErrorOpenSourceAttribution\"));\r\n    setHideSpinner(true);\r\n  });    \r\n}\r\n\r\nfunction loadSubMenu(location, name){\r\n  fetch(`${window.location.pathname}static${location}`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      if(data.data === 'error'){\r\n        setdataHtml(props.t(\"ErrorOpenSourceAttribution\"));\r\n        setHideSpinner(true);\r\n      }else{\r\n        setHideSpinner(true);\r\n        setdataHtml(unescape(data.data));\r\n        props.history.push(location);\r\n      }\r\n  });    \r\n}\r\n\r\nuseEffect(()=>{\r\n    loadData();\r\n  },[])\r\n  if(eventType==\"session-timeout\"){\r\n    return(\r\n        <DialogBox showDialog={dialogShow} id={\"dialogPopup\"}>\r\n            <DialogTitle id=\"alert-dialog-title\">{props.t('SessionTimeout')}</DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n            {props.t('SessionTimeoutInfo')}\r\n            </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button  onClick={callTimeout} autoFocus>\r\n            {props.t('Close')}\r\n            </Button>\r\n            </DialogActions>\r\n        </DialogBox>\r\n    )\r\n}\r\n return (\r\n  <div className={appTheme ? \"horizontal hide-drawer\" : navigationString.length === 0 ? \"vertical hide-drawer\" : \"vertical\"}>\r\n      <div className=\"e7700_96651\">\r\n            {\r\n              type !== 'group' ?\r\n              <div className=\"e7000_1208\">\r\n              <div className=\"activePage\">\r\n                <span className=\"e7700_96654\">{icon}</span>\r\n                <span className=\"e7700_96653\" id=\"leftStaticPagetitle\" >{props.t(title)}</span>\r\n              </div>\r\n                    <span className=\"e7000_1219\" id=\"staticPageContent\">\r\n                    {!hideSpinner ? <div style={{height:\"70vh\"}}><Loading /></div> : <div dangerouslySetInnerHTML={{ __html: props.t(dataHtml) }} />}\r\n                    </span>\r\n                    <div className=\"e7700_96601\"><span className=\"e7000_1217\" id=\"staticPageTitle\">{props.t(title)}</span></div></div>:\r\n\r\n              group[0].subMenu.map(n =>\r\n                <div className=\"e7000_1208\">              \r\n              <div className={(n.name === subName)?\"activePage\":\"e7700_96652\"} onClick={() => loadSubMenu(n.location, n.name)}>\r\n                <span className=\"e7700_96654\">{n.icon}</span> \r\n                <span className=\"e7700_96653\" id=\"leftStaticPagetitle\" >{props.t(n.name)}</span>\r\n              </div>\r\n                    <span className=\"e7000_1219\" id=\"staticPageContent\">\r\n                    {!hideSpinner ? <div style={{height:\"70vh\"}}><Loading /></div> : <div dangerouslySetInnerHTML={{ __html: props.t(dataHtml) }} />}\r\n                    </span>\r\n                    <div className=\"e7700_96601\"><span className=\"e7000_1217\" id=\"staticPageTitle\">{props.t(subName)}</span></div></div>)\r\n            }\r\n     \r\n      </div>\r\n</div>\r\n  )\r\n}\r\nexport default withTranslation()(withRouter(OpenResourceStaticPage));\r\n"],"sourceRoot":""}