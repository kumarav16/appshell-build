{"version":3,"sources":["components/PinAppWrapper/index.js","components/PinAppWrapper/PinAppWrapper.js"],"names":["PinAppWrapper","props","handleClickOutside","event","path","composedPath","outerHTML","slice","includes","wrapperRef","contains","target","isOverlayLayout","$","css","onMouseEnter","state","appPinned","detail","width","onMouseLeave","setMainApp","setState","type","_","isEqual","localStorage","getItem","setWrapperRef","bind","document","addEventListener","this","removeEventListener","node","className","onClick","ref","style","commonappImpacted","commonStylingUpdated","StylingAttributes","id","nestedElement","React","Component"],"mappings":"qIAAA,mE,gMCqBMA,EAAa,kDAEjB,WAAYC,GAAQ,IAAD,EAO4C,OAP5C,qBACjB,cAAMA,IAkCRC,mBAAqB,SAACC,GACpB,IAAMC,EAAOD,EAAMC,MAASD,EAAME,cAAgBF,EAAME,eACjCD,EAAK,GAAGE,UAAUC,MAAM,EAAE,IAAIC,SAAS,eAAiBJ,EAAK,GAAGE,UAAUC,MAAM,EAAE,IAAIC,SAAS,gBAC/F,EAAKC,YAAe,EAAKA,WAAWC,SAASP,EAAMQ,UACrE,EAAKC,iBACNC,IAAE,qBAAqBC,IAAI,UAAU,QAEvCD,IAAE,qBAAqBC,IAAI,QAAS,OACpCD,IAAE,aAAaC,IAAI,UAAW,QAElC,EAAC,EAEDC,aAAe,SAACZ,GAEV,EAAKa,MAAMC,YACV,EAAKL,iBACNC,IAAE,qBAAqBC,IAAI,UAAU,SAEvCD,IAAE,qBAAqBC,IAAI,QAASX,EAAMe,OAAOC,OACjDN,IAAE,aAAaC,IAAI,UAAW,SAGlC,EAAC,EACDM,aAAe,SAACjB,GAEV,EAAKa,MAAMC,YACV,EAAKL,iBACNC,IAAE,qBAAqBC,IAAI,UAAU,QAEvCD,IAAE,qBAAqBC,IAAI,QAASX,EAAMe,OAAOC,OACjDN,IAAE,aAAaC,IAAI,UAAW,QAElC,EAAC,EAEDO,WAAa,SAAClB,GACZ,EAAKmB,SAAS,CAACL,WAAY,EAAKD,MAAMC,YACpB,iBAAfd,EAAMoB,MACPV,IAAE,mBAAmBC,IAAI,wBAAyB,qCAClDD,IAAE,qBAAqBC,IAAI,QAAS,QACpCD,IAAE,aAAaC,IAAI,UAAW,UAG9BD,IAAE,mBAAmBC,IAAI,wBAAyB,6CAClDD,IAAE,qBAAqBC,IAAI,QAAS,SACpCD,IAAE,aAAaC,IAAI,UAAW,SAElC,EA/EE,EAAKE,MAAQ,CACXC,WAAW,GAEb,EAAKL,gBAAkBY,IAAEC,QAAQC,aAAaC,QAAQ,kBAAmB,kBACzE,EAAKC,cAAgB,EAAKA,cAAcC,KAAK,gBAC7C,EAAK3B,mBAAqB,EAAKA,mBAAmB2B,KAAK,gBAAM,CAC/D,CAqFC,OArFA,8CAED,WACEC,SAASC,iBAAiB,eAAgBC,KAAKX,YAAY,GAC3DS,SAASC,iBAAiB,iBAAkBC,KAAKX,YAAY,GAC7DS,SAASC,iBAAiB,iBAAkBC,KAAKjB,cAAc,GAC/De,SAASC,iBAAiB,oBAAqBC,KAAKZ,cAAc,GAC/DY,KAAKpB,iBACNkB,SAASC,iBAAiB,YAAaC,KAAK9B,mBAEhD,GAAC,kCAED,WACE4B,SAASG,oBAAoB,eAAgBD,KAAKX,YAClDS,SAASG,oBAAoB,iBAAkBD,KAAKX,YACpDS,SAASG,oBAAoB,iBAAkBD,KAAKjB,cACpDe,SAASG,oBAAoB,oBAAqBD,KAAKZ,cACpDY,KAAKpB,iBACNkB,SAASG,oBAAoB,YAAaD,KAAK9B,mBAEnD,GAAC,2BAED,SAAcgC,GACZF,KAAKvB,WAAayB,CACpB,GAEA,oBAkDA,WAAU,IAAD,OACP,OACE,qCACE,qBAAKC,UAAU,WAAWC,QAAS,kBAAI,EAAKhB,aAAa,CAACF,OAAQ,CAACC,MAAO,QAAQ,IAClF,qBAAKkB,IAAKL,KAAKJ,cAAeO,UAAU,mBAAmBG,MAAON,KAAK/B,MAAMsC,kBAAiB,2BAAOP,KAAK/B,MAAMsC,kBAAkBC,sBAAyBR,KAAK/B,MAAMwC,mBAAiB,eAAQT,KAAK/B,MAAMwC,mBAAmB,SACzN,cAAC,UAAe,aAACC,GAAIV,KAAK/B,MAAM0C,cAAcD,IAAQV,KAAK/B,MAAM0C,oBAI3E,KAAC,EA/FgB,CAASC,IAAMC,WAiGnB7C,W","file":"static/js/20.86dfe588.chunk.js","sourcesContent":["export { default } from './PinAppWrapper';","/* \r\n *  *************************************************\r\n *   BH [Highly] Confidential\r\n *   [Unpublished] Copyright 2020.  Baker Hughes\r\n *  \r\n *   NOTICE:  All information contained herein is, and remains the property of Baker Hughes, and/or\r\n *   its affiliates.  The intellectual and technical concepts contained herein are proprietary to Baker Hughes\r\n *   and/or its affiliates and may be covered by patents, copyrights, and/or trade secrets.  Dissemination of this information or\r\n *   reproduction of this material is strictly forbidden unless prior written permission is obtained from Baker Hughes.\r\n *  **************************************************\r\n *  \r\n */\r\n\r\nimport React from 'react';\r\nimport ApppLoaderFrame from \"../AppLoaderFrame\";\r\nimport $ from \"jquery\";\r\nimport _ from \"lodash\";\r\n\r\nimport './PinAppWrapper.css'\r\n\r\n\r\nclass PinAppWrapper extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      appPinned: false\r\n    }\r\n    this.isOverlayLayout = _.isEqual(localStorage.getItem(\"designTemplate\"), \"overlay-layout\");\r\n    this.setWrapperRef = this.setWrapperRef.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    document.addEventListener('pinapp-event', this.setMainApp, false);\r\n    document.addEventListener('unpinapp-event', this.setMainApp, false);\r\n    document.addEventListener('hoverapp-event', this.onMouseEnter, false);\r\n    document.addEventListener('nonhoverapp-event', this.onMouseLeave, false);\r\n    if(this.isOverlayLayout){\r\n      document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    document.removeEventListener('pinapp-event', this.setMainApp);\r\n    document.removeEventListener('unpinapp-event', this.setMainApp);\r\n    document.removeEventListener('hoverapp-event', this.onMouseEnter);\r\n    document.removeEventListener('nonhoverapp-event', this.onMouseLeave);\r\n    if(this.isOverlayLayout){\r\n      document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n    }\r\n  }\r\n\r\n  setWrapperRef(node) {\r\n    this.wrapperRef = node;\r\n  }\r\n\r\n  /* istanbul ignore next */\r\n  handleClickOutside = (event) => {\r\n    const path = event.path || (event.composedPath && event.composedPath());\r\n    const isAssetClicked = path[0].outerHTML.slice(0,30).includes(\"asset-menu\") || path[1].outerHTML.slice(0,30).includes(\"asset-menu\");\r\n    if (!isAssetClicked && this.wrapperRef && !this.wrapperRef.contains(event.target)) {\r\n      if(this.isOverlayLayout){\r\n        $(`.pinapp-container`).css(\"display\",\"none\");\r\n      }\r\n      $(`.pinapp-container`).css('width', '0px');\r\n      $('.backdrop').css('display', 'none');\r\n    }\r\n  }\r\n  \r\n  onMouseEnter = (event) => {\r\n    /* istanbul ignore else*/\r\n    if(!this.state.appPinned){\r\n      if(this.isOverlayLayout){\r\n        $(`.pinapp-container`).css(\"display\",\"block\");\r\n      }\r\n      $(`.pinapp-container`).css('width', event.detail.width);\r\n      $('.backdrop').css('display', 'block');\r\n\r\n    }\r\n  }\r\n  onMouseLeave = (event) => {\r\n    /* istanbul ignore else*/\r\n    if(!this.state.appPinned){\r\n      if(this.isOverlayLayout){\r\n        $(`.pinapp-container`).css(\"display\",\"none\");\r\n      }\r\n      $(`.pinapp-container`).css('width', event.detail.width);\r\n      $('.backdrop').css('display', 'none');\r\n    }\r\n  }\r\n\r\n  setMainApp = (event) => {\r\n    this.setState({appPinned: !this.state.appPinned});\r\n    if(event.type === 'pinapp-event'){\r\n      $('.grid-container').css('grid-template-columns', '21.4% 19.65% 19.65% 19.65% 19.65%');\r\n      $(`.pinapp-container`).css('width', '100%');\r\n      $('.backdrop').css('display', 'none');\r\n    }\r\n    else{\r\n      $('.grid-container').css('grid-template-columns', '3.03% 24.2425% 24.2425% 24.2425% 24.2425%');\r\n      $(`.pinapp-container`).css('width', '410px');\r\n      $('.backdrop').css('display', 'block');\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='backdrop' onClick={()=>this.onMouseLeave({detail: {width: \"0px\"}})}></div>\r\n        <div ref={this.setWrapperRef} className='pinapp-container' style={this.props.commonappImpacted ? {...this.props.commonappImpacted.commonStylingUpdated, ...this.props.StylingAttributes} : {...this.props.StylingAttributes}}>\r\n            <ApppLoaderFrame id={this.props.nestedElement.id} {...this.props.nestedElement} />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default PinAppWrapper;\r\n"],"sourceRoot":""}