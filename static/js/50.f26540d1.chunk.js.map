{"version":3,"sources":["components/Feedback/SessionTimeout.test.js","components/Feedback/SessionTimeout.js"],"names":["jest","mock","withTranslation","Component","defaultProps","t","key","describe","it","sethandleCancel","fn","mount","setdialogShow","dialogShow","find","at","Button","simulate","expect","calls","length","toEqual","withStyles","DialogBoxBackGround","textAlign","props","classes","getlogouturl","fetch","window","location","pathname","method","headers","then","response","json","data","localStorage","setItem","href","logout","origin","substring","showDialog","id","className","onClick","removeItem","autoFocus"],"mappings":"8LAKAA,KAAKC,KAAK,iBAAiB,iBAAO,CAChCC,gBAAiB,kBAAM,SAACC,GAEpB,OADAA,EAAUC,aAAY,2BAAQD,EAAUC,cAAY,IAAEC,EAAG,SAACC,GAAG,OAAKA,CAAG,IAC9DH,CACX,CAAC,EACF,IAEDI,SAAS,kBAAkB,WACvBC,GAAG,wBAAwB,WACzB,IAAMC,EAAkBT,KAAKU,KACbC,gBAAM,cAAC,UAAc,CAAEC,cAAeZ,KAAKU,KAAMG,YAAY,KACnDC,KAAK,kBAAkBC,GAAG,GAC1CD,KAAKE,KAAQC,SAAS,SAChCC,OAAOT,EAAgBR,KAAKkB,MAAMC,QAAQC,QAAQ,EACpD,GACJ,G,6NCiFenB,wBAAkBoB,IA3FlB,CACXC,oBAAqB,CACnBC,UAAW,sBAyFgBF,EArFjC,SAAwBG,GAQhBA,EALAC,QADJ,IAEIb,EAIAY,EAJAZ,WACAD,EAGAa,EAHAb,cA2CFe,GAxCEF,EAFApB,EACQ,YACRoB,EAAK,GAwCM,WAEfG,MAAM,GAAD,OAAIC,OAAOC,SAASC,SAAQ,UAAS,CACvCC,OAAQ,MACRC,QAAS,CACP,OAAU,mBACV,eAAgB,mBAChB,gBAAgB,eAGrBC,MAAK,SAAAC,GAAQ,OAAGA,EAASC,MAAM,IAC/BF,MAAK,SAAAG,GACJC,aAAaC,QAAQ,iBAAgB,GACrCD,aAAaC,QAAQ,iBAAgB,GACrCV,OAAOC,SAASU,KAAOH,EAAKI,OAASZ,OAAOC,SAASY,QAAuC,MAA7Bb,OAAOC,SAASC,SAAiB,GAAG,IAAIF,OAAOC,SAASC,SAASY,UAAU,EAAEd,OAAOC,SAASC,SAASX,OAAO,GAC7K,GACF,GAEE,OACI,mCACI,eAAC,UAAS,CAACwB,WAAY/B,EAAYgC,GAAI,cAAeC,UAAW,sBAAsB,UACnF,cAAC,IAAW,CAACD,GAAG,qBAAoB,SAAEpB,EAAMpB,EAAE,oBAC9C,cAAC,IAAa,UACV,cAAC,IAAiB,CAACwC,GAAG,2BAA0B,SAC3CpB,EAAMpB,EAAE,0BAGjB,cAAC,IAAa,UACV,cAAC,IAAM,CAAC0C,QAjER,WACdnC,IACA0B,aAAaU,WAAW,gBACxBV,aAAaU,WAAW,eACxBV,aAAaU,WAAW,eACxBV,aAAaU,WAAW,aACxBV,aAAaU,WAAW,cACxBV,aAAaU,WAAW,qBACxBV,aAAaU,WAAW,kBACxBV,aAAaU,WAAW,eACxBV,aAAaU,WAAW,YACxBV,aAAaU,WAAW,WACxBV,aAAaU,WAAW,aACxBV,aAAaU,WAAW,qBACxBV,aAAaU,WAAW,YACxBV,aAAaU,WAAW,kBACxBV,aAAaU,WAAW,aACxBV,aAAaU,WAAW,oBACxBV,aAAaU,WAAW,kBACxBV,aAAaU,WAAW,YACxBV,aAAaU,WAAW,YACxBV,aAAaU,WAAW,aACxBV,aAAaU,WAAW,eACxBV,aAAaU,WAAW,eACxBV,aAAaU,WAAW,qBACxBV,aAAaU,WAAW,sBACxBV,aAAaU,WAAW,WACxBV,aAAaU,WAAW,UACxBV,aAAaU,WAAW,eACxBV,aAAaU,WAAW,2BACxBV,aAAaU,WAAW,2BACxBV,aAAaU,WAAW,mBACxBV,aAAaU,WAAW,2BACxBV,aAAaU,WAAW,kBACxBV,aAAaU,WAAW,cACxBrB,GACN,EA6BkDsB,WAAS,WAClCxB,EAAMpB,EAAE,iBAMjC,I","file":"static/js/50.f26540d1.chunk.js","sourcesContent":["import React from 'react';\r\nimport SessionTimeout from './SessionTimeout'\r\nimport {shallow,mount} from 'enzyme';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\njest.mock(\"react-i18next\", () => ({\r\n  withTranslation: () => (Component) => {\r\n      Component.defaultProps = { ...Component.defaultProps, t: (key) => key };\r\n      return Component;\r\n  },\r\n}));\r\n\r\ndescribe('SessionTimeout', () => {\r\n    it(\"test handleCancel   \", () => {\r\n      const sethandleCancel = jest.fn();\r\n      const wrapper = mount(<SessionTimeout  setdialogShow={jest.fn()} dialogShow={true}></SessionTimeout>);\r\n      const component = wrapper.find(\"SessionTimeout\").at(0);\r\n      component.find(Button).simulate('click');\r\n      expect(sethandleCancel.mock.calls.length).toEqual(0);\r\n    });\r\n});","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport withStyles  from '@material-ui/core/styles/withStyles';\r\nimport { withTranslation } from 'react-i18next';\r\nimport DialogBox from '../DialogBox';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nconst styles = {\r\n    DialogBoxBackGround: {\r\n      textAlign: \"center !important\",\r\n    }\r\n  };\r\n\r\nfunction SessionTimeout(props) {\r\n\r\n    const {\r\n        classes,\r\n        dialogShow,\r\n        setdialogShow,\r\n        t,\r\n        ...other\r\n    } = props;\r\n\r\n/* istanbul ignore next */\r\nconst callTimeout = () => {\r\n      setdialogShow();\r\n      localStorage.removeItem(\"isAuthorized\");\r\n      localStorage.removeItem(\"activeToken\");\r\n      localStorage.removeItem(\"permissions\");\r\n      localStorage.removeItem(\"microapps\");\r\n      localStorage.removeItem(\"navigation\");\r\n      localStorage.removeItem(\"commonappImpacted\");\r\n      localStorage.removeItem(\"defaultAppLink\");\r\n      localStorage.removeItem(\"productName\");\r\n      localStorage.removeItem(\"app_link\");\r\n      localStorage.removeItem(\"authUrl\");\r\n      localStorage.removeItem(\"grantType\");\r\n      localStorage.removeItem(\"userInfoDialogMap\");\r\n      localStorage.removeItem(\"username\");\r\n      localStorage.removeItem(\"designTemplate\");\r\n      localStorage.removeItem(\"appfailed\");\r\n      localStorage.removeItem(\"headerMenuConfig\");\r\n      localStorage.removeItem(\"sessionTimeOut\");\r\n      localStorage.removeItem(\"UserInfo\");\r\n      localStorage.removeItem(\"tenantid\");\r\n      localStorage.removeItem(\"menuItems\");\r\n      localStorage.removeItem(\"licencesUrl\");\r\n      localStorage.removeItem(\"thankYouMsg\");\r\n      localStorage.removeItem(\"unlicensedMessage\");\r\n      localStorage.removeItem(\"showHeaderMenuIcon\");\r\n      localStorage.removeItem(\"polling\");\r\n      localStorage.removeItem(\"wsport\");\r\n      localStorage.removeItem(\"selectedApp\");\r\n      localStorage.removeItem(\"displayMenuItemOnHeader\");\r\n      localStorage.removeItem(\"displayMicroappOnHeader\");\r\n      localStorage.removeItem(\"applicationName\");\r\n      localStorage.removeItem(\"advanceNotificationMeta\");\r\n      localStorage.removeItem(\"selectedTenant\");\r\n      localStorage.removeItem(\"appVersion\");\r\n      getlogouturl();\r\n}\r\nconst getlogouturl=()=>{\r\n/* istanbul ignore next */\r\n    fetch(`${window.location.pathname}logout`,{\r\n       method: 'GET',\r\n       headers: {\r\n         'Accept': 'application/json',\r\n         'Content-Type': 'application/json',\r\n         'Cache-Control':' no-cache' \r\n       }\r\n   })\r\n   .then(response =>response.json())\r\n   .then(data => {\r\n     localStorage.setItem(\"sessionLogout\",true);\r\n     localStorage.setItem('logoutSuccess',true)\r\n     window.location.href = data.logout + window.location.origin + (window.location.pathname === '/'?\"\":\"/\"+window.location.pathname.substring(1,window.location.pathname.length-1));\r\n    });\r\n  }\r\n\r\n    return (\r\n        <>\r\n            <DialogBox showDialog={dialogShow} id={\"dialogPopup\"} className={\"genFrameDialogPopup\"}>\r\n                <DialogTitle id=\"alert-dialog-title\">{props.t('SessionTimeout')}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {props.t('SessionTimeoutInfo')}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={callTimeout} autoFocus>\r\n                        {props.t('Close')}\r\n                    </Button>\r\n                </DialogActions>\r\n            </DialogBox>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles)(SessionTimeout));\r\n"],"sourceRoot":""}