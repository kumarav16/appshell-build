{"version":3,"sources":["../node_modules/@baker-hughes-central-design/ui-toolkit/dist/esm/vaadin-button-72eefd1b.js","../node_modules/@baker-hughes-central-design/ui-toolkit/dist/esm/bh-button-dropdown.types-79dc3fef.js","../node_modules/@babel/runtime/helpers/esm/set.js","../node_modules/@baker-hughes-central-design/ui-toolkit/dist/esm/vaadin-grid.styles-556b22c5.js","../node_modules/@baker-hughes-central-design/ui-toolkit/dist/esm/bh-a_22.entry.js","../node_modules/@baker-hughes-central-design/ui-toolkit/dist/esm/utils-daa41c2c.js","../node_modules/@baker-hughes-central-design/ui-toolkit/dist/esm/v4-929670b7.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@baker-hughes-central-design/ui-toolkit/dist/esm/iron-scroll-target-behavior-5bd912f7.js","../node_modules/@baker-hughes-central-design/ui-toolkit/dist/esm/field-button-05bb7ace.js"],"names":["luxon","createCommonjsModule","module","exports","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","_setPrototypeOf","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","_construct","Parent","args","Class","a","push","apply","instance","Function","bind","arguments","_wrapNativeSuper","_cache","Map","undefined","fn","indexOf","TypeError","has","get","set","Wrapper","this","value","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelperLoose","Symbol","iterator","isArray","minLen","n","slice","name","from","test","_unsupportedIterableToArray","done","next","LuxonError","_Error","Error","InvalidDateTimeError","_LuxonError","reason","toMessage","InvalidIntervalError","_LuxonError2","InvalidDurationError","_LuxonError3","ConflictingSpecificationError","_LuxonError4","InvalidUnitError","_LuxonError5","unit","InvalidArgumentError","_LuxonError6","ZoneIsAbstractError","_LuxonError7","s","l","DATE_SHORT","year","month","day","DATE_MED","DATE_MED_WITH_WEEKDAY","weekday","DATE_FULL","DATE_HUGE","TIME_SIMPLE","hour","minute","TIME_WITH_SECONDS","second","TIME_WITH_SHORT_OFFSET","timeZoneName","TIME_WITH_LONG_OFFSET","TIME_24_SIMPLE","hour12","TIME_24_WITH_SECONDS","TIME_24_WITH_SHORT_OFFSET","TIME_24_WITH_LONG_OFFSET","DATETIME_SHORT","DATETIME_SHORT_WITH_SECONDS","DATETIME_MED","DATETIME_MED_WITH_SECONDS","DATETIME_MED_WITH_WEEKDAY","DATETIME_FULL","DATETIME_FULL_WITH_SECONDS","DATETIME_HUGE","DATETIME_HUGE_WITH_SECONDS","isUndefined","isNumber","isInteger","hasIntl","Intl","DateTimeFormat","hasFormatToParts","formatToParts","hasRelative","RelativeTimeFormat","bestBy","by","compare","reduce","best","pair","pick","obj","keys","k","hasOwnProperty","prop","integerBetween","thing","bottom","top","padStart","input","minus","repeat","parseInteger","string","parseInt","parseMillis","fraction","f","parseFloat","Math","floor","roundTo","number","digits","towardZero","factor","pow","trunc","round","isLeapYear","daysInYear","daysInMonth","modMonth","x","floorMod","objToLocalTS","d","UTC","millisecond","setUTCFullYear","getUTCFullYear","weeksInWeekYear","weekYear","p1","last","p2","untruncateYear","parseZoneInfo","ts","offsetFormat","locale","timeZone","date","intlOpts","modified","assign","intl","parsed","find","m","type","toLowerCase","without","format","substring","replace","signedOffset","offHourStr","offMinuteStr","offHour","Number","isNaN","offMin","is","asNumber","numericValue","normalizeObject","normalizer","nonUnitKeys","normalized","u","v","formatOffset","offset","hours","abs","minutes","sign","RangeError","timeObject","ianaRegex","stringify","JSON","sort","monthsLong","monthsShort","monthsNarrow","months","concat","weekdaysLong","weekdaysShort","weekdaysNarrow","weekdays","meridiems","erasLong","erasShort","erasNarrow","eras","stringifyTokens","splits","tokenToString","_step","_iterator","token","literal","val","_macroTokenToFormatOpts","D","DD","DDD","DDDD","t","tt","ttt","tttt","T","TT","TTT","TTTT","ff","fff","ffff","F","FF","FFF","FFFF","Formatter","formatOpts","opts","loc","systemLoc","parseFormat","fmt","current","currentFull","bracketed","c","charAt","macroTokenToFormatOpts","_proto","formatWithSystemDefault","dt","redefaultToSystem","dtFormatter","formatDateTime","formatDateTimeParts","resolvedOptions","num","forceSimple","padTo","numberFormatter","formatDateTimeFromString","_this","knownEnglish","listingMode","useDateTimeFormatter","outputCalendar","extract","isOffsetFixed","allowZ","isValid","zone","meridiem","meridiemForDateTime","standalone","monthForDateTime","weekdayForDateTime","era","eraForDateTime","offsetName","zoneName","weekNumber","ordinal","quarter","maybeMacro","formatDurationFromString","dur","lildur","_this2","tokenToField","tokens","realTokens","found","_ref","collapsed","shiftTo","map","filter","mapped","Invalid","explanation","Zone","equals","otherZone","singleton","LocalZone","_Zone","getTimezoneOffset","matchingRegex","RegExp","source","dtfCache","typeToPos","ianaZoneCache","IANAZone","valid","isValidZone","resetCache","isValidSpecifier","match","parseGMTOffset","specifier","NaN","dtf","_ref2","formatted","filled","_formatted$i","pos","partsOffset","exec","fMonth","fDay","hackyOffset","asTS","over","singleton$1","FixedOffsetZone","fixed","utcInstance","parseSpecifier","r","InvalidZone","normalizeZone","defaultZone","lowered","now","defaultLocale","defaultNumberingSystem","defaultOutputCalendar","throwOnInvalid","Settings","resetCaches","Locale","z","numberingSystem","intlDTCache","getCachedDTF","locString","intlNumCache","intlRelCache","getCachedRTF","cacheKeyOpts","excluded","sourceKeys","_objectWithoutPropertiesLoose","inf","sysLocaleCache","listStuff","defaultOK","englishFn","intlFn","mode","PolyNumberFormatter","useGrouping","minimumIntegerDigits","NumberFormat","getCachedINF","PolyDateFormatter","universal","gmtOffset","offsetZ","isOffsetZoneSupported","DateTime","fromMillis","_proto2","toJSDate","tokenFormat","knownFormat","dateTimeHuge","formatString","PolyRelFormatter","isEnglish","style","rtf","_proto3","count","numeric","narrow","units","years","quarters","weeks","days","seconds","lastable","isDay","isInPast","fmtValue","singular","lilUnits","fmtUnit","formatRelativeTime","numbering","specifiedLocale","_parseLocaleString","localeStr","uIndex","options","smaller","_options","calendar","parseLocaleString","parsedLocale","parsedNumberingSystem","parsedOutputCalendar","intlConfigString","weekdaysCache","monthsCache","meridiemCache","eraCache","fastNumbersCached","fromOpts","defaultToEN","computedSys","systemLocale","fromObject","_temp","_proto4","hasFTP","isActuallyEn","hasNoWeirdness","clone","alts","getOwnPropertyNames","redefaultToEN","formatStr","ms","utc","mapMonths","mapWeekdays","_this3","_this4","field","matching","fastNumbers","relFormatter","startsWith","other","combineRegexes","_len","regexes","_key","full","combineExtractors","_len2","extractors","_key2","ex","mergedVals","mergedZone","cursor","_ex","parse","_len3","patterns","_key3","_i","_patterns","_patterns$_i","regex","extractor","simpleParse","_len4","_key4","ret","offsetRegex","isoTimeBaseRegex","isoTimeRegex","isoTimeExtensionRegex","extractISOWeekData","extractISOOrdinalData","sqlTimeRegex","sqlTimeExtensionRegex","int","fallback","extractISOYmd","extractISOTime","milliseconds","extractISOOffset","local","fullOffset","extractIANAZone","isoTimeOnly","isoDuration","extractISODuration","yearStr","monthStr","weekStr","dayStr","hourStr","minuteStr","secondStr","millisecondsStr","hasNegativePrefix","negativeSeconds","maybeNegate","force","obsOffsets","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","fromStrings","weekdayStr","result","rfc2822","extractRFC2822","obsOffset","milOffset","rfc1123","rfc850","ascii","extractRFC1123Or850","extractASCII","isoYmdWithTimeExtensionRegex","isoWeekWithTimeExtensionRegex","isoOrdinalWithTimeExtensionRegex","isoTimeCombinedRegex","extractISOYmdTimeAndOffset","extractISOWeekTimeAndOffset","extractISOOrdinalDateAndTime","extractISOTimeAndOffset","extractISOTimeOnly","sqlYmdWithTimeExtensionRegex","sqlTimeCombinedRegex","extractISOYmdTimeOffsetAndIANAZone","extractISOTimeOffsetAndIANAZone","lowOrderMatrix","casualMatrix","daysInYearAccurate","daysInMonthAccurate","accurateMatrix","orderedUnits","reverseUnits","reverse","clear","conf","values","conversionAccuracy","Duration","convert","matrix","fromMap","fromUnit","toMap","toUnit","conv","raw","added","ceil","antiTrunc","config","accurate","invalid","isLuxonDuration","normalizeUnit","fromISO","text","_parseISODuration","parseISODuration","fromISOTime","_parseISOTimeOnly","parseISOTimeOnly","week","isDuration","toFormat","fmtOpts","toObject","base","includeConfig","toISO","toISOTime","millis","toMillis","suppressMilliseconds","suppressSeconds","includePrefix","str","toJSON","as","valueOf","plus","duration","friendlyDuration","negate","mapUnits","_Object$keys","reconfigure","normalize","vals","previous","normalizeValues","lastUnit","_step2","built","accumulated","_iterator2","own","ak","down","negated","_i2","_Object$keys2","_step3","_iterator3","v1","v2","durationish","INVALID$1","validateStartEnd","start","end","Interval","isLuxonInterval","fromDateTimes","builtStart","friendlyDateTime","builtEnd","validateError","after","before","_split","split","startIsValid","endIsValid","_dur","isInterval","toDuration","startOf","diff","hasSame","isEmpty","isAfter","dateTime","isBefore","contains","splitAt","dateTimes","sorted","results","splitBy","idx","divideEqually","numberOfParts","overlaps","abutsStart","abutsEnd","engulfs","intersection","union","merge","intervals","_intervals$sort$reduc","b","item","sofar","final","xor","_Array$prototype","currentCount","ends","time","difference","toISODate","dateFormat","_temp2","_ref3$separator","separator","invalidReason","mapEndpoints","mapFn","Info","hasDST","proto","setZone","isValidIANAZone","_ref$locale","_ref$numberingSystem","_ref$locObj","locObj","_ref$outputCalendar","monthsFormat","_ref2$locale","_ref2$numberingSystem","_ref2$locObj","_ref2$outputCalendar","_temp3","_ref3","_ref3$locale","_ref3$numberingSystem","_ref3$locObj","weekdaysFormat","_temp4","_ref4","_ref4$locale","_ref4$numberingSystem","_ref4$locObj","_temp5","_ref5$locale","_temp6","_ref6$locale","features","intlTokens","zones","relative","dayDiff","earlier","later","utcDayStart","toUTC","keepLocalTime","_diff","_highOrderDiffs","lowestOrder","highWater","_differs","_differs$_i","differ","_cursor$plus","_cursor$plus2","delta","highOrderDiffs","remainingMillis","lowerOrderUnits","_cursor$plus3","_Duration$fromMillis","numberingSystems","arab","arabext","bali","beng","deva","fullwide","gujr","hanidec","khmr","knda","laoo","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt","latn","numberingSystemsUTF16","hanidecChars","digitRegex","append","intUnit","post","deser","code","charCodeAt","search","_numberingSystemsUTF","min","max","parseDigits","spaceOrNBSP","String","fromCharCode","spaceOrNBSPRegExp","fixListRegex","stripInsensitivities","oneOf","strings","startIndex","join","findIndex","groups","simple","partTypeStyleToTokenVal","short","long","dayperiod","dayPeriod","dummyDateTimeCache","maybeExpandMacroToken","part","tokenForPart","includes","explainFromTokens","expandMacroTokens","one","two","three","four","six","oneOrTwo","oneToThree","oneToSix","oneToNine","twoToFour","fourToSix","_ref5","unitate","unitForToken","disqualifyingUnit","_buildRegex","buildRegex","regexString","handlers","_match","matches","all","matchIndex","h","rawMatches","_ref6","Z","q","M","G","y","S","toField","dateTimeFromMatches","nonLeapLadder","leapLadder","unitOutOfRange","dayOfWeek","js","getUTCDay","computeOrdinal","uncomputeOrdinal","table","month0","gregorianToWeek","gregObj","weekToGregorian","weekData","weekdayOfJan4","yearInDays","_uncomputeOrdinal","gregorianToOrdinal","gregData","ordinalToGregorian","ordinalData","_uncomputeOrdinal2","hasInvalidGregorianData","validYear","validMonth","validDay","hasInvalidTimeData","validHour","validMinute","validSecond","validMillisecond","INVALID$2","MAX_DATE","unsupportedZone","possiblyCachedWeekData","clone$1","inst","old","fixOffset","localTS","tz","utcGuess","o2","o3","tsToObj","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","objToTS","adjustTime","oPre","millisToAdd","_fixOffset","parseDataToDateTime","parsedZone","interpretationZone","toTechFormat","toTechTimeFormat","_ref$suppressSeconds","_ref$suppressMillisec","includeOffset","_ref$includePrefix","_ref$includeZone","includeZone","_ref$spaceZone","spaceZone","_ref$format","defaultUnitValues","defaultWeekUnitValues","defaultOrdinalUnitValues","orderedUnits$1","orderedWeekUnits","orderedOrdinalUnits","weeknumber","weeksnumber","weeknumbers","weekyear","weekyears","quickDT","tsNow","_objToTS","diffRelative","calendary","ot","_zone","isLuxonDateTime","fromJSDate","zoneToUse","fromSeconds","offsetProvis","containsOrdinal","containsGregorYear","containsGregorMD","containsGregor","definiteWeekDef","defaultValues","useWeekData","objNow","foundFirst","higherOrderInvalid","validWeek","validWeekday","hasInvalidWeekData","validOrdinal","hasInvalidOrdinalData","_objToTS2","_parseISODate","parseISODate","fromRFC2822","_parseRFC2822Date","trim","preprocessRFC2822","parseRFC2822Date","fromHTTP","_parseHTTPDate","parseHTTPDate","fromFormat","_opts","_opts$locale","_opts$numberingSystem","_parseFromTokens","_explainFromTokens","parseFromTokens","fromString","fromSQL","_parseSQL","parseSQL","isDateTime","resolvedLocaleOpts","_Formatter$create$res","toLocal","_ref3$keepLocalTime","_ref3$keepCalendarTim","keepCalendarTime","newTS","offsetGuess","setLocale","mixed","settingWeekStuff","_objToTS4","normalizedUnit","endOf","_this$plus","toLocaleString","toLocaleParts","_ref5$format","toISOWeekDate","_ref6$suppressMillise","_ref6$suppressSeconds","_ref6$includeOffset","_ref6$includePrefix","_ref6$format","toRFC2822","toHTTP","toSQLDate","toSQLTime","_ref7","_ref7$includeOffset","_ref7$includeZone","toSQL","toSeconds","toBSON","otherDateTime","durOpts","otherIsLater","diffed","diffNow","until","inputMs","otherZoneDateTime","toRelative","padding","toRelativeCalendar","every","fromFormatExplain","_options$locale","_options$numberingSys","fromStringExplain","dateTimeish","VERSION","$_documentContainer","html","document","head","appendChild","content","ButtonElement","setAttribute","$","button","_addActiveListeners","window","ShadyDOM","flush","hasAttribute","removeAttribute","addListener","disabled","addEventListener","keyCode","ElementMixin","ControlStateMixin","ThemableMixin","GestureEventListeners","PolymerElement","customElements","define","ERROR_MESSAGE","property","receiver","desc","superPropBase","getOwnPropertyDescriptor","_set","isStrict","registerStyles","css","moduleId","CheckboxElement","checked","_storedName","_nativeCheckbox","shadowRoot","querySelector","_handleClick","attrName","getAttribute","_updateLabelAttribute","label","assignedNodes","firstElementChild","_isAssignedNodesEmpty","nodes","nodeType","Node","TEXT_NODE","textContent","indeterminate","Boolean","_addEventListenerToNode","__interactionsAllowed","preventDefault","_toggleChecked","localName","composedPath","dispatchEvent","CustomEvent","composed","bubbles","notify","observer","reflectToAttribute","IOS","navigator","userAgent","IOS_TOUCH_SCROLLING","PolymerIronList","behaviors","IronResizableBehavior","IronScrollTargetBehavior","_ratio","_scrollerPaddingTop","_scrollPosition","_physicalSize","_physicalAverage","_physicalAverageCount","_physicalTop","_virtualCount","_estScrollHeight","_scrollHeight","_viewportHeight","_viewportWidth","_physicalItems","_physicalSizes","_firstVisibleIndexVal","_lastVisibleIndexVal","_maxPages","_focusedVirtualIndex","_templateCost","_physicalBottom","_scrollBottom","_virtualEnd","_virtualStart","_physicalCount","_hiddenContentSize","_maxScrollTop","_scrollOffset","_maxVirtualStart","_clamp","_virtualStartVal","_physicalStart","_physicalStartVal","_physicalEnd","_physicalCountVal","_optPhysicalSize","Infinity","_isVisible","offsetWidth","offsetHeight","firstVisibleIndex","physicalOffset","_iterateItems","pidx","vidx","lastVisibleIndex","attached","_debounce","_render","animationFrame","listen","detached","unlisten","updateViewportBoundaries","styles","getComputedStyle","scrollTarget","_isRTL","direction","items","_scrollTargetHeight","_scrollHandler","scrollTop","_scrollTop","isScrollingDown","idxAdjustment","_update","_getReusables","physicalTop","indexes","_increasePoolIfNeeded","microTask","fromTop","ith","offsetContent","physicalItemHeight","idxs","protectedOffsetContent","virtualStart","virtualEnd","physicalCount","scrollBottom","itemSet","movingUp","_assignModels","_updateMetrics","pop","_positionItems","_updateScrollerSize","_isClientFull","nextIncrease","performance","_createPool","_isIndexRendered","_getPhysicalIndex","idlePeriod","isAttached","_itemsChanged","change","path","_physicalIndexForKey","_resetScrollPosition","rtn","_computeVidx","newPhysicalSize","oldPhysicalSize","prevAvgCount","prevPhysicalAvg","_adjustScrollPosition","translate3d","deltaHeight","forceUpdate","height","scrollToIndex","currentTopItem","currentVirtualItem","targetOffsetTop","hiddenContentSize","_resetAverage","_resizeHandler","toggleScrollListener","cb","asyncModule","_debouncers","Debouncer","debounce","enqueueDebouncer","ScrollerElement","index","_warnPrivateAPIAccess","_scrollingToIndex","_effectiveSize","scrollHeight","_accessIronListAPI","_adjustVirtualIndexOffset","_vidxOffset","row","children","child","headerOffset","getBoundingClientRect","header","size","fvi","fviOffset","_firstVisibleIndex","_scrollToIndex","_focusedItemIndex","_itemsFocusable","activeElement","cellIndex","parentElement","focus","requestAnimationFrame","__updateFooterPositioning","rePosition","transform","_canPopulate","_initialPoolCreated","_debounceIncreasePool","remainingPhysicalSize","estimatedMissingRowCount","__reorderChildNodes","childNodes","inOrder","currentIndex","array","row1","row2","forEach","fragment","createDocumentFragment","physicalItems","_createScrollerRows","_getRowTarget","slot","afterNextRender","notifyResize","el","_toggleAttribute","_updateScrollerItem","oldOffset","_afterScroll","_noScale","scale","maxOffset","_warnPrivateAPIAccessAsyncEnabled","returnValue","_debouncerWarnPrivateAPIAccess","apiName","console","warn","isFocusable","parentNode","isFocusableElement","querySelectorAll","element","ItemCache","grid","parentCache","parentItem","itemCaches","effectiveSize","pendingRequests","isLoading","getCacheAndIndex","cache","scaledIndex","_isExpanded","prev","curr","subCache","updateSize","_loadPage","thisLevelIndex","expandedIndex","GridTemplatizer","_instanceProps","detailsOpened","selected","expanded","level","_ensureTemplatized","_TemplateClass","addInstance","_templateInstances","notifyPath","splice","templatize","template","instanceProps","parentModel","forwardHostProp","_forwardParentProp","notifyInstanceProp","originalProp","_grid","_itemsEqual","_item","cell","_instance","itemPrefix","itemsIndex","gridCallback","_parentPathValues","addedCount","keyName","dataHost","timeouts","DropMode","DropLocation","GridColumnElement","width","flexGrow","renderer","autoWidth","_bodyTemplate","_cells","_templateObserver","FlattenedNodesObserver","_headerTemplate","_prepareHeaderTemplate","_footerTemplate","_prepareFooterTemplate","_prepareBodyTemplate","templatizer","callback","_allCells","_content","_findHostGrid","removeChild","_gridValue","assignedSlot","_emptyCells","_headerCell","_footerCell","_prepareTemplatizer","_findTemplate","headerRenderer","__runRenderer","footerRenderer","model","cells","hidden","__getRowModel","_renderer","_template","innerHTML","createInstance","root","setProperties","__setColumnTemplateOrRenderer","headerTemplate","headerCell","footerTemplate","footerCell","__updateHeaderFooterRowVisibility","footer","getFlattenedNodes","node","classList","_selectFirstTemplate","_rootDataHost","_columnPropChanged","order","__forceReflow","frozen","_frozenCellsChanged","lastFrozen","_lastFrozen","bodyTemplate","hasHeaderText","__setTextContent","owner","_generateHeader","substr","lastIndexOf","toUpperCase","bool","reorderStatus","resizable","existingHandle","handle","createElement","textAlign","textAlignFallback","_previousHidden","_debouncerHiddenChanged","_renderColumnTree","_columnTree","_updateLastFrozen","_resetKeyboardNavigation","parent","_order","_reorderStatus","DirMixin","TOUCH_DEVICE","createEvent","GridElement","_onAnimationEnd","recalculateColumnWidths","oldValue","newValue","__isRTL","_updateScrollerMeasurements","clientHeight","_recalculateColumnWidthOnceLoadingFinished","__hasRowsWithClientHeight","cols","col","_origFlexGrow","_currentWidth","cellWidth","_getColumns","_recalculateColumnWidths","rows","_updateRow","isConnected","beforeNextRender","_updateFirstAndLastColumn","tagName","slotName","_contentIndex","cellContent","id","chrome","mouseUpListener","getRootNode","removeEventListener","setTimeout","columns","section","isColumnRow","noNotify","contentsFragment","_vacant","column","_createCell","_rowDetailsTemplate","rowDetailsRenderer","_detailsCells","detailsCell","_configureDetailsCell","_a11ySetRowDetailsCell","_column","_updateFirstAndLastColumnForRow","visibleRowCells","_preventScrollerRotatingCellFocus","_a11yUpdateRowRowindex","_getItem","columnTree","headerRow","footerRow","sizer","_a11yUpdateHeaderRows","_a11yUpdateFooterRows","_firefox","paddingBottom","heightByRows","_ios","CSS","supports","minHeight","maxHeight","scroller","_a11yUpdateRowSelected","_a11yUpdateRowLevel","_isDetailsOpened","_toggleDetailsCell","_generateCellClassNames","_filterDragAndDrop","__detailsOpened__","__selected__","__level__","__expanded__","_debouncerUpdateHeights","timeOut","_updateDetailsCellHeights","animationName","stopPropagation","__itemsReceived","__scrollToPendingIndex","webkitOverflowScrolling","_getIndexLevel","_isSelected","_renderHeaderAndFooter","_debouncerForceReflow","overflow","_safari","MSStream","platform","maxTouchPoints","_android","_touchDevice","_updateItem","ensureSubCacheForScaledIndex","_getPageForIndex","expandItem","collapseItem","itemIdPath","__expandedKeys","getItemId","__cacheExpandedKeys","expandedItems","Set","add","_getItemIndexInArray","_hasData","page","dataProvider","_setLoading","params","pageSize","sortOrders","_mapSorters","filters","_mapFilters","currentItems","itemIndex","_debouncerApplyCachedData","getItemForIndex","_setPendingProperty","oldPageSize","clearCache","oldDataProvider","_ensureFirstPageLoaded","_debouncerCheckSize","_checkSize","item1","item2","__pendingScrollToIndex","loading","readOnly","DataProviderMixin","splices","_arrayDataProvider","_filters","_checkPaths","_filter","_sorters","_multiSort","arrayToCheck","action","parentProperty","Base","_compare","_normalizeEmptyValue","filterValueLowercase","ArrayDataProviderMixin","_addNodeObserver","_isColumnElement","_getChildColumns","_hasColumnGroups","_flattenColumnGroups","_getColumnTree","_arrayEquals","_observer","info","rowDetailsTemplate","addedNodes","hasColumnElements","nodeCollection","removedNodes","allRemovedCells","flatMap","filterNotConnected","__removeSorters","__removeFilters","_updateColumnTree","_debouncerCheckImports","_checkImports","arr1","elementName","ELEMENT_NODE","DynamicColumnsMixin","_onClick","_activateItem","detail","clickedItem","activeItem","defaultPrevented","_isFocusable","ActiveItemMixin","_scrollLineHeight","_getScrollLineHeight","fontSize","display","body","_scrollPageHeight","outerscroller","_onWheel","_rowWithFocusedElement","__mouseDown","__pendingReorder","_reorderRows","ctrlKey","_hasScrolledAncestor","deltaX","deltaY","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","_wheelAnimationFrame","_deltaYAcc","_debouncerWheelAnimationFrame","momentum","_canScroll","scrollLeft","_hasResidualMomentum","_ignoreNewWheel","_debouncerIgnoreNewWheel","_previousMomentum","scrollWidth","_scrollingFrame","_debounceScrolling","cancelAnimationFrame","_translateStationaryElements","_scheduleScrolling","_updateOverflow","clientWidth","_debounceOverflow","adjustedVirtualStart","targetRow","targetPhysicalIndex","insertBefore","_debouncerCacheElements","_frozenCells","__scrollerMetrics","columnsRow","_scrollLeft","leftOffset","topOffset","footerOffset","_useSticky","offsetTop","_getTranslate","__getNormalizedScrollLeft","frozenCellTransform","Element","ScrollMixin","selectedItems","selectItem","deselectItem","SelectionMixin","_onSorterChanged","sorter","__updateSorter","__applySorters","sortersToRemove","multiSort","__updateSortOrders","_removeArrayItem","unshift","otherSorters","_previousSorters","_a11yUpdateSorters","SortMixin","_a11yUpdateRowDetailsOpened","detailsOpenedItems","changeRecord","detailsHidden","hiddenChanged","removeProperty","setProperty","openItemDetails","closeItemDetails","RowDetailsMixin","_onKeyDown","_onKeyUp","_onFocusIn","_onFocusOut","_onCellFocusIn","_onCellFocusOut","_isMousedown","focusable","oldFocusable","keyGroup","_detectInteracting","indexOfChildElement","visibleItemsCount","_lastVisibleIndex","dx","dy","activeCell","columnIndex","isRowDetails","_elementMatches","activeRow","activeRowGroup","maxRowIndex","rowIndex","dstRowIndex","dstIsRowDetails","dstItem","_focusedColumnOrder","dstColumns","dstSortedColumnOrders","maxOrderedColumnIndex","orderedColumnIndex","dstOrderedColumnIndex","_ensureScrolledToIndex","dstColumnIndex","acc","dstRow","dstCell","_scrollHorizontallyToCell","dstRect","footerTop","headerBottom","tableIndex","rowGroup","wantInteracting","localTarget","localTargetIsTextInput","_parseEventPath","focusTarget","srcElement","step","tabOrder","_headerFocusable","_footerFocusable","focusexit","_predictFocusStepTarget","shiftKey","itemsFocusTarget","focusedItemRow","wasNavigating","click","rootTarget","_activeRowGroup","_detectFocusedItemIndex","some","_navigatingIsHidden","columnTreeLevel","firstVisibleIndexRow","dstCellRect","dstCellIndex","tableRect","leftBoundary","left","rightBoundary","right","query","KeyboardNavigationMixin","bodyColumns","_a11yGetHeaderRowCount","_a11yGetFooterRowCount","colspan","asc","A11yMixin","_filterChanged","__addFilter","__applyFilters","filtersToRemove","FilterMixin","_onTrackEvent","_reorderGhost","_onTouchStart","_onTouchMove","_onTouchEnd","_onContextMenu","_startTouchReorderTimeout","_onTrackStart","touches","clientX","clientY","_draggedColumn","clearTimeout","_onTrackEnd","state","_onTrack","columnReorderingAllowed","_cellFromPoint","childElementCount","_setSiblingsReorderStatus","_updateGhost","visibility","_updateGhostPosition","_autoScroller","targetCell","targetColumn","_getTargetColumn","_isSwapAllowed","_isSwappableByPosition","_swapColumnOrders","_lastDragClientX","_getColumnsInOrder","elementFromPoint","eventClientX","eventClientY","ghostRect","targetLeft","targetTop","_left","_top","ghost","innerText","propertyName","_orderBaseScope","status","sibling","rightDiff","leftDiff","async","column1","column2","differentColumns","sameParent","sameFrozen","sourceCellRect","targetRect","draggedColumn","candidate","ColumnReorderingMixin","_onHeaderTrack","_childColumns","columnRowCells","minWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","marginLeft","marginRight","maxWidth","resizedColumn","ColumnResizingMixin","event","context","EventContextMixin","_onDragStart","_onDragEnd","_onDragOver","_onDragLeave","_onDrop","dropMode","rowsDraggable","rowRect","dataTransfer","setDragImage","__getViewportRows","dragFilter","setData","__formatDefaultTransferData","updateStyles","draggedItems","setDragData","data","setDraggedItemsCount","originalEvent","_clearDragStyles","_dropLocation","_dragOverItem","__dndAutoScroll","dropAbove","__dndAutoScrolling","topDiff","__dndAutoScrollThreshold","bottomDiff","scrollTopDelta","dragData","types","getData","cancelable","dropTargetItem","dropLocation","filterDragAndDrop","dragDisabled","dropDisabled","dropFilter","DragAndDropMixin","generateCellClassNames","__generatedClasses","className","remove","cellClassNameGenerator","StylingMixin","CreateDomModules","DomModule","DomModuleCheckbox","BhA","hostRef","registerInstance","font","isDisabled","noUnderline","externalLink","linkClasses","rightIconClasses","href","Host","class","leftIcon","rightIcon","BhActionBar","ctaClick","bhEventCtaClick","_footerActions","footerActions","bp","getBreakpoint","viewport","prefix","host","components","actionBar","tagNameBase","Components","generateComponentLiteralWithPrefix","isSmall","isFluid","onClick","emit","getElement","BhAppShell","isSettingsMenuOpenUpdate","bhEventSelected","bhEventChange","bhEventScroll","isMobileMenuOpen","isSettingsMenuOpen","isSideMenuOpen","sideMenuHovered","renderMobile","innerWidth","headerLimit","mobileViewLabel","progressBarSize","navMenuStaggerAnimation","isMenuOpen","payload","_iconLinks","iconLinks","navigation","_navigation","_a","_navigationSelected","navigationSelected","settings","_settings","log","settingsSelected","_settingsSelected","submenuItem","setting","clicked","vh","innerHeight","documentElement","_b","_c","appShell","withBreadcrumbs","nodeName","settingsMenu","userfirstname","userlastname","userimage","useremail","navMenu","appShellMenu","breadcrumbs","progressBar","shellClasses","hamburgerClasses","onScroll","onAppShellWrapperScroll","appname","logo","applogo","closeSettingsMenu","onBhEventCtaClick","tabIndex","handleClickMenuToggle","onKeyDown","menuItem","icon","isSelected","handleNavigationItemUpdate","avatar","firstname","lastname","image","isRing","isActive","userInfo","email","onBhEventSelected","handleSettingsItemUpdate","BhBreadcrumbs","opened","itemSelectedUpdate","bhEventOpen","bhEventClose","inlineStyle","isBorder","inlineAnchorId","isInline","menuWidth","isOptionMenuOpen","isOptionMenuHorizontallyFlipped","isTruncationMenuOpen","truncateIndex","_items","handleTruncation","handleInlineProperty","setOptionMenuPosition","styleMenu","isOpen","disableScroll","enableScroll","isInlineStyleSet","getElementById","inlineUuid","tar","element__menu__option","position","wheelEvent","wheelOpt","_d","element__label","element__container","getPropertyValue","firstItemWidth","handleItemSelection","element__truncation","element__menu__truncation","v4","breadcrumbsGlobalClickEvent","ref","_e","_f","_g","_h","_j","menu","menuItems","itemGroups","opt","menuHeight","handleOptionSelection","handleTruncationSelection","BhButton","disableTooltip","isIconOnly","hideTooltip","containerClasses","buttonClasses","tooltipMessage","labelClasses","iconClasses","color","tooltip","message","placement","hide","pointerEvents","TRUNCATION_MENU","BhButtonTabs","activeTabUpdate","hideToolip","truncateIndexPrev","isInUpdate","fullText","showTooltip","setActiveKey","activeKey","tars","element__wrapper","selectedKey","preventEventEmission","element__active_highlight","truncate","offsetLeft","changeItems","tabsGlobalClickEvent","_timeout","_interval","setInterval","clearInterval","that","toggleTrucateMenu","buttonTabs","preventDefaultForScrollKeys","getHideTooltip","isFocused","BhCard","isExpandable","parseHeaderActionsData","parseFooterActionsData","_actionMenu","actionMenu","setViewport","headerActionsRaw","headerActions","firstHeaderCtaItem","buttonType","_headerActions","headerActionsRawItem","buttonLabel","buttonKey","buttonIcon","footerActionsRaw","firstFooterCtaItem","footerActionsRawItem","parseData","card","defaultPrefix","headerActionsSlot","withHeaderActionSlot","element__actionMenu","element__button","footerActionsSlot","withFooterActionSlot","buttonGroup","_k","_l","_m","_o","_p","_q","_r","_s","headerClasses","headingClasses","subtextClasses","headerCtaProps","tabindex","heading","toggleOpen","subtext","isMultiSelect","isSearchable","isUnselectable","placeholder","iconOverride","divider","ctas","border","BhCheckbox","isChecked","isIndeterminate","isError","isUnfocusable","checkbox","inputClasses","onChange","formMessage","BhChip","theme","selectable","selectedColor","selectedTheme","chipEl","chipElement","dismissed","link","rel","dismissible","title","plain","removeChip","BhContent","progressBarMode","contentPush","showProgressBar","isNoPadding","_backgroundColor","backgroundColor","breakpoint","contentClasses","overlayClasses","progress","marginTop","BhDateRangePicker","startDateLabel","endDateLabel","isReadOnly","isInvalid","isRequired","errorMessage","getDaysArray","setDate","getDate","whenDefined","then","startDatePicker","el__container","endDatePicker","startDt","startValue","endDt","endValue","daylist","toISOString","dateRangePicker","datePicker","el__endpicker","minValue","BhDonutChart","defaultPalette","DesignTokens","colorFill","dataVizDefault_1","dataVizDefault_2","dataVizDefault_3","dataVizDefault_4","dataVizDefault_5","dataVizDefault_6","dataVizDefault_7","dataVizDefault_8","comparisonPalette","dataVizComparisonPrimary","dataVizComparisonSecondary","legendLayout","disabledDatasetIndex","isMaxedOut","toMax","dataToRender","_data","originalDataStr","datasets","componentDidLoad","_option","option","_label","_chartOptionOverride","chartOptionOverride","_theme","_t","_u","_v","_w","_x","ctx","element__canvas","getContext","_DesignTokens","Chart","defaults","DoughnutWithDecoration","doughnut","controllers","extend","draw","ease","ratio","_chart","canvas","thickness","save","beginPath","arc","PI","lineWidth","strokeStyle","colors","gray_050","stroke","restore","getDefaultDonutColor","maxValue","_chartOption","commonSecondary","labels","lineTension","borderWidth","borderColor","white_100","hoverBorderColor","hoverBorderWidth","styleOverride","hoverBackgroundColor","pointRadius","pointHoverRadius","pointHitRadius","cutoutPercentage","responsive","tooltips","enabled","intersect","caretSize","caretPadding","spacing","paddingXsmall","titleFontFamily","fontFamily","bodySmall","bodyFontFamily","titleSpacing","paddingXxsmall","bodySpacing","cornerRadius","effectBorderRadius","medium","xPadding","yPadding","custom","tooltipSetting","tooltipModel","tooltipEl","element__tooltip","opacity","yAlign","titleLines","bodyLines","bodyItem","lines","innerHtml","dataPoints","labelColors","effectBorderWidth","thick","decorator","marginXsmall","span","getNumberToDisplay","suffix","canvasWidth","caretX","leftPos","caretY","_bodyFontFamily","bodyFontSize","fontStyle","_bodyFontStyle","transition","motionDuration","normal","motionEasing","colorText","commonInversePrimary","controlUnselected","borderRadius","commonOverlay","zIndex","maintainAspectRatio","legend","legendCallback","chart","dataset","renderLabels","disableLegend","element__legends","generateLegend","bindLegendClickEvent","legendItems","baseHexColor","getChartColor","defaultColor","isStyleOverride","overrideColor","update","isShortScale","toFixed","sum","subheader","BhDropdown","showAllLabel","flipOffset","isFlipped","searchMode","handlerCtaClick","element__dropdownInput","interval","setIsFlipped","initiator","closeMenu","err","ERROR_MESSAGE$1","selectedValue","keySelected","checkedItem","isSelectedAll","selection","element__dropdownMenu","supportsPassive","passive","bindDropdownClickEvent","element__host","shouldFlip","element__dropdownMenuGhost","dropdown","getMenuWidth","readonly","handleClick","onFocus","onBlur","isDropDownMenu","isSelectAll","isEllipsis","onMultiselectChange","onUnselect","isItemPaddingRight","onBhEventChange","onSelect","onClose","BhIconColorList","BhIcon","BhModal","wrapperIsOpen","isDismissible","setStyle","modalMaxWidth","containerStyle","subheaderStyle","modalBody","_ctas","focusableContents","firstFocusableElement","lastFocusableElement","modal","closeModal","cta","onCtaClick","Helper","object","firstSegment","remaining","dotIndex","list","getDescendantProperty","FuzzySearch","haystack","caseSensitive","score","isMatch","propertyValues","toLocaleLowerCase","nearestIndexesFor","letters","indexesOfFirstLetter","startingIndex","loopingIndex","letter","letterIndexes","BhSearch","disableFuzzySearch","isRounded","filterQuery","_searchBtn","searchParams","_searchParams","timer","searchResults","searcher","isButtonSearch","onSearchClick","textInputClasses","searchButtonClasses","onKeyUp","onInputChange","disableHelper","textInput","onBhEventInput","getButtonType","GridSelectionColumnElement","_boundOnActiveItemChanged","_onActiveItemChanged","_boundOnDataProviderChanged","_onDataProviderChanged","_boundOnSelectedItemsChanged","_onSelectedItemsChanged","__cleanCellsOfTemplateProperties","defaultHeaderTemplate","defaultBodyTemplate","selectAll","_selectAllChangeLock","_indeterminate","autoSelect","_previousActiveItem","_toggleItem","_arrayContains","_selectAllHidden","BhTabularList","bhEventAppended","_rowsSelected","_sortedData","filterQueries","isContextMenuShown","isFirstTimeToRender","templateEvents","readyToBlurWithTabShift","handleUpdateDataToShow","filterWithWholeSearch","paginationOptions","handlePaginationChange","itemCount","_itemCount","currentPage","_currentPage","dataLoadingMode","_","isEqual","sortState","targetHeaderTemplateElement","el__grid","isWindowResizing","windowResizeTimeout","_header","handlePaginationReset","clearSearchResults","searchQuery","_payload","sortBy","dataType","hooks","dataToShow","fq","datum","disableSort","paginationMode","dataIndexStart","dataIndexEnd","handleSort","arg","disableDefaultSort","getEventContext","open","schema","_schema","_selectedItems","_customSelectionEnabled","customSelectionEnabled","isMultiRowsSelectable","_customCheckkbox","CreateDomModules$1","innerContent","el__tooltipGhostElement","el__tooltip","el__tooltipMessage","eventTargetRect","getClientRects","containerRect","leftPostion","schemaPartial","propTar","queryTar","tabularList","hasHTMLTemplate","selection_columns","_mouseOverEvent","mouseOverEvent","_mouseLeaveEvent","mouseLeaveEvent","_y","_z","_0","columnSearchTemplate","searchPlaceHolder","searchType","component","isSortable","disableSearchProps","getElementsByTagName","stopImmediatePropagation","selectedDate","columnSearchQuery","onkeyup","onclick","handleSorting","events","eventDefinition","_func","func","rowId","itemRaw","selectAllCheckbox","hideMultiRowsSelectable","newPayload","replaceChild","isRowSelectable","childNode","columnHeight","initHeight","appendHtmlTemplate","contextMenu","el__contextMenuContainer","setSelectedItems","selectAllMode","attribute","targetCellWithTemplate","closest","focusedFormElement","vaadinGridCellContent","focusedCellElement","focusableElement","filterFormElements","focusFormIndex","_1","_2","_3","_4","_5","_6","_7","_8","_9","_10","_11","_12","_13","_14","_15","_16","_17","_18","_19","_20","_21","_22","_23","_24","_25","_26","_27","_28","_29","_30","_31","headerCtaProp","totalItemCount","fluid","onQuery","onContextMenu","onTouchStart","contextMenuTimeout","onTouchEnd","gridtype","columnReorderingDisabled","shouldoverflow","noverticalborder","hideCellVerticalBorder","searchmode","rowselection","linkitem","handleLinkClick","handleKeyDown","el__grid_column","parseWidth","spinner","pagination","itemCountOptions","BhTextInput","bhEventInput","bhEventBlur","maxLength","isSmallWidth","startIcon","startIconClasses","unitClasses","renderIconColor","setInputLeftPadding","maxlength","pattern","handleBlur","handleChange","onInput","handleInput","endIcon","BhTitleWrapper","_cta","titleWrapper","element__buttons","element__supplemental_action_menu","titleClasses","ctaProps","primary","secondary","ghostCta","BhTypeAhead","showRecentSearches","existingSearches","localStorage","getItem","setItem","recentSearches","filteredMenuItems","typeAhead","element__typeAheadMenu","isTypeAhead","ProgressBarElement","newNormalizedValue","_normalizeValue","newV","oldV","nV","include","$_documentContainer$1","UploadFileElement","abort","_remove","file","attributeName","shouldHave","UploadElement","_onDragover","_onDragleave","_onFileRetry","_onFileAbort","_onFileRemove","_onFileStart","bytes","i18n","formatSize","sizeBase","dec","unitSizes","timeValues","formatTime","totalStr","loaded","uploading","remainingTime","remainingStr","unknown","maxFiles","numFiles","nodrop","_dragover","_dragoverValid","maxFilesReached","dropEffect","_addFiles","files","XMLHttpRequest","xhr","headers","setRequestHeader","timeout","withCredentials","total","elapsed","elapsedStr","_formatTime","_splitTimeByUnits","speed","_formatSize","loadedStr","_formatFileProgress","complete","_uploadFile","stalledId","ini","_createXhr","upload","onprogress","error","_setStatus","stalled","_notifyFileChanges","processing","onreadystatechange","readyState","serverUnavailable","unexpectedServerError","forbidden","formData","FormData","uploadTarget","formDataName","method","_configureXhr","connecting","held","onloadstart","send","_addFile","tooManyFiles","maxFileSize","fileIsTooBig","fileExt","re","accept","noAuto","incorrectFileType","__resetMouseCanceller","_onAddFilesClick","resetMouseCanceller","fileInput","_retryFileUpload","_abortFileUpload","_removeFile","dragover","dragoverValid","plural","many","computed","capture","dropFiles","addFiles","cancel","BhUploader","bhUploadSucess","bhUploadStart","bhUploadError","bhUploadProgress","bhFileReject","bhFilesChanged","bhMaxFilesReachedChanged","bhUploadAbort","bhUploadBefore","bhUploadRequest","bhUploadResponse","bhUploadRetry","fileType","el__uploader","uploadFiles","DomModuleUploaderUpload","DomModuleUploaderFile","DomModuleUploaderProgressBar","uploader","helpText","BhVerticalMenu","_selected","_menuItems","verticalMenu","onSelected","w","breakpoints","LayoutMediaQueryLarge","LayoutMediaQueryMedium","parseMessage","bTagStart","bTagEnd","tags","tag","getRandomValues","rnds8","Uint8Array","rng","crypto","msCrypto","REGEX","validate","uuid","byteToHex","buf","rnds","random","_createForOfIteratorHelper","allowArrayLike","it","normalCompletion","didErr","_e2","properties","HTMLElement","_defaultScrollTarget","observers","_shouldHaveListener","_scrollTargetChanged","_oldScrollTarget","_toggleScrollListener","_doc","domHost","dom","ownerDocument","_isValidScrollTarget","pageYOffset","pageXOffset","scrollTo","scroll","leftOrOptions","_scrollTargetWidth","yes","eventTarget","_boundScrollHandler"],"mappings":"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","file":"static/js/78.65bcf9c4.chunk.js","sourcesContent":["import { c as createCommonjsModule } from './_commonjsHelpers-11ca3be1.js';\nimport { h as html, E as ElementMixin, C as ControlStateMixin, T as ThemableMixin, G as GestureEventListeners, P as PolymerElement, b as addListener } from './iron-resizable-behavior-b5089143.js';\n\nvar luxon = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o) {\n  var i = 0;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  i = o[Symbol.iterator]();\n  return i.next.bind(i);\n}\n\n// these aren't really private, but nor are they really useful to document\n\n/**\n * @private\n */\nvar LuxonError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(LuxonError, _Error);\n\n  function LuxonError() {\n    return _Error.apply(this, arguments) || this;\n  }\n\n  return LuxonError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * @private\n */\n\n\nvar InvalidDateTimeError = /*#__PURE__*/function (_LuxonError) {\n  _inheritsLoose(InvalidDateTimeError, _LuxonError);\n\n  function InvalidDateTimeError(reason) {\n    return _LuxonError.call(this, \"Invalid DateTime: \" + reason.toMessage()) || this;\n  }\n\n  return InvalidDateTimeError;\n}(LuxonError);\n/**\n * @private\n */\n\nvar InvalidIntervalError = /*#__PURE__*/function (_LuxonError2) {\n  _inheritsLoose(InvalidIntervalError, _LuxonError2);\n\n  function InvalidIntervalError(reason) {\n    return _LuxonError2.call(this, \"Invalid Interval: \" + reason.toMessage()) || this;\n  }\n\n  return InvalidIntervalError;\n}(LuxonError);\n/**\n * @private\n */\n\nvar InvalidDurationError = /*#__PURE__*/function (_LuxonError3) {\n  _inheritsLoose(InvalidDurationError, _LuxonError3);\n\n  function InvalidDurationError(reason) {\n    return _LuxonError3.call(this, \"Invalid Duration: \" + reason.toMessage()) || this;\n  }\n\n  return InvalidDurationError;\n}(LuxonError);\n/**\n * @private\n */\n\nvar ConflictingSpecificationError = /*#__PURE__*/function (_LuxonError4) {\n  _inheritsLoose(ConflictingSpecificationError, _LuxonError4);\n\n  function ConflictingSpecificationError() {\n    return _LuxonError4.apply(this, arguments) || this;\n  }\n\n  return ConflictingSpecificationError;\n}(LuxonError);\n/**\n * @private\n */\n\nvar InvalidUnitError = /*#__PURE__*/function (_LuxonError5) {\n  _inheritsLoose(InvalidUnitError, _LuxonError5);\n\n  function InvalidUnitError(unit) {\n    return _LuxonError5.call(this, \"Invalid unit \" + unit) || this;\n  }\n\n  return InvalidUnitError;\n}(LuxonError);\n/**\n * @private\n */\n\nvar InvalidArgumentError = /*#__PURE__*/function (_LuxonError6) {\n  _inheritsLoose(InvalidArgumentError, _LuxonError6);\n\n  function InvalidArgumentError() {\n    return _LuxonError6.apply(this, arguments) || this;\n  }\n\n  return InvalidArgumentError;\n}(LuxonError);\n/**\n * @private\n */\n\nvar ZoneIsAbstractError = /*#__PURE__*/function (_LuxonError7) {\n  _inheritsLoose(ZoneIsAbstractError, _LuxonError7);\n\n  function ZoneIsAbstractError() {\n    return _LuxonError7.call(this, \"Zone is an abstract class\") || this;\n  }\n\n  return ZoneIsAbstractError;\n}(LuxonError);\n\n/**\n * @private\n */\nvar n = \"numeric\",\n    s = \"short\",\n    l = \"long\";\nvar DATE_SHORT = {\n  year: n,\n  month: n,\n  day: n\n};\nvar DATE_MED = {\n  year: n,\n  month: s,\n  day: n\n};\nvar DATE_MED_WITH_WEEKDAY = {\n  year: n,\n  month: s,\n  day: n,\n  weekday: s\n};\nvar DATE_FULL = {\n  year: n,\n  month: l,\n  day: n\n};\nvar DATE_HUGE = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l\n};\nvar TIME_SIMPLE = {\n  hour: n,\n  minute: n\n};\nvar TIME_WITH_SECONDS = {\n  hour: n,\n  minute: n,\n  second: n\n};\nvar TIME_WITH_SHORT_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: s\n};\nvar TIME_WITH_LONG_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: l\n};\nvar TIME_24_SIMPLE = {\n  hour: n,\n  minute: n,\n  hour12: false\n};\n/**\n * {@link toLocaleString}; format like '09:30:23', always 24-hour.\n */\n\nvar TIME_24_WITH_SECONDS = {\n  hour: n,\n  minute: n,\n  second: n,\n  hour12: false\n};\n/**\n * {@link toLocaleString}; format like '09:30:23 EDT', always 24-hour.\n */\n\nvar TIME_24_WITH_SHORT_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  hour12: false,\n  timeZoneName: s\n};\n/**\n * {@link toLocaleString}; format like '09:30:23 Eastern Daylight Time', always 24-hour.\n */\n\nvar TIME_24_WITH_LONG_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  hour12: false,\n  timeZoneName: l\n};\n/**\n * {@link toLocaleString}; format like '10/14/1983, 9:30 AM'. Only 12-hour if the locale is.\n */\n\nvar DATETIME_SHORT = {\n  year: n,\n  month: n,\n  day: n,\n  hour: n,\n  minute: n\n};\n/**\n * {@link toLocaleString}; format like '10/14/1983, 9:30:33 AM'. Only 12-hour if the locale is.\n */\n\nvar DATETIME_SHORT_WITH_SECONDS = {\n  year: n,\n  month: n,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n\n};\nvar DATETIME_MED = {\n  year: n,\n  month: s,\n  day: n,\n  hour: n,\n  minute: n\n};\nvar DATETIME_MED_WITH_SECONDS = {\n  year: n,\n  month: s,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n\n};\nvar DATETIME_MED_WITH_WEEKDAY = {\n  year: n,\n  month: s,\n  day: n,\n  weekday: s,\n  hour: n,\n  minute: n\n};\nvar DATETIME_FULL = {\n  year: n,\n  month: l,\n  day: n,\n  hour: n,\n  minute: n,\n  timeZoneName: s\n};\nvar DATETIME_FULL_WITH_SECONDS = {\n  year: n,\n  month: l,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: s\n};\nvar DATETIME_HUGE = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n  hour: n,\n  minute: n,\n  timeZoneName: l\n};\nvar DATETIME_HUGE_WITH_SECONDS = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: l\n};\n\n/*\n  This is just a junk drawer, containing anything used across multiple classes.\n  Because Luxon is small(ish), this should stay small and we won't worry about splitting\n  it up into, say, parsingUtil.js and basicUtil.js and so on. But they are divided up by feature area.\n*/\n/**\n * @private\n */\n// TYPES\n\nfunction isUndefined(o) {\n  return typeof o === \"undefined\";\n}\nfunction isNumber(o) {\n  return typeof o === \"number\";\n}\nfunction isInteger(o) {\n  return typeof o === \"number\" && o % 1 === 0;\n}\nfunction isString(o) {\n  return typeof o === \"string\";\n}\nfunction isDate(o) {\n  return Object.prototype.toString.call(o) === \"[object Date]\";\n} // CAPABILITIES\n\nfunction hasIntl() {\n  try {\n    return typeof Intl !== \"undefined\" && Intl.DateTimeFormat;\n  } catch (e) {\n    return false;\n  }\n}\nfunction hasFormatToParts() {\n  return !isUndefined(Intl.DateTimeFormat.prototype.formatToParts);\n}\nfunction hasRelative() {\n  try {\n    return typeof Intl !== \"undefined\" && !!Intl.RelativeTimeFormat;\n  } catch (e) {\n    return false;\n  }\n} // OBJECTS AND ARRAYS\n\nfunction maybeArray(thing) {\n  return Array.isArray(thing) ? thing : [thing];\n}\nfunction bestBy(arr, by, compare) {\n  if (arr.length === 0) {\n    return undefined;\n  }\n\n  return arr.reduce(function (best, next) {\n    var pair = [by(next), next];\n\n    if (!best) {\n      return pair;\n    } else if (compare(best[0], pair[0]) === best[0]) {\n      return best;\n    } else {\n      return pair;\n    }\n  }, null)[1];\n}\nfunction pick(obj, keys) {\n  return keys.reduce(function (a, k) {\n    a[k] = obj[k];\n    return a;\n  }, {});\n}\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n} // NUMBERS AND STRINGS\n\nfunction integerBetween(thing, bottom, top) {\n  return isInteger(thing) && thing >= bottom && thing <= top;\n} // x % n but takes the sign of n instead of x\n\nfunction floorMod(x, n) {\n  return x - n * Math.floor(x / n);\n}\nfunction padStart(input, n) {\n  if (n === void 0) {\n    n = 2;\n  }\n\n  var minus = input < 0 ? \"-\" : \"\";\n  var target = minus ? input * -1 : input;\n  var result;\n\n  if (target.toString().length < n) {\n    result = (\"0\".repeat(n) + target).slice(-n);\n  } else {\n    result = target.toString();\n  }\n\n  return \"\" + minus + result;\n}\nfunction parseInteger(string) {\n  if (isUndefined(string) || string === null || string === \"\") {\n    return undefined;\n  } else {\n    return parseInt(string, 10);\n  }\n}\nfunction parseMillis(fraction) {\n  // Return undefined (instead of 0) in these cases, where fraction is not set\n  if (isUndefined(fraction) || fraction === null || fraction === \"\") {\n    return undefined;\n  } else {\n    var f = parseFloat(\"0.\" + fraction) * 1000;\n    return Math.floor(f);\n  }\n}\nfunction roundTo(number, digits, towardZero) {\n  if (towardZero === void 0) {\n    towardZero = false;\n  }\n\n  var factor = Math.pow(10, digits),\n      rounder = towardZero ? Math.trunc : Math.round;\n  return rounder(number * factor) / factor;\n} // DATE BASICS\n\nfunction isLeapYear(year) {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\nfunction daysInYear(year) {\n  return isLeapYear(year) ? 366 : 365;\n}\nfunction daysInMonth(year, month) {\n  var modMonth = floorMod(month - 1, 12) + 1,\n      modYear = year + (month - modMonth) / 12;\n\n  if (modMonth === 2) {\n    return isLeapYear(modYear) ? 29 : 28;\n  } else {\n    return [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][modMonth - 1];\n  }\n} // covert a calendar object to a local timestamp (epoch, but with the offset baked in)\n\nfunction objToLocalTS(obj) {\n  var d = Date.UTC(obj.year, obj.month - 1, obj.day, obj.hour, obj.minute, obj.second, obj.millisecond); // for legacy reasons, years between 0 and 99 are interpreted as 19XX; revert that\n\n  if (obj.year < 100 && obj.year >= 0) {\n    d = new Date(d);\n    d.setUTCFullYear(d.getUTCFullYear() - 1900);\n  }\n\n  return +d;\n}\nfunction weeksInWeekYear(weekYear) {\n  var p1 = (weekYear + Math.floor(weekYear / 4) - Math.floor(weekYear / 100) + Math.floor(weekYear / 400)) % 7,\n      last = weekYear - 1,\n      p2 = (last + Math.floor(last / 4) - Math.floor(last / 100) + Math.floor(last / 400)) % 7;\n  return p1 === 4 || p2 === 3 ? 53 : 52;\n}\nfunction untruncateYear(year) {\n  if (year > 99) {\n    return year;\n  } else return year > 60 ? 1900 + year : 2000 + year;\n} // PARSING\n\nfunction parseZoneInfo(ts, offsetFormat, locale, timeZone) {\n  if (timeZone === void 0) {\n    timeZone = null;\n  }\n\n  var date = new Date(ts),\n      intlOpts = {\n    hour12: false,\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\"\n  };\n\n  if (timeZone) {\n    intlOpts.timeZone = timeZone;\n  }\n\n  var modified = Object.assign({\n    timeZoneName: offsetFormat\n  }, intlOpts),\n      intl = hasIntl();\n\n  if (intl && hasFormatToParts()) {\n    var parsed = new Intl.DateTimeFormat(locale, modified).formatToParts(date).find(function (m) {\n      return m.type.toLowerCase() === \"timezonename\";\n    });\n    return parsed ? parsed.value : null;\n  } else if (intl) {\n    // this probably doesn't work for all locales\n    var without = new Intl.DateTimeFormat(locale, intlOpts).format(date),\n        included = new Intl.DateTimeFormat(locale, modified).format(date),\n        diffed = included.substring(without.length),\n        trimmed = diffed.replace(/^[, \\u200e]+/, \"\");\n    return trimmed;\n  } else {\n    return null;\n  }\n} // signedOffset('-5', '30') -> -330\n\nfunction signedOffset(offHourStr, offMinuteStr) {\n  var offHour = parseInt(offHourStr, 10); // don't || this because we want to preserve -0\n\n  if (Number.isNaN(offHour)) {\n    offHour = 0;\n  }\n\n  var offMin = parseInt(offMinuteStr, 10) || 0,\n      offMinSigned = offHour < 0 || Object.is(offHour, -0) ? -offMin : offMin;\n  return offHour * 60 + offMinSigned;\n} // COERCION\n\nfunction asNumber(value) {\n  var numericValue = Number(value);\n  if (typeof value === \"boolean\" || value === \"\" || Number.isNaN(numericValue)) throw new InvalidArgumentError(\"Invalid unit value \" + value);\n  return numericValue;\n}\nfunction normalizeObject(obj, normalizer, nonUnitKeys) {\n  var normalized = {};\n\n  for (var u in obj) {\n    if (hasOwnProperty(obj, u)) {\n      if (nonUnitKeys.indexOf(u) >= 0) continue;\n      var v = obj[u];\n      if (v === undefined || v === null) continue;\n      normalized[normalizer(u)] = asNumber(v);\n    }\n  }\n\n  return normalized;\n}\nfunction formatOffset(offset, format) {\n  var hours = Math.trunc(Math.abs(offset / 60)),\n      minutes = Math.trunc(Math.abs(offset % 60)),\n      sign = offset >= 0 ? \"+\" : \"-\";\n\n  switch (format) {\n    case \"short\":\n      return \"\" + sign + padStart(hours, 2) + \":\" + padStart(minutes, 2);\n\n    case \"narrow\":\n      return \"\" + sign + hours + (minutes > 0 ? \":\" + minutes : \"\");\n\n    case \"techie\":\n      return \"\" + sign + padStart(hours, 2) + padStart(minutes, 2);\n\n    default:\n      throw new RangeError(\"Value format \" + format + \" is out of range for property format\");\n  }\n}\nfunction timeObject(obj) {\n  return pick(obj, [\"hour\", \"minute\", \"second\", \"millisecond\"]);\n}\nvar ianaRegex = /[A-Za-z_+-]{1,256}(:?\\/[A-Za-z_+-]{1,256}(\\/[A-Za-z_+-]{1,256})?)?/;\n\nfunction stringify(obj) {\n  return JSON.stringify(obj, Object.keys(obj).sort());\n}\n/**\n * @private\n */\n\n\nvar monthsLong = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nvar monthsShort = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nvar monthsNarrow = [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"];\nfunction months(length) {\n  switch (length) {\n    case \"narrow\":\n      return [].concat(monthsNarrow);\n\n    case \"short\":\n      return [].concat(monthsShort);\n\n    case \"long\":\n      return [].concat(monthsLong);\n\n    case \"numeric\":\n      return [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"];\n\n    case \"2-digit\":\n      return [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"];\n\n    default:\n      return null;\n  }\n}\nvar weekdaysLong = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\nvar weekdaysShort = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\nvar weekdaysNarrow = [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"];\nfunction weekdays(length) {\n  switch (length) {\n    case \"narrow\":\n      return [].concat(weekdaysNarrow);\n\n    case \"short\":\n      return [].concat(weekdaysShort);\n\n    case \"long\":\n      return [].concat(weekdaysLong);\n\n    case \"numeric\":\n      return [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"];\n\n    default:\n      return null;\n  }\n}\nvar meridiems = [\"AM\", \"PM\"];\nvar erasLong = [\"Before Christ\", \"Anno Domini\"];\nvar erasShort = [\"BC\", \"AD\"];\nvar erasNarrow = [\"B\", \"A\"];\nfunction eras(length) {\n  switch (length) {\n    case \"narrow\":\n      return [].concat(erasNarrow);\n\n    case \"short\":\n      return [].concat(erasShort);\n\n    case \"long\":\n      return [].concat(erasLong);\n\n    default:\n      return null;\n  }\n}\nfunction meridiemForDateTime(dt) {\n  return meridiems[dt.hour < 12 ? 0 : 1];\n}\nfunction weekdayForDateTime(dt, length) {\n  return weekdays(length)[dt.weekday - 1];\n}\nfunction monthForDateTime(dt, length) {\n  return months(length)[dt.month - 1];\n}\nfunction eraForDateTime(dt, length) {\n  return eras(length)[dt.year < 0 ? 0 : 1];\n}\nfunction formatRelativeTime(unit, count, numeric, narrow) {\n  if (numeric === void 0) {\n    numeric = \"always\";\n  }\n\n  if (narrow === void 0) {\n    narrow = false;\n  }\n\n  var units = {\n    years: [\"year\", \"yr.\"],\n    quarters: [\"quarter\", \"qtr.\"],\n    months: [\"month\", \"mo.\"],\n    weeks: [\"week\", \"wk.\"],\n    days: [\"day\", \"day\", \"days\"],\n    hours: [\"hour\", \"hr.\"],\n    minutes: [\"minute\", \"min.\"],\n    seconds: [\"second\", \"sec.\"]\n  };\n  var lastable = [\"hours\", \"minutes\", \"seconds\"].indexOf(unit) === -1;\n\n  if (numeric === \"auto\" && lastable) {\n    var isDay = unit === \"days\";\n\n    switch (count) {\n      case 1:\n        return isDay ? \"tomorrow\" : \"next \" + units[unit][0];\n\n      case -1:\n        return isDay ? \"yesterday\" : \"last \" + units[unit][0];\n\n      case 0:\n        return isDay ? \"today\" : \"this \" + units[unit][0];\n\n    }\n  }\n\n  var isInPast = Object.is(count, -0) || count < 0,\n      fmtValue = Math.abs(count),\n      singular = fmtValue === 1,\n      lilUnits = units[unit],\n      fmtUnit = narrow ? singular ? lilUnits[1] : lilUnits[2] || lilUnits[1] : singular ? units[unit][0] : unit;\n  return isInPast ? fmtValue + \" \" + fmtUnit + \" ago\" : \"in \" + fmtValue + \" \" + fmtUnit;\n}\nfunction formatString(knownFormat) {\n  // these all have the offsets removed because we don't have access to them\n  // without all the intl stuff this is backfilling\n  var filtered = pick(knownFormat, [\"weekday\", \"era\", \"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"timeZoneName\", \"hour12\"]),\n      key = stringify(filtered),\n      dateTimeHuge = \"EEEE, LLLL d, yyyy, h:mm a\";\n\n  switch (key) {\n    case stringify(DATE_SHORT):\n      return \"M/d/yyyy\";\n\n    case stringify(DATE_MED):\n      return \"LLL d, yyyy\";\n\n    case stringify(DATE_MED_WITH_WEEKDAY):\n      return \"EEE, LLL d, yyyy\";\n\n    case stringify(DATE_FULL):\n      return \"LLLL d, yyyy\";\n\n    case stringify(DATE_HUGE):\n      return \"EEEE, LLLL d, yyyy\";\n\n    case stringify(TIME_SIMPLE):\n      return \"h:mm a\";\n\n    case stringify(TIME_WITH_SECONDS):\n      return \"h:mm:ss a\";\n\n    case stringify(TIME_WITH_SHORT_OFFSET):\n      return \"h:mm a\";\n\n    case stringify(TIME_WITH_LONG_OFFSET):\n      return \"h:mm a\";\n\n    case stringify(TIME_24_SIMPLE):\n      return \"HH:mm\";\n\n    case stringify(TIME_24_WITH_SECONDS):\n      return \"HH:mm:ss\";\n\n    case stringify(TIME_24_WITH_SHORT_OFFSET):\n      return \"HH:mm\";\n\n    case stringify(TIME_24_WITH_LONG_OFFSET):\n      return \"HH:mm\";\n\n    case stringify(DATETIME_SHORT):\n      return \"M/d/yyyy, h:mm a\";\n\n    case stringify(DATETIME_MED):\n      return \"LLL d, yyyy, h:mm a\";\n\n    case stringify(DATETIME_FULL):\n      return \"LLLL d, yyyy, h:mm a\";\n\n    case stringify(DATETIME_HUGE):\n      return dateTimeHuge;\n\n    case stringify(DATETIME_SHORT_WITH_SECONDS):\n      return \"M/d/yyyy, h:mm:ss a\";\n\n    case stringify(DATETIME_MED_WITH_SECONDS):\n      return \"LLL d, yyyy, h:mm:ss a\";\n\n    case stringify(DATETIME_MED_WITH_WEEKDAY):\n      return \"EEE, d LLL yyyy, h:mm a\";\n\n    case stringify(DATETIME_FULL_WITH_SECONDS):\n      return \"LLLL d, yyyy, h:mm:ss a\";\n\n    case stringify(DATETIME_HUGE_WITH_SECONDS):\n      return \"EEEE, LLLL d, yyyy, h:mm:ss a\";\n\n    default:\n      return dateTimeHuge;\n  }\n}\n\nfunction stringifyTokens(splits, tokenToString) {\n  var s = \"\";\n\n  for (var _iterator = _createForOfIteratorHelperLoose(splits), _step; !(_step = _iterator()).done;) {\n    var token = _step.value;\n\n    if (token.literal) {\n      s += token.val;\n    } else {\n      s += tokenToString(token.val);\n    }\n  }\n\n  return s;\n}\n\nvar _macroTokenToFormatOpts = {\n  D: DATE_SHORT,\n  DD: DATE_MED,\n  DDD: DATE_FULL,\n  DDDD: DATE_HUGE,\n  t: TIME_SIMPLE,\n  tt: TIME_WITH_SECONDS,\n  ttt: TIME_WITH_SHORT_OFFSET,\n  tttt: TIME_WITH_LONG_OFFSET,\n  T: TIME_24_SIMPLE,\n  TT: TIME_24_WITH_SECONDS,\n  TTT: TIME_24_WITH_SHORT_OFFSET,\n  TTTT: TIME_24_WITH_LONG_OFFSET,\n  f: DATETIME_SHORT,\n  ff: DATETIME_MED,\n  fff: DATETIME_FULL,\n  ffff: DATETIME_HUGE,\n  F: DATETIME_SHORT_WITH_SECONDS,\n  FF: DATETIME_MED_WITH_SECONDS,\n  FFF: DATETIME_FULL_WITH_SECONDS,\n  FFFF: DATETIME_HUGE_WITH_SECONDS\n};\n/**\n * @private\n */\n\nvar Formatter = /*#__PURE__*/function () {\n  Formatter.create = function create(locale, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    return new Formatter(locale, opts);\n  };\n\n  Formatter.parseFormat = function parseFormat(fmt) {\n    var current = null,\n        currentFull = \"\",\n        bracketed = false;\n    var splits = [];\n\n    for (var i = 0; i < fmt.length; i++) {\n      var c = fmt.charAt(i);\n\n      if (c === \"'\") {\n        if (currentFull.length > 0) {\n          splits.push({\n            literal: bracketed,\n            val: currentFull\n          });\n        }\n\n        current = null;\n        currentFull = \"\";\n        bracketed = !bracketed;\n      } else if (bracketed) {\n        currentFull += c;\n      } else if (c === current) {\n        currentFull += c;\n      } else {\n        if (currentFull.length > 0) {\n          splits.push({\n            literal: false,\n            val: currentFull\n          });\n        }\n\n        currentFull = c;\n        current = c;\n      }\n    }\n\n    if (currentFull.length > 0) {\n      splits.push({\n        literal: bracketed,\n        val: currentFull\n      });\n    }\n\n    return splits;\n  };\n\n  Formatter.macroTokenToFormatOpts = function macroTokenToFormatOpts(token) {\n    return _macroTokenToFormatOpts[token];\n  };\n\n  function Formatter(locale, formatOpts) {\n    this.opts = formatOpts;\n    this.loc = locale;\n    this.systemLoc = null;\n  }\n\n  var _proto = Formatter.prototype;\n\n  _proto.formatWithSystemDefault = function formatWithSystemDefault(dt, opts) {\n    if (this.systemLoc === null) {\n      this.systemLoc = this.loc.redefaultToSystem();\n    }\n\n    var df = this.systemLoc.dtFormatter(dt, Object.assign({}, this.opts, opts));\n    return df.format();\n  };\n\n  _proto.formatDateTime = function formatDateTime(dt, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var df = this.loc.dtFormatter(dt, Object.assign({}, this.opts, opts));\n    return df.format();\n  };\n\n  _proto.formatDateTimeParts = function formatDateTimeParts(dt, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var df = this.loc.dtFormatter(dt, Object.assign({}, this.opts, opts));\n    return df.formatToParts();\n  };\n\n  _proto.resolvedOptions = function resolvedOptions(dt, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var df = this.loc.dtFormatter(dt, Object.assign({}, this.opts, opts));\n    return df.resolvedOptions();\n  };\n\n  _proto.num = function num(n, p) {\n    if (p === void 0) {\n      p = 0;\n    }\n\n    // we get some perf out of doing this here, annoyingly\n    if (this.opts.forceSimple) {\n      return padStart(n, p);\n    }\n\n    var opts = Object.assign({}, this.opts);\n\n    if (p > 0) {\n      opts.padTo = p;\n    }\n\n    return this.loc.numberFormatter(opts).format(n);\n  };\n\n  _proto.formatDateTimeFromString = function formatDateTimeFromString(dt, fmt) {\n    var _this = this;\n\n    var knownEnglish = this.loc.listingMode() === \"en\",\n        useDateTimeFormatter = this.loc.outputCalendar && this.loc.outputCalendar !== \"gregory\" && hasFormatToParts(),\n        string = function string(opts, extract) {\n      return _this.loc.extract(dt, opts, extract);\n    },\n        formatOffset = function formatOffset(opts) {\n      if (dt.isOffsetFixed && dt.offset === 0 && opts.allowZ) {\n        return \"Z\";\n      }\n\n      return dt.isValid ? dt.zone.formatOffset(dt.ts, opts.format) : \"\";\n    },\n        meridiem = function meridiem() {\n      return knownEnglish ? meridiemForDateTime(dt) : string({\n        hour: \"numeric\",\n        hour12: true\n      }, \"dayperiod\");\n    },\n        month = function month(length, standalone) {\n      return knownEnglish ? monthForDateTime(dt, length) : string(standalone ? {\n        month: length\n      } : {\n        month: length,\n        day: \"numeric\"\n      }, \"month\");\n    },\n        weekday = function weekday(length, standalone) {\n      return knownEnglish ? weekdayForDateTime(dt, length) : string(standalone ? {\n        weekday: length\n      } : {\n        weekday: length,\n        month: \"long\",\n        day: \"numeric\"\n      }, \"weekday\");\n    },\n        maybeMacro = function maybeMacro(token) {\n      var formatOpts = Formatter.macroTokenToFormatOpts(token);\n\n      if (formatOpts) {\n        return _this.formatWithSystemDefault(dt, formatOpts);\n      } else {\n        return token;\n      }\n    },\n        era = function era(length) {\n      return knownEnglish ? eraForDateTime(dt, length) : string({\n        era: length\n      }, \"era\");\n    },\n        tokenToString = function tokenToString(token) {\n      // Where possible: http://cldr.unicode.org/translation/date-time-1/date-time#TOC-Standalone-vs.-Format-Styles\n      switch (token) {\n        // ms\n        case \"S\":\n          return _this.num(dt.millisecond);\n\n        case \"u\": // falls through\n\n        case \"SSS\":\n          return _this.num(dt.millisecond, 3);\n        // seconds\n\n        case \"s\":\n          return _this.num(dt.second);\n\n        case \"ss\":\n          return _this.num(dt.second, 2);\n        // minutes\n\n        case \"m\":\n          return _this.num(dt.minute);\n\n        case \"mm\":\n          return _this.num(dt.minute, 2);\n        // hours\n\n        case \"h\":\n          return _this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12);\n\n        case \"hh\":\n          return _this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12, 2);\n\n        case \"H\":\n          return _this.num(dt.hour);\n\n        case \"HH\":\n          return _this.num(dt.hour, 2);\n        // offset\n\n        case \"Z\":\n          // like +6\n          return formatOffset({\n            format: \"narrow\",\n            allowZ: _this.opts.allowZ\n          });\n\n        case \"ZZ\":\n          // like +06:00\n          return formatOffset({\n            format: \"short\",\n            allowZ: _this.opts.allowZ\n          });\n\n        case \"ZZZ\":\n          // like +0600\n          return formatOffset({\n            format: \"techie\",\n            allowZ: _this.opts.allowZ\n          });\n\n        case \"ZZZZ\":\n          // like EST\n          return dt.zone.offsetName(dt.ts, {\n            format: \"short\",\n            locale: _this.loc.locale\n          });\n\n        case \"ZZZZZ\":\n          // like Eastern Standard Time\n          return dt.zone.offsetName(dt.ts, {\n            format: \"long\",\n            locale: _this.loc.locale\n          });\n        // zone\n\n        case \"z\":\n          // like America/New_York\n          return dt.zoneName;\n        // meridiems\n\n        case \"a\":\n          return meridiem();\n        // dates\n\n        case \"d\":\n          return useDateTimeFormatter ? string({\n            day: \"numeric\"\n          }, \"day\") : _this.num(dt.day);\n\n        case \"dd\":\n          return useDateTimeFormatter ? string({\n            day: \"2-digit\"\n          }, \"day\") : _this.num(dt.day, 2);\n        // weekdays - standalone\n\n        case \"c\":\n          // like 1\n          return _this.num(dt.weekday);\n\n        case \"ccc\":\n          // like 'Tues'\n          return weekday(\"short\", true);\n\n        case \"cccc\":\n          // like 'Tuesday'\n          return weekday(\"long\", true);\n\n        case \"ccccc\":\n          // like 'T'\n          return weekday(\"narrow\", true);\n        // weekdays - format\n\n        case \"E\":\n          // like 1\n          return _this.num(dt.weekday);\n\n        case \"EEE\":\n          // like 'Tues'\n          return weekday(\"short\", false);\n\n        case \"EEEE\":\n          // like 'Tuesday'\n          return weekday(\"long\", false);\n\n        case \"EEEEE\":\n          // like 'T'\n          return weekday(\"narrow\", false);\n        // months - standalone\n\n        case \"L\":\n          // like 1\n          return useDateTimeFormatter ? string({\n            month: \"numeric\",\n            day: \"numeric\"\n          }, \"month\") : _this.num(dt.month);\n\n        case \"LL\":\n          // like 01, doesn't seem to work\n          return useDateTimeFormatter ? string({\n            month: \"2-digit\",\n            day: \"numeric\"\n          }, \"month\") : _this.num(dt.month, 2);\n\n        case \"LLL\":\n          // like Jan\n          return month(\"short\", true);\n\n        case \"LLLL\":\n          // like January\n          return month(\"long\", true);\n\n        case \"LLLLL\":\n          // like J\n          return month(\"narrow\", true);\n        // months - format\n\n        case \"M\":\n          // like 1\n          return useDateTimeFormatter ? string({\n            month: \"numeric\"\n          }, \"month\") : _this.num(dt.month);\n\n        case \"MM\":\n          // like 01\n          return useDateTimeFormatter ? string({\n            month: \"2-digit\"\n          }, \"month\") : _this.num(dt.month, 2);\n\n        case \"MMM\":\n          // like Jan\n          return month(\"short\", false);\n\n        case \"MMMM\":\n          // like January\n          return month(\"long\", false);\n\n        case \"MMMMM\":\n          // like J\n          return month(\"narrow\", false);\n        // years\n\n        case \"y\":\n          // like 2014\n          return useDateTimeFormatter ? string({\n            year: \"numeric\"\n          }, \"year\") : _this.num(dt.year);\n\n        case \"yy\":\n          // like 14\n          return useDateTimeFormatter ? string({\n            year: \"2-digit\"\n          }, \"year\") : _this.num(dt.year.toString().slice(-2), 2);\n\n        case \"yyyy\":\n          // like 0012\n          return useDateTimeFormatter ? string({\n            year: \"numeric\"\n          }, \"year\") : _this.num(dt.year, 4);\n\n        case \"yyyyyy\":\n          // like 000012\n          return useDateTimeFormatter ? string({\n            year: \"numeric\"\n          }, \"year\") : _this.num(dt.year, 6);\n        // eras\n\n        case \"G\":\n          // like AD\n          return era(\"short\");\n\n        case \"GG\":\n          // like Anno Domini\n          return era(\"long\");\n\n        case \"GGGGG\":\n          return era(\"narrow\");\n\n        case \"kk\":\n          return _this.num(dt.weekYear.toString().slice(-2), 2);\n\n        case \"kkkk\":\n          return _this.num(dt.weekYear, 4);\n\n        case \"W\":\n          return _this.num(dt.weekNumber);\n\n        case \"WW\":\n          return _this.num(dt.weekNumber, 2);\n\n        case \"o\":\n          return _this.num(dt.ordinal);\n\n        case \"ooo\":\n          return _this.num(dt.ordinal, 3);\n\n        case \"q\":\n          // like 1\n          return _this.num(dt.quarter);\n\n        case \"qq\":\n          // like 01\n          return _this.num(dt.quarter, 2);\n\n        case \"X\":\n          return _this.num(Math.floor(dt.ts / 1000));\n\n        case \"x\":\n          return _this.num(dt.ts);\n\n        default:\n          return maybeMacro(token);\n      }\n    };\n\n    return stringifyTokens(Formatter.parseFormat(fmt), tokenToString);\n  };\n\n  _proto.formatDurationFromString = function formatDurationFromString(dur, fmt) {\n    var _this2 = this;\n\n    var tokenToField = function tokenToField(token) {\n      switch (token[0]) {\n        case \"S\":\n          return \"millisecond\";\n\n        case \"s\":\n          return \"second\";\n\n        case \"m\":\n          return \"minute\";\n\n        case \"h\":\n          return \"hour\";\n\n        case \"d\":\n          return \"day\";\n\n        case \"M\":\n          return \"month\";\n\n        case \"y\":\n          return \"year\";\n\n        default:\n          return null;\n      }\n    },\n        tokenToString = function tokenToString(lildur) {\n      return function (token) {\n        var mapped = tokenToField(token);\n\n        if (mapped) {\n          return _this2.num(lildur.get(mapped), token.length);\n        } else {\n          return token;\n        }\n      };\n    },\n        tokens = Formatter.parseFormat(fmt),\n        realTokens = tokens.reduce(function (found, _ref) {\n      var literal = _ref.literal,\n          val = _ref.val;\n      return literal ? found : found.concat(val);\n    }, []),\n        collapsed = dur.shiftTo.apply(dur, realTokens.map(tokenToField).filter(function (t) {\n      return t;\n    }));\n\n    return stringifyTokens(tokens, tokenToString(collapsed));\n  };\n\n  return Formatter;\n}();\n\nvar Invalid = /*#__PURE__*/function () {\n  function Invalid(reason, explanation) {\n    this.reason = reason;\n    this.explanation = explanation;\n  }\n\n  var _proto = Invalid.prototype;\n\n  _proto.toMessage = function toMessage() {\n    if (this.explanation) {\n      return this.reason + \": \" + this.explanation;\n    } else {\n      return this.reason;\n    }\n  };\n\n  return Invalid;\n}();\n\n/**\n * @interface\n */\n\nvar Zone = /*#__PURE__*/function () {\n  function Zone() {}\n\n  var _proto = Zone.prototype;\n\n  /**\n   * Returns the offset's common name (such as EST) at the specified timestamp\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the name\n   * @param {Object} opts - Options to affect the format\n   * @param {string} opts.format - What style of offset to return. Accepts 'long' or 'short'.\n   * @param {string} opts.locale - What locale to return the offset name in.\n   * @return {string}\n   */\n  _proto.offsetName = function offsetName(ts, opts) {\n    throw new ZoneIsAbstractError();\n  }\n  /**\n   * Returns the offset's value as a string\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the offset\n   * @param {string} format - What style of offset to return.\n   *                          Accepts 'narrow', 'short', or 'techie'. Returning '+6', '+06:00', or '+0600' respectively\n   * @return {string}\n   */\n  ;\n\n  _proto.formatOffset = function formatOffset(ts, format) {\n    throw new ZoneIsAbstractError();\n  }\n  /**\n   * Return the offset in minutes for this zone at the specified timestamp.\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to compute the offset\n   * @return {number}\n   */\n  ;\n\n  _proto.offset = function offset(ts) {\n    throw new ZoneIsAbstractError();\n  }\n  /**\n   * Return whether this Zone is equal to another zone\n   * @abstract\n   * @param {Zone} otherZone - the zone to compare\n   * @return {boolean}\n   */\n  ;\n\n  _proto.equals = function equals(otherZone) {\n    throw new ZoneIsAbstractError();\n  }\n  /**\n   * Return whether this Zone is valid.\n   * @abstract\n   * @type {boolean}\n   */\n  ;\n\n  _createClass(Zone, [{\n    key: \"type\",\n\n    /**\n     * The type of zone\n     * @abstract\n     * @type {string}\n     */\n    get: function get() {\n      throw new ZoneIsAbstractError();\n    }\n    /**\n     * The name of this zone.\n     * @abstract\n     * @type {string}\n     */\n\n  }, {\n    key: \"name\",\n    get: function get() {\n      throw new ZoneIsAbstractError();\n    }\n    /**\n     * Returns whether the offset is known to be fixed for the whole year.\n     * @abstract\n     * @type {boolean}\n     */\n\n  }, {\n    key: \"universal\",\n    get: function get() {\n      throw new ZoneIsAbstractError();\n    }\n  }, {\n    key: \"isValid\",\n    get: function get() {\n      throw new ZoneIsAbstractError();\n    }\n  }]);\n\n  return Zone;\n}();\n\nvar singleton = null;\n/**\n * Represents the local zone for this JavaScript environment.\n * @implements {Zone}\n */\n\nvar LocalZone = /*#__PURE__*/function (_Zone) {\n  _inheritsLoose(LocalZone, _Zone);\n\n  function LocalZone() {\n    return _Zone.apply(this, arguments) || this;\n  }\n\n  var _proto = LocalZone.prototype;\n\n  /** @override **/\n  _proto.offsetName = function offsetName(ts, _ref) {\n    var format = _ref.format,\n        locale = _ref.locale;\n    return parseZoneInfo(ts, format, locale);\n  }\n  /** @override **/\n  ;\n\n  _proto.formatOffset = function formatOffset$1(ts, format) {\n    return formatOffset(this.offset(ts), format);\n  }\n  /** @override **/\n  ;\n\n  _proto.offset = function offset(ts) {\n    return -new Date(ts).getTimezoneOffset();\n  }\n  /** @override **/\n  ;\n\n  _proto.equals = function equals(otherZone) {\n    return otherZone.type === \"local\";\n  }\n  /** @override **/\n  ;\n\n  _createClass(LocalZone, [{\n    key: \"type\",\n\n    /** @override **/\n    get: function get() {\n      return \"local\";\n    }\n    /** @override **/\n\n  }, {\n    key: \"name\",\n    get: function get() {\n      if (hasIntl()) {\n        return new Intl.DateTimeFormat().resolvedOptions().timeZone;\n      } else return \"local\";\n    }\n    /** @override **/\n\n  }, {\n    key: \"universal\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isValid\",\n    get: function get() {\n      return true;\n    }\n  }], [{\n    key: \"instance\",\n\n    /**\n     * Get a singleton instance of the local zone\n     * @return {LocalZone}\n     */\n    get: function get() {\n      if (singleton === null) {\n        singleton = new LocalZone();\n      }\n\n      return singleton;\n    }\n  }]);\n\n  return LocalZone;\n}(Zone);\n\nvar matchingRegex = RegExp(\"^\" + ianaRegex.source + \"$\");\nvar dtfCache = {};\n\nfunction makeDTF(zone) {\n  if (!dtfCache[zone]) {\n    dtfCache[zone] = new Intl.DateTimeFormat(\"en-US\", {\n      hour12: false,\n      timeZone: zone,\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\"\n    });\n  }\n\n  return dtfCache[zone];\n}\n\nvar typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  hour: 3,\n  minute: 4,\n  second: 5\n};\n\nfunction hackyOffset(dtf, date) {\n  var formatted = dtf.format(date).replace(/\\u200E/g, \"\"),\n      parsed = /(\\d+)\\/(\\d+)\\/(\\d+),? (\\d+):(\\d+):(\\d+)/.exec(formatted),\n      fMonth = parsed[1],\n      fDay = parsed[2],\n      fYear = parsed[3],\n      fHour = parsed[4],\n      fMinute = parsed[5],\n      fSecond = parsed[6];\n  return [fYear, fMonth, fDay, fHour, fMinute, fSecond];\n}\n\nfunction partsOffset(dtf, date) {\n  var formatted = dtf.formatToParts(date),\n      filled = [];\n\n  for (var i = 0; i < formatted.length; i++) {\n    var _formatted$i = formatted[i],\n        type = _formatted$i.type,\n        value = _formatted$i.value,\n        pos = typeToPos[type];\n\n    if (!isUndefined(pos)) {\n      filled[pos] = parseInt(value, 10);\n    }\n  }\n\n  return filled;\n}\n\nvar ianaZoneCache = {};\n/**\n * A zone identified by an IANA identifier, like America/New_York\n * @implements {Zone}\n */\n\nvar IANAZone = /*#__PURE__*/function (_Zone) {\n  _inheritsLoose(IANAZone, _Zone);\n\n  /**\n   * @param {string} name - Zone name\n   * @return {IANAZone}\n   */\n  IANAZone.create = function create(name) {\n    if (!ianaZoneCache[name]) {\n      ianaZoneCache[name] = new IANAZone(name);\n    }\n\n    return ianaZoneCache[name];\n  }\n  /**\n   * Reset local caches. Should only be necessary in testing scenarios.\n   * @return {void}\n   */\n  ;\n\n  IANAZone.resetCache = function resetCache() {\n    ianaZoneCache = {};\n    dtfCache = {};\n  }\n  /**\n   * Returns whether the provided string is a valid specifier. This only checks the string's format, not that the specifier identifies a known zone; see isValidZone for that.\n   * @param {string} s - The string to check validity on\n   * @example IANAZone.isValidSpecifier(\"America/New_York\") //=> true\n   * @example IANAZone.isValidSpecifier(\"Fantasia/Castle\") //=> true\n   * @example IANAZone.isValidSpecifier(\"Sport~~blorp\") //=> false\n   * @return {boolean}\n   */\n  ;\n\n  IANAZone.isValidSpecifier = function isValidSpecifier(s) {\n    return !!(s && s.match(matchingRegex));\n  }\n  /**\n   * Returns whether the provided string identifies a real zone\n   * @param {string} zone - The string to check\n   * @example IANAZone.isValidZone(\"America/New_York\") //=> true\n   * @example IANAZone.isValidZone(\"Fantasia/Castle\") //=> false\n   * @example IANAZone.isValidZone(\"Sport~~blorp\") //=> false\n   * @return {boolean}\n   */\n  ;\n\n  IANAZone.isValidZone = function isValidZone(zone) {\n    try {\n      new Intl.DateTimeFormat(\"en-US\", {\n        timeZone: zone\n      }).format();\n      return true;\n    } catch (e) {\n      return false;\n    }\n  } // Etc/GMT+8 -> -480\n\n  /** @ignore */\n  ;\n\n  IANAZone.parseGMTOffset = function parseGMTOffset(specifier) {\n    if (specifier) {\n      var match = specifier.match(/^Etc\\/GMT(0|[+-]\\d{1,2})$/i);\n\n      if (match) {\n        return -60 * parseInt(match[1]);\n      }\n    }\n\n    return null;\n  };\n\n  function IANAZone(name) {\n    var _this;\n\n    _this = _Zone.call(this) || this;\n    /** @private **/\n\n    _this.zoneName = name;\n    /** @private **/\n\n    _this.valid = IANAZone.isValidZone(name);\n    return _this;\n  }\n  /** @override **/\n\n\n  var _proto = IANAZone.prototype;\n\n  /** @override **/\n  _proto.offsetName = function offsetName(ts, _ref) {\n    var format = _ref.format,\n        locale = _ref.locale;\n    return parseZoneInfo(ts, format, locale, this.name);\n  }\n  /** @override **/\n  ;\n\n  _proto.formatOffset = function formatOffset$1(ts, format) {\n    return formatOffset(this.offset(ts), format);\n  }\n  /** @override **/\n  ;\n\n  _proto.offset = function offset(ts) {\n    var date = new Date(ts);\n    if (isNaN(date)) return NaN;\n\n    var dtf = makeDTF(this.name),\n        _ref2 = dtf.formatToParts ? partsOffset(dtf, date) : hackyOffset(dtf, date),\n        year = _ref2[0],\n        month = _ref2[1],\n        day = _ref2[2],\n        hour = _ref2[3],\n        minute = _ref2[4],\n        second = _ref2[5],\n        adjustedHour = hour === 24 ? 0 : hour;\n\n    var asUTC = objToLocalTS({\n      year: year,\n      month: month,\n      day: day,\n      hour: adjustedHour,\n      minute: minute,\n      second: second,\n      millisecond: 0\n    });\n    var asTS = +date;\n    var over = asTS % 1000;\n    asTS -= over >= 0 ? over : 1000 + over;\n    return (asUTC - asTS) / (60 * 1000);\n  }\n  /** @override **/\n  ;\n\n  _proto.equals = function equals(otherZone) {\n    return otherZone.type === \"iana\" && otherZone.name === this.name;\n  }\n  /** @override **/\n  ;\n\n  _createClass(IANAZone, [{\n    key: \"type\",\n    get: function get() {\n      return \"iana\";\n    }\n    /** @override **/\n\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this.zoneName;\n    }\n    /** @override **/\n\n  }, {\n    key: \"universal\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isValid\",\n    get: function get() {\n      return this.valid;\n    }\n  }]);\n\n  return IANAZone;\n}(Zone);\n\nvar singleton$1 = null;\n/**\n * A zone with a fixed offset (meaning no DST)\n * @implements {Zone}\n */\n\nvar FixedOffsetZone = /*#__PURE__*/function (_Zone) {\n  _inheritsLoose(FixedOffsetZone, _Zone);\n\n  /**\n   * Get an instance with a specified offset\n   * @param {number} offset - The offset in minutes\n   * @return {FixedOffsetZone}\n   */\n  FixedOffsetZone.instance = function instance(offset) {\n    return offset === 0 ? FixedOffsetZone.utcInstance : new FixedOffsetZone(offset);\n  }\n  /**\n   * Get an instance of FixedOffsetZone from a UTC offset string, like \"UTC+6\"\n   * @param {string} s - The offset string to parse\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+6\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+06\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC-6:00\")\n   * @return {FixedOffsetZone}\n   */\n  ;\n\n  FixedOffsetZone.parseSpecifier = function parseSpecifier(s) {\n    if (s) {\n      var r = s.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);\n\n      if (r) {\n        return new FixedOffsetZone(signedOffset(r[1], r[2]));\n      }\n    }\n\n    return null;\n  };\n\n  _createClass(FixedOffsetZone, null, [{\n    key: \"utcInstance\",\n\n    /**\n     * Get a singleton instance of UTC\n     * @return {FixedOffsetZone}\n     */\n    get: function get() {\n      if (singleton$1 === null) {\n        singleton$1 = new FixedOffsetZone(0);\n      }\n\n      return singleton$1;\n    }\n  }]);\n\n  function FixedOffsetZone(offset) {\n    var _this;\n\n    _this = _Zone.call(this) || this;\n    /** @private **/\n\n    _this.fixed = offset;\n    return _this;\n  }\n  /** @override **/\n\n\n  var _proto = FixedOffsetZone.prototype;\n\n  /** @override **/\n  _proto.offsetName = function offsetName() {\n    return this.name;\n  }\n  /** @override **/\n  ;\n\n  _proto.formatOffset = function formatOffset$1(ts, format) {\n    return formatOffset(this.fixed, format);\n  }\n  /** @override **/\n  ;\n\n  /** @override **/\n  _proto.offset = function offset() {\n    return this.fixed;\n  }\n  /** @override **/\n  ;\n\n  _proto.equals = function equals(otherZone) {\n    return otherZone.type === \"fixed\" && otherZone.fixed === this.fixed;\n  }\n  /** @override **/\n  ;\n\n  _createClass(FixedOffsetZone, [{\n    key: \"type\",\n    get: function get() {\n      return \"fixed\";\n    }\n    /** @override **/\n\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this.fixed === 0 ? \"UTC\" : \"UTC\" + formatOffset(this.fixed, \"narrow\");\n    }\n  }, {\n    key: \"universal\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"isValid\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return FixedOffsetZone;\n}(Zone);\n\n/**\n * A zone that failed to parse. You should never need to instantiate this.\n * @implements {Zone}\n */\n\nvar InvalidZone = /*#__PURE__*/function (_Zone) {\n  _inheritsLoose(InvalidZone, _Zone);\n\n  function InvalidZone(zoneName) {\n    var _this;\n\n    _this = _Zone.call(this) || this;\n    /**  @private */\n\n    _this.zoneName = zoneName;\n    return _this;\n  }\n  /** @override **/\n\n\n  var _proto = InvalidZone.prototype;\n\n  /** @override **/\n  _proto.offsetName = function offsetName() {\n    return null;\n  }\n  /** @override **/\n  ;\n\n  _proto.formatOffset = function formatOffset() {\n    return \"\";\n  }\n  /** @override **/\n  ;\n\n  _proto.offset = function offset() {\n    return NaN;\n  }\n  /** @override **/\n  ;\n\n  _proto.equals = function equals() {\n    return false;\n  }\n  /** @override **/\n  ;\n\n  _createClass(InvalidZone, [{\n    key: \"type\",\n    get: function get() {\n      return \"invalid\";\n    }\n    /** @override **/\n\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this.zoneName;\n    }\n    /** @override **/\n\n  }, {\n    key: \"universal\",\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isValid\",\n    get: function get() {\n      return false;\n    }\n  }]);\n\n  return InvalidZone;\n}(Zone);\n\n/**\n * @private\n */\nfunction normalizeZone(input, defaultZone) {\n  var offset;\n\n  if (isUndefined(input) || input === null) {\n    return defaultZone;\n  } else if (input instanceof Zone) {\n    return input;\n  } else if (isString(input)) {\n    var lowered = input.toLowerCase();\n    if (lowered === \"local\") return defaultZone;else if (lowered === \"utc\" || lowered === \"gmt\") return FixedOffsetZone.utcInstance;else if ((offset = IANAZone.parseGMTOffset(input)) != null) {\n      // handle Etc/GMT-4, which V8 chokes on\n      return FixedOffsetZone.instance(offset);\n    } else if (IANAZone.isValidSpecifier(lowered)) return IANAZone.create(input);else return FixedOffsetZone.parseSpecifier(lowered) || new InvalidZone(input);\n  } else if (isNumber(input)) {\n    return FixedOffsetZone.instance(input);\n  } else if (typeof input === \"object\" && input.offset && typeof input.offset === \"number\") {\n    // This is dumb, but the instanceof check above doesn't seem to really work\n    // so we're duck checking it\n    return input;\n  } else {\n    return new InvalidZone(input);\n  }\n}\n\nvar now = function now() {\n  return Date.now();\n},\n    defaultZone = null,\n    // not setting this directly to LocalZone.instance bc loading order issues\ndefaultLocale = null,\n    defaultNumberingSystem = null,\n    defaultOutputCalendar = null,\n    throwOnInvalid = false;\n/**\n * Settings contains static getters and setters that control Luxon's overall behavior. Luxon is a simple library with few options, but the ones it does have live here.\n */\n\n\nvar Settings = /*#__PURE__*/function () {\n  function Settings() {}\n\n  /**\n   * Reset Luxon's global caches. Should only be necessary in testing scenarios.\n   * @return {void}\n   */\n  Settings.resetCaches = function resetCaches() {\n    Locale.resetCache();\n    IANAZone.resetCache();\n  };\n\n  _createClass(Settings, null, [{\n    key: \"now\",\n\n    /**\n     * Get the callback for returning the current timestamp.\n     * @type {function}\n     */\n    get: function get() {\n      return now;\n    }\n    /**\n     * Set the callback for returning the current timestamp.\n     * The function should return a number, which will be interpreted as an Epoch millisecond count\n     * @type {function}\n     * @example Settings.now = () => Date.now() + 3000 // pretend it is 3 seconds in the future\n     * @example Settings.now = () => 0 // always pretend it's Jan 1, 1970 at midnight in UTC time\n     */\n    ,\n    set: function set(n) {\n      now = n;\n    }\n    /**\n     * Get the default time zone to create DateTimes in.\n     * @type {string}\n     */\n\n  }, {\n    key: \"defaultZoneName\",\n    get: function get() {\n      return Settings.defaultZone.name;\n    }\n    /**\n     * Set the default time zone to create DateTimes in. Does not affect existing instances.\n     * @type {string}\n     */\n    ,\n    set: function set(z) {\n      if (!z) {\n        defaultZone = null;\n      } else {\n        defaultZone = normalizeZone(z);\n      }\n    }\n    /**\n     * Get the default time zone object to create DateTimes in. Does not affect existing instances.\n     * @type {Zone}\n     */\n\n  }, {\n    key: \"defaultZone\",\n    get: function get() {\n      return defaultZone || LocalZone.instance;\n    }\n    /**\n     * Get the default locale to create DateTimes with. Does not affect existing instances.\n     * @type {string}\n     */\n\n  }, {\n    key: \"defaultLocale\",\n    get: function get() {\n      return defaultLocale;\n    }\n    /**\n     * Set the default locale to create DateTimes with. Does not affect existing instances.\n     * @type {string}\n     */\n    ,\n    set: function set(locale) {\n      defaultLocale = locale;\n    }\n    /**\n     * Get the default numbering system to create DateTimes with. Does not affect existing instances.\n     * @type {string}\n     */\n\n  }, {\n    key: \"defaultNumberingSystem\",\n    get: function get() {\n      return defaultNumberingSystem;\n    }\n    /**\n     * Set the default numbering system to create DateTimes with. Does not affect existing instances.\n     * @type {string}\n     */\n    ,\n    set: function set(numberingSystem) {\n      defaultNumberingSystem = numberingSystem;\n    }\n    /**\n     * Get the default output calendar to create DateTimes with. Does not affect existing instances.\n     * @type {string}\n     */\n\n  }, {\n    key: \"defaultOutputCalendar\",\n    get: function get() {\n      return defaultOutputCalendar;\n    }\n    /**\n     * Set the default output calendar to create DateTimes with. Does not affect existing instances.\n     * @type {string}\n     */\n    ,\n    set: function set(outputCalendar) {\n      defaultOutputCalendar = outputCalendar;\n    }\n    /**\n     * Get whether Luxon will throw when it encounters invalid DateTimes, Durations, or Intervals\n     * @type {boolean}\n     */\n\n  }, {\n    key: \"throwOnInvalid\",\n    get: function get() {\n      return throwOnInvalid;\n    }\n    /**\n     * Set whether Luxon will throw when it encounters invalid DateTimes, Durations, or Intervals\n     * @type {boolean}\n     */\n    ,\n    set: function set(t) {\n      throwOnInvalid = t;\n    }\n  }]);\n\n  return Settings;\n}();\n\nvar intlDTCache = {};\n\nfunction getCachedDTF(locString, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  var key = JSON.stringify([locString, opts]);\n  var dtf = intlDTCache[key];\n\n  if (!dtf) {\n    dtf = new Intl.DateTimeFormat(locString, opts);\n    intlDTCache[key] = dtf;\n  }\n\n  return dtf;\n}\n\nvar intlNumCache = {};\n\nfunction getCachedINF(locString, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  var key = JSON.stringify([locString, opts]);\n  var inf = intlNumCache[key];\n\n  if (!inf) {\n    inf = new Intl.NumberFormat(locString, opts);\n    intlNumCache[key] = inf;\n  }\n\n  return inf;\n}\n\nvar intlRelCache = {};\n\nfunction getCachedRTF(locString, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  var _opts = opts,\n      cacheKeyOpts = _objectWithoutPropertiesLoose(_opts, [\"base\"]); // exclude `base` from the options\n\n\n  var key = JSON.stringify([locString, cacheKeyOpts]);\n  var inf = intlRelCache[key];\n\n  if (!inf) {\n    inf = new Intl.RelativeTimeFormat(locString, opts);\n    intlRelCache[key] = inf;\n  }\n\n  return inf;\n}\n\nvar sysLocaleCache = null;\n\nfunction systemLocale() {\n  if (sysLocaleCache) {\n    return sysLocaleCache;\n  } else if (hasIntl()) {\n    var computedSys = new Intl.DateTimeFormat().resolvedOptions().locale; // node sometimes defaults to \"und\". Override that because that is dumb\n\n    sysLocaleCache = !computedSys || computedSys === \"und\" ? \"en-US\" : computedSys;\n    return sysLocaleCache;\n  } else {\n    sysLocaleCache = \"en-US\";\n    return sysLocaleCache;\n  }\n}\n\nfunction parseLocaleString(localeStr) {\n  // I really want to avoid writing a BCP 47 parser\n  // see, e.g. https://github.com/wooorm/bcp-47\n  // Instead, we'll do this:\n  // a) if the string has no -u extensions, just leave it alone\n  // b) if it does, use Intl to resolve everything\n  // c) if Intl fails, try again without the -u\n  var uIndex = localeStr.indexOf(\"-u-\");\n\n  if (uIndex === -1) {\n    return [localeStr];\n  } else {\n    var options;\n    var smaller = localeStr.substring(0, uIndex);\n\n    try {\n      options = getCachedDTF(localeStr).resolvedOptions();\n    } catch (e) {\n      options = getCachedDTF(smaller).resolvedOptions();\n    }\n\n    var _options = options,\n        numberingSystem = _options.numberingSystem,\n        calendar = _options.calendar; // return the smaller one so that we can append the calendar and numbering overrides to it\n\n    return [smaller, numberingSystem, calendar];\n  }\n}\n\nfunction intlConfigString(localeStr, numberingSystem, outputCalendar) {\n  if (hasIntl()) {\n    if (outputCalendar || numberingSystem) {\n      localeStr += \"-u\";\n\n      if (outputCalendar) {\n        localeStr += \"-ca-\" + outputCalendar;\n      }\n\n      if (numberingSystem) {\n        localeStr += \"-nu-\" + numberingSystem;\n      }\n\n      return localeStr;\n    } else {\n      return localeStr;\n    }\n  } else {\n    return [];\n  }\n}\n\nfunction mapMonths(f) {\n  var ms = [];\n\n  for (var i = 1; i <= 12; i++) {\n    var dt = DateTime.utc(2016, i, 1);\n    ms.push(f(dt));\n  }\n\n  return ms;\n}\n\nfunction mapWeekdays(f) {\n  var ms = [];\n\n  for (var i = 1; i <= 7; i++) {\n    var dt = DateTime.utc(2016, 11, 13 + i);\n    ms.push(f(dt));\n  }\n\n  return ms;\n}\n\nfunction listStuff(loc, length, defaultOK, englishFn, intlFn) {\n  var mode = loc.listingMode(defaultOK);\n\n  if (mode === \"error\") {\n    return null;\n  } else if (mode === \"en\") {\n    return englishFn(length);\n  } else {\n    return intlFn(length);\n  }\n}\n\nfunction supportsFastNumbers(loc) {\n  if (loc.numberingSystem && loc.numberingSystem !== \"latn\") {\n    return false;\n  } else {\n    return loc.numberingSystem === \"latn\" || !loc.locale || loc.locale.startsWith(\"en\") || hasIntl() && new Intl.DateTimeFormat(loc.intl).resolvedOptions().numberingSystem === \"latn\";\n  }\n}\n/**\n * @private\n */\n\n\nvar PolyNumberFormatter = /*#__PURE__*/function () {\n  function PolyNumberFormatter(intl, forceSimple, opts) {\n    this.padTo = opts.padTo || 0;\n    this.floor = opts.floor || false;\n\n    if (!forceSimple && hasIntl()) {\n      var intlOpts = {\n        useGrouping: false\n      };\n      if (opts.padTo > 0) intlOpts.minimumIntegerDigits = opts.padTo;\n      this.inf = getCachedINF(intl, intlOpts);\n    }\n  }\n\n  var _proto = PolyNumberFormatter.prototype;\n\n  _proto.format = function format(i) {\n    if (this.inf) {\n      var fixed = this.floor ? Math.floor(i) : i;\n      return this.inf.format(fixed);\n    } else {\n      // to match the browser's numberformatter defaults\n      var _fixed = this.floor ? Math.floor(i) : roundTo(i, 3);\n\n      return padStart(_fixed, this.padTo);\n    }\n  };\n\n  return PolyNumberFormatter;\n}();\n/**\n * @private\n */\n\n\nvar PolyDateFormatter = /*#__PURE__*/function () {\n  function PolyDateFormatter(dt, intl, opts) {\n    this.opts = opts;\n    this.hasIntl = hasIntl();\n    var z;\n\n    if (dt.zone.universal && this.hasIntl) {\n      // UTC-8 or Etc/UTC-8 are not part of tzdata, only Etc/GMT+8 and the like.\n      // That is why fixed-offset TZ is set to that unless it is:\n      // 1. Representing offset 0 when UTC is used to maintain previous behavior and does not become GMT.\n      // 2. Unsupported by the browser:\n      //    - some do not support Etc/\n      //    - < Etc/GMT-14, > Etc/GMT+12, and 30-minute or 45-minute offsets are not part of tzdata\n      var gmtOffset = -1 * (dt.offset / 60);\n      var offsetZ = gmtOffset >= 0 ? \"Etc/GMT+\" + gmtOffset : \"Etc/GMT\" + gmtOffset;\n      var isOffsetZoneSupported = IANAZone.isValidZone(offsetZ);\n\n      if (dt.offset !== 0 && isOffsetZoneSupported) {\n        z = offsetZ;\n        this.dt = dt;\n      } else {\n        // Not all fixed-offset zones like Etc/+4:30 are present in tzdata.\n        // So we have to make do. Two cases:\n        // 1. The format options tell us to show the zone. We can't do that, so the best\n        // we can do is format the date in UTC.\n        // 2. The format options don't tell us to show the zone. Then we can adjust them\n        // the time and tell the formatter to show it to us in UTC, so that the time is right\n        // and the bad zone doesn't show up.\n        z = \"UTC\";\n\n        if (opts.timeZoneName) {\n          this.dt = dt;\n        } else {\n          this.dt = dt.offset === 0 ? dt : DateTime.fromMillis(dt.ts + dt.offset * 60 * 1000);\n        }\n      }\n    } else if (dt.zone.type === \"local\") {\n      this.dt = dt;\n    } else {\n      this.dt = dt;\n      z = dt.zone.name;\n    }\n\n    if (this.hasIntl) {\n      var intlOpts = Object.assign({}, this.opts);\n\n      if (z) {\n        intlOpts.timeZone = z;\n      }\n\n      this.dtf = getCachedDTF(intl, intlOpts);\n    }\n  }\n\n  var _proto2 = PolyDateFormatter.prototype;\n\n  _proto2.format = function format() {\n    if (this.hasIntl) {\n      return this.dtf.format(this.dt.toJSDate());\n    } else {\n      var tokenFormat = formatString(this.opts),\n          loc = Locale.create(\"en-US\");\n      return Formatter.create(loc).formatDateTimeFromString(this.dt, tokenFormat);\n    }\n  };\n\n  _proto2.formatToParts = function formatToParts() {\n    if (this.hasIntl && hasFormatToParts()) {\n      return this.dtf.formatToParts(this.dt.toJSDate());\n    } else {\n      // This is kind of a cop out. We actually could do this for English. However, we couldn't do it for intl strings\n      // and IMO it's too weird to have an uncanny valley like that\n      return [];\n    }\n  };\n\n  _proto2.resolvedOptions = function resolvedOptions() {\n    if (this.hasIntl) {\n      return this.dtf.resolvedOptions();\n    } else {\n      return {\n        locale: \"en-US\",\n        numberingSystem: \"latn\",\n        outputCalendar: \"gregory\"\n      };\n    }\n  };\n\n  return PolyDateFormatter;\n}();\n/**\n * @private\n */\n\n\nvar PolyRelFormatter = /*#__PURE__*/function () {\n  function PolyRelFormatter(intl, isEnglish, opts) {\n    this.opts = Object.assign({\n      style: \"long\"\n    }, opts);\n\n    if (!isEnglish && hasRelative()) {\n      this.rtf = getCachedRTF(intl, opts);\n    }\n  }\n\n  var _proto3 = PolyRelFormatter.prototype;\n\n  _proto3.format = function format(count, unit) {\n    if (this.rtf) {\n      return this.rtf.format(count, unit);\n    } else {\n      return formatRelativeTime(unit, count, this.opts.numeric, this.opts.style !== \"long\");\n    }\n  };\n\n  _proto3.formatToParts = function formatToParts(count, unit) {\n    if (this.rtf) {\n      return this.rtf.formatToParts(count, unit);\n    } else {\n      return [];\n    }\n  };\n\n  return PolyRelFormatter;\n}();\n/**\n * @private\n */\n\n\nvar Locale = /*#__PURE__*/function () {\n  Locale.fromOpts = function fromOpts(opts) {\n    return Locale.create(opts.locale, opts.numberingSystem, opts.outputCalendar, opts.defaultToEN);\n  };\n\n  Locale.create = function create(locale, numberingSystem, outputCalendar, defaultToEN) {\n    if (defaultToEN === void 0) {\n      defaultToEN = false;\n    }\n\n    var specifiedLocale = locale || Settings.defaultLocale,\n        // the system locale is useful for human readable strings but annoying for parsing/formatting known formats\n    localeR = specifiedLocale || (defaultToEN ? \"en-US\" : systemLocale()),\n        numberingSystemR = numberingSystem || Settings.defaultNumberingSystem,\n        outputCalendarR = outputCalendar || Settings.defaultOutputCalendar;\n    return new Locale(localeR, numberingSystemR, outputCalendarR, specifiedLocale);\n  };\n\n  Locale.resetCache = function resetCache() {\n    sysLocaleCache = null;\n    intlDTCache = {};\n    intlNumCache = {};\n    intlRelCache = {};\n  };\n\n  Locale.fromObject = function fromObject(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        locale = _ref.locale,\n        numberingSystem = _ref.numberingSystem,\n        outputCalendar = _ref.outputCalendar;\n\n    return Locale.create(locale, numberingSystem, outputCalendar);\n  };\n\n  function Locale(locale, numbering, outputCalendar, specifiedLocale) {\n    var _parseLocaleString = parseLocaleString(locale),\n        parsedLocale = _parseLocaleString[0],\n        parsedNumberingSystem = _parseLocaleString[1],\n        parsedOutputCalendar = _parseLocaleString[2];\n\n    this.locale = parsedLocale;\n    this.numberingSystem = numbering || parsedNumberingSystem || null;\n    this.outputCalendar = outputCalendar || parsedOutputCalendar || null;\n    this.intl = intlConfigString(this.locale, this.numberingSystem, this.outputCalendar);\n    this.weekdaysCache = {\n      format: {},\n      standalone: {}\n    };\n    this.monthsCache = {\n      format: {},\n      standalone: {}\n    };\n    this.meridiemCache = null;\n    this.eraCache = {};\n    this.specifiedLocale = specifiedLocale;\n    this.fastNumbersCached = null;\n  }\n\n  var _proto4 = Locale.prototype;\n\n  _proto4.listingMode = function listingMode(defaultOK) {\n    if (defaultOK === void 0) {\n      defaultOK = true;\n    }\n\n    var intl = hasIntl(),\n        hasFTP = intl && hasFormatToParts(),\n        isActuallyEn = this.isEnglish(),\n        hasNoWeirdness = (this.numberingSystem === null || this.numberingSystem === \"latn\") && (this.outputCalendar === null || this.outputCalendar === \"gregory\");\n\n    if (!hasFTP && !(isActuallyEn && hasNoWeirdness) && !defaultOK) {\n      return \"error\";\n    } else if (!hasFTP || isActuallyEn && hasNoWeirdness) {\n      return \"en\";\n    } else {\n      return \"intl\";\n    }\n  };\n\n  _proto4.clone = function clone(alts) {\n    if (!alts || Object.getOwnPropertyNames(alts).length === 0) {\n      return this;\n    } else {\n      return Locale.create(alts.locale || this.specifiedLocale, alts.numberingSystem || this.numberingSystem, alts.outputCalendar || this.outputCalendar, alts.defaultToEN || false);\n    }\n  };\n\n  _proto4.redefaultToEN = function redefaultToEN(alts) {\n    if (alts === void 0) {\n      alts = {};\n    }\n\n    return this.clone(Object.assign({}, alts, {\n      defaultToEN: true\n    }));\n  };\n\n  _proto4.redefaultToSystem = function redefaultToSystem(alts) {\n    if (alts === void 0) {\n      alts = {};\n    }\n\n    return this.clone(Object.assign({}, alts, {\n      defaultToEN: false\n    }));\n  };\n\n  _proto4.months = function months$1(length, format, defaultOK) {\n    var _this = this;\n\n    if (format === void 0) {\n      format = false;\n    }\n\n    if (defaultOK === void 0) {\n      defaultOK = true;\n    }\n\n    return listStuff(this, length, defaultOK, months, function () {\n      var intl = format ? {\n        month: length,\n        day: \"numeric\"\n      } : {\n        month: length\n      },\n          formatStr = format ? \"format\" : \"standalone\";\n\n      if (!_this.monthsCache[formatStr][length]) {\n        _this.monthsCache[formatStr][length] = mapMonths(function (dt) {\n          return _this.extract(dt, intl, \"month\");\n        });\n      }\n\n      return _this.monthsCache[formatStr][length];\n    });\n  };\n\n  _proto4.weekdays = function weekdays$1(length, format, defaultOK) {\n    var _this2 = this;\n\n    if (format === void 0) {\n      format = false;\n    }\n\n    if (defaultOK === void 0) {\n      defaultOK = true;\n    }\n\n    return listStuff(this, length, defaultOK, weekdays, function () {\n      var intl = format ? {\n        weekday: length,\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      } : {\n        weekday: length\n      },\n          formatStr = format ? \"format\" : \"standalone\";\n\n      if (!_this2.weekdaysCache[formatStr][length]) {\n        _this2.weekdaysCache[formatStr][length] = mapWeekdays(function (dt) {\n          return _this2.extract(dt, intl, \"weekday\");\n        });\n      }\n\n      return _this2.weekdaysCache[formatStr][length];\n    });\n  };\n\n  _proto4.meridiems = function meridiems$1(defaultOK) {\n    var _this3 = this;\n\n    if (defaultOK === void 0) {\n      defaultOK = true;\n    }\n\n    return listStuff(this, undefined, defaultOK, function () {\n      return meridiems;\n    }, function () {\n      // In theory there could be aribitrary day periods. We're gonna assume there are exactly two\n      // for AM and PM. This is probably wrong, but it's makes parsing way easier.\n      if (!_this3.meridiemCache) {\n        var intl = {\n          hour: \"numeric\",\n          hour12: true\n        };\n        _this3.meridiemCache = [DateTime.utc(2016, 11, 13, 9), DateTime.utc(2016, 11, 13, 19)].map(function (dt) {\n          return _this3.extract(dt, intl, \"dayperiod\");\n        });\n      }\n\n      return _this3.meridiemCache;\n    });\n  };\n\n  _proto4.eras = function eras$1(length, defaultOK) {\n    var _this4 = this;\n\n    if (defaultOK === void 0) {\n      defaultOK = true;\n    }\n\n    return listStuff(this, length, defaultOK, eras, function () {\n      var intl = {\n        era: length\n      }; // This is problematic. Different calendars are going to define eras totally differently. What I need is the minimum set of dates\n      // to definitely enumerate them.\n\n      if (!_this4.eraCache[length]) {\n        _this4.eraCache[length] = [DateTime.utc(-40, 1, 1), DateTime.utc(2017, 1, 1)].map(function (dt) {\n          return _this4.extract(dt, intl, \"era\");\n        });\n      }\n\n      return _this4.eraCache[length];\n    });\n  };\n\n  _proto4.extract = function extract(dt, intlOpts, field) {\n    var df = this.dtFormatter(dt, intlOpts),\n        results = df.formatToParts(),\n        matching = results.find(function (m) {\n      return m.type.toLowerCase() === field;\n    });\n    return matching ? matching.value : null;\n  };\n\n  _proto4.numberFormatter = function numberFormatter(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    // this forcesimple option is never used (the only caller short-circuits on it, but it seems safer to leave)\n    // (in contrast, the rest of the condition is used heavily)\n    return new PolyNumberFormatter(this.intl, opts.forceSimple || this.fastNumbers, opts);\n  };\n\n  _proto4.dtFormatter = function dtFormatter(dt, intlOpts) {\n    if (intlOpts === void 0) {\n      intlOpts = {};\n    }\n\n    return new PolyDateFormatter(dt, this.intl, intlOpts);\n  };\n\n  _proto4.relFormatter = function relFormatter(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    return new PolyRelFormatter(this.intl, this.isEnglish(), opts);\n  };\n\n  _proto4.isEnglish = function isEnglish() {\n    return this.locale === \"en\" || this.locale.toLowerCase() === \"en-us\" || hasIntl() && new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith(\"en-us\");\n  };\n\n  _proto4.equals = function equals(other) {\n    return this.locale === other.locale && this.numberingSystem === other.numberingSystem && this.outputCalendar === other.outputCalendar;\n  };\n\n  _createClass(Locale, [{\n    key: \"fastNumbers\",\n    get: function get() {\n      if (this.fastNumbersCached == null) {\n        this.fastNumbersCached = supportsFastNumbers(this);\n      }\n\n      return this.fastNumbersCached;\n    }\n  }]);\n\n  return Locale;\n}();\n\n/*\n * This file handles parsing for well-specified formats. Here's how it works:\n * Two things go into parsing: a regex to match with and an extractor to take apart the groups in the match.\n * An extractor is just a function that takes a regex match array and returns a { year: ..., month: ... } object\n * parse() does the work of executing the regex and applying the extractor. It takes multiple regex/extractor pairs to try in sequence.\n * Extractors can take a \"cursor\" representing the offset in the match to look at. This makes it easy to combine extractors.\n * combineExtractors() does the work of combining them, keeping track of the cursor through multiple extractions.\n * Some extractions are super dumb and simpleParse and fromStrings help DRY them.\n */\n\nfunction combineRegexes() {\n  for (var _len = arguments.length, regexes = new Array(_len), _key = 0; _key < _len; _key++) {\n    regexes[_key] = arguments[_key];\n  }\n\n  var full = regexes.reduce(function (f, r) {\n    return f + r.source;\n  }, \"\");\n  return RegExp(\"^\" + full + \"$\");\n}\n\nfunction combineExtractors() {\n  for (var _len2 = arguments.length, extractors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    extractors[_key2] = arguments[_key2];\n  }\n\n  return function (m) {\n    return extractors.reduce(function (_ref, ex) {\n      var mergedVals = _ref[0],\n          mergedZone = _ref[1],\n          cursor = _ref[2];\n\n      var _ex = ex(m, cursor),\n          val = _ex[0],\n          zone = _ex[1],\n          next = _ex[2];\n\n      return [Object.assign(mergedVals, val), mergedZone || zone, next];\n    }, [{}, null, 1]).slice(0, 2);\n  };\n}\n\nfunction parse(s) {\n  if (s == null) {\n    return [null, null];\n  }\n\n  for (var _len3 = arguments.length, patterns = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    patterns[_key3 - 1] = arguments[_key3];\n  }\n\n  for (var _i = 0, _patterns = patterns; _i < _patterns.length; _i++) {\n    var _patterns$_i = _patterns[_i],\n        regex = _patterns$_i[0],\n        extractor = _patterns$_i[1];\n    var m = regex.exec(s);\n\n    if (m) {\n      return extractor(m);\n    }\n  }\n\n  return [null, null];\n}\n\nfunction simpleParse() {\n  for (var _len4 = arguments.length, keys = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    keys[_key4] = arguments[_key4];\n  }\n\n  return function (match, cursor) {\n    var ret = {};\n    var i;\n\n    for (i = 0; i < keys.length; i++) {\n      ret[keys[i]] = parseInteger(match[cursor + i]);\n    }\n\n    return [ret, null, cursor + i];\n  };\n} // ISO and SQL parsing\n\n\nvar offsetRegex = /(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/,\n    isoTimeBaseRegex = /(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/,\n    isoTimeRegex = RegExp(\"\" + isoTimeBaseRegex.source + offsetRegex.source + \"?\"),\n    isoTimeExtensionRegex = RegExp(\"(?:T\" + isoTimeRegex.source + \")?\"),\n    isoYmdRegex = /([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/,\n    isoWeekRegex = /(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/,\n    isoOrdinalRegex = /(\\d{4})-?(\\d{3})/,\n    extractISOWeekData = simpleParse(\"weekYear\", \"weekNumber\", \"weekDay\"),\n    extractISOOrdinalData = simpleParse(\"year\", \"ordinal\"),\n    sqlYmdRegex = /(\\d{4})-(\\d\\d)-(\\d\\d)/,\n    // dumbed-down version of the ISO one\nsqlTimeRegex = RegExp(isoTimeBaseRegex.source + \" ?(?:\" + offsetRegex.source + \"|(\" + ianaRegex.source + \"))?\"),\n    sqlTimeExtensionRegex = RegExp(\"(?: \" + sqlTimeRegex.source + \")?\");\n\nfunction int(match, pos, fallback) {\n  var m = match[pos];\n  return isUndefined(m) ? fallback : parseInteger(m);\n}\n\nfunction extractISOYmd(match, cursor) {\n  var item = {\n    year: int(match, cursor),\n    month: int(match, cursor + 1, 1),\n    day: int(match, cursor + 2, 1)\n  };\n  return [item, null, cursor + 3];\n}\n\nfunction extractISOTime(match, cursor) {\n  var item = {\n    hours: int(match, cursor, 0),\n    minutes: int(match, cursor + 1, 0),\n    seconds: int(match, cursor + 2, 0),\n    milliseconds: parseMillis(match[cursor + 3])\n  };\n  return [item, null, cursor + 4];\n}\n\nfunction extractISOOffset(match, cursor) {\n  var local = !match[cursor] && !match[cursor + 1],\n      fullOffset = signedOffset(match[cursor + 1], match[cursor + 2]),\n      zone = local ? null : FixedOffsetZone.instance(fullOffset);\n  return [{}, zone, cursor + 3];\n}\n\nfunction extractIANAZone(match, cursor) {\n  var zone = match[cursor] ? IANAZone.create(match[cursor]) : null;\n  return [{}, zone, cursor + 1];\n} // ISO time parsing\n\n\nvar isoTimeOnly = RegExp(\"^T?\" + isoTimeBaseRegex.source + \"$\"); // ISO duration parsing\n\nvar isoDuration = /^-?P(?:(?:(-?\\d{1,9})Y)?(?:(-?\\d{1,9})M)?(?:(-?\\d{1,9})W)?(?:(-?\\d{1,9})D)?(?:T(?:(-?\\d{1,9})H)?(?:(-?\\d{1,9})M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,9}))?S)?)?)$/;\n\nfunction extractISODuration(match) {\n  var s = match[0],\n      yearStr = match[1],\n      monthStr = match[2],\n      weekStr = match[3],\n      dayStr = match[4],\n      hourStr = match[5],\n      minuteStr = match[6],\n      secondStr = match[7],\n      millisecondsStr = match[8];\n  var hasNegativePrefix = s[0] === \"-\";\n  var negativeSeconds = secondStr && secondStr[0] === \"-\";\n\n  var maybeNegate = function maybeNegate(num, force) {\n    if (force === void 0) {\n      force = false;\n    }\n\n    return num !== undefined && (force || num && hasNegativePrefix) ? -num : num;\n  };\n\n  return [{\n    years: maybeNegate(parseInteger(yearStr)),\n    months: maybeNegate(parseInteger(monthStr)),\n    weeks: maybeNegate(parseInteger(weekStr)),\n    days: maybeNegate(parseInteger(dayStr)),\n    hours: maybeNegate(parseInteger(hourStr)),\n    minutes: maybeNegate(parseInteger(minuteStr)),\n    seconds: maybeNegate(parseInteger(secondStr), secondStr === \"-0\"),\n    milliseconds: maybeNegate(parseMillis(millisecondsStr), negativeSeconds)\n  }];\n} // These are a little braindead. EDT *should* tell us that we're in, say, America/New_York\n// and not just that we're in -240 *right now*. But since I don't think these are used that often\n// I'm just going to ignore that\n\n\nvar obsOffsets = {\n  GMT: 0,\n  EDT: -4 * 60,\n  EST: -5 * 60,\n  CDT: -5 * 60,\n  CST: -6 * 60,\n  MDT: -6 * 60,\n  MST: -7 * 60,\n  PDT: -7 * 60,\n  PST: -8 * 60\n};\n\nfunction fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n  var result = {\n    year: yearStr.length === 2 ? untruncateYear(parseInteger(yearStr)) : parseInteger(yearStr),\n    month: monthsShort.indexOf(monthStr) + 1,\n    day: parseInteger(dayStr),\n    hour: parseInteger(hourStr),\n    minute: parseInteger(minuteStr)\n  };\n  if (secondStr) result.second = parseInteger(secondStr);\n\n  if (weekdayStr) {\n    result.weekday = weekdayStr.length > 3 ? weekdaysLong.indexOf(weekdayStr) + 1 : weekdaysShort.indexOf(weekdayStr) + 1;\n  }\n\n  return result;\n} // RFC 2822/5322\n\n\nvar rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;\n\nfunction extractRFC2822(match) {\n  var weekdayStr = match[1],\n      dayStr = match[2],\n      monthStr = match[3],\n      yearStr = match[4],\n      hourStr = match[5],\n      minuteStr = match[6],\n      secondStr = match[7],\n      obsOffset = match[8],\n      milOffset = match[9],\n      offHourStr = match[10],\n      offMinuteStr = match[11],\n      result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  var offset;\n\n  if (obsOffset) {\n    offset = obsOffsets[obsOffset];\n  } else if (milOffset) {\n    offset = 0;\n  } else {\n    offset = signedOffset(offHourStr, offMinuteStr);\n  }\n\n  return [result, new FixedOffsetZone(offset)];\n}\n\nfunction preprocessRFC2822(s) {\n  // Remove comments and folding whitespace and replace multiple-spaces with a single space\n  return s.replace(/\\([^)]*\\)|[\\n\\t]/g, \" \").replace(/(\\s\\s+)/g, \" \").trim();\n} // http date\n\n\nvar rfc1123 = /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n    rfc850 = /^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n    ascii = /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;\n\nfunction extractRFC1123Or850(match) {\n  var weekdayStr = match[1],\n      dayStr = match[2],\n      monthStr = match[3],\n      yearStr = match[4],\n      hourStr = match[5],\n      minuteStr = match[6],\n      secondStr = match[7],\n      result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nfunction extractASCII(match) {\n  var weekdayStr = match[1],\n      monthStr = match[2],\n      dayStr = match[3],\n      hourStr = match[4],\n      minuteStr = match[5],\n      secondStr = match[6],\n      yearStr = match[7],\n      result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nvar isoYmdWithTimeExtensionRegex = combineRegexes(isoYmdRegex, isoTimeExtensionRegex);\nvar isoWeekWithTimeExtensionRegex = combineRegexes(isoWeekRegex, isoTimeExtensionRegex);\nvar isoOrdinalWithTimeExtensionRegex = combineRegexes(isoOrdinalRegex, isoTimeExtensionRegex);\nvar isoTimeCombinedRegex = combineRegexes(isoTimeRegex);\nvar extractISOYmdTimeAndOffset = combineExtractors(extractISOYmd, extractISOTime, extractISOOffset);\nvar extractISOWeekTimeAndOffset = combineExtractors(extractISOWeekData, extractISOTime, extractISOOffset);\nvar extractISOOrdinalDateAndTime = combineExtractors(extractISOOrdinalData, extractISOTime, extractISOOffset);\nvar extractISOTimeAndOffset = combineExtractors(extractISOTime, extractISOOffset);\n/**\n * @private\n */\n\nfunction parseISODate(s) {\n  return parse(s, [isoYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset], [isoWeekWithTimeExtensionRegex, extractISOWeekTimeAndOffset], [isoOrdinalWithTimeExtensionRegex, extractISOOrdinalDateAndTime], [isoTimeCombinedRegex, extractISOTimeAndOffset]);\n}\nfunction parseRFC2822Date(s) {\n  return parse(preprocessRFC2822(s), [rfc2822, extractRFC2822]);\n}\nfunction parseHTTPDate(s) {\n  return parse(s, [rfc1123, extractRFC1123Or850], [rfc850, extractRFC1123Or850], [ascii, extractASCII]);\n}\nfunction parseISODuration(s) {\n  return parse(s, [isoDuration, extractISODuration]);\n}\nvar extractISOTimeOnly = combineExtractors(extractISOTime);\nfunction parseISOTimeOnly(s) {\n  return parse(s, [isoTimeOnly, extractISOTimeOnly]);\n}\nvar sqlYmdWithTimeExtensionRegex = combineRegexes(sqlYmdRegex, sqlTimeExtensionRegex);\nvar sqlTimeCombinedRegex = combineRegexes(sqlTimeRegex);\nvar extractISOYmdTimeOffsetAndIANAZone = combineExtractors(extractISOYmd, extractISOTime, extractISOOffset, extractIANAZone);\nvar extractISOTimeOffsetAndIANAZone = combineExtractors(extractISOTime, extractISOOffset, extractIANAZone);\nfunction parseSQL(s) {\n  return parse(s, [sqlYmdWithTimeExtensionRegex, extractISOYmdTimeOffsetAndIANAZone], [sqlTimeCombinedRegex, extractISOTimeOffsetAndIANAZone]);\n}\n\nvar INVALID = \"Invalid Duration\"; // unit conversion constants\n\nvar lowOrderMatrix = {\n  weeks: {\n    days: 7,\n    hours: 7 * 24,\n    minutes: 7 * 24 * 60,\n    seconds: 7 * 24 * 60 * 60,\n    milliseconds: 7 * 24 * 60 * 60 * 1000\n  },\n  days: {\n    hours: 24,\n    minutes: 24 * 60,\n    seconds: 24 * 60 * 60,\n    milliseconds: 24 * 60 * 60 * 1000\n  },\n  hours: {\n    minutes: 60,\n    seconds: 60 * 60,\n    milliseconds: 60 * 60 * 1000\n  },\n  minutes: {\n    seconds: 60,\n    milliseconds: 60 * 1000\n  },\n  seconds: {\n    milliseconds: 1000\n  }\n},\n    casualMatrix = Object.assign({\n  years: {\n    quarters: 4,\n    months: 12,\n    weeks: 52,\n    days: 365,\n    hours: 365 * 24,\n    minutes: 365 * 24 * 60,\n    seconds: 365 * 24 * 60 * 60,\n    milliseconds: 365 * 24 * 60 * 60 * 1000\n  },\n  quarters: {\n    months: 3,\n    weeks: 13,\n    days: 91,\n    hours: 91 * 24,\n    minutes: 91 * 24 * 60,\n    seconds: 91 * 24 * 60 * 60,\n    milliseconds: 91 * 24 * 60 * 60 * 1000\n  },\n  months: {\n    weeks: 4,\n    days: 30,\n    hours: 30 * 24,\n    minutes: 30 * 24 * 60,\n    seconds: 30 * 24 * 60 * 60,\n    milliseconds: 30 * 24 * 60 * 60 * 1000\n  }\n}, lowOrderMatrix),\n    daysInYearAccurate = 146097.0 / 400,\n    daysInMonthAccurate = 146097.0 / 4800,\n    accurateMatrix = Object.assign({\n  years: {\n    quarters: 4,\n    months: 12,\n    weeks: daysInYearAccurate / 7,\n    days: daysInYearAccurate,\n    hours: daysInYearAccurate * 24,\n    minutes: daysInYearAccurate * 24 * 60,\n    seconds: daysInYearAccurate * 24 * 60 * 60,\n    milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1000\n  },\n  quarters: {\n    months: 3,\n    weeks: daysInYearAccurate / 28,\n    days: daysInYearAccurate / 4,\n    hours: daysInYearAccurate * 24 / 4,\n    minutes: daysInYearAccurate * 24 * 60 / 4,\n    seconds: daysInYearAccurate * 24 * 60 * 60 / 4,\n    milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1000 / 4\n  },\n  months: {\n    weeks: daysInMonthAccurate / 7,\n    days: daysInMonthAccurate,\n    hours: daysInMonthAccurate * 24,\n    minutes: daysInMonthAccurate * 24 * 60,\n    seconds: daysInMonthAccurate * 24 * 60 * 60,\n    milliseconds: daysInMonthAccurate * 24 * 60 * 60 * 1000\n  }\n}, lowOrderMatrix); // units ordered by size\n\nvar orderedUnits = [\"years\", \"quarters\", \"months\", \"weeks\", \"days\", \"hours\", \"minutes\", \"seconds\", \"milliseconds\"];\nvar reverseUnits = orderedUnits.slice(0).reverse(); // clone really means \"create another instance just like this one, but with these changes\"\n\nfunction clone(dur, alts, clear) {\n  if (clear === void 0) {\n    clear = false;\n  }\n\n  // deep merge for vals\n  var conf = {\n    values: clear ? alts.values : Object.assign({}, dur.values, alts.values || {}),\n    loc: dur.loc.clone(alts.loc),\n    conversionAccuracy: alts.conversionAccuracy || dur.conversionAccuracy\n  };\n  return new Duration(conf);\n}\n\nfunction antiTrunc(n) {\n  return n < 0 ? Math.floor(n) : Math.ceil(n);\n} // NB: mutates parameters\n\n\nfunction convert(matrix, fromMap, fromUnit, toMap, toUnit) {\n  var conv = matrix[toUnit][fromUnit],\n      raw = fromMap[fromUnit] / conv,\n      sameSign = Math.sign(raw) === Math.sign(toMap[toUnit]),\n      // ok, so this is wild, but see the matrix in the tests\n  added = !sameSign && toMap[toUnit] !== 0 && Math.abs(raw) <= 1 ? antiTrunc(raw) : Math.trunc(raw);\n  toMap[toUnit] += added;\n  fromMap[fromUnit] -= added * conv;\n} // NB: mutates parameters\n\n\nfunction normalizeValues(matrix, vals) {\n  reverseUnits.reduce(function (previous, current) {\n    if (!isUndefined(vals[current])) {\n      if (previous) {\n        convert(matrix, vals, previous, vals, current);\n      }\n\n      return current;\n    } else {\n      return previous;\n    }\n  }, null);\n}\n/**\n * A Duration object represents a period of time, like \"2 months\" or \"1 day, 1 hour\". Conceptually, it's just a map of units to their quantities, accompanied by some additional configuration and methods for creating, parsing, interrogating, transforming, and formatting them. They can be used on their own or in conjunction with other Luxon types; for example, you can use {@link DateTime.plus} to add a Duration object to a DateTime, producing another DateTime.\n *\n * Here is a brief overview of commonly used methods and getters in Duration:\n *\n * * **Creation** To create a Duration, use {@link Duration.fromMillis}, {@link Duration.fromObject}, or {@link Duration.fromISO}.\n * * **Unit values** See the {@link Duration.years}, {@link Duration.months}, {@link Duration.weeks}, {@link Duration.days}, {@link Duration.hours}, {@link Duration.minutes}, {@link Duration.seconds}, {@link Duration.milliseconds} accessors.\n * * **Configuration** See  {@link Duration.locale} and {@link Duration.numberingSystem} accessors.\n * * **Transformation** To create new Durations out of old ones use {@link Duration.plus}, {@link Duration.minus}, {@link Duration.normalize}, {@link Duration.set}, {@link Duration.reconfigure}, {@link Duration.shiftTo}, and {@link Duration.negate}.\n * * **Output** To convert the Duration into other representations, see {@link Duration.as}, {@link Duration.toISO}, {@link Duration.toFormat}, and {@link Duration.toJSON}\n *\n * There's are more methods documented below. In addition, for more information on subtler topics like internationalization and validity, see the external documentation.\n */\n\n\nvar Duration = /*#__PURE__*/function () {\n  /**\n   * @private\n   */\n  function Duration(config) {\n    var accurate = config.conversionAccuracy === \"longterm\" || false;\n    /**\n     * @access private\n     */\n\n    this.values = config.values;\n    /**\n     * @access private\n     */\n\n    this.loc = config.loc || Locale.create();\n    /**\n     * @access private\n     */\n\n    this.conversionAccuracy = accurate ? \"longterm\" : \"casual\";\n    /**\n     * @access private\n     */\n\n    this.invalid = config.invalid || null;\n    /**\n     * @access private\n     */\n\n    this.matrix = accurate ? accurateMatrix : casualMatrix;\n    /**\n     * @access private\n     */\n\n    this.isLuxonDuration = true;\n  }\n  /**\n   * Create Duration from a number of milliseconds.\n   * @param {number} count of milliseconds\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n\n\n  Duration.fromMillis = function fromMillis(count, opts) {\n    return Duration.fromObject(Object.assign({\n      milliseconds: count\n    }, opts));\n  }\n  /**\n   * Create a Duration from a JavaScript object with keys like 'years' and 'hours'.\n   * If this object is empty then a zero milliseconds duration is returned.\n   * @param {Object} obj - the object to create the DateTime from\n   * @param {number} obj.years\n   * @param {number} obj.quarters\n   * @param {number} obj.months\n   * @param {number} obj.weeks\n   * @param {number} obj.days\n   * @param {number} obj.hours\n   * @param {number} obj.minutes\n   * @param {number} obj.seconds\n   * @param {number} obj.milliseconds\n   * @param {string} [obj.locale='en-US'] - the locale to use\n   * @param {string} obj.numberingSystem - the numbering system to use\n   * @param {string} [obj.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  ;\n\n  Duration.fromObject = function fromObject(obj) {\n    if (obj == null || typeof obj !== \"object\") {\n      throw new InvalidArgumentError(\"Duration.fromObject: argument expected to be an object, got \" + (obj === null ? \"null\" : typeof obj));\n    }\n\n    return new Duration({\n      values: normalizeObject(obj, Duration.normalizeUnit, [\"locale\", \"numberingSystem\", \"conversionAccuracy\", \"zone\" // a bit of debt; it's super inconvenient internally not to be able to blindly pass this\n      ]),\n      loc: Locale.fromObject(obj),\n      conversionAccuracy: obj.conversionAccuracy\n    });\n  }\n  /**\n   * Create a Duration from an ISO 8601 duration string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromISO('P3Y6M1W4DT12H30M5S').toObject() //=> { years: 3, months: 6, weeks: 1, days: 4, hours: 12, minutes: 30, seconds: 5 }\n   * @example Duration.fromISO('PT23H').toObject() //=> { hours: 23 }\n   * @example Duration.fromISO('P5Y3M').toObject() //=> { years: 5, months: 3 }\n   * @return {Duration}\n   */\n  ;\n\n  Duration.fromISO = function fromISO(text, opts) {\n    var _parseISODuration = parseISODuration(text),\n        parsed = _parseISODuration[0];\n\n    if (parsed) {\n      var obj = Object.assign(parsed, opts);\n      return Duration.fromObject(obj);\n    } else {\n      return Duration.invalid(\"unparsable\", \"the input \\\"\" + text + \"\\\" can't be parsed as ISO 8601\");\n    }\n  }\n  /**\n   * Create a Duration from an ISO 8601 time string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @example Duration.fromISOTime('11:22:33.444').toObject() //=> { hours: 11, minutes: 22, seconds: 33, milliseconds: 444 }\n   * @example Duration.fromISOTime('11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @return {Duration}\n   */\n  ;\n\n  Duration.fromISOTime = function fromISOTime(text, opts) {\n    var _parseISOTimeOnly = parseISOTimeOnly(text),\n        parsed = _parseISOTimeOnly[0];\n\n    if (parsed) {\n      var obj = Object.assign(parsed, opts);\n      return Duration.fromObject(obj);\n    } else {\n      return Duration.invalid(\"unparsable\", \"the input \\\"\" + text + \"\\\" can't be parsed as ISO 8601\");\n    }\n  }\n  /**\n   * Create an invalid Duration.\n   * @param {string} reason - simple string of why this datetime is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {Duration}\n   */\n  ;\n\n  Duration.invalid = function invalid(reason, explanation) {\n    if (explanation === void 0) {\n      explanation = null;\n    }\n\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the Duration is invalid\");\n    }\n\n    var invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidDurationError(invalid);\n    } else {\n      return new Duration({\n        invalid: invalid\n      });\n    }\n  }\n  /**\n   * @private\n   */\n  ;\n\n  Duration.normalizeUnit = function normalizeUnit(unit) {\n    var normalized = {\n      year: \"years\",\n      years: \"years\",\n      quarter: \"quarters\",\n      quarters: \"quarters\",\n      month: \"months\",\n      months: \"months\",\n      week: \"weeks\",\n      weeks: \"weeks\",\n      day: \"days\",\n      days: \"days\",\n      hour: \"hours\",\n      hours: \"hours\",\n      minute: \"minutes\",\n      minutes: \"minutes\",\n      second: \"seconds\",\n      seconds: \"seconds\",\n      millisecond: \"milliseconds\",\n      milliseconds: \"milliseconds\"\n    }[unit ? unit.toLowerCase() : unit];\n    if (!normalized) throw new InvalidUnitError(unit);\n    return normalized;\n  }\n  /**\n   * Check if an object is a Duration. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  ;\n\n  Duration.isDuration = function isDuration(o) {\n    return o && o.isLuxonDuration || false;\n  }\n  /**\n   * Get  the locale of a Duration, such 'en-GB'\n   * @type {string}\n   */\n  ;\n\n  var _proto = Duration.prototype;\n\n  /**\n   * Returns a string representation of this Duration formatted according to the specified format string. You may use these tokens:\n   * * `S` for milliseconds\n   * * `s` for seconds\n   * * `m` for minutes\n   * * `h` for hours\n   * * `d` for days\n   * * `M` for months\n   * * `y` for years\n   * Notes:\n   * * Add padding by repeating the token, e.g. \"yy\" pads the years to two digits, \"hhhh\" pads the hours out to four digits\n   * * The duration will be converted to the set of units in the format string using {@link Duration.shiftTo} and the Durations's conversion accuracy setting.\n   * @param {string} fmt - the format string\n   * @param {Object} opts - options\n   * @param {boolean} [opts.floor=true] - floor numerical values\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"y d s\") //=> \"1 6 2\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"yy dd sss\") //=> \"01 06 002\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"M S\") //=> \"12 518402000\"\n   * @return {string}\n   */\n  _proto.toFormat = function toFormat(fmt, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    // reverse-compat since 1.2; we always round down now, never up, and we do it by default\n    var fmtOpts = Object.assign({}, opts, {\n      floor: opts.round !== false && opts.floor !== false\n    });\n    return this.isValid ? Formatter.create(this.loc, fmtOpts).formatDurationFromString(this, fmt) : INVALID;\n  }\n  /**\n   * Returns a JavaScript object with this Duration's values.\n   * @param opts - options for generating the object\n   * @param {boolean} [opts.includeConfig=false] - include configuration attributes in the output\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toObject() //=> { years: 1, days: 6, seconds: 2 }\n   * @return {Object}\n   */\n  ;\n\n  _proto.toObject = function toObject(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    if (!this.isValid) return {};\n    var base = Object.assign({}, this.values);\n\n    if (opts.includeConfig) {\n      base.conversionAccuracy = this.conversionAccuracy;\n      base.numberingSystem = this.loc.numberingSystem;\n      base.locale = this.loc.locale;\n    }\n\n    return base;\n  }\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromObject({ years: 3, seconds: 45 }).toISO() //=> 'P3YT45S'\n   * @example Duration.fromObject({ months: 4, seconds: 45 }).toISO() //=> 'P4MT45S'\n   * @example Duration.fromObject({ months: 5 }).toISO() //=> 'P5M'\n   * @example Duration.fromObject({ minutes: 5 }).toISO() //=> 'PT5M'\n   * @example Duration.fromObject({ milliseconds: 6 }).toISO() //=> 'PT0.006S'\n   * @return {string}\n   */\n  ;\n\n  _proto.toISO = function toISO() {\n    // we could use the formatter, but this is an easier way to get the minimum string\n    if (!this.isValid) return null;\n    var s = \"P\";\n    if (this.years !== 0) s += this.years + \"Y\";\n    if (this.months !== 0 || this.quarters !== 0) s += this.months + this.quarters * 3 + \"M\";\n    if (this.weeks !== 0) s += this.weeks + \"W\";\n    if (this.days !== 0) s += this.days + \"D\";\n    if (this.hours !== 0 || this.minutes !== 0 || this.seconds !== 0 || this.milliseconds !== 0) s += \"T\";\n    if (this.hours !== 0) s += this.hours + \"H\";\n    if (this.minutes !== 0) s += this.minutes + \"M\";\n    if (this.seconds !== 0 || this.milliseconds !== 0) // this will handle \"floating point madness\" by removing extra decimal places\n      // https://stackoverflow.com/questions/588004/is-floating-point-math-broken\n      s += roundTo(this.seconds + this.milliseconds / 1000, 3) + \"S\";\n    if (s === \"P\") s += \"T0S\";\n    return s;\n  }\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration, formatted as a time of day.\n   * Note that this will return null if the duration is invalid, negative, or equal to or greater than 24 hours.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includePrefix=false] - include the `T` prefix\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example Duration.fromObject({ hours: 11 }).toISOTime() //=> '11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressMilliseconds: true }) //=> '11:00:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressSeconds: true }) //=> '11:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ includePrefix: true }) //=> 'T11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ format: 'basic' }) //=> '110000.000'\n   * @return {string}\n   */\n  ;\n\n  _proto.toISOTime = function toISOTime(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    if (!this.isValid) return null;\n    var millis = this.toMillis();\n    if (millis < 0 || millis >= 86400000) return null;\n    opts = Object.assign({\n      suppressMilliseconds: false,\n      suppressSeconds: false,\n      includePrefix: false,\n      format: \"extended\"\n    }, opts);\n    var value = this.shiftTo(\"hours\", \"minutes\", \"seconds\", \"milliseconds\");\n    var fmt = opts.format === \"basic\" ? \"hhmm\" : \"hh:mm\";\n\n    if (!opts.suppressSeconds || value.seconds !== 0 || value.milliseconds !== 0) {\n      fmt += opts.format === \"basic\" ? \"ss\" : \":ss\";\n\n      if (!opts.suppressMilliseconds || value.milliseconds !== 0) {\n        fmt += \".SSS\";\n      }\n    }\n\n    var str = value.toFormat(fmt);\n\n    if (opts.includePrefix) {\n      str = \"T\" + str;\n    }\n\n    return str;\n  }\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in JSON.\n   * @return {string}\n   */\n  ;\n\n  _proto.toJSON = function toJSON() {\n    return this.toISO();\n  }\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in debugging.\n   * @return {string}\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return this.toISO();\n  }\n  /**\n   * Returns an milliseconds value of this Duration.\n   * @return {number}\n   */\n  ;\n\n  _proto.toMillis = function toMillis() {\n    return this.as(\"milliseconds\");\n  }\n  /**\n   * Returns an milliseconds value of this Duration. Alias of {@link toMillis}\n   * @return {number}\n   */\n  ;\n\n  _proto.valueOf = function valueOf() {\n    return this.toMillis();\n  }\n  /**\n   * Make this Duration longer by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to add. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  ;\n\n  _proto.plus = function plus(duration) {\n    if (!this.isValid) return this;\n    var dur = friendlyDuration(duration),\n        result = {};\n\n    for (var _iterator = _createForOfIteratorHelperLoose(orderedUnits), _step; !(_step = _iterator()).done;) {\n      var k = _step.value;\n\n      if (hasOwnProperty(dur.values, k) || hasOwnProperty(this.values, k)) {\n        result[k] = dur.get(k) + this.get(k);\n      }\n    }\n\n    return clone(this, {\n      values: result\n    }, true);\n  }\n  /**\n   * Make this Duration shorter by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to subtract. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  ;\n\n  _proto.minus = function minus(duration) {\n    if (!this.isValid) return this;\n    var dur = friendlyDuration(duration);\n    return this.plus(dur.negate());\n  }\n  /**\n   * Scale this Duration by the specified amount. Return a newly-constructed Duration.\n   * @param {function} fn - The function to apply to each unit. Arity is 1 or 2: the value of the unit and, optionally, the unit name. Must return a number.\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnit(x => x * 2) //=> { hours: 2, minutes: 60 }\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnit((x, u) => u === \"hour\" ? x * 2 : x) //=> { hours: 2, minutes: 30 }\n   * @return {Duration}\n   */\n  ;\n\n  _proto.mapUnits = function mapUnits(fn) {\n    if (!this.isValid) return this;\n    var result = {};\n\n    for (var _i = 0, _Object$keys = Object.keys(this.values); _i < _Object$keys.length; _i++) {\n      var k = _Object$keys[_i];\n      result[k] = asNumber(fn(this.values[k], k));\n    }\n\n    return clone(this, {\n      values: result\n    }, true);\n  }\n  /**\n   * Get the value of unit.\n   * @param {string} unit - a unit such as 'minute' or 'day'\n   * @example Duration.fromObject({years: 2, days: 3}).get('years') //=> 2\n   * @example Duration.fromObject({years: 2, days: 3}).get('months') //=> 0\n   * @example Duration.fromObject({years: 2, days: 3}).get('days') //=> 3\n   * @return {number}\n   */\n  ;\n\n  _proto.get = function get(unit) {\n    return this[Duration.normalizeUnit(unit)];\n  }\n  /**\n   * \"Set\" the values of specified units. Return a newly-constructed Duration.\n   * @param {Object} values - a mapping of units to numbers\n   * @example dur.set({ years: 2017 })\n   * @example dur.set({ hours: 8, minutes: 30 })\n   * @return {Duration}\n   */\n  ;\n\n  _proto.set = function set(values) {\n    if (!this.isValid) return this;\n    var mixed = Object.assign(this.values, normalizeObject(values, Duration.normalizeUnit, []));\n    return clone(this, {\n      values: mixed\n    });\n  }\n  /**\n   * \"Set\" the locale and/or numberingSystem.  Returns a newly-constructed Duration.\n   * @example dur.reconfigure({ locale: 'en-GB' })\n   * @return {Duration}\n   */\n  ;\n\n  _proto.reconfigure = function reconfigure(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        locale = _ref.locale,\n        numberingSystem = _ref.numberingSystem,\n        conversionAccuracy = _ref.conversionAccuracy;\n\n    var loc = this.loc.clone({\n      locale: locale,\n      numberingSystem: numberingSystem\n    }),\n        opts = {\n      loc: loc\n    };\n\n    if (conversionAccuracy) {\n      opts.conversionAccuracy = conversionAccuracy;\n    }\n\n    return clone(this, opts);\n  }\n  /**\n   * Return the length of the duration in the specified unit.\n   * @param {string} unit - a unit such as 'minutes' or 'days'\n   * @example Duration.fromObject({years: 1}).as('days') //=> 365\n   * @example Duration.fromObject({years: 1}).as('months') //=> 12\n   * @example Duration.fromObject({hours: 60}).as('days') //=> 2.5\n   * @return {number}\n   */\n  ;\n\n  _proto.as = function as(unit) {\n    return this.isValid ? this.shiftTo(unit).get(unit) : NaN;\n  }\n  /**\n   * Reduce this Duration to its canonical representation in its current units.\n   * @example Duration.fromObject({ years: 2, days: 5000 }).normalize().toObject() //=> { years: 15, days: 255 }\n   * @example Duration.fromObject({ hours: 12, minutes: -45 }).normalize().toObject() //=> { hours: 11, minutes: 15 }\n   * @return {Duration}\n   */\n  ;\n\n  _proto.normalize = function normalize() {\n    if (!this.isValid) return this;\n    var vals = this.toObject();\n    normalizeValues(this.matrix, vals);\n    return clone(this, {\n      values: vals\n    }, true);\n  }\n  /**\n   * Convert this Duration into its representation in a different set of units.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).shiftTo('minutes', 'milliseconds').toObject() //=> { minutes: 60, milliseconds: 30000 }\n   * @return {Duration}\n   */\n  ;\n\n  _proto.shiftTo = function shiftTo() {\n    for (var _len = arguments.length, units = new Array(_len), _key = 0; _key < _len; _key++) {\n      units[_key] = arguments[_key];\n    }\n\n    if (!this.isValid) return this;\n\n    if (units.length === 0) {\n      return this;\n    }\n\n    units = units.map(function (u) {\n      return Duration.normalizeUnit(u);\n    });\n    var built = {},\n        accumulated = {},\n        vals = this.toObject();\n    var lastUnit;\n\n    for (var _iterator2 = _createForOfIteratorHelperLoose(orderedUnits), _step2; !(_step2 = _iterator2()).done;) {\n      var k = _step2.value;\n\n      if (units.indexOf(k) >= 0) {\n        lastUnit = k;\n        var own = 0; // anything we haven't boiled down yet should get boiled to this unit\n\n        for (var ak in accumulated) {\n          own += this.matrix[ak][k] * accumulated[ak];\n          accumulated[ak] = 0;\n        } // plus anything that's already in this unit\n\n\n        if (isNumber(vals[k])) {\n          own += vals[k];\n        }\n\n        var i = Math.trunc(own);\n        built[k] = i;\n        accumulated[k] = own - i; // we'd like to absorb these fractions in another unit\n        // plus anything further down the chain that should be rolled up in to this\n\n        for (var down in vals) {\n          if (orderedUnits.indexOf(down) > orderedUnits.indexOf(k)) {\n            convert(this.matrix, vals, down, built, k);\n          }\n        } // otherwise, keep it in the wings to boil it later\n\n      } else if (isNumber(vals[k])) {\n        accumulated[k] = vals[k];\n      }\n    } // anything leftover becomes the decimal for the last unit\n    // lastUnit must be defined since units is not empty\n\n\n    for (var key in accumulated) {\n      if (accumulated[key] !== 0) {\n        built[lastUnit] += key === lastUnit ? accumulated[key] : accumulated[key] / this.matrix[lastUnit][key];\n      }\n    }\n\n    return clone(this, {\n      values: built\n    }, true).normalize();\n  }\n  /**\n   * Return the negative of this Duration.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).negate().toObject() //=> { hours: -1, seconds: -30 }\n   * @return {Duration}\n   */\n  ;\n\n  _proto.negate = function negate() {\n    if (!this.isValid) return this;\n    var negated = {};\n\n    for (var _i2 = 0, _Object$keys2 = Object.keys(this.values); _i2 < _Object$keys2.length; _i2++) {\n      var k = _Object$keys2[_i2];\n      negated[k] = -this.values[k];\n    }\n\n    return clone(this, {\n      values: negated\n    }, true);\n  }\n  /**\n   * Get the years.\n   * @type {number}\n   */\n  ;\n\n  /**\n   * Equality check\n   * Two Durations are equal iff they have the same units and the same values for each unit.\n   * @param {Duration} other\n   * @return {boolean}\n   */\n  _proto.equals = function equals(other) {\n    if (!this.isValid || !other.isValid) {\n      return false;\n    }\n\n    if (!this.loc.equals(other.loc)) {\n      return false;\n    }\n\n    function eq(v1, v2) {\n      // Consider 0 and undefined as equal\n      if (v1 === undefined || v1 === 0) return v2 === undefined || v2 === 0;\n      return v1 === v2;\n    }\n\n    for (var _iterator3 = _createForOfIteratorHelperLoose(orderedUnits), _step3; !(_step3 = _iterator3()).done;) {\n      var u = _step3.value;\n\n      if (!eq(this.values[u], other.values[u])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  _createClass(Duration, [{\n    key: \"locale\",\n    get: function get() {\n      return this.isValid ? this.loc.locale : null;\n    }\n    /**\n     * Get the numbering system of a Duration, such 'beng'. The numbering system is used when formatting the Duration\n     *\n     * @type {string}\n     */\n\n  }, {\n    key: \"numberingSystem\",\n    get: function get() {\n      return this.isValid ? this.loc.numberingSystem : null;\n    }\n  }, {\n    key: \"years\",\n    get: function get() {\n      return this.isValid ? this.values.years || 0 : NaN;\n    }\n    /**\n     * Get the quarters.\n     * @type {number}\n     */\n\n  }, {\n    key: \"quarters\",\n    get: function get() {\n      return this.isValid ? this.values.quarters || 0 : NaN;\n    }\n    /**\n     * Get the months.\n     * @type {number}\n     */\n\n  }, {\n    key: \"months\",\n    get: function get() {\n      return this.isValid ? this.values.months || 0 : NaN;\n    }\n    /**\n     * Get the weeks\n     * @type {number}\n     */\n\n  }, {\n    key: \"weeks\",\n    get: function get() {\n      return this.isValid ? this.values.weeks || 0 : NaN;\n    }\n    /**\n     * Get the days.\n     * @type {number}\n     */\n\n  }, {\n    key: \"days\",\n    get: function get() {\n      return this.isValid ? this.values.days || 0 : NaN;\n    }\n    /**\n     * Get the hours.\n     * @type {number}\n     */\n\n  }, {\n    key: \"hours\",\n    get: function get() {\n      return this.isValid ? this.values.hours || 0 : NaN;\n    }\n    /**\n     * Get the minutes.\n     * @type {number}\n     */\n\n  }, {\n    key: \"minutes\",\n    get: function get() {\n      return this.isValid ? this.values.minutes || 0 : NaN;\n    }\n    /**\n     * Get the seconds.\n     * @return {number}\n     */\n\n  }, {\n    key: \"seconds\",\n    get: function get() {\n      return this.isValid ? this.values.seconds || 0 : NaN;\n    }\n    /**\n     * Get the milliseconds.\n     * @return {number}\n     */\n\n  }, {\n    key: \"milliseconds\",\n    get: function get() {\n      return this.isValid ? this.values.milliseconds || 0 : NaN;\n    }\n    /**\n     * Returns whether the Duration is invalid. Invalid durations are returned by diff operations\n     * on invalid DateTimes or Intervals.\n     * @return {boolean}\n     */\n\n  }, {\n    key: \"isValid\",\n    get: function get() {\n      return this.invalid === null;\n    }\n    /**\n     * Returns an error code if this Duration became invalid, or null if the Duration is valid\n     * @return {string}\n     */\n\n  }, {\n    key: \"invalidReason\",\n    get: function get() {\n      return this.invalid ? this.invalid.reason : null;\n    }\n    /**\n     * Returns an explanation of why this Duration became invalid, or null if the Duration is valid\n     * @type {string}\n     */\n\n  }, {\n    key: \"invalidExplanation\",\n    get: function get() {\n      return this.invalid ? this.invalid.explanation : null;\n    }\n  }]);\n\n  return Duration;\n}();\nfunction friendlyDuration(durationish) {\n  if (isNumber(durationish)) {\n    return Duration.fromMillis(durationish);\n  } else if (Duration.isDuration(durationish)) {\n    return durationish;\n  } else if (typeof durationish === \"object\") {\n    return Duration.fromObject(durationish);\n  } else {\n    throw new InvalidArgumentError(\"Unknown duration argument \" + durationish + \" of type \" + typeof durationish);\n  }\n}\n\nvar INVALID$1 = \"Invalid Interval\"; // checks if the start is equal to or before the end\n\nfunction validateStartEnd(start, end) {\n  if (!start || !start.isValid) {\n    return Interval.invalid(\"missing or invalid start\");\n  } else if (!end || !end.isValid) {\n    return Interval.invalid(\"missing or invalid end\");\n  } else if (end < start) {\n    return Interval.invalid(\"end before start\", \"The end of an interval must be after its start, but you had start=\" + start.toISO() + \" and end=\" + end.toISO());\n  } else {\n    return null;\n  }\n}\n/**\n * An Interval object represents a half-open interval of time, where each endpoint is a {@link DateTime}. Conceptually, it's a container for those two endpoints, accompanied by methods for creating, parsing, interrogating, comparing, transforming, and formatting them.\n *\n * Here is a brief overview of the most commonly used methods and getters in Interval:\n *\n * * **Creation** To create an Interval, use {@link fromDateTimes}, {@link after}, {@link before}, or {@link fromISO}.\n * * **Accessors** Use {@link start} and {@link end} to get the start and end.\n * * **Interrogation** To analyze the Interval, use {@link count}, {@link length}, {@link hasSame}, {@link contains}, {@link isAfter}, or {@link isBefore}.\n * * **Transformation** To create other Intervals out of this one, use {@link set}, {@link splitAt}, {@link splitBy}, {@link divideEqually}, {@link merge}, {@link xor}, {@link union}, {@link intersection}, or {@link difference}.\n * * **Comparison** To compare this Interval to another one, use {@link equals}, {@link overlaps}, {@link abutsStart}, {@link abutsEnd}, {@link engulfs}.\n * * **Output** To convert the Interval into other representations, see {@link toString}, {@link toISO}, {@link toISODate}, {@link toISOTime}, {@link toFormat}, and {@link toDuration}.\n */\n\n\nvar Interval = /*#__PURE__*/function () {\n  /**\n   * @private\n   */\n  function Interval(config) {\n    /**\n     * @access private\n     */\n    this.s = config.start;\n    /**\n     * @access private\n     */\n\n    this.e = config.end;\n    /**\n     * @access private\n     */\n\n    this.invalid = config.invalid || null;\n    /**\n     * @access private\n     */\n\n    this.isLuxonInterval = true;\n  }\n  /**\n   * Create an invalid Interval.\n   * @param {string} reason - simple string of why this Interval is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {Interval}\n   */\n\n\n  Interval.invalid = function invalid(reason, explanation) {\n    if (explanation === void 0) {\n      explanation = null;\n    }\n\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the Interval is invalid\");\n    }\n\n    var invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidIntervalError(invalid);\n    } else {\n      return new Interval({\n        invalid: invalid\n      });\n    }\n  }\n  /**\n   * Create an Interval from a start DateTime and an end DateTime. Inclusive of the start but not the end.\n   * @param {DateTime|Date|Object} start\n   * @param {DateTime|Date|Object} end\n   * @return {Interval}\n   */\n  ;\n\n  Interval.fromDateTimes = function fromDateTimes(start, end) {\n    var builtStart = friendlyDateTime(start),\n        builtEnd = friendlyDateTime(end);\n    var validateError = validateStartEnd(builtStart, builtEnd);\n\n    if (validateError == null) {\n      return new Interval({\n        start: builtStart,\n        end: builtEnd\n      });\n    } else {\n      return validateError;\n    }\n  }\n  /**\n   * Create an Interval from a start DateTime and a Duration to extend to.\n   * @param {DateTime|Date|Object} start\n   * @param {Duration|Object|number} duration - the length of the Interval.\n   * @return {Interval}\n   */\n  ;\n\n  Interval.after = function after(start, duration) {\n    var dur = friendlyDuration(duration),\n        dt = friendlyDateTime(start);\n    return Interval.fromDateTimes(dt, dt.plus(dur));\n  }\n  /**\n   * Create an Interval from an end DateTime and a Duration to extend backwards to.\n   * @param {DateTime|Date|Object} end\n   * @param {Duration|Object|number} duration - the length of the Interval.\n   * @return {Interval}\n   */\n  ;\n\n  Interval.before = function before(end, duration) {\n    var dur = friendlyDuration(duration),\n        dt = friendlyDateTime(end);\n    return Interval.fromDateTimes(dt.minus(dur), dt);\n  }\n  /**\n   * Create an Interval from an ISO 8601 string.\n   * Accepts `<start>/<end>`, `<start>/<duration>`, and `<duration>/<end>` formats.\n   * @param {string} text - the ISO string to parse\n   * @param {Object} [opts] - options to pass {@link DateTime.fromISO} and optionally {@link Duration.fromISO}\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @return {Interval}\n   */\n  ;\n\n  Interval.fromISO = function fromISO(text, opts) {\n    var _split = (text || \"\").split(\"/\", 2),\n        s = _split[0],\n        e = _split[1];\n\n    if (s && e) {\n      var start, startIsValid;\n\n      try {\n        start = DateTime.fromISO(s, opts);\n        startIsValid = start.isValid;\n      } catch (e) {\n        startIsValid = false;\n      }\n\n      var end, endIsValid;\n\n      try {\n        end = DateTime.fromISO(e, opts);\n        endIsValid = end.isValid;\n      } catch (e) {\n        endIsValid = false;\n      }\n\n      if (startIsValid && endIsValid) {\n        return Interval.fromDateTimes(start, end);\n      }\n\n      if (startIsValid) {\n        var dur = Duration.fromISO(e, opts);\n\n        if (dur.isValid) {\n          return Interval.after(start, dur);\n        }\n      } else if (endIsValid) {\n        var _dur = Duration.fromISO(s, opts);\n\n        if (_dur.isValid) {\n          return Interval.before(end, _dur);\n        }\n      }\n    }\n\n    return Interval.invalid(\"unparsable\", \"the input \\\"\" + text + \"\\\" can't be parsed as ISO 8601\");\n  }\n  /**\n   * Check if an object is an Interval. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  ;\n\n  Interval.isInterval = function isInterval(o) {\n    return o && o.isLuxonInterval || false;\n  }\n  /**\n   * Returns the start of the Interval\n   * @type {DateTime}\n   */\n  ;\n\n  var _proto = Interval.prototype;\n\n  /**\n   * Returns the length of the Interval in the specified unit.\n   * @param {string} unit - the unit (such as 'hours' or 'days') to return the length in.\n   * @return {number}\n   */\n  _proto.length = function length(unit) {\n    if (unit === void 0) {\n      unit = \"milliseconds\";\n    }\n\n    return this.isValid ? this.toDuration.apply(this, [unit]).get(unit) : NaN;\n  }\n  /**\n   * Returns the count of minutes, hours, days, months, or years included in the Interval, even in part.\n   * Unlike {@link length} this counts sections of the calendar, not periods of time, e.g. specifying 'day'\n   * asks 'what dates are included in this interval?', not 'how many days long is this interval?'\n   * @param {string} [unit='milliseconds'] - the unit of time to count.\n   * @return {number}\n   */\n  ;\n\n  _proto.count = function count(unit) {\n    if (unit === void 0) {\n      unit = \"milliseconds\";\n    }\n\n    if (!this.isValid) return NaN;\n    var start = this.start.startOf(unit),\n        end = this.end.startOf(unit);\n    return Math.floor(end.diff(start, unit).get(unit)) + 1;\n  }\n  /**\n   * Returns whether this Interval's start and end are both in the same unit of time\n   * @param {string} unit - the unit of time to check sameness on\n   * @return {boolean}\n   */\n  ;\n\n  _proto.hasSame = function hasSame(unit) {\n    return this.isValid ? this.isEmpty() || this.e.minus(1).hasSame(this.s, unit) : false;\n  }\n  /**\n   * Return whether this Interval has the same start and end DateTimes.\n   * @return {boolean}\n   */\n  ;\n\n  _proto.isEmpty = function isEmpty() {\n    return this.s.valueOf() === this.e.valueOf();\n  }\n  /**\n   * Return whether this Interval's start is after the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  ;\n\n  _proto.isAfter = function isAfter(dateTime) {\n    if (!this.isValid) return false;\n    return this.s > dateTime;\n  }\n  /**\n   * Return whether this Interval's end is before the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  ;\n\n  _proto.isBefore = function isBefore(dateTime) {\n    if (!this.isValid) return false;\n    return this.e <= dateTime;\n  }\n  /**\n   * Return whether this Interval contains the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  ;\n\n  _proto.contains = function contains(dateTime) {\n    if (!this.isValid) return false;\n    return this.s <= dateTime && this.e > dateTime;\n  }\n  /**\n   * \"Sets\" the start and/or end dates. Returns a newly-constructed Interval.\n   * @param {Object} values - the values to set\n   * @param {DateTime} values.start - the starting DateTime\n   * @param {DateTime} values.end - the ending DateTime\n   * @return {Interval}\n   */\n  ;\n\n  _proto.set = function set(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        start = _ref.start,\n        end = _ref.end;\n\n    if (!this.isValid) return this;\n    return Interval.fromDateTimes(start || this.s, end || this.e);\n  }\n  /**\n   * Split this Interval at each of the specified DateTimes\n   * @param {...[DateTime]} dateTimes - the unit of time to count.\n   * @return {[Interval]}\n   */\n  ;\n\n  _proto.splitAt = function splitAt() {\n    var _this = this;\n\n    if (!this.isValid) return [];\n\n    for (var _len = arguments.length, dateTimes = new Array(_len), _key = 0; _key < _len; _key++) {\n      dateTimes[_key] = arguments[_key];\n    }\n\n    var sorted = dateTimes.map(friendlyDateTime).filter(function (d) {\n      return _this.contains(d);\n    }).sort(),\n        results = [];\n    var s = this.s,\n        i = 0;\n\n    while (s < this.e) {\n      var added = sorted[i] || this.e,\n          next = +added > +this.e ? this.e : added;\n      results.push(Interval.fromDateTimes(s, next));\n      s = next;\n      i += 1;\n    }\n\n    return results;\n  }\n  /**\n   * Split this Interval into smaller Intervals, each of the specified length.\n   * Left over time is grouped into a smaller interval\n   * @param {Duration|Object|number} duration - The length of each resulting interval.\n   * @return {[Interval]}\n   */\n  ;\n\n  _proto.splitBy = function splitBy(duration) {\n    var dur = friendlyDuration(duration);\n\n    if (!this.isValid || !dur.isValid || dur.as(\"milliseconds\") === 0) {\n      return [];\n    }\n\n    var s = this.s,\n        idx = 1,\n        next;\n    var results = [];\n\n    while (s < this.e) {\n      var added = this.start.plus(dur.mapUnits(function (x) {\n        return x * idx;\n      }));\n      next = +added > +this.e ? this.e : added;\n      results.push(Interval.fromDateTimes(s, next));\n      s = next;\n      idx += 1;\n    }\n\n    return results;\n  }\n  /**\n   * Split this Interval into the specified number of smaller intervals.\n   * @param {number} numberOfParts - The number of Intervals to divide the Interval into.\n   * @return {[Interval]}\n   */\n  ;\n\n  _proto.divideEqually = function divideEqually(numberOfParts) {\n    if (!this.isValid) return [];\n    return this.splitBy(this.length() / numberOfParts).slice(0, numberOfParts);\n  }\n  /**\n   * Return whether this Interval overlaps with the specified Interval\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  ;\n\n  _proto.overlaps = function overlaps(other) {\n    return this.e > other.s && this.s < other.e;\n  }\n  /**\n   * Return whether this Interval's end is adjacent to the specified Interval's start.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  ;\n\n  _proto.abutsStart = function abutsStart(other) {\n    if (!this.isValid) return false;\n    return +this.e === +other.s;\n  }\n  /**\n   * Return whether this Interval's start is adjacent to the specified Interval's end.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  ;\n\n  _proto.abutsEnd = function abutsEnd(other) {\n    if (!this.isValid) return false;\n    return +other.e === +this.s;\n  }\n  /**\n   * Return whether this Interval engulfs the start and end of the specified Interval.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  ;\n\n  _proto.engulfs = function engulfs(other) {\n    if (!this.isValid) return false;\n    return this.s <= other.s && this.e >= other.e;\n  }\n  /**\n   * Return whether this Interval has the same start and end as the specified Interval.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  ;\n\n  _proto.equals = function equals(other) {\n    if (!this.isValid || !other.isValid) {\n      return false;\n    }\n\n    return this.s.equals(other.s) && this.e.equals(other.e);\n  }\n  /**\n   * Return an Interval representing the intersection of this Interval and the specified Interval.\n   * Specifically, the resulting Interval has the maximum start time and the minimum end time of the two Intervals.\n   * Returns null if the intersection is empty, meaning, the intervals don't intersect.\n   * @param {Interval} other\n   * @return {Interval}\n   */\n  ;\n\n  _proto.intersection = function intersection(other) {\n    if (!this.isValid) return this;\n    var s = this.s > other.s ? this.s : other.s,\n        e = this.e < other.e ? this.e : other.e;\n\n    if (s >= e) {\n      return null;\n    } else {\n      return Interval.fromDateTimes(s, e);\n    }\n  }\n  /**\n   * Return an Interval representing the union of this Interval and the specified Interval.\n   * Specifically, the resulting Interval has the minimum start time and the maximum end time of the two Intervals.\n   * @param {Interval} other\n   * @return {Interval}\n   */\n  ;\n\n  _proto.union = function union(other) {\n    if (!this.isValid) return this;\n    var s = this.s < other.s ? this.s : other.s,\n        e = this.e > other.e ? this.e : other.e;\n    return Interval.fromDateTimes(s, e);\n  }\n  /**\n   * Merge an array of Intervals into a equivalent minimal set of Intervals.\n   * Combines overlapping and adjacent Intervals.\n   * @param {[Interval]} intervals\n   * @return {[Interval]}\n   */\n  ;\n\n  Interval.merge = function merge(intervals) {\n    var _intervals$sort$reduc = intervals.sort(function (a, b) {\n      return a.s - b.s;\n    }).reduce(function (_ref2, item) {\n      var sofar = _ref2[0],\n          current = _ref2[1];\n\n      if (!current) {\n        return [sofar, item];\n      } else if (current.overlaps(item) || current.abutsStart(item)) {\n        return [sofar, current.union(item)];\n      } else {\n        return [sofar.concat([current]), item];\n      }\n    }, [[], null]),\n        found = _intervals$sort$reduc[0],\n        final = _intervals$sort$reduc[1];\n\n    if (final) {\n      found.push(final);\n    }\n\n    return found;\n  }\n  /**\n   * Return an array of Intervals representing the spans of time that only appear in one of the specified Intervals.\n   * @param {[Interval]} intervals\n   * @return {[Interval]}\n   */\n  ;\n\n  Interval.xor = function xor(intervals) {\n    var _Array$prototype;\n\n    var start = null,\n        currentCount = 0;\n\n    var results = [],\n        ends = intervals.map(function (i) {\n      return [{\n        time: i.s,\n        type: \"s\"\n      }, {\n        time: i.e,\n        type: \"e\"\n      }];\n    }),\n        flattened = (_Array$prototype = Array.prototype).concat.apply(_Array$prototype, ends),\n        arr = flattened.sort(function (a, b) {\n      return a.time - b.time;\n    });\n\n    for (var _iterator = _createForOfIteratorHelperLoose(arr), _step; !(_step = _iterator()).done;) {\n      var i = _step.value;\n      currentCount += i.type === \"s\" ? 1 : -1;\n\n      if (currentCount === 1) {\n        start = i.time;\n      } else {\n        if (start && +start !== +i.time) {\n          results.push(Interval.fromDateTimes(start, i.time));\n        }\n\n        start = null;\n      }\n    }\n\n    return Interval.merge(results);\n  }\n  /**\n   * Return an Interval representing the span of time in this Interval that doesn't overlap with any of the specified Intervals.\n   * @param {...Interval} intervals\n   * @return {[Interval]}\n   */\n  ;\n\n  _proto.difference = function difference() {\n    var _this2 = this;\n\n    for (var _len2 = arguments.length, intervals = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      intervals[_key2] = arguments[_key2];\n    }\n\n    return Interval.xor([this].concat(intervals)).map(function (i) {\n      return _this2.intersection(i);\n    }).filter(function (i) {\n      return i && !i.isEmpty();\n    });\n  }\n  /**\n   * Returns a string representation of this Interval appropriate for debugging.\n   * @return {string}\n   */\n  ;\n\n  _proto.toString = function toString() {\n    if (!this.isValid) return INVALID$1;\n    return \"[\" + this.s.toISO() + \" \\u2013 \" + this.e.toISO() + \")\";\n  }\n  /**\n   * Returns an ISO 8601-compliant string representation of this Interval.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @param {Object} opts - The same options as {@link DateTime.toISO}\n   * @return {string}\n   */\n  ;\n\n  _proto.toISO = function toISO(opts) {\n    if (!this.isValid) return INVALID$1;\n    return this.s.toISO(opts) + \"/\" + this.e.toISO(opts);\n  }\n  /**\n   * Returns an ISO 8601-compliant string representation of date of this Interval.\n   * The time components are ignored.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @return {string}\n   */\n  ;\n\n  _proto.toISODate = function toISODate() {\n    if (!this.isValid) return INVALID$1;\n    return this.s.toISODate() + \"/\" + this.e.toISODate();\n  }\n  /**\n   * Returns an ISO 8601-compliant string representation of time of this Interval.\n   * The date components are ignored.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @param {Object} opts - The same options as {@link DateTime.toISO}\n   * @return {string}\n   */\n  ;\n\n  _proto.toISOTime = function toISOTime(opts) {\n    if (!this.isValid) return INVALID$1;\n    return this.s.toISOTime(opts) + \"/\" + this.e.toISOTime(opts);\n  }\n  /**\n   * Returns a string representation of this Interval formatted according to the specified format string.\n   * @param {string} dateFormat - the format string. This string formats the start and end time. See {@link DateTime.toFormat} for details.\n   * @param {Object} opts - options\n   * @param {string} [opts.separator =  ' – '] - a separator to place between the start and end representations\n   * @return {string}\n   */\n  ;\n\n  _proto.toFormat = function toFormat(dateFormat, _temp2) {\n    var _ref3 = _temp2 === void 0 ? {} : _temp2,\n        _ref3$separator = _ref3.separator,\n        separator = _ref3$separator === void 0 ? \" – \" : _ref3$separator;\n\n    if (!this.isValid) return INVALID$1;\n    return \"\" + this.s.toFormat(dateFormat) + separator + this.e.toFormat(dateFormat);\n  }\n  /**\n   * Return a Duration representing the time spanned by this interval.\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or units (such as 'hours' or 'days') to include in the duration.\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration().toObject() //=> { milliseconds: 88489257 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration('days').toObject() //=> { days: 1.0241812152777778 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration(['hours', 'minutes']).toObject() //=> { hours: 24, minutes: 34.82095 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration(['hours', 'minutes', 'seconds']).toObject() //=> { hours: 24, minutes: 34, seconds: 49.257 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration('seconds').toObject() //=> { seconds: 88489.257 }\n   * @return {Duration}\n   */\n  ;\n\n  _proto.toDuration = function toDuration(unit, opts) {\n    if (!this.isValid) {\n      return Duration.invalid(this.invalidReason);\n    }\n\n    return this.e.diff(this.s, unit, opts);\n  }\n  /**\n   * Run mapFn on the interval start and end, returning a new Interval from the resulting DateTimes\n   * @param {function} mapFn\n   * @return {Interval}\n   * @example Interval.fromDateTimes(dt1, dt2).mapEndpoints(endpoint => endpoint.toUTC())\n   * @example Interval.fromDateTimes(dt1, dt2).mapEndpoints(endpoint => endpoint.plus({ hours: 2 }))\n   */\n  ;\n\n  _proto.mapEndpoints = function mapEndpoints(mapFn) {\n    return Interval.fromDateTimes(mapFn(this.s), mapFn(this.e));\n  };\n\n  _createClass(Interval, [{\n    key: \"start\",\n    get: function get() {\n      return this.isValid ? this.s : null;\n    }\n    /**\n     * Returns the end of the Interval\n     * @type {DateTime}\n     */\n\n  }, {\n    key: \"end\",\n    get: function get() {\n      return this.isValid ? this.e : null;\n    }\n    /**\n     * Returns whether this Interval's end is at least its start, meaning that the Interval isn't 'backwards'.\n     * @type {boolean}\n     */\n\n  }, {\n    key: \"isValid\",\n    get: function get() {\n      return this.invalidReason === null;\n    }\n    /**\n     * Returns an error code if this Interval is invalid, or null if the Interval is valid\n     * @type {string}\n     */\n\n  }, {\n    key: \"invalidReason\",\n    get: function get() {\n      return this.invalid ? this.invalid.reason : null;\n    }\n    /**\n     * Returns an explanation of why this Interval became invalid, or null if the Interval is valid\n     * @type {string}\n     */\n\n  }, {\n    key: \"invalidExplanation\",\n    get: function get() {\n      return this.invalid ? this.invalid.explanation : null;\n    }\n  }]);\n\n  return Interval;\n}();\n\n/**\n * The Info class contains static methods for retrieving general time and date related data. For example, it has methods for finding out if a time zone has a DST, for listing the months in any supported locale, and for discovering which of Luxon features are available in the current environment.\n */\n\nvar Info = /*#__PURE__*/function () {\n  function Info() {}\n\n  /**\n   * Return whether the specified zone contains a DST.\n   * @param {string|Zone} [zone='local'] - Zone to check. Defaults to the environment's local zone.\n   * @return {boolean}\n   */\n  Info.hasDST = function hasDST(zone) {\n    if (zone === void 0) {\n      zone = Settings.defaultZone;\n    }\n\n    var proto = DateTime.now().setZone(zone).set({\n      month: 12\n    });\n    return !zone.universal && proto.offset !== proto.set({\n      month: 6\n    }).offset;\n  }\n  /**\n   * Return whether the specified zone is a valid IANA specifier.\n   * @param {string} zone - Zone to check\n   * @return {boolean}\n   */\n  ;\n\n  Info.isValidIANAZone = function isValidIANAZone(zone) {\n    return IANAZone.isValidSpecifier(zone) && IANAZone.isValidZone(zone);\n  }\n  /**\n   * Converts the input into a {@link Zone} instance.\n   *\n   * * If `input` is already a Zone instance, it is returned unchanged.\n   * * If `input` is a string containing a valid time zone name, a Zone instance\n   *   with that name is returned.\n   * * If `input` is a string that doesn't refer to a known time zone, a Zone\n   *   instance with {@link Zone.isValid} == false is returned.\n   * * If `input is a number, a Zone instance with the specified fixed offset\n   *   in minutes is returned.\n   * * If `input` is `null` or `undefined`, the default zone is returned.\n   * @param {string|Zone|number} [input] - the value to be converted\n   * @return {Zone}\n   */\n  ;\n\n  Info.normalizeZone = function normalizeZone$1(input) {\n    return normalizeZone(input, Settings.defaultZone);\n  }\n  /**\n   * Return an array of standalone month names.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {string} [length='long'] - the length of the month representation, such as \"numeric\", \"2-digit\", \"narrow\", \"short\", \"long\"\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @param {string} [opts.outputCalendar='gregory'] - the calendar\n   * @example Info.months()[0] //=> 'January'\n   * @example Info.months('short')[0] //=> 'Jan'\n   * @example Info.months('numeric')[0] //=> '1'\n   * @example Info.months('short', { locale: 'fr-CA' } )[0] //=> 'janv.'\n   * @example Info.months('numeric', { locale: 'ar' })[0] //=> '١'\n   * @example Info.months('long', { outputCalendar: 'islamic' })[0] //=> 'Rabiʻ I'\n   * @return {[string]}\n   */\n  ;\n\n  Info.months = function months(length, _temp) {\n    if (length === void 0) {\n      length = \"long\";\n    }\n\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$locale = _ref.locale,\n        locale = _ref$locale === void 0 ? null : _ref$locale,\n        _ref$numberingSystem = _ref.numberingSystem,\n        numberingSystem = _ref$numberingSystem === void 0 ? null : _ref$numberingSystem,\n        _ref$locObj = _ref.locObj,\n        locObj = _ref$locObj === void 0 ? null : _ref$locObj,\n        _ref$outputCalendar = _ref.outputCalendar,\n        outputCalendar = _ref$outputCalendar === void 0 ? \"gregory\" : _ref$outputCalendar;\n\n    return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length);\n  }\n  /**\n   * Return an array of format month names.\n   * Format months differ from standalone months in that they're meant to appear next to the day of the month. In some languages, that\n   * changes the string.\n   * See {@link months}\n   * @param {string} [length='long'] - the length of the month representation, such as \"numeric\", \"2-digit\", \"narrow\", \"short\", \"long\"\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @param {string} [opts.outputCalendar='gregory'] - the calendar\n   * @return {[string]}\n   */\n  ;\n\n  Info.monthsFormat = function monthsFormat(length, _temp2) {\n    if (length === void 0) {\n      length = \"long\";\n    }\n\n    var _ref2 = _temp2 === void 0 ? {} : _temp2,\n        _ref2$locale = _ref2.locale,\n        locale = _ref2$locale === void 0 ? null : _ref2$locale,\n        _ref2$numberingSystem = _ref2.numberingSystem,\n        numberingSystem = _ref2$numberingSystem === void 0 ? null : _ref2$numberingSystem,\n        _ref2$locObj = _ref2.locObj,\n        locObj = _ref2$locObj === void 0 ? null : _ref2$locObj,\n        _ref2$outputCalendar = _ref2.outputCalendar,\n        outputCalendar = _ref2$outputCalendar === void 0 ? \"gregory\" : _ref2$outputCalendar;\n\n    return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length, true);\n  }\n  /**\n   * Return an array of standalone week names.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {string} [length='long'] - the length of the weekday representation, such as \"narrow\", \"short\", \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @example Info.weekdays()[0] //=> 'Monday'\n   * @example Info.weekdays('short')[0] //=> 'Mon'\n   * @example Info.weekdays('short', { locale: 'fr-CA' })[0] //=> 'lun.'\n   * @example Info.weekdays('short', { locale: 'ar' })[0] //=> 'الاثنين'\n   * @return {[string]}\n   */\n  ;\n\n  Info.weekdays = function weekdays(length, _temp3) {\n    if (length === void 0) {\n      length = \"long\";\n    }\n\n    var _ref3 = _temp3 === void 0 ? {} : _temp3,\n        _ref3$locale = _ref3.locale,\n        locale = _ref3$locale === void 0 ? null : _ref3$locale,\n        _ref3$numberingSystem = _ref3.numberingSystem,\n        numberingSystem = _ref3$numberingSystem === void 0 ? null : _ref3$numberingSystem,\n        _ref3$locObj = _ref3.locObj,\n        locObj = _ref3$locObj === void 0 ? null : _ref3$locObj;\n\n    return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length);\n  }\n  /**\n   * Return an array of format week names.\n   * Format weekdays differ from standalone weekdays in that they're meant to appear next to more date information. In some languages, that\n   * changes the string.\n   * See {@link weekdays}\n   * @param {string} [length='long'] - the length of the weekday representation, such as \"narrow\", \"short\", \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale=null] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @return {[string]}\n   */\n  ;\n\n  Info.weekdaysFormat = function weekdaysFormat(length, _temp4) {\n    if (length === void 0) {\n      length = \"long\";\n    }\n\n    var _ref4 = _temp4 === void 0 ? {} : _temp4,\n        _ref4$locale = _ref4.locale,\n        locale = _ref4$locale === void 0 ? null : _ref4$locale,\n        _ref4$numberingSystem = _ref4.numberingSystem,\n        numberingSystem = _ref4$numberingSystem === void 0 ? null : _ref4$numberingSystem,\n        _ref4$locObj = _ref4.locObj,\n        locObj = _ref4$locObj === void 0 ? null : _ref4$locObj;\n\n    return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length, true);\n  }\n  /**\n   * Return an array of meridiems.\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @example Info.meridiems() //=> [ 'AM', 'PM' ]\n   * @example Info.meridiems({ locale: 'my' }) //=> [ 'နံနက်', 'ညနေ' ]\n   * @return {[string]}\n   */\n  ;\n\n  Info.meridiems = function meridiems(_temp5) {\n    var _ref5 = _temp5 === void 0 ? {} : _temp5,\n        _ref5$locale = _ref5.locale,\n        locale = _ref5$locale === void 0 ? null : _ref5$locale;\n\n    return Locale.create(locale).meridiems();\n  }\n  /**\n   * Return an array of eras, such as ['BC', 'AD']. The locale can be specified, but the calendar system is always Gregorian.\n   * @param {string} [length='short'] - the length of the era representation, such as \"short\" or \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @example Info.eras() //=> [ 'BC', 'AD' ]\n   * @example Info.eras('long') //=> [ 'Before Christ', 'Anno Domini' ]\n   * @example Info.eras('long', { locale: 'fr' }) //=> [ 'avant Jésus-Christ', 'après Jésus-Christ' ]\n   * @return {[string]}\n   */\n  ;\n\n  Info.eras = function eras(length, _temp6) {\n    if (length === void 0) {\n      length = \"short\";\n    }\n\n    var _ref6 = _temp6 === void 0 ? {} : _temp6,\n        _ref6$locale = _ref6.locale,\n        locale = _ref6$locale === void 0 ? null : _ref6$locale;\n\n    return Locale.create(locale, null, \"gregory\").eras(length);\n  }\n  /**\n   * Return the set of available features in this environment.\n   * Some features of Luxon are not available in all environments. For example, on older browsers, timezone support is not available. Use this function to figure out if that's the case.\n   * Keys:\n   * * `zones`: whether this environment supports IANA timezones\n   * * `intlTokens`: whether this environment supports internationalized token-based formatting/parsing\n   * * `intl`: whether this environment supports general internationalization\n   * * `relative`: whether this environment supports relative time formatting\n   * @example Info.features() //=> { intl: true, intlTokens: false, zones: true, relative: false }\n   * @return {Object}\n   */\n  ;\n\n  Info.features = function features() {\n    var intl = false,\n        intlTokens = false,\n        zones = false,\n        relative = false;\n\n    if (hasIntl()) {\n      intl = true;\n      intlTokens = hasFormatToParts();\n      relative = hasRelative();\n\n      try {\n        zones = new Intl.DateTimeFormat(\"en\", {\n          timeZone: \"America/New_York\"\n        }).resolvedOptions().timeZone === \"America/New_York\";\n      } catch (e) {\n        zones = false;\n      }\n    }\n\n    return {\n      intl: intl,\n      intlTokens: intlTokens,\n      zones: zones,\n      relative: relative\n    };\n  };\n\n  return Info;\n}();\n\nfunction dayDiff(earlier, later) {\n  var utcDayStart = function utcDayStart(dt) {\n    return dt.toUTC(0, {\n      keepLocalTime: true\n    }).startOf(\"day\").valueOf();\n  },\n      ms = utcDayStart(later) - utcDayStart(earlier);\n\n  return Math.floor(Duration.fromMillis(ms).as(\"days\"));\n}\n\nfunction highOrderDiffs(cursor, later, units) {\n  var differs = [[\"years\", function (a, b) {\n    return b.year - a.year;\n  }], [\"quarters\", function (a, b) {\n    return b.quarter - a.quarter;\n  }], [\"months\", function (a, b) {\n    return b.month - a.month + (b.year - a.year) * 12;\n  }], [\"weeks\", function (a, b) {\n    var days = dayDiff(a, b);\n    return (days - days % 7) / 7;\n  }], [\"days\", dayDiff]];\n  var results = {};\n  var lowestOrder, highWater;\n\n  for (var _i = 0, _differs = differs; _i < _differs.length; _i++) {\n    var _differs$_i = _differs[_i],\n        unit = _differs$_i[0],\n        differ = _differs$_i[1];\n\n    if (units.indexOf(unit) >= 0) {\n      var _cursor$plus;\n\n      lowestOrder = unit;\n      var delta = differ(cursor, later);\n      highWater = cursor.plus((_cursor$plus = {}, _cursor$plus[unit] = delta, _cursor$plus));\n\n      if (highWater > later) {\n        var _cursor$plus2;\n\n        cursor = cursor.plus((_cursor$plus2 = {}, _cursor$plus2[unit] = delta - 1, _cursor$plus2));\n        delta -= 1;\n      } else {\n        cursor = highWater;\n      }\n\n      results[unit] = delta;\n    }\n  }\n\n  return [cursor, results, highWater, lowestOrder];\n}\n\nfunction _diff (earlier, later, units, opts) {\n  var _highOrderDiffs = highOrderDiffs(earlier, later, units),\n      cursor = _highOrderDiffs[0],\n      results = _highOrderDiffs[1],\n      highWater = _highOrderDiffs[2],\n      lowestOrder = _highOrderDiffs[3];\n\n  var remainingMillis = later - cursor;\n  var lowerOrderUnits = units.filter(function (u) {\n    return [\"hours\", \"minutes\", \"seconds\", \"milliseconds\"].indexOf(u) >= 0;\n  });\n\n  if (lowerOrderUnits.length === 0) {\n    if (highWater < later) {\n      var _cursor$plus3;\n\n      highWater = cursor.plus((_cursor$plus3 = {}, _cursor$plus3[lowestOrder] = 1, _cursor$plus3));\n    }\n\n    if (highWater !== cursor) {\n      results[lowestOrder] = (results[lowestOrder] || 0) + remainingMillis / (highWater - cursor);\n    }\n  }\n\n  var duration = Duration.fromObject(Object.assign(results, opts));\n\n  if (lowerOrderUnits.length > 0) {\n    var _Duration$fromMillis;\n\n    return (_Duration$fromMillis = Duration.fromMillis(remainingMillis, opts)).shiftTo.apply(_Duration$fromMillis, lowerOrderUnits).plus(duration);\n  } else {\n    return duration;\n  }\n}\n\nvar numberingSystems = {\n  arab: \"[\\u0660-\\u0669]\",\n  arabext: \"[\\u06F0-\\u06F9]\",\n  bali: \"[\\u1B50-\\u1B59]\",\n  beng: \"[\\u09E6-\\u09EF]\",\n  deva: \"[\\u0966-\\u096F]\",\n  fullwide: \"[\\uFF10-\\uFF19]\",\n  gujr: \"[\\u0AE6-\\u0AEF]\",\n  hanidec: \"[〇|一|二|三|四|五|六|七|八|九]\",\n  khmr: \"[\\u17E0-\\u17E9]\",\n  knda: \"[\\u0CE6-\\u0CEF]\",\n  laoo: \"[\\u0ED0-\\u0ED9]\",\n  limb: \"[\\u1946-\\u194F]\",\n  mlym: \"[\\u0D66-\\u0D6F]\",\n  mong: \"[\\u1810-\\u1819]\",\n  mymr: \"[\\u1040-\\u1049]\",\n  orya: \"[\\u0B66-\\u0B6F]\",\n  tamldec: \"[\\u0BE6-\\u0BEF]\",\n  telu: \"[\\u0C66-\\u0C6F]\",\n  thai: \"[\\u0E50-\\u0E59]\",\n  tibt: \"[\\u0F20-\\u0F29]\",\n  latn: \"\\\\d\"\n};\nvar numberingSystemsUTF16 = {\n  arab: [1632, 1641],\n  arabext: [1776, 1785],\n  bali: [6992, 7001],\n  beng: [2534, 2543],\n  deva: [2406, 2415],\n  fullwide: [65296, 65303],\n  gujr: [2790, 2799],\n  khmr: [6112, 6121],\n  knda: [3302, 3311],\n  laoo: [3792, 3801],\n  limb: [6470, 6479],\n  mlym: [3430, 3439],\n  mong: [6160, 6169],\n  mymr: [4160, 4169],\n  orya: [2918, 2927],\n  tamldec: [3046, 3055],\n  telu: [3174, 3183],\n  thai: [3664, 3673],\n  tibt: [3872, 3881]\n}; // eslint-disable-next-line\n\nvar hanidecChars = numberingSystems.hanidec.replace(/[\\[|\\]]/g, \"\").split(\"\");\nfunction parseDigits(str) {\n  var value = parseInt(str, 10);\n\n  if (isNaN(value)) {\n    value = \"\";\n\n    for (var i = 0; i < str.length; i++) {\n      var code = str.charCodeAt(i);\n\n      if (str[i].search(numberingSystems.hanidec) !== -1) {\n        value += hanidecChars.indexOf(str[i]);\n      } else {\n        for (var key in numberingSystemsUTF16) {\n          var _numberingSystemsUTF = numberingSystemsUTF16[key],\n              min = _numberingSystemsUTF[0],\n              max = _numberingSystemsUTF[1];\n\n          if (code >= min && code <= max) {\n            value += code - min;\n          }\n        }\n      }\n    }\n\n    return parseInt(value, 10);\n  } else {\n    return value;\n  }\n}\nfunction digitRegex(_ref, append) {\n  var numberingSystem = _ref.numberingSystem;\n\n  if (append === void 0) {\n    append = \"\";\n  }\n\n  return new RegExp(\"\" + numberingSystems[numberingSystem || \"latn\"] + append);\n}\n\nvar MISSING_FTP = \"missing Intl.DateTimeFormat.formatToParts support\";\n\nfunction intUnit(regex, post) {\n  if (post === void 0) {\n    post = function post(i) {\n      return i;\n    };\n  }\n\n  return {\n    regex: regex,\n    deser: function deser(_ref) {\n      var s = _ref[0];\n      return post(parseDigits(s));\n    }\n  };\n}\n\nvar NBSP = String.fromCharCode(160);\nvar spaceOrNBSP = \"( |\" + NBSP + \")\";\nvar spaceOrNBSPRegExp = new RegExp(spaceOrNBSP, \"g\");\n\nfunction fixListRegex(s) {\n  // make dots optional and also make them literal\n  // make space and non breakable space characters interchangeable\n  return s.replace(/\\./g, \"\\\\.?\").replace(spaceOrNBSPRegExp, spaceOrNBSP);\n}\n\nfunction stripInsensitivities(s) {\n  return s.replace(/\\./g, \"\") // ignore dots that were made optional\n  .replace(spaceOrNBSPRegExp, \" \") // interchange space and nbsp\n  .toLowerCase();\n}\n\nfunction oneOf(strings, startIndex) {\n  if (strings === null) {\n    return null;\n  } else {\n    return {\n      regex: RegExp(strings.map(fixListRegex).join(\"|\")),\n      deser: function deser(_ref2) {\n        var s = _ref2[0];\n        return strings.findIndex(function (i) {\n          return stripInsensitivities(s) === stripInsensitivities(i);\n        }) + startIndex;\n      }\n    };\n  }\n}\n\nfunction offset(regex, groups) {\n  return {\n    regex: regex,\n    deser: function deser(_ref3) {\n      var h = _ref3[1],\n          m = _ref3[2];\n      return signedOffset(h, m);\n    },\n    groups: groups\n  };\n}\n\nfunction simple(regex) {\n  return {\n    regex: regex,\n    deser: function deser(_ref4) {\n      var s = _ref4[0];\n      return s;\n    }\n  };\n}\n\nfunction escapeToken(value) {\n  // eslint-disable-next-line no-useless-escape\n  return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n}\n\nfunction unitForToken(token, loc) {\n  var one = digitRegex(loc),\n      two = digitRegex(loc, \"{2}\"),\n      three = digitRegex(loc, \"{3}\"),\n      four = digitRegex(loc, \"{4}\"),\n      six = digitRegex(loc, \"{6}\"),\n      oneOrTwo = digitRegex(loc, \"{1,2}\"),\n      oneToThree = digitRegex(loc, \"{1,3}\"),\n      oneToSix = digitRegex(loc, \"{1,6}\"),\n      oneToNine = digitRegex(loc, \"{1,9}\"),\n      twoToFour = digitRegex(loc, \"{2,4}\"),\n      fourToSix = digitRegex(loc, \"{4,6}\"),\n      literal = function literal(t) {\n    return {\n      regex: RegExp(escapeToken(t.val)),\n      deser: function deser(_ref5) {\n        var s = _ref5[0];\n        return s;\n      },\n      literal: true\n    };\n  },\n      unitate = function unitate(t) {\n    if (token.literal) {\n      return literal(t);\n    }\n\n    switch (t.val) {\n      // era\n      case \"G\":\n        return oneOf(loc.eras(\"short\", false), 0);\n\n      case \"GG\":\n        return oneOf(loc.eras(\"long\", false), 0);\n      // years\n\n      case \"y\":\n        return intUnit(oneToSix);\n\n      case \"yy\":\n        return intUnit(twoToFour, untruncateYear);\n\n      case \"yyyy\":\n        return intUnit(four);\n\n      case \"yyyyy\":\n        return intUnit(fourToSix);\n\n      case \"yyyyyy\":\n        return intUnit(six);\n      // months\n\n      case \"M\":\n        return intUnit(oneOrTwo);\n\n      case \"MM\":\n        return intUnit(two);\n\n      case \"MMM\":\n        return oneOf(loc.months(\"short\", true, false), 1);\n\n      case \"MMMM\":\n        return oneOf(loc.months(\"long\", true, false), 1);\n\n      case \"L\":\n        return intUnit(oneOrTwo);\n\n      case \"LL\":\n        return intUnit(two);\n\n      case \"LLL\":\n        return oneOf(loc.months(\"short\", false, false), 1);\n\n      case \"LLLL\":\n        return oneOf(loc.months(\"long\", false, false), 1);\n      // dates\n\n      case \"d\":\n        return intUnit(oneOrTwo);\n\n      case \"dd\":\n        return intUnit(two);\n      // ordinals\n\n      case \"o\":\n        return intUnit(oneToThree);\n\n      case \"ooo\":\n        return intUnit(three);\n      // time\n\n      case \"HH\":\n        return intUnit(two);\n\n      case \"H\":\n        return intUnit(oneOrTwo);\n\n      case \"hh\":\n        return intUnit(two);\n\n      case \"h\":\n        return intUnit(oneOrTwo);\n\n      case \"mm\":\n        return intUnit(two);\n\n      case \"m\":\n        return intUnit(oneOrTwo);\n\n      case \"q\":\n        return intUnit(oneOrTwo);\n\n      case \"qq\":\n        return intUnit(two);\n\n      case \"s\":\n        return intUnit(oneOrTwo);\n\n      case \"ss\":\n        return intUnit(two);\n\n      case \"S\":\n        return intUnit(oneToThree);\n\n      case \"SSS\":\n        return intUnit(three);\n\n      case \"u\":\n        return simple(oneToNine);\n      // meridiem\n\n      case \"a\":\n        return oneOf(loc.meridiems(), 0);\n      // weekYear (k)\n\n      case \"kkkk\":\n        return intUnit(four);\n\n      case \"kk\":\n        return intUnit(twoToFour, untruncateYear);\n      // weekNumber (W)\n\n      case \"W\":\n        return intUnit(oneOrTwo);\n\n      case \"WW\":\n        return intUnit(two);\n      // weekdays\n\n      case \"E\":\n      case \"c\":\n        return intUnit(one);\n\n      case \"EEE\":\n        return oneOf(loc.weekdays(\"short\", false, false), 1);\n\n      case \"EEEE\":\n        return oneOf(loc.weekdays(\"long\", false, false), 1);\n\n      case \"ccc\":\n        return oneOf(loc.weekdays(\"short\", true, false), 1);\n\n      case \"cccc\":\n        return oneOf(loc.weekdays(\"long\", true, false), 1);\n      // offset/zone\n\n      case \"Z\":\n      case \"ZZ\":\n        return offset(new RegExp(\"([+-]\" + oneOrTwo.source + \")(?::(\" + two.source + \"))?\"), 2);\n\n      case \"ZZZ\":\n        return offset(new RegExp(\"([+-]\" + oneOrTwo.source + \")(\" + two.source + \")?\"), 2);\n      // we don't support ZZZZ (PST) or ZZZZZ (Pacific Standard Time) in parsing\n      // because we don't have any way to figure out what they are\n\n      case \"z\":\n        return simple(/[a-z_+-/]{1,256}?/i);\n\n      default:\n        return literal(t);\n    }\n  };\n\n  var unit = unitate(token) || {\n    invalidReason: MISSING_FTP\n  };\n  unit.token = token;\n  return unit;\n}\n\nvar partTypeStyleToTokenVal = {\n  year: {\n    \"2-digit\": \"yy\",\n    numeric: \"yyyyy\"\n  },\n  month: {\n    numeric: \"M\",\n    \"2-digit\": \"MM\",\n    short: \"MMM\",\n    long: \"MMMM\"\n  },\n  day: {\n    numeric: \"d\",\n    \"2-digit\": \"dd\"\n  },\n  weekday: {\n    short: \"EEE\",\n    long: \"EEEE\"\n  },\n  dayperiod: \"a\",\n  dayPeriod: \"a\",\n  hour: {\n    numeric: \"h\",\n    \"2-digit\": \"hh\"\n  },\n  minute: {\n    numeric: \"m\",\n    \"2-digit\": \"mm\"\n  },\n  second: {\n    numeric: \"s\",\n    \"2-digit\": \"ss\"\n  }\n};\n\nfunction tokenForPart(part, locale, formatOpts) {\n  var type = part.type,\n      value = part.value;\n\n  if (type === \"literal\") {\n    return {\n      literal: true,\n      val: value\n    };\n  }\n\n  var style = formatOpts[type];\n  var val = partTypeStyleToTokenVal[type];\n\n  if (typeof val === \"object\") {\n    val = val[style];\n  }\n\n  if (val) {\n    return {\n      literal: false,\n      val: val\n    };\n  }\n\n  return undefined;\n}\n\nfunction buildRegex(units) {\n  var re = units.map(function (u) {\n    return u.regex;\n  }).reduce(function (f, r) {\n    return f + \"(\" + r.source + \")\";\n  }, \"\");\n  return [\"^\" + re + \"$\", units];\n}\n\nfunction match(input, regex, handlers) {\n  var matches = input.match(regex);\n\n  if (matches) {\n    var all = {};\n    var matchIndex = 1;\n\n    for (var i in handlers) {\n      if (hasOwnProperty(handlers, i)) {\n        var h = handlers[i],\n            groups = h.groups ? h.groups + 1 : 1;\n\n        if (!h.literal && h.token) {\n          all[h.token.val[0]] = h.deser(matches.slice(matchIndex, matchIndex + groups));\n        }\n\n        matchIndex += groups;\n      }\n    }\n\n    return [matches, all];\n  } else {\n    return [matches, {}];\n  }\n}\n\nfunction dateTimeFromMatches(matches) {\n  var toField = function toField(token) {\n    switch (token) {\n      case \"S\":\n        return \"millisecond\";\n\n      case \"s\":\n        return \"second\";\n\n      case \"m\":\n        return \"minute\";\n\n      case \"h\":\n      case \"H\":\n        return \"hour\";\n\n      case \"d\":\n        return \"day\";\n\n      case \"o\":\n        return \"ordinal\";\n\n      case \"L\":\n      case \"M\":\n        return \"month\";\n\n      case \"y\":\n        return \"year\";\n\n      case \"E\":\n      case \"c\":\n        return \"weekday\";\n\n      case \"W\":\n        return \"weekNumber\";\n\n      case \"k\":\n        return \"weekYear\";\n\n      case \"q\":\n        return \"quarter\";\n\n      default:\n        return null;\n    }\n  };\n\n  var zone;\n\n  if (!isUndefined(matches.Z)) {\n    zone = new FixedOffsetZone(matches.Z);\n  } else if (!isUndefined(matches.z)) {\n    zone = IANAZone.create(matches.z);\n  } else {\n    zone = null;\n  }\n\n  if (!isUndefined(matches.q)) {\n    matches.M = (matches.q - 1) * 3 + 1;\n  }\n\n  if (!isUndefined(matches.h)) {\n    if (matches.h < 12 && matches.a === 1) {\n      matches.h += 12;\n    } else if (matches.h === 12 && matches.a === 0) {\n      matches.h = 0;\n    }\n  }\n\n  if (matches.G === 0 && matches.y) {\n    matches.y = -matches.y;\n  }\n\n  if (!isUndefined(matches.u)) {\n    matches.S = parseMillis(matches.u);\n  }\n\n  var vals = Object.keys(matches).reduce(function (r, k) {\n    var f = toField(k);\n\n    if (f) {\n      r[f] = matches[k];\n    }\n\n    return r;\n  }, {});\n  return [vals, zone];\n}\n\nvar dummyDateTimeCache = null;\n\nfunction getDummyDateTime() {\n  if (!dummyDateTimeCache) {\n    dummyDateTimeCache = DateTime.fromMillis(1555555555555);\n  }\n\n  return dummyDateTimeCache;\n}\n\nfunction maybeExpandMacroToken(token, locale) {\n  if (token.literal) {\n    return token;\n  }\n\n  var formatOpts = Formatter.macroTokenToFormatOpts(token.val);\n\n  if (!formatOpts) {\n    return token;\n  }\n\n  var formatter = Formatter.create(locale, formatOpts);\n  var parts = formatter.formatDateTimeParts(getDummyDateTime());\n  var tokens = parts.map(function (p) {\n    return tokenForPart(p, locale, formatOpts);\n  });\n\n  if (tokens.includes(undefined)) {\n    return token;\n  }\n\n  return tokens;\n}\n\nfunction expandMacroTokens(tokens, locale) {\n  var _Array$prototype;\n\n  return (_Array$prototype = Array.prototype).concat.apply(_Array$prototype, tokens.map(function (t) {\n    return maybeExpandMacroToken(t, locale);\n  }));\n}\n/**\n * @private\n */\n\n\nfunction explainFromTokens(locale, input, format) {\n  var tokens = expandMacroTokens(Formatter.parseFormat(format), locale),\n      units = tokens.map(function (t) {\n    return unitForToken(t, locale);\n  }),\n      disqualifyingUnit = units.find(function (t) {\n    return t.invalidReason;\n  });\n\n  if (disqualifyingUnit) {\n    return {\n      input: input,\n      tokens: tokens,\n      invalidReason: disqualifyingUnit.invalidReason\n    };\n  } else {\n    var _buildRegex = buildRegex(units),\n        regexString = _buildRegex[0],\n        handlers = _buildRegex[1],\n        regex = RegExp(regexString, \"i\"),\n        _match = match(input, regex, handlers),\n        rawMatches = _match[0],\n        matches = _match[1],\n        _ref6 = matches ? dateTimeFromMatches(matches) : [null, null],\n        result = _ref6[0],\n        zone = _ref6[1];\n\n    if (hasOwnProperty(matches, \"a\") && hasOwnProperty(matches, \"H\")) {\n      throw new ConflictingSpecificationError(\"Can't include meridiem when specifying 24-hour format\");\n    }\n\n    return {\n      input: input,\n      tokens: tokens,\n      regex: regex,\n      rawMatches: rawMatches,\n      matches: matches,\n      result: result,\n      zone: zone\n    };\n  }\n}\nfunction parseFromTokens(locale, input, format) {\n  var _explainFromTokens = explainFromTokens(locale, input, format),\n      result = _explainFromTokens.result,\n      zone = _explainFromTokens.zone,\n      invalidReason = _explainFromTokens.invalidReason;\n\n  return [result, zone, invalidReason];\n}\n\nvar nonLeapLadder = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334],\n    leapLadder = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];\n\nfunction unitOutOfRange(unit, value) {\n  return new Invalid(\"unit out of range\", \"you specified \" + value + \" (of type \" + typeof value + \") as a \" + unit + \", which is invalid\");\n}\n\nfunction dayOfWeek(year, month, day) {\n  var js = new Date(Date.UTC(year, month - 1, day)).getUTCDay();\n  return js === 0 ? 7 : js;\n}\n\nfunction computeOrdinal(year, month, day) {\n  return day + (isLeapYear(year) ? leapLadder : nonLeapLadder)[month - 1];\n}\n\nfunction uncomputeOrdinal(year, ordinal) {\n  var table = isLeapYear(year) ? leapLadder : nonLeapLadder,\n      month0 = table.findIndex(function (i) {\n    return i < ordinal;\n  }),\n      day = ordinal - table[month0];\n  return {\n    month: month0 + 1,\n    day: day\n  };\n}\n/**\n * @private\n */\n\n\nfunction gregorianToWeek(gregObj) {\n  var year = gregObj.year,\n      month = gregObj.month,\n      day = gregObj.day,\n      ordinal = computeOrdinal(year, month, day),\n      weekday = dayOfWeek(year, month, day);\n  var weekNumber = Math.floor((ordinal - weekday + 10) / 7),\n      weekYear;\n\n  if (weekNumber < 1) {\n    weekYear = year - 1;\n    weekNumber = weeksInWeekYear(weekYear);\n  } else if (weekNumber > weeksInWeekYear(year)) {\n    weekYear = year + 1;\n    weekNumber = 1;\n  } else {\n    weekYear = year;\n  }\n\n  return Object.assign({\n    weekYear: weekYear,\n    weekNumber: weekNumber,\n    weekday: weekday\n  }, timeObject(gregObj));\n}\nfunction weekToGregorian(weekData) {\n  var weekYear = weekData.weekYear,\n      weekNumber = weekData.weekNumber,\n      weekday = weekData.weekday,\n      weekdayOfJan4 = dayOfWeek(weekYear, 1, 4),\n      yearInDays = daysInYear(weekYear);\n  var ordinal = weekNumber * 7 + weekday - weekdayOfJan4 - 3,\n      year;\n\n  if (ordinal < 1) {\n    year = weekYear - 1;\n    ordinal += daysInYear(year);\n  } else if (ordinal > yearInDays) {\n    year = weekYear + 1;\n    ordinal -= daysInYear(weekYear);\n  } else {\n    year = weekYear;\n  }\n\n  var _uncomputeOrdinal = uncomputeOrdinal(year, ordinal),\n      month = _uncomputeOrdinal.month,\n      day = _uncomputeOrdinal.day;\n\n  return Object.assign({\n    year: year,\n    month: month,\n    day: day\n  }, timeObject(weekData));\n}\nfunction gregorianToOrdinal(gregData) {\n  var year = gregData.year,\n      month = gregData.month,\n      day = gregData.day,\n      ordinal = computeOrdinal(year, month, day);\n  return Object.assign({\n    year: year,\n    ordinal: ordinal\n  }, timeObject(gregData));\n}\nfunction ordinalToGregorian(ordinalData) {\n  var year = ordinalData.year,\n      ordinal = ordinalData.ordinal,\n      _uncomputeOrdinal2 = uncomputeOrdinal(year, ordinal),\n      month = _uncomputeOrdinal2.month,\n      day = _uncomputeOrdinal2.day;\n\n  return Object.assign({\n    year: year,\n    month: month,\n    day: day\n  }, timeObject(ordinalData));\n}\nfunction hasInvalidWeekData(obj) {\n  var validYear = isInteger(obj.weekYear),\n      validWeek = integerBetween(obj.weekNumber, 1, weeksInWeekYear(obj.weekYear)),\n      validWeekday = integerBetween(obj.weekday, 1, 7);\n\n  if (!validYear) {\n    return unitOutOfRange(\"weekYear\", obj.weekYear);\n  } else if (!validWeek) {\n    return unitOutOfRange(\"week\", obj.week);\n  } else if (!validWeekday) {\n    return unitOutOfRange(\"weekday\", obj.weekday);\n  } else return false;\n}\nfunction hasInvalidOrdinalData(obj) {\n  var validYear = isInteger(obj.year),\n      validOrdinal = integerBetween(obj.ordinal, 1, daysInYear(obj.year));\n\n  if (!validYear) {\n    return unitOutOfRange(\"year\", obj.year);\n  } else if (!validOrdinal) {\n    return unitOutOfRange(\"ordinal\", obj.ordinal);\n  } else return false;\n}\nfunction hasInvalidGregorianData(obj) {\n  var validYear = isInteger(obj.year),\n      validMonth = integerBetween(obj.month, 1, 12),\n      validDay = integerBetween(obj.day, 1, daysInMonth(obj.year, obj.month));\n\n  if (!validYear) {\n    return unitOutOfRange(\"year\", obj.year);\n  } else if (!validMonth) {\n    return unitOutOfRange(\"month\", obj.month);\n  } else if (!validDay) {\n    return unitOutOfRange(\"day\", obj.day);\n  } else return false;\n}\nfunction hasInvalidTimeData(obj) {\n  var hour = obj.hour,\n      minute = obj.minute,\n      second = obj.second,\n      millisecond = obj.millisecond;\n  var validHour = integerBetween(hour, 0, 23) || hour === 24 && minute === 0 && second === 0 && millisecond === 0,\n      validMinute = integerBetween(minute, 0, 59),\n      validSecond = integerBetween(second, 0, 59),\n      validMillisecond = integerBetween(millisecond, 0, 999);\n\n  if (!validHour) {\n    return unitOutOfRange(\"hour\", hour);\n  } else if (!validMinute) {\n    return unitOutOfRange(\"minute\", minute);\n  } else if (!validSecond) {\n    return unitOutOfRange(\"second\", second);\n  } else if (!validMillisecond) {\n    return unitOutOfRange(\"millisecond\", millisecond);\n  } else return false;\n}\n\nvar INVALID$2 = \"Invalid DateTime\";\nvar MAX_DATE = 8.64e15;\n\nfunction unsupportedZone(zone) {\n  return new Invalid(\"unsupported zone\", \"the zone \\\"\" + zone.name + \"\\\" is not supported\");\n} // we cache week data on the DT object and this intermediates the cache\n\n\nfunction possiblyCachedWeekData(dt) {\n  if (dt.weekData === null) {\n    dt.weekData = gregorianToWeek(dt.c);\n  }\n\n  return dt.weekData;\n} // clone really means, \"make a new object with these modifications\". all \"setters\" really use this\n// to create a new object while only changing some of the properties\n\n\nfunction clone$1(inst, alts) {\n  var current = {\n    ts: inst.ts,\n    zone: inst.zone,\n    c: inst.c,\n    o: inst.o,\n    loc: inst.loc,\n    invalid: inst.invalid\n  };\n  return new DateTime(Object.assign({}, current, alts, {\n    old: current\n  }));\n} // find the right offset a given local time. The o input is our guess, which determines which\n// offset we'll pick in ambiguous cases (e.g. there are two 3 AMs b/c Fallback DST)\n\n\nfunction fixOffset(localTS, o, tz) {\n  // Our UTC time is just a guess because our offset is just a guess\n  var utcGuess = localTS - o * 60 * 1000; // Test whether the zone matches the offset for this ts\n\n  var o2 = tz.offset(utcGuess); // If so, offset didn't change and we're done\n\n  if (o === o2) {\n    return [utcGuess, o];\n  } // If not, change the ts by the difference in the offset\n\n\n  utcGuess -= (o2 - o) * 60 * 1000; // If that gives us the local time we want, we're done\n\n  var o3 = tz.offset(utcGuess);\n\n  if (o2 === o3) {\n    return [utcGuess, o2];\n  } // If it's different, we're in a hole time. The offset has changed, but the we don't adjust the time\n\n\n  return [localTS - Math.min(o2, o3) * 60 * 1000, Math.max(o2, o3)];\n} // convert an epoch timestamp into a calendar object with the given offset\n\n\nfunction tsToObj(ts, offset) {\n  ts += offset * 60 * 1000;\n  var d = new Date(ts);\n  return {\n    year: d.getUTCFullYear(),\n    month: d.getUTCMonth() + 1,\n    day: d.getUTCDate(),\n    hour: d.getUTCHours(),\n    minute: d.getUTCMinutes(),\n    second: d.getUTCSeconds(),\n    millisecond: d.getUTCMilliseconds()\n  };\n} // convert a calendar object to a epoch timestamp\n\n\nfunction objToTS(obj, offset, zone) {\n  return fixOffset(objToLocalTS(obj), offset, zone);\n} // create a new DT instance by adding a duration, adjusting for DSTs\n\n\nfunction adjustTime(inst, dur) {\n  var oPre = inst.o,\n      year = inst.c.year + Math.trunc(dur.years),\n      month = inst.c.month + Math.trunc(dur.months) + Math.trunc(dur.quarters) * 3,\n      c = Object.assign({}, inst.c, {\n    year: year,\n    month: month,\n    day: Math.min(inst.c.day, daysInMonth(year, month)) + Math.trunc(dur.days) + Math.trunc(dur.weeks) * 7\n  }),\n      millisToAdd = Duration.fromObject({\n    years: dur.years - Math.trunc(dur.years),\n    quarters: dur.quarters - Math.trunc(dur.quarters),\n    months: dur.months - Math.trunc(dur.months),\n    weeks: dur.weeks - Math.trunc(dur.weeks),\n    days: dur.days - Math.trunc(dur.days),\n    hours: dur.hours,\n    minutes: dur.minutes,\n    seconds: dur.seconds,\n    milliseconds: dur.milliseconds\n  }).as(\"milliseconds\"),\n      localTS = objToLocalTS(c);\n\n  var _fixOffset = fixOffset(localTS, oPre, inst.zone),\n      ts = _fixOffset[0],\n      o = _fixOffset[1];\n\n  if (millisToAdd !== 0) {\n    ts += millisToAdd; // that could have changed the offset by going over a DST, but we want to keep the ts the same\n\n    o = inst.zone.offset(ts);\n  }\n\n  return {\n    ts: ts,\n    o: o\n  };\n} // helper useful in turning the results of parsing into real dates\n// by handling the zone options\n\n\nfunction parseDataToDateTime(parsed, parsedZone, opts, format, text) {\n  var setZone = opts.setZone,\n      zone = opts.zone;\n\n  if (parsed && Object.keys(parsed).length !== 0) {\n    var interpretationZone = parsedZone || zone,\n        inst = DateTime.fromObject(Object.assign(parsed, opts, {\n      zone: interpretationZone,\n      // setZone is a valid option in the calling methods, but not in fromObject\n      setZone: undefined\n    }));\n    return setZone ? inst : inst.setZone(zone);\n  } else {\n    return DateTime.invalid(new Invalid(\"unparsable\", \"the input \\\"\" + text + \"\\\" can't be parsed as \" + format));\n  }\n} // if you want to output a technical format (e.g. RFC 2822), this helper\n// helps handle the details\n\n\nfunction toTechFormat(dt, format, allowZ) {\n  if (allowZ === void 0) {\n    allowZ = true;\n  }\n\n  return dt.isValid ? Formatter.create(Locale.create(\"en-US\"), {\n    allowZ: allowZ,\n    forceSimple: true\n  }).formatDateTimeFromString(dt, format) : null;\n} // technical time formats (e.g. the time part of ISO 8601), take some options\n// and this commonizes their handling\n\n\nfunction toTechTimeFormat(dt, _ref) {\n  var _ref$suppressSeconds = _ref.suppressSeconds,\n      suppressSeconds = _ref$suppressSeconds === void 0 ? false : _ref$suppressSeconds,\n      _ref$suppressMillisec = _ref.suppressMilliseconds,\n      suppressMilliseconds = _ref$suppressMillisec === void 0 ? false : _ref$suppressMillisec,\n      includeOffset = _ref.includeOffset,\n      _ref$includePrefix = _ref.includePrefix,\n      includePrefix = _ref$includePrefix === void 0 ? false : _ref$includePrefix,\n      _ref$includeZone = _ref.includeZone,\n      includeZone = _ref$includeZone === void 0 ? false : _ref$includeZone,\n      _ref$spaceZone = _ref.spaceZone,\n      spaceZone = _ref$spaceZone === void 0 ? false : _ref$spaceZone,\n      _ref$format = _ref.format,\n      format = _ref$format === void 0 ? \"extended\" : _ref$format;\n  var fmt = format === \"basic\" ? \"HHmm\" : \"HH:mm\";\n\n  if (!suppressSeconds || dt.second !== 0 || dt.millisecond !== 0) {\n    fmt += format === \"basic\" ? \"ss\" : \":ss\";\n\n    if (!suppressMilliseconds || dt.millisecond !== 0) {\n      fmt += \".SSS\";\n    }\n  }\n\n  if ((includeZone || includeOffset) && spaceZone) {\n    fmt += \" \";\n  }\n\n  if (includeZone) {\n    fmt += \"z\";\n  } else if (includeOffset) {\n    fmt += format === \"basic\" ? \"ZZZ\" : \"ZZ\";\n  }\n\n  var str = toTechFormat(dt, fmt);\n\n  if (includePrefix) {\n    str = \"T\" + str;\n  }\n\n  return str;\n} // defaults for unspecified units in the supported calendars\n\n\nvar defaultUnitValues = {\n  month: 1,\n  day: 1,\n  hour: 0,\n  minute: 0,\n  second: 0,\n  millisecond: 0\n},\n    defaultWeekUnitValues = {\n  weekNumber: 1,\n  weekday: 1,\n  hour: 0,\n  minute: 0,\n  second: 0,\n  millisecond: 0\n},\n    defaultOrdinalUnitValues = {\n  ordinal: 1,\n  hour: 0,\n  minute: 0,\n  second: 0,\n  millisecond: 0\n}; // Units in the supported calendars, sorted by bigness\n\nvar orderedUnits$1 = [\"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"millisecond\"],\n    orderedWeekUnits = [\"weekYear\", \"weekNumber\", \"weekday\", \"hour\", \"minute\", \"second\", \"millisecond\"],\n    orderedOrdinalUnits = [\"year\", \"ordinal\", \"hour\", \"minute\", \"second\", \"millisecond\"]; // standardize case and plurality in units\n\nfunction normalizeUnit(unit) {\n  var normalized = {\n    year: \"year\",\n    years: \"year\",\n    month: \"month\",\n    months: \"month\",\n    day: \"day\",\n    days: \"day\",\n    hour: \"hour\",\n    hours: \"hour\",\n    minute: \"minute\",\n    minutes: \"minute\",\n    quarter: \"quarter\",\n    quarters: \"quarter\",\n    second: \"second\",\n    seconds: \"second\",\n    millisecond: \"millisecond\",\n    milliseconds: \"millisecond\",\n    weekday: \"weekday\",\n    weekdays: \"weekday\",\n    weeknumber: \"weekNumber\",\n    weeksnumber: \"weekNumber\",\n    weeknumbers: \"weekNumber\",\n    weekyear: \"weekYear\",\n    weekyears: \"weekYear\",\n    ordinal: \"ordinal\"\n  }[unit.toLowerCase()];\n  if (!normalized) throw new InvalidUnitError(unit);\n  return normalized;\n} // this is a dumbed down version of fromObject() that runs about 60% faster\n// but doesn't do any validation, makes a bunch of assumptions about what units\n// are present, and so on.\n\n\nfunction quickDT(obj, zone) {\n  // assume we have the higher-order units\n  for (var _iterator = _createForOfIteratorHelperLoose(orderedUnits$1), _step; !(_step = _iterator()).done;) {\n    var u = _step.value;\n\n    if (isUndefined(obj[u])) {\n      obj[u] = defaultUnitValues[u];\n    }\n  }\n\n  var invalid = hasInvalidGregorianData(obj) || hasInvalidTimeData(obj);\n\n  if (invalid) {\n    return DateTime.invalid(invalid);\n  }\n\n  var tsNow = Settings.now(),\n      offsetProvis = zone.offset(tsNow),\n      _objToTS = objToTS(obj, offsetProvis, zone),\n      ts = _objToTS[0],\n      o = _objToTS[1];\n\n  return new DateTime({\n    ts: ts,\n    zone: zone,\n    o: o\n  });\n}\n\nfunction diffRelative(start, end, opts) {\n  var round = isUndefined(opts.round) ? true : opts.round,\n      format = function format(c, unit) {\n    c = roundTo(c, round || opts.calendary ? 0 : 2, true);\n    var formatter = end.loc.clone(opts).relFormatter(opts);\n    return formatter.format(c, unit);\n  },\n      differ = function differ(unit) {\n    if (opts.calendary) {\n      if (!end.hasSame(start, unit)) {\n        return end.startOf(unit).diff(start.startOf(unit), unit).get(unit);\n      } else return 0;\n    } else {\n      return end.diff(start, unit).get(unit);\n    }\n  };\n\n  if (opts.unit) {\n    return format(differ(opts.unit), opts.unit);\n  }\n\n  for (var _iterator2 = _createForOfIteratorHelperLoose(opts.units), _step2; !(_step2 = _iterator2()).done;) {\n    var unit = _step2.value;\n    var count = differ(unit);\n\n    if (Math.abs(count) >= 1) {\n      return format(count, unit);\n    }\n  }\n\n  return format(start > end ? -0 : 0, opts.units[opts.units.length - 1]);\n}\n/**\n * A DateTime is an immutable data structure representing a specific date and time and accompanying methods. It contains class and instance methods for creating, parsing, interrogating, transforming, and formatting them.\n *\n * A DateTime comprises of:\n * * A timestamp. Each DateTime instance refers to a specific millisecond of the Unix epoch.\n * * A time zone. Each instance is considered in the context of a specific zone (by default the local system's zone).\n * * Configuration properties that effect how output strings are formatted, such as `locale`, `numberingSystem`, and `outputCalendar`.\n *\n * Here is a brief overview of the most commonly used functionality it provides:\n *\n * * **Creation**: To create a DateTime from its components, use one of its factory class methods: {@link local}, {@link utc}, and (most flexibly) {@link fromObject}. To create one from a standard string format, use {@link fromISO}, {@link fromHTTP}, and {@link fromRFC2822}. To create one from a custom string format, use {@link fromFormat}. To create one from a native JS date, use {@link fromJSDate}.\n * * **Gregorian calendar and time**: To examine the Gregorian properties of a DateTime individually (i.e as opposed to collectively through {@link toObject}), use the {@link year}, {@link month},\n * {@link day}, {@link hour}, {@link minute}, {@link second}, {@link millisecond} accessors.\n * * **Week calendar**: For ISO week calendar attributes, see the {@link weekYear}, {@link weekNumber}, and {@link weekday} accessors.\n * * **Configuration** See the {@link locale} and {@link numberingSystem} accessors.\n * * **Transformation**: To transform the DateTime into other DateTimes, use {@link set}, {@link reconfigure}, {@link setZone}, {@link setLocale}, {@link plus}, {@link minus}, {@link endOf}, {@link startOf}, {@link toUTC}, and {@link toLocal}.\n * * **Output**: To convert the DateTime to other representations, use the {@link toRelative}, {@link toRelativeCalendar}, {@link toJSON}, {@link toISO}, {@link toHTTP}, {@link toObject}, {@link toRFC2822}, {@link toString}, {@link toLocaleString}, {@link toFormat}, {@link toMillis} and {@link toJSDate}.\n *\n * There's plenty others documented below. In addition, for more information on subtler topics like internationalization, time zones, alternative calendars, validity, and so on, see the external documentation.\n */\n\n\nvar DateTime = /*#__PURE__*/function () {\n  /**\n   * @access private\n   */\n  function DateTime(config) {\n    var zone = config.zone || Settings.defaultZone;\n    var invalid = config.invalid || (Number.isNaN(config.ts) ? new Invalid(\"invalid input\") : null) || (!zone.isValid ? unsupportedZone(zone) : null);\n    /**\n     * @access private\n     */\n\n    this.ts = isUndefined(config.ts) ? Settings.now() : config.ts;\n    var c = null,\n        o = null;\n\n    if (!invalid) {\n      var unchanged = config.old && config.old.ts === this.ts && config.old.zone.equals(zone);\n\n      if (unchanged) {\n        var _ref2 = [config.old.c, config.old.o];\n        c = _ref2[0];\n        o = _ref2[1];\n      } else {\n        var ot = zone.offset(this.ts);\n        c = tsToObj(this.ts, ot);\n        invalid = Number.isNaN(c.year) ? new Invalid(\"invalid input\") : null;\n        c = invalid ? null : c;\n        o = invalid ? null : ot;\n      }\n    }\n    /**\n     * @access private\n     */\n\n\n    this._zone = zone;\n    /**\n     * @access private\n     */\n\n    this.loc = config.loc || Locale.create();\n    /**\n     * @access private\n     */\n\n    this.invalid = invalid;\n    /**\n     * @access private\n     */\n\n    this.weekData = null;\n    /**\n     * @access private\n     */\n\n    this.c = c;\n    /**\n     * @access private\n     */\n\n    this.o = o;\n    /**\n     * @access private\n     */\n\n    this.isLuxonDateTime = true;\n  } // CONSTRUCT\n\n  /**\n   * Create a DateTime for the current instant, in the system's time zone.\n   *\n   * Use Settings to override these default values if needed.\n   * @example DateTime.now().toISO() //~> now in the ISO format\n   * @return {DateTime}\n   */\n\n\n  DateTime.now = function now() {\n    return new DateTime({});\n  }\n  /**\n   * Create a local DateTime\n   * @param {number} [year] - The calendar year. If omitted (as in, call `local()` with no arguments), the current time will be used\n   * @param {number} [month=1] - The month, 1-indexed\n   * @param {number} [day=1] - The day of the month, 1-indexed\n   * @param {number} [hour=0] - The hour of the day, in 24-hour time\n   * @param {number} [minute=0] - The minute of the hour, meaning a number between 0 and 59\n   * @param {number} [second=0] - The second of the minute, meaning a number between 0 and 59\n   * @param {number} [millisecond=0] - The millisecond of the second, meaning a number between 0 and 999\n   * @example DateTime.local()                            //~> now\n   * @example DateTime.local(2017)                        //~> 2017-01-01T00:00:00\n   * @example DateTime.local(2017, 3)                     //~> 2017-03-01T00:00:00\n   * @example DateTime.local(2017, 3, 12)                 //~> 2017-03-12T00:00:00\n   * @example DateTime.local(2017, 3, 12, 5)              //~> 2017-03-12T05:00:00\n   * @example DateTime.local(2017, 3, 12, 5, 45)          //~> 2017-03-12T05:45:00\n   * @example DateTime.local(2017, 3, 12, 5, 45, 10)      //~> 2017-03-12T05:45:10\n   * @example DateTime.local(2017, 3, 12, 5, 45, 10, 765) //~> 2017-03-12T05:45:10.765\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.local = function local(year, month, day, hour, minute, second, millisecond) {\n    if (isUndefined(year)) {\n      return DateTime.now();\n    } else {\n      return quickDT({\n        year: year,\n        month: month,\n        day: day,\n        hour: hour,\n        minute: minute,\n        second: second,\n        millisecond: millisecond\n      }, Settings.defaultZone);\n    }\n  }\n  /**\n   * Create a DateTime in UTC\n   * @param {number} [year] - The calendar year. If omitted (as in, call `utc()` with no arguments), the current time will be used\n   * @param {number} [month=1] - The month, 1-indexed\n   * @param {number} [day=1] - The day of the month\n   * @param {number} [hour=0] - The hour of the day, in 24-hour time\n   * @param {number} [minute=0] - The minute of the hour, meaning a number between 0 and 59\n   * @param {number} [second=0] - The second of the minute, meaning a number between 0 and 59\n   * @param {number} [millisecond=0] - The millisecond of the second, meaning a number between 0 and 999\n   * @example DateTime.utc()                            //~> now\n   * @example DateTime.utc(2017)                        //~> 2017-01-01T00:00:00Z\n   * @example DateTime.utc(2017, 3)                     //~> 2017-03-01T00:00:00Z\n   * @example DateTime.utc(2017, 3, 12)                 //~> 2017-03-12T00:00:00Z\n   * @example DateTime.utc(2017, 3, 12, 5)              //~> 2017-03-12T05:00:00Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45)          //~> 2017-03-12T05:45:00Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45, 10)      //~> 2017-03-12T05:45:10Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45, 10, 765) //~> 2017-03-12T05:45:10.765Z\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.utc = function utc(year, month, day, hour, minute, second, millisecond) {\n    if (isUndefined(year)) {\n      return new DateTime({\n        ts: Settings.now(),\n        zone: FixedOffsetZone.utcInstance\n      });\n    } else {\n      return quickDT({\n        year: year,\n        month: month,\n        day: day,\n        hour: hour,\n        minute: minute,\n        second: second,\n        millisecond: millisecond\n      }, FixedOffsetZone.utcInstance);\n    }\n  }\n  /**\n   * Create a DateTime from a JavaScript Date object. Uses the default zone.\n   * @param {Date} date - a JavaScript Date object\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.fromJSDate = function fromJSDate(date, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var ts = isDate(date) ? date.valueOf() : NaN;\n\n    if (Number.isNaN(ts)) {\n      return DateTime.invalid(\"invalid input\");\n    }\n\n    var zoneToUse = normalizeZone(options.zone, Settings.defaultZone);\n\n    if (!zoneToUse.isValid) {\n      return DateTime.invalid(unsupportedZone(zoneToUse));\n    }\n\n    return new DateTime({\n      ts: ts,\n      zone: zoneToUse,\n      loc: Locale.fromObject(options)\n    });\n  }\n  /**\n   * Create a DateTime from a number of milliseconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone.\n   * @param {number} milliseconds - a number of milliseconds since 1970 UTC\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} options.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} options.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.fromMillis = function fromMillis(milliseconds, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (!isNumber(milliseconds)) {\n      throw new InvalidArgumentError(\"fromMillis requires a numerical input, but received a \" + typeof milliseconds + \" with value \" + milliseconds);\n    } else if (milliseconds < -MAX_DATE || milliseconds > MAX_DATE) {\n      // this isn't perfect because because we can still end up out of range because of additional shifting, but it's a start\n      return DateTime.invalid(\"Timestamp out of range\");\n    } else {\n      return new DateTime({\n        ts: milliseconds,\n        zone: normalizeZone(options.zone, Settings.defaultZone),\n        loc: Locale.fromObject(options)\n      });\n    }\n  }\n  /**\n   * Create a DateTime from a number of seconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone.\n   * @param {number} seconds - a number of seconds since 1970 UTC\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} options.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} options.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.fromSeconds = function fromSeconds(seconds, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (!isNumber(seconds)) {\n      throw new InvalidArgumentError(\"fromSeconds requires a numerical input\");\n    } else {\n      return new DateTime({\n        ts: seconds * 1000,\n        zone: normalizeZone(options.zone, Settings.defaultZone),\n        loc: Locale.fromObject(options)\n      });\n    }\n  }\n  /**\n   * Create a DateTime from a JavaScript object with keys like 'year' and 'hour' with reasonable defaults.\n   * @param {Object} obj - the object to create the DateTime from\n   * @param {number} obj.year - a year, such as 1987\n   * @param {number} obj.month - a month, 1-12\n   * @param {number} obj.day - a day of the month, 1-31, depending on the month\n   * @param {number} obj.ordinal - day of the year, 1-365 or 366\n   * @param {number} obj.weekYear - an ISO week year\n   * @param {number} obj.weekNumber - an ISO week number, between 1 and 52 or 53, depending on the year\n   * @param {number} obj.weekday - an ISO weekday, 1-7, where 1 is Monday and 7 is Sunday\n   * @param {number} obj.hour - hour of the day, 0-23\n   * @param {number} obj.minute - minute of the hour, 0-59\n   * @param {number} obj.second - second of the minute, 0-59\n   * @param {number} obj.millisecond - millisecond of the second, 0-999\n   * @param {string|Zone} [obj.zone='local'] - interpret the numbers in the context of a particular zone. Can take any value taken as the first argument to setZone()\n   * @param {string} [obj.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} obj.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} obj.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromObject({ year: 1982, month: 5, day: 25}).toISODate() //=> '1982-05-25'\n   * @example DateTime.fromObject({ year: 1982 }).toISODate() //=> '1982-01-01'\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }) //~> today at 10:26:06\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6, zone: 'utc' }),\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6, zone: 'local' })\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6, zone: 'America/New_York' })\n   * @example DateTime.fromObject({ weekYear: 2016, weekNumber: 2, weekday: 3 }).toISODate() //=> '2016-01-13'\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.fromObject = function fromObject(obj) {\n    var zoneToUse = normalizeZone(obj.zone, Settings.defaultZone);\n\n    if (!zoneToUse.isValid) {\n      return DateTime.invalid(unsupportedZone(zoneToUse));\n    }\n\n    var tsNow = Settings.now(),\n        offsetProvis = zoneToUse.offset(tsNow),\n        normalized = normalizeObject(obj, normalizeUnit, [\"zone\", \"locale\", \"outputCalendar\", \"numberingSystem\"]),\n        containsOrdinal = !isUndefined(normalized.ordinal),\n        containsGregorYear = !isUndefined(normalized.year),\n        containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day),\n        containsGregor = containsGregorYear || containsGregorMD,\n        definiteWeekDef = normalized.weekYear || normalized.weekNumber,\n        loc = Locale.fromObject(obj); // cases:\n    // just a weekday -> this week's instance of that weekday, no worries\n    // (gregorian data or ordinal) + (weekYear or weekNumber) -> error\n    // (gregorian month or day) + ordinal -> error\n    // otherwise just use weeks or ordinals or gregorian, depending on what's specified\n\n    if ((containsGregor || containsOrdinal) && definiteWeekDef) {\n      throw new ConflictingSpecificationError(\"Can't mix weekYear/weekNumber units with year/month/day or ordinals\");\n    }\n\n    if (containsGregorMD && containsOrdinal) {\n      throw new ConflictingSpecificationError(\"Can't mix ordinal dates with month/day\");\n    }\n\n    var useWeekData = definiteWeekDef || normalized.weekday && !containsGregor; // configure ourselves to deal with gregorian dates or week stuff\n\n    var units,\n        defaultValues,\n        objNow = tsToObj(tsNow, offsetProvis);\n\n    if (useWeekData) {\n      units = orderedWeekUnits;\n      defaultValues = defaultWeekUnitValues;\n      objNow = gregorianToWeek(objNow);\n    } else if (containsOrdinal) {\n      units = orderedOrdinalUnits;\n      defaultValues = defaultOrdinalUnitValues;\n      objNow = gregorianToOrdinal(objNow);\n    } else {\n      units = orderedUnits$1;\n      defaultValues = defaultUnitValues;\n    } // set default values for missing stuff\n\n\n    var foundFirst = false;\n\n    for (var _iterator3 = _createForOfIteratorHelperLoose(units), _step3; !(_step3 = _iterator3()).done;) {\n      var u = _step3.value;\n      var v = normalized[u];\n\n      if (!isUndefined(v)) {\n        foundFirst = true;\n      } else if (foundFirst) {\n        normalized[u] = defaultValues[u];\n      } else {\n        normalized[u] = objNow[u];\n      }\n    } // make sure the values we have are in range\n\n\n    var higherOrderInvalid = useWeekData ? hasInvalidWeekData(normalized) : containsOrdinal ? hasInvalidOrdinalData(normalized) : hasInvalidGregorianData(normalized),\n        invalid = higherOrderInvalid || hasInvalidTimeData(normalized);\n\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    } // compute the actual time\n\n\n    var gregorian = useWeekData ? weekToGregorian(normalized) : containsOrdinal ? ordinalToGregorian(normalized) : normalized,\n        _objToTS2 = objToTS(gregorian, offsetProvis, zoneToUse),\n        tsFinal = _objToTS2[0],\n        offsetFinal = _objToTS2[1],\n        inst = new DateTime({\n      ts: tsFinal,\n      zone: zoneToUse,\n      o: offsetFinal,\n      loc: loc\n    }); // gregorian data + weekday serves only to validate\n\n\n    if (normalized.weekday && containsGregor && obj.weekday !== inst.weekday) {\n      return DateTime.invalid(\"mismatched weekday\", \"you can't specify both a weekday of \" + normalized.weekday + \" and a date of \" + inst.toISO());\n    }\n\n    return inst;\n  }\n  /**\n   * Create a DateTime from an ISO 8601 string\n   * @param {string} text - the ISO string\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the time to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a fixed-offset zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} [opts.outputCalendar] - the output calendar to set on the resulting DateTime instance\n   * @param {string} [opts.numberingSystem] - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123')\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123+06:00')\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123+06:00', {setZone: true})\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123', {zone: 'utc'})\n   * @example DateTime.fromISO('2016-W05-4')\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.fromISO = function fromISO(text, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var _parseISODate = parseISODate(text),\n        vals = _parseISODate[0],\n        parsedZone = _parseISODate[1];\n\n    return parseDataToDateTime(vals, parsedZone, opts, \"ISO 8601\", text);\n  }\n  /**\n   * Create a DateTime from an RFC 2822 string\n   * @param {string} text - the RFC 2822 string\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - convert the time to this zone. Since the offset is always specified in the string itself, this has no effect on the interpretation of string, merely the zone the resulting DateTime is expressed in.\n   * @param {boolean} [opts.setZone=false] - override the zone with a fixed-offset zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromRFC2822('25 Nov 2016 13:23:12 GMT')\n   * @example DateTime.fromRFC2822('Fri, 25 Nov 2016 13:23:12 +0600')\n   * @example DateTime.fromRFC2822('25 Nov 2016 13:23 Z')\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.fromRFC2822 = function fromRFC2822(text, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var _parseRFC2822Date = parseRFC2822Date(text),\n        vals = _parseRFC2822Date[0],\n        parsedZone = _parseRFC2822Date[1];\n\n    return parseDataToDateTime(vals, parsedZone, opts, \"RFC 2822\", text);\n  }\n  /**\n   * Create a DateTime from an HTTP header date\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\n   * @param {string} text - the HTTP header date\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - convert the time to this zone. Since HTTP dates are always in UTC, this has no effect on the interpretation of string, merely the zone the resulting DateTime is expressed in.\n   * @param {boolean} [opts.setZone=false] - override the zone with the fixed-offset zone specified in the string. For HTTP dates, this is always UTC, so this option is equivalent to setting the `zone` option to 'utc', but this option is included for consistency with similar methods.\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromHTTP('Sun, 06 Nov 1994 08:49:37 GMT')\n   * @example DateTime.fromHTTP('Sunday, 06-Nov-94 08:49:37 GMT')\n   * @example DateTime.fromHTTP('Sun Nov  6 08:49:37 1994')\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.fromHTTP = function fromHTTP(text, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var _parseHTTPDate = parseHTTPDate(text),\n        vals = _parseHTTPDate[0],\n        parsedZone = _parseHTTPDate[1];\n\n    return parseDataToDateTime(vals, parsedZone, opts, \"HTTP\", opts);\n  }\n  /**\n   * Create a DateTime from an input string and format string.\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale.\n   * @see https://moment.github.io/luxon/docs/manual/parsing.html#table-of-tokens\n   * @param {string} text - the string to parse\n   * @param {string} fmt - the format the string is expected to be in (see the link below for the formats)\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the DateTime to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='en-US'] - a locale string to use when parsing. Will also set the DateTime to this locale\n   * @param {string} opts.numberingSystem - the numbering system to use when parsing. Will also set the resulting DateTime to this numbering system\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.fromFormat = function fromFormat(text, fmt, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    if (isUndefined(text) || isUndefined(fmt)) {\n      throw new InvalidArgumentError(\"fromFormat requires an input string and a format\");\n    }\n\n    var _opts = opts,\n        _opts$locale = _opts.locale,\n        locale = _opts$locale === void 0 ? null : _opts$locale,\n        _opts$numberingSystem = _opts.numberingSystem,\n        numberingSystem = _opts$numberingSystem === void 0 ? null : _opts$numberingSystem,\n        localeToUse = Locale.fromOpts({\n      locale: locale,\n      numberingSystem: numberingSystem,\n      defaultToEN: true\n    }),\n        _parseFromTokens = parseFromTokens(localeToUse, text, fmt),\n        vals = _parseFromTokens[0],\n        parsedZone = _parseFromTokens[1],\n        invalid = _parseFromTokens[2];\n\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    } else {\n      return parseDataToDateTime(vals, parsedZone, opts, \"format \" + fmt, text);\n    }\n  }\n  /**\n   * @deprecated use fromFormat instead\n   */\n  ;\n\n  DateTime.fromString = function fromString(text, fmt, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    return DateTime.fromFormat(text, fmt, opts);\n  }\n  /**\n   * Create a DateTime from a SQL date, time, or datetime\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale\n   * @param {string} text - the string to parse\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the DateTime to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='en-US'] - a locale string to use when parsing. Will also set the DateTime to this locale\n   * @param {string} opts.numberingSystem - the numbering system to use when parsing. Will also set the resulting DateTime to this numbering system\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @example DateTime.fromSQL('2017-05-15')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342+06:00')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342 America/Los_Angeles')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342 America/Los_Angeles', { setZone: true })\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342', { zone: 'America/Los_Angeles' })\n   * @example DateTime.fromSQL('09:12:34.342')\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.fromSQL = function fromSQL(text, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var _parseSQL = parseSQL(text),\n        vals = _parseSQL[0],\n        parsedZone = _parseSQL[1];\n\n    return parseDataToDateTime(vals, parsedZone, opts, \"SQL\", text);\n  }\n  /**\n   * Create an invalid DateTime.\n   * @param {string} reason - simple string of why this DateTime is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {DateTime}\n   */\n  ;\n\n  DateTime.invalid = function invalid(reason, explanation) {\n    if (explanation === void 0) {\n      explanation = null;\n    }\n\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the DateTime is invalid\");\n    }\n\n    var invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidDateTimeError(invalid);\n    } else {\n      return new DateTime({\n        invalid: invalid\n      });\n    }\n  }\n  /**\n   * Check if an object is a DateTime. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  ;\n\n  DateTime.isDateTime = function isDateTime(o) {\n    return o && o.isLuxonDateTime || false;\n  } // INFO\n\n  /**\n   * Get the value of unit.\n   * @param {string} unit - a unit such as 'minute' or 'day'\n   * @example DateTime.local(2017, 7, 4).get('month'); //=> 7\n   * @example DateTime.local(2017, 7, 4).get('day'); //=> 4\n   * @return {number}\n   */\n  ;\n\n  var _proto = DateTime.prototype;\n\n  _proto.get = function get(unit) {\n    return this[unit];\n  }\n  /**\n   * Returns whether the DateTime is valid. Invalid DateTimes occur when:\n   * * The DateTime was created from invalid calendar information, such as the 13th month or February 30\n   * * The DateTime was created by an operation on another invalid date\n   * @type {boolean}\n   */\n  ;\n\n  /**\n   * Returns the resolved Intl options for this DateTime.\n   * This is useful in understanding the behavior of formatting methods\n   * @param {Object} opts - the same options as toLocaleString\n   * @return {Object}\n   */\n  _proto.resolvedLocaleOpts = function resolvedLocaleOpts(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var _Formatter$create$res = Formatter.create(this.loc.clone(opts), opts).resolvedOptions(this),\n        locale = _Formatter$create$res.locale,\n        numberingSystem = _Formatter$create$res.numberingSystem,\n        calendar = _Formatter$create$res.calendar;\n\n    return {\n      locale: locale,\n      numberingSystem: numberingSystem,\n      outputCalendar: calendar\n    };\n  } // TRANSFORM\n\n  /**\n   * \"Set\" the DateTime's zone to UTC. Returns a newly-constructed DateTime.\n   *\n   * Equivalent to {@link setZone}('utc')\n   * @param {number} [offset=0] - optionally, an offset from UTC in minutes\n   * @param {Object} [opts={}] - options to pass to `setZone()`\n   * @return {DateTime}\n   */\n  ;\n\n  _proto.toUTC = function toUTC(offset, opts) {\n    if (offset === void 0) {\n      offset = 0;\n    }\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    return this.setZone(FixedOffsetZone.instance(offset), opts);\n  }\n  /**\n   * \"Set\" the DateTime's zone to the host's local zone. Returns a newly-constructed DateTime.\n   *\n   * Equivalent to `setZone('local')`\n   * @return {DateTime}\n   */\n  ;\n\n  _proto.toLocal = function toLocal() {\n    return this.setZone(Settings.defaultZone);\n  }\n  /**\n   * \"Set\" the DateTime's zone to specified zone. Returns a newly-constructed DateTime.\n   *\n   * By default, the setter keeps the underlying time the same (as in, the same timestamp), but the new instance will report different local times and consider DSTs when making computations, as with {@link plus}. You may wish to use {@link toLocal} and {@link toUTC} which provide simple convenience wrappers for commonly used zones.\n   * @param {string|Zone} [zone='local'] - a zone identifier. As a string, that can be any IANA zone supported by the host environment, or a fixed-offset name of the form 'UTC+3', or the strings 'local' or 'utc'. You may also supply an instance of a {@link Zone} class.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.keepLocalTime=false] - If true, adjust the underlying time so that the local time stays the same, but in the target zone. You should rarely need this.\n   * @return {DateTime}\n   */\n  ;\n\n  _proto.setZone = function setZone(zone, _temp) {\n    var _ref3 = _temp === void 0 ? {} : _temp,\n        _ref3$keepLocalTime = _ref3.keepLocalTime,\n        keepLocalTime = _ref3$keepLocalTime === void 0 ? false : _ref3$keepLocalTime,\n        _ref3$keepCalendarTim = _ref3.keepCalendarTime,\n        keepCalendarTime = _ref3$keepCalendarTim === void 0 ? false : _ref3$keepCalendarTim;\n\n    zone = normalizeZone(zone, Settings.defaultZone);\n\n    if (zone.equals(this.zone)) {\n      return this;\n    } else if (!zone.isValid) {\n      return DateTime.invalid(unsupportedZone(zone));\n    } else {\n      var newTS = this.ts;\n\n      if (keepLocalTime || keepCalendarTime) {\n        var offsetGuess = zone.offset(this.ts);\n        var asObj = this.toObject();\n\n        var _objToTS3 = objToTS(asObj, offsetGuess, zone);\n\n        newTS = _objToTS3[0];\n      }\n\n      return clone$1(this, {\n        ts: newTS,\n        zone: zone\n      });\n    }\n  }\n  /**\n   * \"Set\" the locale, numberingSystem, or outputCalendar. Returns a newly-constructed DateTime.\n   * @param {Object} properties - the properties to set\n   * @example DateTime.local(2017, 5, 25).reconfigure({ locale: 'en-GB' })\n   * @return {DateTime}\n   */\n  ;\n\n  _proto.reconfigure = function reconfigure(_temp2) {\n    var _ref4 = _temp2 === void 0 ? {} : _temp2,\n        locale = _ref4.locale,\n        numberingSystem = _ref4.numberingSystem,\n        outputCalendar = _ref4.outputCalendar;\n\n    var loc = this.loc.clone({\n      locale: locale,\n      numberingSystem: numberingSystem,\n      outputCalendar: outputCalendar\n    });\n    return clone$1(this, {\n      loc: loc\n    });\n  }\n  /**\n   * \"Set\" the locale. Returns a newly-constructed DateTime.\n   * Just a convenient alias for reconfigure({ locale })\n   * @example DateTime.local(2017, 5, 25).setLocale('en-GB')\n   * @return {DateTime}\n   */\n  ;\n\n  _proto.setLocale = function setLocale(locale) {\n    return this.reconfigure({\n      locale: locale\n    });\n  }\n  /**\n   * \"Set\" the values of specified units. Returns a newly-constructed DateTime.\n   * You can only set units with this method; for \"setting\" metadata, see {@link reconfigure} and {@link setZone}.\n   * @param {Object} values - a mapping of units to numbers\n   * @example dt.set({ year: 2017 })\n   * @example dt.set({ hour: 8, minute: 30 })\n   * @example dt.set({ weekday: 5 })\n   * @example dt.set({ year: 2005, ordinal: 234 })\n   * @return {DateTime}\n   */\n  ;\n\n  _proto.set = function set(values) {\n    if (!this.isValid) return this;\n    var normalized = normalizeObject(values, normalizeUnit, []),\n        settingWeekStuff = !isUndefined(normalized.weekYear) || !isUndefined(normalized.weekNumber) || !isUndefined(normalized.weekday),\n        containsOrdinal = !isUndefined(normalized.ordinal),\n        containsGregorYear = !isUndefined(normalized.year),\n        containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day),\n        containsGregor = containsGregorYear || containsGregorMD,\n        definiteWeekDef = normalized.weekYear || normalized.weekNumber;\n\n    if ((containsGregor || containsOrdinal) && definiteWeekDef) {\n      throw new ConflictingSpecificationError(\"Can't mix weekYear/weekNumber units with year/month/day or ordinals\");\n    }\n\n    if (containsGregorMD && containsOrdinal) {\n      throw new ConflictingSpecificationError(\"Can't mix ordinal dates with month/day\");\n    }\n\n    var mixed;\n\n    if (settingWeekStuff) {\n      mixed = weekToGregorian(Object.assign(gregorianToWeek(this.c), normalized));\n    } else if (!isUndefined(normalized.ordinal)) {\n      mixed = ordinalToGregorian(Object.assign(gregorianToOrdinal(this.c), normalized));\n    } else {\n      mixed = Object.assign(this.toObject(), normalized); // if we didn't set the day but we ended up on an overflow date,\n      // use the last day of the right month\n\n      if (isUndefined(normalized.day)) {\n        mixed.day = Math.min(daysInMonth(mixed.year, mixed.month), mixed.day);\n      }\n    }\n\n    var _objToTS4 = objToTS(mixed, this.o, this.zone),\n        ts = _objToTS4[0],\n        o = _objToTS4[1];\n\n    return clone$1(this, {\n      ts: ts,\n      o: o\n    });\n  }\n  /**\n   * Add a period of time to this DateTime and return the resulting DateTime\n   *\n   * Adding hours, minutes, seconds, or milliseconds increases the timestamp by the right number of milliseconds. Adding days, months, or years shifts the calendar, accounting for DSTs and leap years along the way. Thus, `dt.plus({ hours: 24 })` may result in a different time than `dt.plus({ days: 1 })` if there's a DST shift in between.\n   * @param {Duration|Object|number} duration - The amount to add. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @example DateTime.now().plus(123) //~> in 123 milliseconds\n   * @example DateTime.now().plus({ minutes: 15 }) //~> in 15 minutes\n   * @example DateTime.now().plus({ days: 1 }) //~> this time tomorrow\n   * @example DateTime.now().plus({ days: -1 }) //~> this time yesterday\n   * @example DateTime.now().plus({ hours: 3, minutes: 13 }) //~> in 3 hr, 13 min\n   * @example DateTime.now().plus(Duration.fromObject({ hours: 3, minutes: 13 })) //~> in 3 hr, 13 min\n   * @return {DateTime}\n   */\n  ;\n\n  _proto.plus = function plus(duration) {\n    if (!this.isValid) return this;\n    var dur = friendlyDuration(duration);\n    return clone$1(this, adjustTime(this, dur));\n  }\n  /**\n   * Subtract a period of time to this DateTime and return the resulting DateTime\n   * See {@link plus}\n   * @param {Duration|Object|number} duration - The amount to subtract. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   @return {DateTime}\n  */\n  ;\n\n  _proto.minus = function minus(duration) {\n    if (!this.isValid) return this;\n    var dur = friendlyDuration(duration).negate();\n    return clone$1(this, adjustTime(this, dur));\n  }\n  /**\n   * \"Set\" this DateTime to the beginning of a unit of time.\n   * @param {string} unit - The unit to go to the beginning of. Can be 'year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', or 'millisecond'.\n   * @example DateTime.local(2014, 3, 3).startOf('month').toISODate(); //=> '2014-03-01'\n   * @example DateTime.local(2014, 3, 3).startOf('year').toISODate(); //=> '2014-01-01'\n   * @example DateTime.local(2014, 3, 3).startOf('week').toISODate(); //=> '2014-03-03', weeks always start on Mondays\n   * @example DateTime.local(2014, 3, 3, 5, 30).startOf('day').toISOTime(); //=> '00:00.000-05:00'\n   * @example DateTime.local(2014, 3, 3, 5, 30).startOf('hour').toISOTime(); //=> '05:00:00.000-05:00'\n   * @return {DateTime}\n   */\n  ;\n\n  _proto.startOf = function startOf(unit) {\n    if (!this.isValid) return this;\n    var o = {},\n        normalizedUnit = Duration.normalizeUnit(unit);\n\n    switch (normalizedUnit) {\n      case \"years\":\n        o.month = 1;\n      // falls through\n\n      case \"quarters\":\n      case \"months\":\n        o.day = 1;\n      // falls through\n\n      case \"weeks\":\n      case \"days\":\n        o.hour = 0;\n      // falls through\n\n      case \"hours\":\n        o.minute = 0;\n      // falls through\n\n      case \"minutes\":\n        o.second = 0;\n      // falls through\n\n      case \"seconds\":\n        o.millisecond = 0;\n        break;\n      // no default, invalid units throw in normalizeUnit()\n    }\n\n    if (normalizedUnit === \"weeks\") {\n      o.weekday = 1;\n    }\n\n    if (normalizedUnit === \"quarters\") {\n      var q = Math.ceil(this.month / 3);\n      o.month = (q - 1) * 3 + 1;\n    }\n\n    return this.set(o);\n  }\n  /**\n   * \"Set\" this DateTime to the end (meaning the last millisecond) of a unit of time\n   * @param {string} unit - The unit to go to the end of. Can be 'year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', or 'millisecond'.\n   * @example DateTime.local(2014, 3, 3).endOf('month').toISO(); //=> '2014-03-31T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3).endOf('year').toISO(); //=> '2014-12-31T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3).endOf('week').toISO(); // => '2014-03-09T23:59:59.999-05:00', weeks start on Mondays\n   * @example DateTime.local(2014, 3, 3, 5, 30).endOf('day').toISO(); //=> '2014-03-03T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3, 5, 30).endOf('hour').toISO(); //=> '2014-03-03T05:59:59.999-05:00'\n   * @return {DateTime}\n   */\n  ;\n\n  _proto.endOf = function endOf(unit) {\n    var _this$plus;\n\n    return this.isValid ? this.plus((_this$plus = {}, _this$plus[unit] = 1, _this$plus)).startOf(unit).minus(1) : this;\n  } // OUTPUT\n\n  /**\n   * Returns a string representation of this DateTime formatted according to the specified format string.\n   * **You may not want this.** See {@link toLocaleString} for a more flexible formatting tool. For a table of tokens and their interpretations, see [here](https://moment.github.io/luxon/docs/manual/formatting.html#table-of-tokens).\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale.\n   * @see https://moment.github.io/luxon/docs/manual/formatting.html#table-of-tokens\n   * @param {string} fmt - the format string\n   * @param {Object} opts - opts to override the configuration options\n   * @example DateTime.now().toFormat('yyyy LLL dd') //=> '2017 Apr 22'\n   * @example DateTime.now().setLocale('fr').toFormat('yyyy LLL dd') //=> '2017 avr. 22'\n   * @example DateTime.now().toFormat('yyyy LLL dd', { locale: \"fr\" }) //=> '2017 avr. 22'\n   * @example DateTime.now().toFormat(\"HH 'hours and' mm 'minutes'\") //=> '20 hours and 55 minutes'\n   * @return {string}\n   */\n  ;\n\n  _proto.toFormat = function toFormat(fmt, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    return this.isValid ? Formatter.create(this.loc.redefaultToEN(opts)).formatDateTimeFromString(this, fmt) : INVALID$2;\n  }\n  /**\n   * Returns a localized string representing this date. Accepts the same options as the Intl.DateTimeFormat constructor and any presets defined by Luxon, such as `DateTime.DATE_FULL` or `DateTime.TIME_SIMPLE`.\n   * The exact behavior of this method is browser-specific, but in general it will return an appropriate representation\n   * of the DateTime in the assigned locale.\n   * Defaults to the system's locale if no locale has been specified\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param opts {Object} - Intl.DateTimeFormat constructor options and configuration options\n   * @example DateTime.now().toLocaleString(); //=> 4/20/2017\n   * @example DateTime.now().setLocale('en-gb').toLocaleString(); //=> '20/04/2017'\n   * @example DateTime.now().toLocaleString({ locale: 'en-gb' }); //=> '20/04/2017'\n   * @example DateTime.now().toLocaleString(DateTime.DATE_FULL); //=> 'April 20, 2017'\n   * @example DateTime.now().toLocaleString(DateTime.TIME_SIMPLE); //=> '11:32 AM'\n   * @example DateTime.now().toLocaleString(DateTime.DATETIME_SHORT); //=> '4/20/2017, 11:32 AM'\n   * @example DateTime.now().toLocaleString({ weekday: 'long', month: 'long', day: '2-digit' }); //=> 'Thursday, April 20'\n   * @example DateTime.now().toLocaleString({ weekday: 'short', month: 'short', day: '2-digit', hour: '2-digit', minute: '2-digit' }); //=> 'Thu, Apr 20, 11:27 AM'\n   * @example DateTime.now().toLocaleString({ hour: '2-digit', minute: '2-digit', hour12: false }); //=> '11:32'\n   * @return {string}\n   */\n  ;\n\n  _proto.toLocaleString = function toLocaleString(opts) {\n    if (opts === void 0) {\n      opts = DATE_SHORT;\n    }\n\n    return this.isValid ? Formatter.create(this.loc.clone(opts), opts).formatDateTime(this) : INVALID$2;\n  }\n  /**\n   * Returns an array of format \"parts\", meaning individual tokens along with metadata. This is allows callers to post-process individual sections of the formatted output.\n   * Defaults to the system's locale if no locale has been specified\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat/formatToParts\n   * @param opts {Object} - Intl.DateTimeFormat constructor options, same as `toLocaleString`.\n   * @example DateTime.now().toLocaleParts(); //=> [\n   *                                   //=>   { type: 'day', value: '25' },\n   *                                   //=>   { type: 'literal', value: '/' },\n   *                                   //=>   { type: 'month', value: '05' },\n   *                                   //=>   { type: 'literal', value: '/' },\n   *                                   //=>   { type: 'year', value: '1982' }\n   *                                   //=> ]\n   */\n  ;\n\n  _proto.toLocaleParts = function toLocaleParts(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    return this.isValid ? Formatter.create(this.loc.clone(opts), opts).formatDateTimeParts(this) : [];\n  }\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc(1982, 5, 25).toISO() //=> '1982-05-25T00:00:00.000Z'\n   * @example DateTime.now().toISO() //=> '2017-04-22T20:47:05.335-04:00'\n   * @example DateTime.now().toISO({ includeOffset: false }) //=> '2017-04-22T20:47:05.335'\n   * @example DateTime.now().toISO({ format: 'basic' }) //=> '20170422T204705.335-0400'\n   * @return {string}\n   */\n  ;\n\n  _proto.toISO = function toISO(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    if (!this.isValid) {\n      return null;\n    }\n\n    return this.toISODate(opts) + \"T\" + this.toISOTime(opts);\n  }\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's date component\n   * @param {Object} opts - options\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc(1982, 5, 25).toISODate() //=> '1982-05-25'\n   * @example DateTime.utc(1982, 5, 25).toISODate({ format: 'basic' }) //=> '19820525'\n   * @return {string}\n   */\n  ;\n\n  _proto.toISODate = function toISODate(_temp3) {\n    var _ref5 = _temp3 === void 0 ? {} : _temp3,\n        _ref5$format = _ref5.format,\n        format = _ref5$format === void 0 ? \"extended\" : _ref5$format;\n\n    var fmt = format === \"basic\" ? \"yyyyMMdd\" : \"yyyy-MM-dd\";\n\n    if (this.year > 9999) {\n      fmt = \"+\" + fmt;\n    }\n\n    return toTechFormat(this, fmt);\n  }\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's week date\n   * @example DateTime.utc(1982, 5, 25).toISOWeekDate() //=> '1982-W21-2'\n   * @return {string}\n   */\n  ;\n\n  _proto.toISOWeekDate = function toISOWeekDate() {\n    return toTechFormat(this, \"kkkk-'W'WW-c\");\n  }\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's time component\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.includePrefix=false] - include the `T` prefix\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime() //=> '07:34:19.361Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34, seconds: 0, milliseconds: 0 }).toISOTime({ suppressSeconds: true }) //=> '07:34Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime({ format: 'basic' }) //=> '073419.361Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime({ includePrefix: true }) //=> 'T07:34:19.361Z'\n   * @return {string}\n   */\n  ;\n\n  _proto.toISOTime = function toISOTime(_temp4) {\n    var _ref6 = _temp4 === void 0 ? {} : _temp4,\n        _ref6$suppressMillise = _ref6.suppressMilliseconds,\n        suppressMilliseconds = _ref6$suppressMillise === void 0 ? false : _ref6$suppressMillise,\n        _ref6$suppressSeconds = _ref6.suppressSeconds,\n        suppressSeconds = _ref6$suppressSeconds === void 0 ? false : _ref6$suppressSeconds,\n        _ref6$includeOffset = _ref6.includeOffset,\n        includeOffset = _ref6$includeOffset === void 0 ? true : _ref6$includeOffset,\n        _ref6$includePrefix = _ref6.includePrefix,\n        includePrefix = _ref6$includePrefix === void 0 ? false : _ref6$includePrefix,\n        _ref6$format = _ref6.format,\n        format = _ref6$format === void 0 ? \"extended\" : _ref6$format;\n\n    return toTechTimeFormat(this, {\n      suppressSeconds: suppressSeconds,\n      suppressMilliseconds: suppressMilliseconds,\n      includeOffset: includeOffset,\n      includePrefix: includePrefix,\n      format: format\n    });\n  }\n  /**\n   * Returns an RFC 2822-compatible string representation of this DateTime, always in UTC\n   * @example DateTime.utc(2014, 7, 13).toRFC2822() //=> 'Sun, 13 Jul 2014 00:00:00 +0000'\n   * @example DateTime.local(2014, 7, 13).toRFC2822() //=> 'Sun, 13 Jul 2014 00:00:00 -0400'\n   * @return {string}\n   */\n  ;\n\n  _proto.toRFC2822 = function toRFC2822() {\n    return toTechFormat(this, \"EEE, dd LLL yyyy HH:mm:ss ZZZ\", false);\n  }\n  /**\n   * Returns a string representation of this DateTime appropriate for use in HTTP headers.\n   * Specifically, the string conforms to RFC 1123.\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\n   * @example DateTime.utc(2014, 7, 13).toHTTP() //=> 'Sun, 13 Jul 2014 00:00:00 GMT'\n   * @example DateTime.utc(2014, 7, 13, 19).toHTTP() //=> 'Sun, 13 Jul 2014 19:00:00 GMT'\n   * @return {string}\n   */\n  ;\n\n  _proto.toHTTP = function toHTTP() {\n    return toTechFormat(this.toUTC(), \"EEE, dd LLL yyyy HH:mm:ss 'GMT'\");\n  }\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL Date\n   * @example DateTime.utc(2014, 7, 13).toSQLDate() //=> '2014-07-13'\n   * @return {string}\n   */\n  ;\n\n  _proto.toSQLDate = function toSQLDate() {\n    return toTechFormat(this, \"yyyy-MM-dd\");\n  }\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL Time\n   * @param {Object} opts - options\n   * @param {boolean} [opts.includeZone=false] - include the zone, such as 'America/New_York'. Overrides includeOffset.\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @example DateTime.utc().toSQL() //=> '05:15:16.345'\n   * @example DateTime.now().toSQL() //=> '05:15:16.345 -04:00'\n   * @example DateTime.now().toSQL({ includeOffset: false }) //=> '05:15:16.345'\n   * @example DateTime.now().toSQL({ includeZone: false }) //=> '05:15:16.345 America/New_York'\n   * @return {string}\n   */\n  ;\n\n  _proto.toSQLTime = function toSQLTime(_temp5) {\n    var _ref7 = _temp5 === void 0 ? {} : _temp5,\n        _ref7$includeOffset = _ref7.includeOffset,\n        includeOffset = _ref7$includeOffset === void 0 ? true : _ref7$includeOffset,\n        _ref7$includeZone = _ref7.includeZone,\n        includeZone = _ref7$includeZone === void 0 ? false : _ref7$includeZone;\n\n    return toTechTimeFormat(this, {\n      includeOffset: includeOffset,\n      includeZone: includeZone,\n      spaceZone: true\n    });\n  }\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL DateTime\n   * @param {Object} opts - options\n   * @param {boolean} [opts.includeZone=false] - include the zone, such as 'America/New_York'. Overrides includeOffset.\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @example DateTime.utc(2014, 7, 13).toSQL() //=> '2014-07-13 00:00:00.000 Z'\n   * @example DateTime.local(2014, 7, 13).toSQL() //=> '2014-07-13 00:00:00.000 -04:00'\n   * @example DateTime.local(2014, 7, 13).toSQL({ includeOffset: false }) //=> '2014-07-13 00:00:00.000'\n   * @example DateTime.local(2014, 7, 13).toSQL({ includeZone: true }) //=> '2014-07-13 00:00:00.000 America/New_York'\n   * @return {string}\n   */\n  ;\n\n  _proto.toSQL = function toSQL(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    if (!this.isValid) {\n      return null;\n    }\n\n    return this.toSQLDate() + \" \" + this.toSQLTime(opts);\n  }\n  /**\n   * Returns a string representation of this DateTime appropriate for debugging\n   * @return {string}\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return this.isValid ? this.toISO() : INVALID$2;\n  }\n  /**\n   * Returns the epoch milliseconds of this DateTime. Alias of {@link toMillis}\n   * @return {number}\n   */\n  ;\n\n  _proto.valueOf = function valueOf() {\n    return this.toMillis();\n  }\n  /**\n   * Returns the epoch milliseconds of this DateTime.\n   * @return {number}\n   */\n  ;\n\n  _proto.toMillis = function toMillis() {\n    return this.isValid ? this.ts : NaN;\n  }\n  /**\n   * Returns the epoch seconds of this DateTime.\n   * @return {number}\n   */\n  ;\n\n  _proto.toSeconds = function toSeconds() {\n    return this.isValid ? this.ts / 1000 : NaN;\n  }\n  /**\n   * Returns an ISO 8601 representation of this DateTime appropriate for use in JSON.\n   * @return {string}\n   */\n  ;\n\n  _proto.toJSON = function toJSON() {\n    return this.toISO();\n  }\n  /**\n   * Returns a BSON serializable equivalent to this DateTime.\n   * @return {Date}\n   */\n  ;\n\n  _proto.toBSON = function toBSON() {\n    return this.toJSDate();\n  }\n  /**\n   * Returns a JavaScript object with this DateTime's year, month, day, and so on.\n   * @param opts - options for generating the object\n   * @param {boolean} [opts.includeConfig=false] - include configuration attributes in the output\n   * @example DateTime.now().toObject() //=> { year: 2017, month: 4, day: 22, hour: 20, minute: 49, second: 42, millisecond: 268 }\n   * @return {Object}\n   */\n  ;\n\n  _proto.toObject = function toObject(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    if (!this.isValid) return {};\n    var base = Object.assign({}, this.c);\n\n    if (opts.includeConfig) {\n      base.outputCalendar = this.outputCalendar;\n      base.numberingSystem = this.loc.numberingSystem;\n      base.locale = this.loc.locale;\n    }\n\n    return base;\n  }\n  /**\n   * Returns a JavaScript Date equivalent to this DateTime.\n   * @return {Date}\n   */\n  ;\n\n  _proto.toJSDate = function toJSDate() {\n    return new Date(this.isValid ? this.ts : NaN);\n  } // COMPARE\n\n  /**\n   * Return the difference between two DateTimes as a Duration.\n   * @param {DateTime} otherDateTime - the DateTime to compare this one to\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or array of units (such as 'hours' or 'days') to include in the duration.\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @example\n   * var i1 = DateTime.fromISO('1982-05-25T09:45'),\n   *     i2 = DateTime.fromISO('1983-10-14T10:30');\n   * i2.diff(i1).toObject() //=> { milliseconds: 43807500000 }\n   * i2.diff(i1, 'hours').toObject() //=> { hours: 12168.75 }\n   * i2.diff(i1, ['months', 'days']).toObject() //=> { months: 16, days: 19.03125 }\n   * i2.diff(i1, ['months', 'days', 'hours']).toObject() //=> { months: 16, days: 19, hours: 0.75 }\n   * @return {Duration}\n   */\n  ;\n\n  _proto.diff = function diff(otherDateTime, unit, opts) {\n    if (unit === void 0) {\n      unit = \"milliseconds\";\n    }\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    if (!this.isValid || !otherDateTime.isValid) {\n      return Duration.invalid(this.invalid || otherDateTime.invalid, \"created by diffing an invalid DateTime\");\n    }\n\n    var durOpts = Object.assign({\n      locale: this.locale,\n      numberingSystem: this.numberingSystem\n    }, opts);\n\n    var units = maybeArray(unit).map(Duration.normalizeUnit),\n        otherIsLater = otherDateTime.valueOf() > this.valueOf(),\n        earlier = otherIsLater ? this : otherDateTime,\n        later = otherIsLater ? otherDateTime : this,\n        diffed = _diff(earlier, later, units, durOpts);\n\n    return otherIsLater ? diffed.negate() : diffed;\n  }\n  /**\n   * Return the difference between this DateTime and right now.\n   * See {@link diff}\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or units units (such as 'hours' or 'days') to include in the duration\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  ;\n\n  _proto.diffNow = function diffNow(unit, opts) {\n    if (unit === void 0) {\n      unit = \"milliseconds\";\n    }\n\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    return this.diff(DateTime.now(), unit, opts);\n  }\n  /**\n   * Return an Interval spanning between this DateTime and another DateTime\n   * @param {DateTime} otherDateTime - the other end point of the Interval\n   * @return {Interval}\n   */\n  ;\n\n  _proto.until = function until(otherDateTime) {\n    return this.isValid ? Interval.fromDateTimes(this, otherDateTime) : this;\n  }\n  /**\n   * Return whether this DateTime is in the same unit of time as another DateTime.\n   * Higher-order units must also be identical for this function to return `true`.\n   * Note that time zones are **ignored** in this comparison, which compares the **local** calendar time. Use {@link setZone} to convert one of the dates if needed.\n   * @param {DateTime} otherDateTime - the other DateTime\n   * @param {string} unit - the unit of time to check sameness on\n   * @example DateTime.now().hasSame(otherDT, 'day'); //~> true if otherDT is in the same current calendar day\n   * @return {boolean}\n   */\n  ;\n\n  _proto.hasSame = function hasSame(otherDateTime, unit) {\n    if (!this.isValid) return false;\n    var inputMs = otherDateTime.valueOf();\n    var otherZoneDateTime = this.setZone(otherDateTime.zone, {\n      keepLocalTime: true\n    });\n    return otherZoneDateTime.startOf(unit) <= inputMs && inputMs <= otherZoneDateTime.endOf(unit);\n  }\n  /**\n   * Equality check\n   * Two DateTimes are equal iff they represent the same millisecond, have the same zone and location, and are both valid.\n   * To compare just the millisecond values, use `+dt1 === +dt2`.\n   * @param {DateTime} other - the other DateTime\n   * @return {boolean}\n   */\n  ;\n\n  _proto.equals = function equals(other) {\n    return this.isValid && other.isValid && this.valueOf() === other.valueOf() && this.zone.equals(other.zone) && this.loc.equals(other.loc);\n  }\n  /**\n   * Returns a string representation of a this time relative to now, such as \"in two days\". Can only internationalize if your\n   * platform supports Intl.RelativeTimeFormat. Rounds down by default.\n   * @param {Object} options - options that affect the output\n   * @param {DateTime} [options.base=DateTime.now()] - the DateTime to use as the basis to which this time is compared. Defaults to now.\n   * @param {string} [options.style=\"long\"] - the style of units, must be \"long\", \"short\", or \"narrow\"\n   * @param {string|string[]} options.unit - use a specific unit or array of units; if omitted, or an array, the method will pick the best unit. Use an array or one of \"years\", \"quarters\", \"months\", \"weeks\", \"days\", \"hours\", \"minutes\", or \"seconds\"\n   * @param {boolean} [options.round=true] - whether to round the numbers in the output.\n   * @param {number} [options.padding=0] - padding in milliseconds. This allows you to round up the result if it fits inside the threshold. Don't use in combination with {round: false} because the decimal output will include the padding.\n   * @param {string} options.locale - override the locale of this DateTime\n   * @param {string} options.numberingSystem - override the numberingSystem of this DateTime. The Intl system may choose not to honor this\n   * @example DateTime.now().plus({ days: 1 }).toRelative() //=> \"in 1 day\"\n   * @example DateTime.now().setLocale(\"es\").toRelative({ days: 1 }) //=> \"dentro de 1 día\"\n   * @example DateTime.now().plus({ days: 1 }).toRelative({ locale: \"fr\" }) //=> \"dans 23 heures\"\n   * @example DateTime.now().minus({ days: 2 }).toRelative() //=> \"2 days ago\"\n   * @example DateTime.now().minus({ days: 2 }).toRelative({ unit: \"hours\" }) //=> \"48 hours ago\"\n   * @example DateTime.now().minus({ hours: 36 }).toRelative({ round: false }) //=> \"1.5 days ago\"\n   */\n  ;\n\n  _proto.toRelative = function toRelative(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (!this.isValid) return null;\n    var base = options.base || DateTime.fromObject({\n      zone: this.zone\n    }),\n        padding = options.padding ? this < base ? -options.padding : options.padding : 0;\n    var units = [\"years\", \"months\", \"days\", \"hours\", \"minutes\", \"seconds\"];\n    var unit = options.unit;\n\n    if (Array.isArray(options.unit)) {\n      units = options.unit;\n      unit = undefined;\n    }\n\n    return diffRelative(base, this.plus(padding), Object.assign(options, {\n      numeric: \"always\",\n      units: units,\n      unit: unit\n    }));\n  }\n  /**\n   * Returns a string representation of this date relative to today, such as \"yesterday\" or \"next month\".\n   * Only internationalizes on platforms that supports Intl.RelativeTimeFormat.\n   * @param {Object} options - options that affect the output\n   * @param {DateTime} [options.base=DateTime.now()] - the DateTime to use as the basis to which this time is compared. Defaults to now.\n   * @param {string} options.locale - override the locale of this DateTime\n   * @param {string} options.unit - use a specific unit; if omitted, the method will pick the unit. Use one of \"years\", \"quarters\", \"months\", \"weeks\", or \"days\"\n   * @param {string} options.numberingSystem - override the numberingSystem of this DateTime. The Intl system may choose not to honor this\n   * @example DateTime.now().plus({ days: 1 }).toRelativeCalendar() //=> \"tomorrow\"\n   * @example DateTime.now().setLocale(\"es\").plus({ days: 1 }).toRelative() //=> \"\"mañana\"\n   * @example DateTime.now().plus({ days: 1 }).toRelativeCalendar({ locale: \"fr\" }) //=> \"demain\"\n   * @example DateTime.now().minus({ days: 2 }).toRelativeCalendar() //=> \"2 days ago\"\n   */\n  ;\n\n  _proto.toRelativeCalendar = function toRelativeCalendar(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (!this.isValid) return null;\n    return diffRelative(options.base || DateTime.fromObject({\n      zone: this.zone\n    }), this, Object.assign(options, {\n      numeric: \"auto\",\n      units: [\"years\", \"months\", \"days\"],\n      calendary: true\n    }));\n  }\n  /**\n   * Return the min of several date times\n   * @param {...DateTime} dateTimes - the DateTimes from which to choose the minimum\n   * @return {DateTime} the min DateTime, or undefined if called with no argument\n   */\n  ;\n\n  DateTime.min = function min() {\n    for (var _len = arguments.length, dateTimes = new Array(_len), _key = 0; _key < _len; _key++) {\n      dateTimes[_key] = arguments[_key];\n    }\n\n    if (!dateTimes.every(DateTime.isDateTime)) {\n      throw new InvalidArgumentError(\"min requires all arguments be DateTimes\");\n    }\n\n    return bestBy(dateTimes, function (i) {\n      return i.valueOf();\n    }, Math.min);\n  }\n  /**\n   * Return the max of several date times\n   * @param {...DateTime} dateTimes - the DateTimes from which to choose the maximum\n   * @return {DateTime} the max DateTime, or undefined if called with no argument\n   */\n  ;\n\n  DateTime.max = function max() {\n    for (var _len2 = arguments.length, dateTimes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      dateTimes[_key2] = arguments[_key2];\n    }\n\n    if (!dateTimes.every(DateTime.isDateTime)) {\n      throw new InvalidArgumentError(\"max requires all arguments be DateTimes\");\n    }\n\n    return bestBy(dateTimes, function (i) {\n      return i.valueOf();\n    }, Math.max);\n  } // MISC\n\n  /**\n   * Explain how a string would be parsed by fromFormat()\n   * @param {string} text - the string to parse\n   * @param {string} fmt - the format the string is expected to be in (see description)\n   * @param {Object} options - options taken by fromFormat()\n   * @return {Object}\n   */\n  ;\n\n  DateTime.fromFormatExplain = function fromFormatExplain(text, fmt, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        _options$locale = _options.locale,\n        locale = _options$locale === void 0 ? null : _options$locale,\n        _options$numberingSys = _options.numberingSystem,\n        numberingSystem = _options$numberingSys === void 0 ? null : _options$numberingSys,\n        localeToUse = Locale.fromOpts({\n      locale: locale,\n      numberingSystem: numberingSystem,\n      defaultToEN: true\n    });\n    return explainFromTokens(localeToUse, text, fmt);\n  }\n  /**\n   * @deprecated use fromFormatExplain instead\n   */\n  ;\n\n  DateTime.fromStringExplain = function fromStringExplain(text, fmt, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    return DateTime.fromFormatExplain(text, fmt, options);\n  } // FORMAT PRESETS\n\n  /**\n   * {@link toLocaleString} format like 10/14/1983\n   * @type {Object}\n   */\n  ;\n\n  _createClass(DateTime, [{\n    key: \"isValid\",\n    get: function get() {\n      return this.invalid === null;\n    }\n    /**\n     * Returns an error code if this DateTime is invalid, or null if the DateTime is valid\n     * @type {string}\n     */\n\n  }, {\n    key: \"invalidReason\",\n    get: function get() {\n      return this.invalid ? this.invalid.reason : null;\n    }\n    /**\n     * Returns an explanation of why this DateTime became invalid, or null if the DateTime is valid\n     * @type {string}\n     */\n\n  }, {\n    key: \"invalidExplanation\",\n    get: function get() {\n      return this.invalid ? this.invalid.explanation : null;\n    }\n    /**\n     * Get the locale of a DateTime, such 'en-GB'. The locale is used when formatting the DateTime\n     *\n     * @type {string}\n     */\n\n  }, {\n    key: \"locale\",\n    get: function get() {\n      return this.isValid ? this.loc.locale : null;\n    }\n    /**\n     * Get the numbering system of a DateTime, such 'beng'. The numbering system is used when formatting the DateTime\n     *\n     * @type {string}\n     */\n\n  }, {\n    key: \"numberingSystem\",\n    get: function get() {\n      return this.isValid ? this.loc.numberingSystem : null;\n    }\n    /**\n     * Get the output calendar of a DateTime, such 'islamic'. The output calendar is used when formatting the DateTime\n     *\n     * @type {string}\n     */\n\n  }, {\n    key: \"outputCalendar\",\n    get: function get() {\n      return this.isValid ? this.loc.outputCalendar : null;\n    }\n    /**\n     * Get the time zone associated with this DateTime.\n     * @type {Zone}\n     */\n\n  }, {\n    key: \"zone\",\n    get: function get() {\n      return this._zone;\n    }\n    /**\n     * Get the name of the time zone.\n     * @type {string}\n     */\n\n  }, {\n    key: \"zoneName\",\n    get: function get() {\n      return this.isValid ? this.zone.name : null;\n    }\n    /**\n     * Get the year\n     * @example DateTime.local(2017, 5, 25).year //=> 2017\n     * @type {number}\n     */\n\n  }, {\n    key: \"year\",\n    get: function get() {\n      return this.isValid ? this.c.year : NaN;\n    }\n    /**\n     * Get the quarter\n     * @example DateTime.local(2017, 5, 25).quarter //=> 2\n     * @type {number}\n     */\n\n  }, {\n    key: \"quarter\",\n    get: function get() {\n      return this.isValid ? Math.ceil(this.c.month / 3) : NaN;\n    }\n    /**\n     * Get the month (1-12).\n     * @example DateTime.local(2017, 5, 25).month //=> 5\n     * @type {number}\n     */\n\n  }, {\n    key: \"month\",\n    get: function get() {\n      return this.isValid ? this.c.month : NaN;\n    }\n    /**\n     * Get the day of the month (1-30ish).\n     * @example DateTime.local(2017, 5, 25).day //=> 25\n     * @type {number}\n     */\n\n  }, {\n    key: \"day\",\n    get: function get() {\n      return this.isValid ? this.c.day : NaN;\n    }\n    /**\n     * Get the hour of the day (0-23).\n     * @example DateTime.local(2017, 5, 25, 9).hour //=> 9\n     * @type {number}\n     */\n\n  }, {\n    key: \"hour\",\n    get: function get() {\n      return this.isValid ? this.c.hour : NaN;\n    }\n    /**\n     * Get the minute of the hour (0-59).\n     * @example DateTime.local(2017, 5, 25, 9, 30).minute //=> 30\n     * @type {number}\n     */\n\n  }, {\n    key: \"minute\",\n    get: function get() {\n      return this.isValid ? this.c.minute : NaN;\n    }\n    /**\n     * Get the second of the minute (0-59).\n     * @example DateTime.local(2017, 5, 25, 9, 30, 52).second //=> 52\n     * @type {number}\n     */\n\n  }, {\n    key: \"second\",\n    get: function get() {\n      return this.isValid ? this.c.second : NaN;\n    }\n    /**\n     * Get the millisecond of the second (0-999).\n     * @example DateTime.local(2017, 5, 25, 9, 30, 52, 654).millisecond //=> 654\n     * @type {number}\n     */\n\n  }, {\n    key: \"millisecond\",\n    get: function get() {\n      return this.isValid ? this.c.millisecond : NaN;\n    }\n    /**\n     * Get the week year\n     * @see https://en.wikipedia.org/wiki/ISO_week_date\n     * @example DateTime.local(2014, 12, 31).weekYear //=> 2015\n     * @type {number}\n     */\n\n  }, {\n    key: \"weekYear\",\n    get: function get() {\n      return this.isValid ? possiblyCachedWeekData(this).weekYear : NaN;\n    }\n    /**\n     * Get the week number of the week year (1-52ish).\n     * @see https://en.wikipedia.org/wiki/ISO_week_date\n     * @example DateTime.local(2017, 5, 25).weekNumber //=> 21\n     * @type {number}\n     */\n\n  }, {\n    key: \"weekNumber\",\n    get: function get() {\n      return this.isValid ? possiblyCachedWeekData(this).weekNumber : NaN;\n    }\n    /**\n     * Get the day of the week.\n     * 1 is Monday and 7 is Sunday\n     * @see https://en.wikipedia.org/wiki/ISO_week_date\n     * @example DateTime.local(2014, 11, 31).weekday //=> 4\n     * @type {number}\n     */\n\n  }, {\n    key: \"weekday\",\n    get: function get() {\n      return this.isValid ? possiblyCachedWeekData(this).weekday : NaN;\n    }\n    /**\n     * Get the ordinal (meaning the day of the year)\n     * @example DateTime.local(2017, 5, 25).ordinal //=> 145\n     * @type {number|DateTime}\n     */\n\n  }, {\n    key: \"ordinal\",\n    get: function get() {\n      return this.isValid ? gregorianToOrdinal(this.c).ordinal : NaN;\n    }\n    /**\n     * Get the human readable short month name, such as 'Oct'.\n     * Defaults to the system's locale if no locale has been specified\n     * @example DateTime.local(2017, 10, 30).monthShort //=> Oct\n     * @type {string}\n     */\n\n  }, {\n    key: \"monthShort\",\n    get: function get() {\n      return this.isValid ? Info.months(\"short\", {\n        locObj: this.loc\n      })[this.month - 1] : null;\n    }\n    /**\n     * Get the human readable long month name, such as 'October'.\n     * Defaults to the system's locale if no locale has been specified\n     * @example DateTime.local(2017, 10, 30).monthLong //=> October\n     * @type {string}\n     */\n\n  }, {\n    key: \"monthLong\",\n    get: function get() {\n      return this.isValid ? Info.months(\"long\", {\n        locObj: this.loc\n      })[this.month - 1] : null;\n    }\n    /**\n     * Get the human readable short weekday, such as 'Mon'.\n     * Defaults to the system's locale if no locale has been specified\n     * @example DateTime.local(2017, 10, 30).weekdayShort //=> Mon\n     * @type {string}\n     */\n\n  }, {\n    key: \"weekdayShort\",\n    get: function get() {\n      return this.isValid ? Info.weekdays(\"short\", {\n        locObj: this.loc\n      })[this.weekday - 1] : null;\n    }\n    /**\n     * Get the human readable long weekday, such as 'Monday'.\n     * Defaults to the system's locale if no locale has been specified\n     * @example DateTime.local(2017, 10, 30).weekdayLong //=> Monday\n     * @type {string}\n     */\n\n  }, {\n    key: \"weekdayLong\",\n    get: function get() {\n      return this.isValid ? Info.weekdays(\"long\", {\n        locObj: this.loc\n      })[this.weekday - 1] : null;\n    }\n    /**\n     * Get the UTC offset of this DateTime in minutes\n     * @example DateTime.now().offset //=> -240\n     * @example DateTime.utc().offset //=> 0\n     * @type {number}\n     */\n\n  }, {\n    key: \"offset\",\n    get: function get() {\n      return this.isValid ? +this.o : NaN;\n    }\n    /**\n     * Get the short human name for the zone's current offset, for example \"EST\" or \"EDT\".\n     * Defaults to the system's locale if no locale has been specified\n     * @type {string}\n     */\n\n  }, {\n    key: \"offsetNameShort\",\n    get: function get() {\n      if (this.isValid) {\n        return this.zone.offsetName(this.ts, {\n          format: \"short\",\n          locale: this.locale\n        });\n      } else {\n        return null;\n      }\n    }\n    /**\n     * Get the long human name for the zone's current offset, for example \"Eastern Standard Time\" or \"Eastern Daylight Time\".\n     * Defaults to the system's locale if no locale has been specified\n     * @type {string}\n     */\n\n  }, {\n    key: \"offsetNameLong\",\n    get: function get() {\n      if (this.isValid) {\n        return this.zone.offsetName(this.ts, {\n          format: \"long\",\n          locale: this.locale\n        });\n      } else {\n        return null;\n      }\n    }\n    /**\n     * Get whether this zone's offset ever changes, as in a DST.\n     * @type {boolean}\n     */\n\n  }, {\n    key: \"isOffsetFixed\",\n    get: function get() {\n      return this.isValid ? this.zone.universal : null;\n    }\n    /**\n     * Get whether the DateTime is in a DST.\n     * @type {boolean}\n     */\n\n  }, {\n    key: \"isInDST\",\n    get: function get() {\n      if (this.isOffsetFixed) {\n        return false;\n      } else {\n        return this.offset > this.set({\n          month: 1\n        }).offset || this.offset > this.set({\n          month: 5\n        }).offset;\n      }\n    }\n    /**\n     * Returns true if this DateTime is in a leap year, false otherwise\n     * @example DateTime.local(2016).isInLeapYear //=> true\n     * @example DateTime.local(2013).isInLeapYear //=> false\n     * @type {boolean}\n     */\n\n  }, {\n    key: \"isInLeapYear\",\n    get: function get() {\n      return isLeapYear(this.year);\n    }\n    /**\n     * Returns the number of days in this DateTime's month\n     * @example DateTime.local(2016, 2).daysInMonth //=> 29\n     * @example DateTime.local(2016, 3).daysInMonth //=> 31\n     * @type {number}\n     */\n\n  }, {\n    key: \"daysInMonth\",\n    get: function get() {\n      return daysInMonth(this.year, this.month);\n    }\n    /**\n     * Returns the number of days in this DateTime's year\n     * @example DateTime.local(2016).daysInYear //=> 366\n     * @example DateTime.local(2013).daysInYear //=> 365\n     * @type {number}\n     */\n\n  }, {\n    key: \"daysInYear\",\n    get: function get() {\n      return this.isValid ? daysInYear(this.year) : NaN;\n    }\n    /**\n     * Returns the number of weeks in this DateTime's year\n     * @see https://en.wikipedia.org/wiki/ISO_week_date\n     * @example DateTime.local(2004).weeksInWeekYear //=> 53\n     * @example DateTime.local(2013).weeksInWeekYear //=> 52\n     * @type {number}\n     */\n\n  }, {\n    key: \"weeksInWeekYear\",\n    get: function get() {\n      return this.isValid ? weeksInWeekYear(this.weekYear) : NaN;\n    }\n  }], [{\n    key: \"DATE_SHORT\",\n    get: function get() {\n      return DATE_SHORT;\n    }\n    /**\n     * {@link toLocaleString} format like 'Oct 14, 1983'\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATE_MED\",\n    get: function get() {\n      return DATE_MED;\n    }\n    /**\n     * {@link toLocaleString} format like 'Fri, Oct 14, 1983'\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATE_MED_WITH_WEEKDAY\",\n    get: function get() {\n      return DATE_MED_WITH_WEEKDAY;\n    }\n    /**\n     * {@link toLocaleString} format like 'October 14, 1983'\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATE_FULL\",\n    get: function get() {\n      return DATE_FULL;\n    }\n    /**\n     * {@link toLocaleString} format like 'Tuesday, October 14, 1983'\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATE_HUGE\",\n    get: function get() {\n      return DATE_HUGE;\n    }\n    /**\n     * {@link toLocaleString} format like '09:30 AM'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"TIME_SIMPLE\",\n    get: function get() {\n      return TIME_SIMPLE;\n    }\n    /**\n     * {@link toLocaleString} format like '09:30:23 AM'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"TIME_WITH_SECONDS\",\n    get: function get() {\n      return TIME_WITH_SECONDS;\n    }\n    /**\n     * {@link toLocaleString} format like '09:30:23 AM EDT'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"TIME_WITH_SHORT_OFFSET\",\n    get: function get() {\n      return TIME_WITH_SHORT_OFFSET;\n    }\n    /**\n     * {@link toLocaleString} format like '09:30:23 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"TIME_WITH_LONG_OFFSET\",\n    get: function get() {\n      return TIME_WITH_LONG_OFFSET;\n    }\n    /**\n     * {@link toLocaleString} format like '09:30', always 24-hour.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"TIME_24_SIMPLE\",\n    get: function get() {\n      return TIME_24_SIMPLE;\n    }\n    /**\n     * {@link toLocaleString} format like '09:30:23', always 24-hour.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"TIME_24_WITH_SECONDS\",\n    get: function get() {\n      return TIME_24_WITH_SECONDS;\n    }\n    /**\n     * {@link toLocaleString} format like '09:30:23 EDT', always 24-hour.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"TIME_24_WITH_SHORT_OFFSET\",\n    get: function get() {\n      return TIME_24_WITH_SHORT_OFFSET;\n    }\n    /**\n     * {@link toLocaleString} format like '09:30:23 Eastern Daylight Time', always 24-hour.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"TIME_24_WITH_LONG_OFFSET\",\n    get: function get() {\n      return TIME_24_WITH_LONG_OFFSET;\n    }\n    /**\n     * {@link toLocaleString} format like '10/14/1983, 9:30 AM'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATETIME_SHORT\",\n    get: function get() {\n      return DATETIME_SHORT;\n    }\n    /**\n     * {@link toLocaleString} format like '10/14/1983, 9:30:33 AM'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATETIME_SHORT_WITH_SECONDS\",\n    get: function get() {\n      return DATETIME_SHORT_WITH_SECONDS;\n    }\n    /**\n     * {@link toLocaleString} format like 'Oct 14, 1983, 9:30 AM'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATETIME_MED\",\n    get: function get() {\n      return DATETIME_MED;\n    }\n    /**\n     * {@link toLocaleString} format like 'Oct 14, 1983, 9:30:33 AM'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATETIME_MED_WITH_SECONDS\",\n    get: function get() {\n      return DATETIME_MED_WITH_SECONDS;\n    }\n    /**\n     * {@link toLocaleString} format like 'Fri, 14 Oct 1983, 9:30 AM'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATETIME_MED_WITH_WEEKDAY\",\n    get: function get() {\n      return DATETIME_MED_WITH_WEEKDAY;\n    }\n    /**\n     * {@link toLocaleString} format like 'October 14, 1983, 9:30 AM EDT'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATETIME_FULL\",\n    get: function get() {\n      return DATETIME_FULL;\n    }\n    /**\n     * {@link toLocaleString} format like 'October 14, 1983, 9:30:33 AM EDT'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATETIME_FULL_WITH_SECONDS\",\n    get: function get() {\n      return DATETIME_FULL_WITH_SECONDS;\n    }\n    /**\n     * {@link toLocaleString} format like 'Friday, October 14, 1983, 9:30 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATETIME_HUGE\",\n    get: function get() {\n      return DATETIME_HUGE;\n    }\n    /**\n     * {@link toLocaleString} format like 'Friday, October 14, 1983, 9:30:33 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n     * @type {Object}\n     */\n\n  }, {\n    key: \"DATETIME_HUGE_WITH_SECONDS\",\n    get: function get() {\n      return DATETIME_HUGE_WITH_SECONDS;\n    }\n  }]);\n\n  return DateTime;\n}();\nfunction friendlyDateTime(dateTimeish) {\n  if (DateTime.isDateTime(dateTimeish)) {\n    return dateTimeish;\n  } else if (dateTimeish && dateTimeish.valueOf && isNumber(dateTimeish.valueOf())) {\n    return DateTime.fromJSDate(dateTimeish);\n  } else if (dateTimeish && typeof dateTimeish === \"object\") {\n    return DateTime.fromObject(dateTimeish);\n  } else {\n    throw new InvalidArgumentError(\"Unknown datetime argument: \" + dateTimeish + \", of type \" + typeof dateTimeish);\n  }\n}\n\nvar VERSION = \"1.28.0\";\n\nexports.DateTime = DateTime;\nexports.Duration = Duration;\nexports.FixedOffsetZone = FixedOffsetZone;\nexports.IANAZone = IANAZone;\nexports.Info = Info;\nexports.Interval = Interval;\nexports.InvalidZone = InvalidZone;\nexports.LocalZone = LocalZone;\nexports.Settings = Settings;\nexports.VERSION = VERSION;\nexports.Zone = Zone;\n\n});\n\nconst $_documentContainer = html`<dom-module id=\"lumo-button\" theme-for=\"vaadin-button\">\n  <template>\n    <style>\n      :host {\n        /* Sizing */\n        --lumo-button-size: var(--lumo-size-m);\n        min-width: calc(var(--lumo-button-size) * 2);\n        height: var(--lumo-button-size);\n        padding: 0 calc(var(--lumo-button-size) / 3 + var(--lumo-border-radius) / 2);\n        margin: var(--lumo-space-xs) 0;\n        box-sizing: border-box;\n        /* Style */\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        font-weight: 500;\n        color: var(--_lumo-button-color, var(--lumo-primary-text-color));\n        background-color: var(--_lumo-button-background-color, var(--lumo-contrast-5pct));\n        border-radius: var(--lumo-border-radius);\n        cursor: default;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      /* Set only for the internal parts so we don’t affect the host vertical alignment */\n      [part=\"label\"],\n      [part=\"prefix\"],\n      [part=\"suffix\"] {\n        line-height: var(--lumo-line-height-xs);\n      }\n\n      [part=\"label\"] {\n        padding: calc(var(--lumo-button-size) / 6) 0;\n      }\n\n      :host([theme~=\"small\"]) {\n        font-size: var(--lumo-font-size-s);\n        --lumo-button-size: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"large\"]) {\n        font-size: var(--lumo-font-size-l);\n        --lumo-button-size: var(--lumo-size-l);\n      }\n\n      /* This needs to be the last selector for it to take priority */\n      :host([disabled][disabled]) {\n        pointer-events: none;\n        color: var(--lumo-disabled-text-color);\n        background-color: var(--lumo-contrast-5pct);\n      }\n\n      /* For interaction states */\n      :host::before,\n      :host::after {\n        content: \"\";\n        /* We rely on the host always being relative */\n        position: absolute;\n        z-index: 1;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        background-color: currentColor;\n        border-radius: inherit;\n        opacity: 0;\n        transition: opacity 0.2s;\n        pointer-events: none;\n      }\n\n      /* Hover */\n\n      :host(:hover)::before {\n        opacity: 0.05;\n      }\n\n      /* Disable hover for touch devices */\n      @media (pointer: coarse) {\n        :host(:not([active]):hover)::before {\n          opacity: 0;\n        }\n      }\n\n      /* Active */\n\n      :host::after {\n        transition: opacity 1.4s, transform 0.1s;\n        filter: blur(8px);\n      }\n\n      :host([active])::before {\n        opacity: 0.1;\n        transition-duration: 0s;\n      }\n\n      :host([active])::after {\n        opacity: 0.1;\n        transition-duration: 0s, 0s;\n        transform: scale(0);\n      }\n\n      /* Keyboard focus */\n\n      :host([focus-ring]) {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      /* Types (primary, tertiary, tertiary-inline */\n\n      :host([theme~=\"tertiary\"]),\n      :host([theme~=\"tertiary-inline\"]) {\n        background-color: transparent !important;\n        transition: opacity 0.2s;\n        min-width: 0;\n      }\n\n      :host([theme~=\"tertiary\"])::before,\n      :host([theme~=\"tertiary-inline\"])::before {\n        display: none;\n      }\n\n      :host([theme~=\"tertiary\"]) {\n        padding: 0 calc(var(--lumo-button-size) / 6);\n      }\n\n      @media (hover: hover) {\n        :host([theme*=\"tertiary\"]:not([active]):hover) {\n          opacity: 0.8;\n        }\n      }\n\n      :host([theme~=\"tertiary\"][active]),\n      :host([theme~=\"tertiary-inline\"][active]) {\n        opacity: 0.5;\n        transition-duration: 0s;\n      }\n\n      :host([theme~=\"tertiary-inline\"]) {\n        margin: 0;\n        height: auto;\n        padding: 0;\n        line-height: inherit;\n        font-size: inherit;\n      }\n\n      :host([theme~=\"tertiary-inline\"]) [part=\"label\"] {\n        padding: 0;\n        overflow: visible;\n        line-height: inherit;\n      }\n\n      :host([theme~=\"primary\"]) {\n        background-color: var(--_lumo-button-primary-background-color, var(--lumo-primary-color));\n        color: var(--_lumo-button-primary-color, var(--lumo-primary-contrast-color));\n        font-weight: 600;\n        min-width: calc(var(--lumo-button-size) * 2.5);\n      }\n\n      :host([theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-primary-color-50pct);\n        color: var(--lumo-primary-contrast-color);\n      }\n\n      :host([theme~=\"primary\"]:hover)::before {\n        opacity: 0.1;\n      }\n\n      :host([theme~=\"primary\"][active])::before {\n        background-color: var(--lumo-shade-20pct);\n      }\n\n      @media (pointer: coarse) {\n        :host([theme~=\"primary\"][active])::before {\n          background-color: var(--lumo-shade-60pct);\n        }\n\n        :host([theme~=\"primary\"]:not([active]):hover)::before {\n          opacity: 0;\n        }\n      }\n\n      :host([theme~=\"primary\"][active])::after {\n        opacity: 0.2;\n      }\n\n      /* Colors (success, error, contrast) */\n\n      :host([theme~=\"success\"]) {\n        color: var(--lumo-success-text-color);\n      }\n\n      :host([theme~=\"success\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-success-color);\n        color: var(--lumo-success-contrast-color);\n      }\n\n      :host([theme~=\"success\"][theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-success-color-50pct);\n      }\n\n      :host([theme~=\"error\"]) {\n        color: var(--lumo-error-text-color);\n      }\n\n      :host([theme~=\"error\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-error-color);\n        color: var(--lumo-error-contrast-color);\n      }\n\n      :host([theme~=\"error\"][theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-error-color-50pct);\n      }\n\n      :host([theme~=\"contrast\"]) {\n        color: var(--lumo-contrast);\n      }\n\n      :host([theme~=\"contrast\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-contrast);\n        color: var(--lumo-base-color);\n      }\n\n      :host([theme~=\"contrast\"][theme~=\"primary\"][disabled]) {\n        background-color: var(--lumo-contrast-50pct);\n      }\n\n      /* Icons */\n\n      [part] ::slotted(iron-icon) {\n        display: inline-block;\n        width: var(--lumo-icon-size-m);\n        height: var(--lumo-icon-size-m);\n      }\n\n      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */\n      [part] ::slotted(iron-icon[icon^=\"vaadin:\"]) {\n        padding: 0.25em;\n        box-sizing: border-box !important;\n      }\n\n      [part=\"prefix\"] {\n        margin-left: -0.25em;\n        margin-right: 0.25em;\n      }\n\n      [part=\"suffix\"] {\n        margin-left: 0.25em;\n        margin-right: -0.25em;\n      }\n\n      /* Icon-only */\n\n      :host([theme~=\"icon\"]:not([theme~=\"tertiary-inline\"])) {\n        min-width: var(--lumo-button-size);\n        padding-left: calc(var(--lumo-button-size) / 4);\n        padding-right: calc(var(--lumo-button-size) / 4);\n      }\n\n      :host([theme~=\"icon\"]) [part=\"prefix\"],\n      :host([theme~=\"icon\"]) [part=\"suffix\"] {\n        margin-left: 0;\n        margin-right: 0;\n      }\n\n      /* RTL specific styles */\n\n      :host([dir=\"rtl\"]) [part=\"prefix\"] {\n        margin-left: 0.25em;\n        margin-right: -0.25em;\n      }\n\n      :host([dir=\"rtl\"]) [part=\"suffix\"] {\n        margin-left: -0.25em;\n        margin-right: 0.25em;\n      }\n\n      :host([dir=\"rtl\"][theme~=\"icon\"]) [part=\"prefix\"],\n      :host([dir=\"rtl\"][theme~=\"icon\"]) [part=\"suffix\"] {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n\n/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n/**\n * `<vaadin-button>` is a Web Component providing an accessible and customizable button.\n *\n * ```html\n * <vaadin-button>\n * </vaadin-button>\n * ```\n *\n * ```js\n * document.querySelector('vaadin-button').addEventListener('click', () => alert('Hello World!'));\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are exposed for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `label` | The label (text) inside the button\n * `prefix` | A slot for e.g. an icon before the label\n * `suffix` | A slot for e.g. an icon after the label\n *\n *\n * The following attributes are exposed for styling:\n *\n * Attribute | Description\n * --------- | -----------\n * `active` | Set when the button is pressed down, either with mouse, touch or the keyboard.\n * `disabled` | Set when the button is disabled.\n * `focus-ring` | Set when the button is focused using the keyboard.\n * `focused` | Set when the button is focused.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @extends PolymerElement\n * @mixes ElementMixin\n * @mixes ControlStateMixin\n * @mixes ThemableMixin\n * @mixes GestureEventListeners\n * @demo demo/index.html\n */\nclass ButtonElement extends\n  ElementMixin(\n    ControlStateMixin(\n      ThemableMixin(\n        GestureEventListeners(PolymerElement)))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        outline: none;\n        white-space: nowrap;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      /* Ensure the button is always aligned on the baseline */\n      .vaadin-button-container::before {\n        content: \"\\\\2003\";\n        display: inline-block;\n        width: 0;\n      }\n\n      .vaadin-button-container {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n        width: 100%;\n        height: 100%;\n        min-height: inherit;\n        text-shadow: inherit;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n      }\n\n      [part=\"prefix\"],\n      [part=\"suffix\"] {\n        flex: none;\n      }\n\n      [part=\"label\"] {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      #button {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n      }\n    </style>\n    <div class=\"vaadin-button-container\">\n      <div part=\"prefix\">\n        <slot name=\"prefix\"></slot>\n      </div>\n      <div part=\"label\">\n        <slot></slot>\n      </div>\n      <div part=\"suffix\">\n        <slot name=\"suffix\"></slot>\n      </div>\n    </div>\n    <button id=\"button\" type=\"button\"></button>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-button';\n  }\n\n  static get version() {\n    return '2.4.0';\n  }\n\n  ready() {\n    super.ready();\n\n    // Leaving default role in the native button, makes navigation announcement\n    // being different when using focus navigation (tab) versus using normal\n    // navigation (arrows). The first way announces the label on a button\n    // since the focus is moved programmatically, and the second on a group.\n    this.setAttribute('role', 'button');\n    this.$.button.setAttribute('role', 'presentation');\n\n    this._addActiveListeners();\n\n    // Fix for https://github.com/vaadin/vaadin-button-flow/issues/120\n    window.ShadyDOM && window.ShadyDOM.flush();\n  }\n\n  /**\n   * @protected\n   */\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    // `active` state is preserved when the element is disconnected between keydown and keyup events.\n    // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n    if (this.hasAttribute('active')) {\n      this.removeAttribute('active');\n    }\n  }\n\n  /** @private */\n  _addActiveListeners() {\n    addListener(this, 'down', () => !this.disabled && this.setAttribute('active', ''));\n    addListener(this, 'up', () => this.removeAttribute('active'));\n    this.addEventListener('keydown', e => !this.disabled && [13, 32].indexOf(e.keyCode) >= 0 && this.setAttribute('active', ''));\n    this.addEventListener('keyup', () => this.removeAttribute('active'));\n    this.addEventListener('blur', () => this.removeAttribute('active'));\n  }\n\n  /**\n   * @protected\n   * @return {Element}\n   */\n  get focusElement() {\n    return this.$.button;\n  }\n}\n\ncustomElements.define(ButtonElement.is, ButtonElement);\n\nexport { luxon as l };\n","const ERROR_MESSAGE = 'Unable to locate the expected attributes. Please check the documentation and attach mandatory attributes';\n\nexport { ERROR_MESSAGE as E };\n","import superPropBase from \"./superPropBase.js\";\nimport defineProperty from \"./defineProperty.js\";\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = superPropBase(target, property);\n      var desc;\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        defineProperty(receiver, property, value);\n      }\n      return true;\n    };\n  }\n  return set(target, property, value, receiver);\n}\nexport default function _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n  if (!s && isStrict) {\n    throw new TypeError('failed to set property');\n  }\n  return value;\n}","import { r as registerStyles, c as css, E as ElementMixin, C as ControlStateMixin, T as ThemableMixin, G as GestureEventListeners, P as PolymerElement, h as html, d as Class, I as IronResizableBehavior, e as animationFrame, m as microTask, i as idlePeriod, f as flush, D as Debouncer, g as enqueueDebouncer, j as afterNextRender, B as Base, b as addListener, t as timeOut, F as FlattenedNodesObserver, k as templatize, l as DirMixin, n as beforeNextRender } from './iron-resizable-behavior-b5089143.js';\nimport { I as IronScrollTargetBehavior } from './iron-scroll-target-behavior-5bd912f7.js';\n\nregisterStyles(\n  'vaadin-checkbox',\n  css`\n    :host {\n      -webkit-tap-highlight-color: transparent;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      user-select: none;\n      cursor: default;\n      outline: none;\n    }\n\n    [part='label']:not([empty]) {\n      margin: 0.1875em 0.875em 0.1875em 0.375em;\n    }\n\n    [part='checkbox'] {\n      width: calc(1em + 2px);\n      height: calc(1em + 2px);\n      margin: 0.1875em;\n      position: relative;\n      border-radius: var(--lumo-border-radius-s);\n      background-color: var(--lumo-contrast-20pct);\n      transition: transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2), background-color 0.15s;\n      pointer-events: none;\n      line-height: 1.2;\n    }\n\n    :host([indeterminate]) [part='checkbox'],\n    :host([checked]) [part='checkbox'] {\n      background-color: var(--lumo-primary-color);\n    }\n\n    /* Needed to align the checkbox nicely on the baseline */\n    [part='checkbox']::before {\n      content: '\\\\2003';\n    }\n\n    /* Checkmark */\n    [part='checkbox']::after {\n      content: '';\n      display: inline-block;\n      width: 0;\n      height: 0;\n      border: 0 solid var(--lumo-primary-contrast-color);\n      border-width: 0.1875em 0 0 0.1875em;\n      box-sizing: border-box;\n      transform-origin: 0 0;\n      position: absolute;\n      top: 0.8125em;\n      left: 0.5em;\n      transform: scale(0.55) rotate(-135deg);\n      opacity: 0;\n    }\n\n    :host([checked]) [part='checkbox']::after {\n      opacity: 1;\n      width: 0.625em;\n      height: 1.0625em;\n    }\n\n    /* Indeterminate checkmark */\n    :host([indeterminate]) [part='checkbox']::after {\n      transform: none;\n      opacity: 1;\n      top: 45%;\n      height: 10%;\n      left: 22%;\n      right: 22%;\n      width: auto;\n      border: 0;\n      background-color: var(--lumo-primary-contrast-color);\n      transition: opacity 0.25s;\n    }\n\n    /* Focus ring */\n    :host([focus-ring]) [part='checkbox'] {\n      box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);\n    }\n\n    /* Disabled */\n    :host([disabled]) {\n      pointer-events: none;\n      color: var(--lumo-disabled-text-color);\n    }\n\n    :host([disabled]) [part='label'] ::slotted(*) {\n      color: inherit;\n    }\n\n    :host([disabled]) [part='checkbox'] {\n      background-color: var(--lumo-contrast-10pct);\n    }\n\n    :host([disabled]) [part='checkbox']::after {\n      border-color: var(--lumo-contrast-30pct);\n    }\n\n    :host([indeterminate][disabled]) [part='checkbox']::after {\n      background-color: var(--lumo-contrast-30pct);\n    }\n\n    /* RTL specific styles */\n    :host([dir='rtl']) [part='label']:not([empty]) {\n      margin: 0.1875em 0.375em 0.1875em 0.875em;\n    }\n\n    /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */\n    :host(:hover) [part='checkbox']::after {\n      transition: width 0.1s, height 0.25s;\n    }\n\n    /* Used for activation \"halo\" */\n    [part='checkbox']::before {\n      color: transparent;\n      display: inline-block;\n      width: 100%;\n      height: 100%;\n      border-radius: inherit;\n      background-color: inherit;\n      transform: scale(1.4);\n      opacity: 0;\n      transition: transform 0.1s, opacity 0.8s;\n    }\n\n    /* Hover */\n    :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {\n      background-color: var(--lumo-contrast-30pct);\n    }\n\n    /* Disable hover for touch devices */\n    @media (pointer: coarse) {\n      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {\n        background-color: var(--lumo-contrast-20pct);\n      }\n    }\n\n    /* Active */\n    :host([active]) [part='checkbox'] {\n      transform: scale(0.9);\n      transition-duration: 0.05s;\n    }\n\n    :host([active][checked]) [part='checkbox'] {\n      transform: scale(1.1);\n    }\n\n    :host([active]:not([checked])) [part='checkbox']::before {\n      transition-duration: 0.01s, 0.01s;\n      transform: scale(0);\n      opacity: 0.4;\n    }\n  `,\n  { moduleId: 'lumo-checkbox' }\n);\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * `<vaadin-checkbox>` is a Web Component for customized checkboxes.\n *\n * ```html\n * <vaadin-checkbox>\n *   Make my profile visible\n * </vaadin-checkbox>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name         | Description\n * ------------------|----------------\n * `checkbox`        | The wrapper element for the native <input type=\"checkbox\">\n * `label`           | The wrapper element in which the component's children, namely the label, is slotted\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|--------------\n * `active`     | Set when the checkbox is pressed down, either with mouse, touch or the keyboard. | `:host`\n * `disabled`   | Set when the checkbox is disabled. | `:host`\n * `focus-ring` | Set when the checkbox is focused using the keyboard. | `:host`\n * `focused`    | Set when the checkbox is focused. | `:host`\n * `indeterminate` | Set when the checkbox is in indeterminate mode. | `:host`\n * `checked` | Set when the checkbox is checked. | `:host`\n * `empty` | Set when there is no label provided. | `label`\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @fires {Event} change - Fired when the user commits a value change.\n * @fires {CustomEvent} checked-changed - Fired when the `checked` property changes.\n * @fires {CustomEvent} indeterminate-changed - Fired when the `indeterminate` property changes.\n *\n * @extends HTMLElement\n * @mixes ElementMixin\n * @mixes ControlStateMixin\n * @mixes ThemableMixin\n * @mixes GestureEventListeners\n */\nclass CheckboxElement extends ElementMixin(ControlStateMixin(ThemableMixin(GestureEventListeners(PolymerElement)))) {\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: inline-block;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n\n        label {\n          display: inline-flex;\n          align-items: baseline;\n          outline: none;\n        }\n\n        [part='checkbox'] {\n          position: relative;\n          display: inline-block;\n          flex: none;\n        }\n\n        input[type='checkbox'] {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          width: 100%;\n          height: 100%;\n          opacity: 0;\n          cursor: inherit;\n          margin: 0;\n        }\n\n        :host([disabled]) {\n          -webkit-tap-highlight-color: transparent;\n        }\n      </style>\n\n      <label>\n        <span part=\"checkbox\">\n          <input\n            type=\"checkbox\"\n            checked=\"{{checked::change}}\"\n            disabled$=\"[[disabled]]\"\n            indeterminate=\"{{indeterminate::change}}\"\n            role=\"presentation\"\n            tabindex=\"-1\"\n          />\n        </span>\n\n        <span part=\"label\">\n          <slot></slot>\n        </span>\n      </label>\n    `;\n  }\n\n  static get is() {\n    return 'vaadin-checkbox';\n  }\n\n  static get version() {\n    return '3.0.0';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * True if the checkbox is checked.\n       * @type {boolean}\n       */\n      checked: {\n        type: Boolean,\n        value: false,\n        notify: true,\n        observer: '_checkedChanged',\n        reflectToAttribute: true\n      },\n\n      /**\n       * Indeterminate state of the checkbox when it's neither checked nor unchecked, but undetermined.\n       * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#Indeterminate_state_checkboxes\n       * @type {boolean}\n       */\n      indeterminate: {\n        type: Boolean,\n        notify: true,\n        observer: '_indeterminateChanged',\n        reflectToAttribute: true,\n        value: false\n      },\n\n      /**\n       * The value given to the data submitted with the checkbox's name to the server when the control is inside a form.\n       */\n      value: {\n        type: String,\n        value: 'on'\n      },\n\n      /** @private */\n      _nativeCheckbox: {\n        type: Object\n      }\n    };\n  }\n\n  constructor() {\n    super();\n  }\n\n  get name() {\n    return this.checked ? this._storedName : '';\n  }\n\n  set name(name) {\n    this._storedName = name;\n  }\n\n  ready() {\n    super.ready();\n\n    this.setAttribute('role', 'checkbox');\n\n    this._nativeCheckbox = this.shadowRoot.querySelector('input[type=\"checkbox\"]');\n\n    this.addEventListener('click', this._handleClick.bind(this));\n\n    this._addActiveListeners();\n\n    const attrName = this.getAttribute('name');\n    if (attrName) {\n      this.name = attrName;\n    }\n\n    this.shadowRoot\n      .querySelector('[part~=\"label\"]')\n      .querySelector('slot')\n      .addEventListener('slotchange', this._updateLabelAttribute.bind(this));\n\n    this._updateLabelAttribute();\n  }\n\n  /** @private */\n  _updateLabelAttribute() {\n    const label = this.shadowRoot.querySelector('[part~=\"label\"]');\n    const assignedNodes = label.firstElementChild.assignedNodes();\n    if (this._isAssignedNodesEmpty(assignedNodes)) {\n      label.setAttribute('empty', '');\n    } else {\n      label.removeAttribute('empty');\n    }\n  }\n\n  /** @private */\n  _isAssignedNodesEmpty(nodes) {\n    // The assigned nodes considered to be empty if there is no slotted content or only one empty text node\n    return (\n      nodes.length === 0 ||\n      (nodes.length == 1 && nodes[0].nodeType == Node.TEXT_NODE && nodes[0].textContent.trim() === '')\n    );\n  }\n\n  /** @private */\n  _checkedChanged(checked) {\n    if (this.indeterminate) {\n      this.setAttribute('aria-checked', 'mixed');\n    } else {\n      this.setAttribute('aria-checked', Boolean(checked));\n    }\n  }\n\n  /** @private */\n  _indeterminateChanged(indeterminate) {\n    if (indeterminate) {\n      this.setAttribute('aria-checked', 'mixed');\n    } else {\n      this.setAttribute('aria-checked', this.checked);\n    }\n  }\n\n  /** @private */\n  _addActiveListeners() {\n    // DOWN\n    this._addEventListenerToNode(this, 'down', (e) => {\n      if (this.__interactionsAllowed(e)) {\n        this.setAttribute('active', '');\n      }\n    });\n\n    // UP\n    this._addEventListenerToNode(this, 'up', () => this.removeAttribute('active'));\n\n    // KEYDOWN\n    this.addEventListener('keydown', (e) => {\n      if (this.__interactionsAllowed(e) && e.keyCode === 32) {\n        e.preventDefault();\n        this.setAttribute('active', '');\n      }\n    });\n\n    // KEYUP\n    this.addEventListener('keyup', (e) => {\n      if (this.__interactionsAllowed(e) && e.keyCode === 32) {\n        e.preventDefault();\n        this._toggleChecked();\n        this.removeAttribute('active');\n\n        if (this.indeterminate) {\n          this.indeterminate = false;\n        }\n      }\n    });\n  }\n\n  /**\n   * @return {!HTMLInputElement}\n   * @protected\n   */\n  get focusElement() {\n    return this.shadowRoot.querySelector('input');\n  }\n\n  /**\n   * True if users' interactions (mouse or keyboard)\n   * should toggle the checkbox\n   */\n  __interactionsAllowed(e) {\n    if (this.disabled) {\n      return false;\n    }\n\n    // https://github.com/vaadin/vaadin-checkbox/issues/63\n    if (e.target.localName === 'a') {\n      return false;\n    }\n\n    return true;\n  }\n\n  /** @private */\n  _handleClick(e) {\n    if (this.__interactionsAllowed(e)) {\n      if (!this.indeterminate) {\n        if (e.composedPath()[0] !== this._nativeCheckbox) {\n          e.preventDefault();\n          this._toggleChecked();\n        }\n      } else {\n        /*\n         * Required for IE 11 and Edge.\n         * See issue here: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7344418/\n         */\n        this.indeterminate = false;\n        e.preventDefault();\n        this._toggleChecked();\n      }\n    }\n  }\n\n  /** @protected */\n  _toggleChecked() {\n    this.checked = !this.checked;\n    this.dispatchEvent(new CustomEvent('change', { composed: false, bubbles: true }));\n  }\n\n  /**\n   * Fired when the user commits a value change.\n   *\n   * @event change\n   */\n}\n\ncustomElements.define(CheckboxElement.is, CheckboxElement);\n\nregisterStyles(\n  'vaadin-grid',\n  css`\n    :host {\n      font-family: var(--lumo-font-family);\n      font-size: var(--lumo-font-size-m);\n      line-height: var(--lumo-line-height-s);\n      color: var(--lumo-body-text-color);\n      background-color: var(--lumo-base-color);\n      box-sizing: border-box;\n      -webkit-text-size-adjust: 100%;\n      -webkit-tap-highlight-color: transparent;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n\n      /* For internal use only */\n      --_lumo-grid-border-color: var(--lumo-contrast-20pct);\n      --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);\n      --_lumo-grid-border-width: 1px;\n      --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);\n    }\n\n    /* No (outer) border */\n\n    :host(:not([theme~='no-border'])) {\n      border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);\n    }\n\n    /* Cell styles */\n\n    [part~='cell'] {\n      min-height: var(--lumo-size-m);\n      background-color: var(--lumo-base-color);\n    }\n\n    [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      cursor: default;\n      padding: var(--lumo-space-xs) var(--lumo-space-m);\n    }\n\n    /* Apply row borders by default and introduce the \"no-row-borders\" variant */\n    :host(:not([theme~='no-row-borders'])) [part~='cell']:not([part~='details-cell']) {\n      border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Hide first body row top border */\n    :host(:not([theme~='no-row-borders'])) [part='row'][first] [part~='cell']:not([part~='details-cell']) {\n      border-top: 0;\n      min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));\n    }\n\n    /* Focus-ring */\n\n    [part~='cell']:focus {\n      outline: none;\n    }\n\n    :host([navigating]) [part~='cell']:focus::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n    }\n\n    /* Drag and Drop styles */\n    :host([dragover])::after {\n      content: '';\n      position: absolute;\n      z-index: 100;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);\n    }\n\n    [part~='row'][dragover] {\n      z-index: 100 !important;\n    }\n\n    [part~='row'][dragover] [part~='cell'] {\n      overflow: visible;\n    }\n\n    [part~='row'][dragover] [part~='cell']::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      height: calc(var(--_lumo-grid-border-width) + 2px);\n      pointer-events: none;\n      background: var(--lumo-primary-color-50pct);\n    }\n\n    :host([theme~='no-row-borders']) [dragover] [part~='cell']::after {\n      height: 2px;\n    }\n\n    [part~='row'][dragover='below'] [part~='cell']::after {\n      top: 100%;\n      bottom: auto;\n      margin-top: -1px;\n    }\n\n    [part~='row'][dragover='above'] [part~='cell']::after {\n      top: auto;\n      bottom: 100%;\n      margin-bottom: -1px;\n    }\n\n    [part~='row'][details-opened][dragover='below'] [part~='cell']:not([part~='details-cell'])::after,\n    [part~='row'][details-opened][dragover='above'] [part~='details-cell']::after {\n      display: none;\n    }\n\n    [part~='row'][dragover][dragover='on-top'] [part~='cell']::after {\n      height: 100%;\n    }\n\n    [part~='row'][dragstart] {\n      /* Add bottom-space to the row so the drag number doesn't get clipped. Needed for IE/Edge */\n      border-bottom: 100px solid transparent;\n      z-index: 100 !important;\n      opacity: 0.9;\n    }\n\n    [part~='row'][dragstart] [part~='cell'] {\n      border: none !important;\n      box-shadow: none !important;\n    }\n\n    [part~='row'][dragstart] [part~='cell'][last-column] {\n      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;\n    }\n\n    [part~='row'][dragstart] [part~='cell'][first-column] {\n      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);\n    }\n\n    [ios] [part~='row'][dragstart] [part~='cell'] {\n      background: var(--lumo-primary-color-50pct);\n    }\n\n    #scroller:not([ios]) [part~='row'][dragstart]:not([dragstart=''])::after {\n      display: block;\n      position: absolute;\n      left: var(--_grid-drag-start-x);\n      top: var(--_grid-drag-start-y);\n      z-index: 100;\n      content: attr(dragstart);\n      align-items: center;\n      justify-content: center;\n      box-sizing: border-box;\n      padding: calc(var(--lumo-space-xs) * 0.8);\n      color: var(--lumo-error-contrast-color);\n      background-color: var(--lumo-error-color);\n      border-radius: var(--lumo-border-radius-m);\n      font-family: var(--lumo-font-family);\n      font-size: var(--lumo-font-size-xxs);\n      line-height: 1;\n      font-weight: 500;\n      text-transform: initial;\n      letter-spacing: initial;\n      min-width: calc(var(--lumo-size-s) * 0.7);\n      text-align: center;\n    }\n\n    /* Headers and footers */\n\n    [part~='header-cell'] ::slotted(vaadin-grid-cell-content),\n    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content),\n    [part~='reorder-ghost'] {\n      font-size: var(--lumo-font-size-s);\n      font-weight: 500;\n    }\n\n    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content) {\n      font-weight: 400;\n    }\n\n    [part='row']:only-child [part~='header-cell'] {\n      min-height: var(--lumo-size-xl);\n    }\n\n    /* Header borders */\n\n    /* Hide first header row top border */\n    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='header-cell'] {\n      border-top: 0;\n    }\n\n    [part='row']:last-child [part~='header-cell'] {\n      border-bottom: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host(:not([theme~='no-row-borders'])) [part='row']:last-child [part~='header-cell'] {\n      border-bottom-color: var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Overflow uses a stronger border color */\n    :host([overflow~='top']) [part='row']:last-child [part~='header-cell'] {\n      border-bottom-color: var(--_lumo-grid-border-color);\n    }\n\n    /* Footer borders */\n\n    [part='row']:first-child [part~='footer-cell'] {\n      border-top: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='footer-cell'] {\n      border-top-color: var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Overflow uses a stronger border color */\n    :host([overflow~='bottom']) [part='row']:first-child [part~='footer-cell'] {\n      border-top-color: var(--_lumo-grid-border-color);\n    }\n\n    /* Column reordering */\n\n    :host([reordering]) [part~='cell'] {\n      background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);\n    }\n\n    :host([reordering]) [part~='cell'][reorder-status='allowed'] {\n      background: var(--lumo-base-color);\n    }\n\n    :host([reordering]) [part~='cell'][reorder-status='dragging'] {\n      background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);\n    }\n\n    [part~='reorder-ghost'] {\n      opacity: 0.85;\n      box-shadow: var(--lumo-box-shadow-s);\n      /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */\n      padding: var(--lumo-space-s) var(--lumo-space-m) !important;\n    }\n\n    /* Column resizing */\n\n    [part='resize-handle'] {\n      width: 3px;\n      background-color: var(--lumo-primary-color-50pct);\n      opacity: 0;\n      transition: opacity 0.2s;\n    }\n\n    :host(:not([reordering])) *:not([column-resizing]) [part~='cell']:hover [part='resize-handle'],\n    [part='resize-handle']:active {\n      opacity: 1;\n      transition-delay: 0.15s;\n    }\n\n    /* Column borders */\n\n    :host([theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {\n      border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Frozen columns */\n\n    [last-frozen] {\n      border-right: var(--_lumo-grid-border-width) solid transparent;\n      overflow: hidden;\n    }\n\n    :host([overflow~='left']) [part~='cell'][last-frozen]:not([part~='details-cell']) {\n      border-right-color: var(--_lumo-grid-border-color);\n    }\n\n    /* Row stripes */\n\n    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='body-cell'],\n    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='details-cell'] {\n      background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));\n      background-repeat: repeat-x;\n    }\n\n    /* Selected row */\n\n    /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */\n    :host(:not([reordering])) [part~='row'][selected] {\n      z-index: 1;\n    }\n\n    :host(:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {\n      background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));\n      background-repeat: repeat;\n    }\n\n    /* Cover the border of an unselected row */\n    :host(:not([theme~='no-row-borders'])) [part~='row'][selected] [part~='cell']:not([part~='details-cell']) {\n      box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);\n    }\n\n    /* Compact */\n\n    :host([theme~='compact']) [part='row']:only-child [part~='header-cell'] {\n      min-height: var(--lumo-size-m);\n    }\n\n    :host([theme~='compact']) [part~='cell'] {\n      min-height: var(--lumo-size-s);\n    }\n\n    :host([theme~='compact']) [part='row'][first] [part~='cell']:not([part~='details-cell']) {\n      min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));\n    }\n\n    :host([theme~='compact']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      padding: var(--lumo-space-xs) var(--lumo-space-s);\n    }\n\n    /* Wrap cell contents */\n\n    :host([theme~='wrap-cell-content']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      white-space: normal;\n    }\n\n    /* RTL specific styles */\n\n    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][last-column] {\n      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);\n    }\n\n    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][first-column] {\n      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;\n    }\n\n    :host([dir='rtl'][theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {\n      border-right: none;\n      border-left: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n    }\n\n    :host([dir='rtl']) [last-frozen] {\n      border-right: none;\n      border-left: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host([dir='rtl'][overflow~='right']) [part~='cell'][last-frozen]:not([part~='details-cell']) {\n      border-left-color: var(--_lumo-grid-border-color);\n    }\n  `,\n  { moduleId: 'lumo-grid' }\n);\n\nregisterStyles(\n  'vaadin-checkbox',\n  css`\n    :host(.vaadin-grid-select-all-checkbox) {\n      font-size: var(--lumo-font-size-m);\n    }\n  `,\n  { moduleId: 'vaadin-grid-select-all-checkbox-lumo' }\n);\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nconst IOS = navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/);\nconst IOS_TOUCH_SCROLLING = IOS && IOS[1] >= 8;\nconst DEFAULT_PHYSICAL_COUNT = 3;\n\n/**\n * @private\n */\nconst PolymerIronList = Class({\n  behaviors: [IronResizableBehavior, IronScrollTargetBehavior],\n\n  /**\n   * The ratio of hidden tiles that should remain in the scroll direction.\n   * Recommended value ~0.5, so it will distribute tiles evenly in both directions.\n   */\n  _ratio: 0.5,\n\n  /**\n   * The padding-top value for the list.\n   */\n  _scrollerPaddingTop: 0,\n\n  /**\n   * This value is the same as `scrollTop`.\n   */\n  _scrollPosition: 0,\n\n  /**\n   * The sum of the heights of all the tiles in the DOM.\n   */\n  _physicalSize: 0,\n\n  /**\n   * The average `offsetHeight` of the tiles observed till now.\n   */\n  _physicalAverage: 0,\n\n  /**\n   * The number of tiles which `offsetHeight` > 0 observed until now.\n   */\n  _physicalAverageCount: 0,\n\n  /**\n   * The Y position of the item rendered in the `_physicalStart`\n   * tile relative to the scrolling list.\n   */\n  _physicalTop: 0,\n\n  /**\n   * The number of items in the list.\n   */\n  _virtualCount: 0,\n\n  /**\n   * The estimated scroll height based on `_physicalAverage`\n   */\n  _estScrollHeight: 0,\n\n  /**\n   * The scroll height of the dom node\n   */\n  _scrollHeight: 0,\n\n  /**\n   * The height of the list. This is referred as the viewport in the context of list.\n   */\n  _viewportHeight: 0,\n\n  /**\n   * The width of the list. This is referred as the viewport in the context of list.\n   */\n  _viewportWidth: 0,\n\n  /**\n   * An array of DOM nodes that are currently in the tree\n   * @type {?Array<!TemplateInstanceBase>}\n   */\n  _physicalItems: null,\n\n  /**\n   * An array of heights for each item in `_physicalItems`\n   * @type {?Array<number>}\n   */\n  _physicalSizes: null,\n\n  /**\n   * A cached value for the first visible index.\n   * See `firstVisibleIndex`\n   * @type {?number}\n   */\n  _firstVisibleIndexVal: null,\n\n  /**\n   * A cached value for the last visible index.\n   * See `lastVisibleIndex`\n   * @type {?number}\n   */\n  _lastVisibleIndexVal: null,\n\n  /**\n   * The max number of pages to render. One page is equivalent to the height of the list.\n   */\n  _maxPages: 2,\n\n  /**\n   * The virtual index of the focused item.\n   */\n  _focusedVirtualIndex: -1,\n\n  /**\n   * The cost of stamping a template in ms.\n   */\n  _templateCost: 0,\n\n  /**\n   * The bottom of the physical content.\n   */\n  get _physicalBottom() {\n    return this._physicalTop + this._physicalSize;\n  },\n\n  /**\n   * The bottom of the scroll.\n   */\n  get _scrollBottom() {\n    return this._scrollPosition + this._viewportHeight;\n  },\n\n  /**\n   * The n-th item rendered in the last physical item.\n   */\n  get _virtualEnd() {\n    return this._virtualStart + this._physicalCount - 1;\n  },\n\n  /**\n   * The height of the physical content that isn't on the screen.\n   */\n  get _hiddenContentSize() {\n    return this._physicalSize - this._viewportHeight;\n  },\n\n  /**\n   * The maximum scroll top value.\n   */\n  get _maxScrollTop() {\n    return this._estScrollHeight - this._viewportHeight + this._scrollOffset;\n  },\n\n  /**\n   * The largest n-th value for an item such that it can be rendered in `_physicalStart`.\n   */\n  get _maxVirtualStart() {\n    return Math.max(0, this._virtualCount - this._physicalCount);\n  },\n\n  set _virtualStart(val) {\n    val = this._clamp(val, 0, this._maxVirtualStart);\n    this._virtualStartVal = val;\n  },\n\n  get _virtualStart() {\n    return this._virtualStartVal || 0;\n  },\n\n  /**\n   * The k-th tile that is at the top of the scrolling list.\n   */\n  set _physicalStart(val) {\n    val = val % this._physicalCount;\n    if (val < 0) {\n      val = this._physicalCount + val;\n    }\n    this._physicalStartVal = val;\n  },\n\n  get _physicalStart() {\n    return this._physicalStartVal || 0;\n  },\n\n  /**\n   * The k-th tile that is at the bottom of the scrolling list.\n   */\n  get _physicalEnd() {\n    return (this._physicalStart + this._physicalCount - 1) % this._physicalCount;\n  },\n\n  set _physicalCount(val) {\n    this._physicalCountVal = val;\n  },\n\n  get _physicalCount() {\n    return this._physicalCountVal || 0;\n  },\n\n  /**\n   * An optimal physical size such that we will have enough physical items\n   * to fill up the viewport and recycle when the user scrolls.\n   *\n   * This default value assumes that we will at least have the equivalent\n   * to a viewport of physical items above and below the user's viewport.\n   */\n  get _optPhysicalSize() {\n    return this._viewportHeight === 0 ? Infinity : this._viewportHeight * this._maxPages;\n  },\n\n  /**\n   * True if the current list is visible.\n   */\n  get _isVisible() {\n    return Boolean(this.offsetWidth || this.offsetHeight);\n  },\n\n  /**\n   * Gets the index of the first visible item in the viewport.\n   *\n   * @type {number}\n   */\n  get firstVisibleIndex() {\n    let idx = this._firstVisibleIndexVal;\n    if (idx == null) {\n      let physicalOffset = this._physicalTop + this._scrollOffset;\n\n      idx =\n        this._iterateItems(function (pidx, vidx) {\n          physicalOffset += this._physicalSizes[pidx];\n\n          if (physicalOffset > this._scrollPosition) {\n            return vidx;\n          }\n        }) || 0;\n      this._firstVisibleIndexVal = idx;\n    }\n    return idx;\n  },\n\n  /**\n   * Gets the index of the last visible item in the viewport.\n   *\n   * @type {number}\n   */\n  get lastVisibleIndex() {\n    let idx = this._lastVisibleIndexVal;\n    if (idx == null) {\n      let physicalOffset = this._physicalTop + this._scrollOffset;\n      this._iterateItems(function (pidx, vidx) {\n        if (physicalOffset < this._scrollBottom) {\n          idx = vidx;\n        }\n        physicalOffset += this._physicalSizes[pidx];\n      });\n      this._lastVisibleIndexVal = idx;\n    }\n    return idx;\n  },\n\n  get _scrollOffset() {\n    return this._scrollerPaddingTop;\n  },\n\n  attached: function () {\n    this._debounce('_render', this._render, animationFrame);\n    // `iron-resize` is fired when the list is attached if the event is added\n    // before attached causing unnecessary work.\n    this.listen(this, 'iron-resize', '_resizeHandler');\n  },\n\n  detached: function () {\n    this.unlisten(this, 'iron-resize', '_resizeHandler');\n  },\n\n  /**\n   * Invoke this method if you dynamically update the viewport's\n   * size or CSS padding.\n   *\n   * @method updateViewportBoundaries\n   */\n  updateViewportBoundaries: function () {\n    const styles = window.getComputedStyle(this);\n    this._scrollerPaddingTop = this.scrollTarget === this ? 0 : parseInt(styles['padding-top'], 10);\n    this._isRTL = Boolean(styles.direction === 'rtl');\n    this._viewportWidth = this.$.items.offsetWidth;\n    this._viewportHeight = this._scrollTargetHeight;\n  },\n\n  /**\n   * Recycles the physical items when needed.\n   */\n  _scrollHandler: function () {\n    const scrollTop = Math.max(0, Math.min(this._maxScrollTop, this._scrollTop));\n    let delta = scrollTop - this._scrollPosition;\n    const isScrollingDown = delta >= 0;\n    // Track the current scroll position.\n    this._scrollPosition = scrollTop;\n    // Clear indexes for first and last visible indexes.\n    this._firstVisibleIndexVal = null;\n    this._lastVisibleIndexVal = null;\n    // Random access.\n    if (Math.abs(delta) > this._physicalSize && this._physicalSize > 0) {\n      delta = delta - this._scrollOffset;\n      const idxAdjustment = Math.round(delta / this._physicalAverage);\n      this._virtualStart = this._virtualStart + idxAdjustment;\n      this._physicalStart = this._physicalStart + idxAdjustment;\n      // Estimate new physical offset.\n      this._physicalTop = Math.floor(this._virtualStart) * this._physicalAverage;\n      this._update();\n    } else if (this._physicalCount > 0) {\n      const { physicalTop, indexes } = this._getReusables(isScrollingDown);\n      if (isScrollingDown) {\n        this._physicalTop = physicalTop;\n        this._virtualStart = this._virtualStart + indexes.length;\n        this._physicalStart = this._physicalStart + indexes.length;\n      } else {\n        this._virtualStart = this._virtualStart - indexes.length;\n        this._physicalStart = this._physicalStart - indexes.length;\n      }\n      this._update(indexes, isScrollingDown ? null : indexes);\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, 0), microTask);\n    }\n  },\n\n  /**\n   * Returns an object that contains the indexes of the physical items\n   * that might be reused and the physicalTop.\n   *\n   * @param {boolean} fromTop If the potential reusable items are above the scrolling region.\n   */\n  _getReusables: function (fromTop) {\n    let ith, offsetContent, physicalItemHeight;\n    const idxs = [];\n    const protectedOffsetContent = this._hiddenContentSize * this._ratio;\n    const virtualStart = this._virtualStart;\n    const virtualEnd = this._virtualEnd;\n    const physicalCount = this._physicalCount;\n    let top = this._physicalTop + this._scrollOffset;\n    const bottom = this._physicalBottom + this._scrollOffset;\n    const scrollTop = this._scrollTop;\n    const scrollBottom = this._scrollBottom;\n\n    if (fromTop) {\n      ith = this._physicalStart;\n      offsetContent = scrollTop - top;\n    } else {\n      ith = this._physicalEnd;\n      offsetContent = bottom - scrollBottom;\n    }\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      physicalItemHeight = this._physicalSizes[ith];\n      offsetContent = offsetContent - physicalItemHeight;\n      if (idxs.length >= physicalCount || offsetContent <= protectedOffsetContent) {\n        break;\n      }\n      if (fromTop) {\n        // Check that index is within the valid range.\n        if (virtualEnd + idxs.length + 1 >= this._virtualCount) {\n          break;\n        }\n        // Check that the index is not visible.\n        if (top + physicalItemHeight >= scrollTop - this._scrollOffset) {\n          break;\n        }\n        idxs.push(ith);\n        top = top + physicalItemHeight;\n        ith = (ith + 1) % physicalCount;\n      } else {\n        // Check that index is within the valid range.\n        if (virtualStart - idxs.length <= 0) {\n          break;\n        }\n        // Check that the index is not visible.\n        if (top + this._physicalSize - physicalItemHeight <= scrollBottom) {\n          break;\n        }\n        idxs.push(ith);\n        top = top - physicalItemHeight;\n        ith = ith === 0 ? physicalCount - 1 : ith - 1;\n      }\n    }\n    return { indexes: idxs, physicalTop: top - this._scrollOffset };\n  },\n\n  /**\n   * Update the list of items, starting from the `_virtualStart` item.\n   * @param {!Array<number>=} itemSet\n   * @param {!Array<number>=} movingUp\n   */\n  _update: function (itemSet, movingUp) {\n    if ((itemSet && itemSet.length === 0) || this._physicalCount === 0) {\n      return;\n    }\n    this._assignModels(itemSet);\n    this._updateMetrics(itemSet);\n    // Adjust offset after measuring.\n    if (movingUp) {\n      while (movingUp.length) {\n        const idx = movingUp.pop();\n        this._physicalTop -= this._physicalSizes[idx];\n      }\n    }\n    this._positionItems();\n    this._updateScrollerSize();\n  },\n\n  _isClientFull: function () {\n    return (\n      this._scrollBottom != 0 &&\n      this._physicalBottom - 1 >= this._scrollBottom &&\n      this._physicalTop <= this._scrollPosition\n    );\n  },\n\n  /**\n   * Increases the pool size.\n   */\n  _increasePoolIfNeeded: function (count) {\n    const nextPhysicalCount = this._clamp(\n      this._physicalCount + count,\n      DEFAULT_PHYSICAL_COUNT,\n      this._virtualCount - this._virtualStart\n    );\n    const delta = nextPhysicalCount - this._physicalCount;\n    let nextIncrease = Math.round(this._physicalCount * 0.5);\n\n    if (delta < 0) {\n      return;\n    }\n    if (delta > 0) {\n      const ts = window.performance.now();\n      // Concat arrays in place.\n      [].push.apply(this._physicalItems, this._createPool(delta));\n      // Push 0s into physicalSizes. Can't use Array.fill because IE11 doesn't support it.\n      for (let i = 0; i < delta; i++) {\n        this._physicalSizes.push(0);\n      }\n      this._physicalCount = this._physicalCount + delta;\n      // Update the physical start if it needs to preserve the model of the focused item.\n      // In this situation, the focused item is currently rendered and its model would\n      // have changed after increasing the pool if the physical start remained unchanged.\n      if (\n        this._physicalStart > this._physicalEnd &&\n        this._isIndexRendered(this._focusedVirtualIndex) &&\n        this._getPhysicalIndex(this._focusedVirtualIndex) < this._physicalEnd\n      ) {\n        this._physicalStart = this._physicalStart + delta;\n      }\n      this._update();\n      this._templateCost = (window.performance.now() - ts) / delta;\n      nextIncrease = Math.round(this._physicalCount * 0.5);\n    }\n    // The upper bounds is not fixed when dealing with a grid that doesn't\n    // fill it's last row with the exact number of items per row.\n    if (this._virtualEnd >= this._virtualCount - 1 || nextIncrease === 0) ; else if (!this._isClientFull()) {\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, nextIncrease), microTask);\n    } else if (this._physicalSize < this._optPhysicalSize) {\n      // Yield and increase the pool during idle time until the physical size is optimal.\n      this._debounce(\n        '_increasePoolIfNeeded',\n        this._increasePoolIfNeeded.bind(this, this._clamp(Math.round(50 / this._templateCost), 1, nextIncrease)),\n        idlePeriod\n      );\n    }\n  },\n\n  /**\n   * Renders the a new list.\n   */\n  _render: function () {\n    if (!this.isAttached || !this._isVisible) {\n      return;\n    }\n    if (this._physicalCount !== 0) {\n      const { physicalTop, indexes } = this._getReusables(true);\n      this._physicalTop = physicalTop;\n      this._virtualStart = this._virtualStart + indexes.length;\n      this._physicalStart = this._physicalStart + indexes.length;\n      this._update(indexes);\n      this._update();\n      this._increasePoolIfNeeded(0);\n    } else if (this._virtualCount > 0) {\n      // Initial render\n      this.updateViewportBoundaries();\n      this._increasePoolIfNeeded(DEFAULT_PHYSICAL_COUNT);\n    }\n  },\n\n  /**\n   * Called when the items have changed. That is, reassignments\n   * to `items`, splices or updates to a single item.\n   */\n  _itemsChanged: function (change) {\n    if (change.path === 'items') {\n      this._virtualStart = 0;\n      this._physicalTop = 0;\n      this._virtualCount = this.items ? this.items.length : 0;\n      this._physicalIndexForKey = {};\n      this._firstVisibleIndexVal = null;\n      this._lastVisibleIndexVal = null;\n      this._physicalCount = this._physicalCount || 0;\n      this._physicalItems = this._physicalItems || [];\n      this._physicalSizes = this._physicalSizes || [];\n      this._physicalStart = 0;\n      if (this._scrollTop > this._scrollOffset) {\n        this._resetScrollPosition(0);\n      }\n      this._debounce('_render', this._render, animationFrame);\n    }\n  },\n\n  /**\n   * Executes a provided function per every physical index in `itemSet`\n   * `itemSet` default value is equivalent to the entire set of physical indexes.\n   *\n   * @param {!function(number, number)} fn\n   * @param {!Array<number>=} itemSet\n   */\n  _iterateItems: function (fn, itemSet) {\n    let pidx, vidx, rtn, i;\n\n    if (arguments.length === 2 && itemSet) {\n      for (i = 0; i < itemSet.length; i++) {\n        pidx = itemSet[i];\n        vidx = this._computeVidx(pidx);\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n    } else {\n      pidx = this._physicalStart;\n      vidx = this._virtualStart;\n      for (; pidx < this._physicalCount; pidx++, vidx++) {\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n      for (pidx = 0; pidx < this._physicalStart; pidx++, vidx++) {\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n    }\n  },\n\n  /**\n   * Returns the virtual index for a given physical index\n   *\n   * @param {number} pidx Physical index\n   * @return {number}\n   */\n  _computeVidx: function (pidx) {\n    if (pidx >= this._physicalStart) {\n      return this._virtualStart + (pidx - this._physicalStart);\n    }\n    return this._virtualStart + (this._physicalCount - this._physicalStart) + pidx;\n  },\n\n  /**\n   * Updates the height for a given set of items.\n   *\n   * @param {!Array<number>=} itemSet\n   */\n  _updateMetrics: function (itemSet) {\n    // Make sure we distributed all the physical items\n    // so we can measure them.\n    flush();\n\n    let newPhysicalSize = 0;\n    let oldPhysicalSize = 0;\n    const prevAvgCount = this._physicalAverageCount;\n    const prevPhysicalAvg = this._physicalAverage;\n\n    this._iterateItems(function (pidx) {\n      oldPhysicalSize += this._physicalSizes[pidx];\n      this._physicalSizes[pidx] = this._physicalItems[pidx].offsetHeight;\n      newPhysicalSize += this._physicalSizes[pidx];\n      this._physicalAverageCount += this._physicalSizes[pidx] ? 1 : 0;\n    }, itemSet);\n\n    this._physicalSize = this._physicalSize + newPhysicalSize - oldPhysicalSize;\n\n    // Update the average if it measured something.\n    if (this._physicalAverageCount !== prevAvgCount) {\n      this._physicalAverage = Math.round(\n        (prevPhysicalAvg * prevAvgCount + newPhysicalSize) / this._physicalAverageCount\n      );\n    }\n  },\n\n  /**\n   * Updates the position of the physical items.\n   */\n  _positionItems: function () {\n    this._adjustScrollPosition();\n\n    let y = this._physicalTop;\n\n    this._iterateItems(function (pidx) {\n      this.translate3d(0, y + 'px', 0, this._physicalItems[pidx]);\n      y += this._physicalSizes[pidx];\n    });\n  },\n\n  /**\n   * Adjusts the scroll position when it was overestimated.\n   */\n  _adjustScrollPosition: function () {\n    const deltaHeight =\n      this._virtualStart === 0 ? this._physicalTop : Math.min(this._scrollPosition + this._physicalTop, 0);\n    // Note: the delta can be positive or negative.\n    if (deltaHeight !== 0) {\n      this._physicalTop = this._physicalTop - deltaHeight;\n      const scrollTop = this._scrollTop;\n      // juking scroll position during interial scrolling on iOS is no bueno\n      if (!IOS_TOUCH_SCROLLING && scrollTop > 0) {\n        this._resetScrollPosition(scrollTop - deltaHeight);\n      }\n    }\n  },\n\n  /**\n   * Sets the position of the scroll.\n   */\n  _resetScrollPosition: function (pos) {\n    if (this.scrollTarget && pos >= 0) {\n      this._scrollTop = pos;\n      this._scrollPosition = this._scrollTop;\n    }\n  },\n\n  /**\n   * Sets the scroll height, that's the height of the content,\n   *\n   * @param {boolean=} forceUpdate If true, updates the height no matter what.\n   */\n  _updateScrollerSize: function (forceUpdate) {\n    this._estScrollHeight =\n      this._physicalBottom +\n      Math.max(this._virtualCount - this._physicalCount - this._virtualStart, 0) * this._physicalAverage;\n    forceUpdate = forceUpdate || this._scrollHeight === 0;\n    forceUpdate = forceUpdate || this._scrollPosition >= this._estScrollHeight - this._physicalSize;\n    // Amortize height adjustment, so it won't trigger large repaints too often.\n    if (forceUpdate || Math.abs(this._estScrollHeight - this._scrollHeight) >= this._viewportHeight) {\n      this.$.items.style.height = this._estScrollHeight + 'px';\n      this._scrollHeight = this._estScrollHeight;\n    }\n  },\n\n  /**\n   * Scroll to a specific index in the virtual list regardless\n   * of the physical items in the DOM tree.\n   *\n   * @method scrollToIndex\n   * @param {number} idx The index of the item\n   */\n  scrollToIndex: function (idx) {\n    if (typeof idx !== 'number' || idx < 0 || idx > this.items.length - 1) {\n      return;\n    }\n    flush();\n    // Items should have been rendered prior scrolling to an index.\n    if (this._physicalCount === 0) {\n      return;\n    }\n    idx = this._clamp(idx, 0, this._virtualCount - 1);\n    // Update the virtual start only when needed.\n    if (!this._isIndexRendered(idx) || idx >= this._maxVirtualStart) {\n      this._virtualStart = idx - 1;\n    }\n    this._assignModels();\n    this._updateMetrics();\n    // Estimate new physical offset.\n    this._physicalTop = Math.floor(this._virtualStart) * this._physicalAverage;\n\n    let currentTopItem = this._physicalStart;\n    let currentVirtualItem = this._virtualStart;\n    let targetOffsetTop = 0;\n    const hiddenContentSize = this._hiddenContentSize;\n    // scroll to the item as much as we can.\n    while (currentVirtualItem < idx && targetOffsetTop <= hiddenContentSize) {\n      targetOffsetTop = targetOffsetTop + this._physicalSizes[currentTopItem];\n      currentTopItem = (currentTopItem + 1) % this._physicalCount;\n      currentVirtualItem++;\n    }\n    this._updateScrollerSize(true);\n    this._positionItems();\n    this._resetScrollPosition(this._physicalTop + this._scrollOffset + targetOffsetTop);\n    this._increasePoolIfNeeded(0);\n    // clear cached visible index.\n    this._firstVisibleIndexVal = null;\n    this._lastVisibleIndexVal = null;\n  },\n\n  /**\n   * Reset the physical average and the average count.\n   */\n  _resetAverage: function () {\n    this._physicalAverage = 0;\n    this._physicalAverageCount = 0;\n  },\n\n  /**\n   * A handler for the `iron-resize` event triggered by `IronResizableBehavior`\n   * when the element is resized.\n   */\n  _resizeHandler: function () {\n    this._debounce(\n      '_render',\n      function () {\n        // clear cached visible index.\n        this._firstVisibleIndexVal = null;\n        this._lastVisibleIndexVal = null;\n        // Skip the resize event on touch devices when the address bar slides up.\n        this.updateViewportBoundaries();\n        if (this._isVisible) {\n          // Reinstall the scroll event listener.\n          this.toggleScrollListener(true);\n          this._resetAverage();\n          this._render();\n        } else {\n          // Uninstall the scroll event listener.\n          this.toggleScrollListener(false);\n        }\n      },\n      animationFrame\n    );\n  },\n\n  _isIndexRendered: function (idx) {\n    return idx >= this._virtualStart && idx <= this._virtualEnd;\n  },\n\n  _getPhysicalIndex: function (vidx) {\n    return (this._physicalStart + (vidx - this._virtualStart)) % this._physicalCount;\n  },\n\n  _clamp: function (v, min, max) {\n    return Math.min(max, Math.max(min, v));\n  },\n\n  _debounce: function (name, cb, asyncModule) {\n    this._debouncers = this._debouncers || {};\n    this._debouncers[name] = Debouncer.debounce(this._debouncers[name], asyncModule, cb.bind(this));\n    enqueueDebouncer(this._debouncers[name]);\n  }\n});\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * This Element is used internally by vaadin-grid.\n *\n * @implements PolymerIronList\n * @extends HTMLElement\n */\nclass ScrollerElement extends PolymerIronList {\n  static get properties() {\n    return {\n      size: {\n        type: Number,\n        notify: true\n      },\n\n      /**\n       * @type {number}\n       * @protected\n       */\n      _vidxOffset: {\n        type: Number,\n        value: 0\n      }\n    };\n  }\n\n  static get observers() {\n    return ['_effectiveSizeChanged(_effectiveSize)'];\n  }\n\n  /** @protected */\n  connectedCallback() {\n    super.connectedCallback();\n    this._scrollHandler();\n  }\n\n  /**\n   * @param {!HTMLTableRowElement} item\n   * @param {number} index\n   * @protected\n   */\n  _updateScrollerItem() {}\n\n  /** @protected */\n  _afterScroll() {}\n\n  /** @protected */\n  _getRowTarget() {}\n\n  /** @protected */\n  _createScrollerRows() {}\n\n  /** @protected */\n  _canPopulate() {}\n\n  /**\n   * @param {number} index\n   * @protected\n   */\n  scrollToIndex(index) {\n    this._warnPrivateAPIAccess('scrollToIndex');\n\n    this._scrollingToIndex = true;\n    index = Math.min(Math.max(index, 0), this._effectiveSize - 1);\n    this.$.table.scrollTop = (index / this._effectiveSize) * (this.$.table.scrollHeight - this.$.table.offsetHeight);\n    this._scrollHandler();\n\n    if (this._accessIronListAPI(() => this._maxScrollTop) && this._virtualCount < this._effectiveSize) {\n      this._adjustVirtualIndexOffset(1000000);\n    }\n\n    this._accessIronListAPI(() => super.scrollToIndex(index - this._vidxOffset));\n    this._scrollHandler();\n\n    // Ensure scroll position\n    const row = Array.from(this.$.items.children).filter((child) => child.index === index)[0];\n    if (row) {\n      const headerOffset = row.getBoundingClientRect().top - this.$.header.getBoundingClientRect().bottom;\n      if (Math.abs(headerOffset) > 1) {\n        this.$.table.scrollTop += headerOffset;\n        this._scrollHandler();\n      }\n    }\n\n    this._scrollingToIndex = false;\n  }\n\n  /** @private */\n  _effectiveSizeChanged(size) {\n    let fvi; // first visible (adjusted) index\n    let fviOffset = 0;\n    this._iterateItems((pidx, vidx) => {\n      if (vidx === this._firstVisibleIndex) {\n        const row = this._physicalItems[pidx];\n        fvi = row.index;\n        fviOffset = row.getBoundingClientRect().top;\n      }\n    });\n\n    if (this.items && size < this.items.length) {\n      // Size was reduced, scroll to 0 first\n      this._scrollTop = 0;\n    }\n    if (!Array.isArray(this.items)) {\n      const maxVirtualItems = 100000;\n      this.items = { length: Math.min(size, maxVirtualItems) };\n    }\n\n    this._accessIronListAPI(() => super._itemsChanged({ path: 'items' }));\n\n    this._virtualCount = Math.min(this.items.length, size) || 0;\n\n    if (this._scrollTop === 0) {\n      this._accessIronListAPI(() => this._scrollToIndex(Math.min(size - 1, fvi)));\n      this._iterateItems((pidx) => {\n        const row = this._physicalItems[pidx];\n        if (row.index === fvi) {\n          this.$.table.scrollTop += Math.round(row.getBoundingClientRect().top - fviOffset);\n        }\n        // Restore keyboard focus to the right cell\n        if (\n          row.index === this._focusedItemIndex &&\n          this._itemsFocusable &&\n          this.$.items.contains(this.shadowRoot.activeElement)\n        ) {\n          const cellIndex = Array.from(this._itemsFocusable.parentElement.children).indexOf(this._itemsFocusable);\n          row.children[cellIndex].focus();\n        }\n      });\n    }\n    this._assignModels();\n    requestAnimationFrame(() => this._update());\n\n    this.__updateFooterPositioning();\n  }\n\n  /** @protected */\n  _positionItems() {\n    this._adjustScrollPosition();\n\n    let rePosition;\n    if (isNaN(this._physicalTop)) {\n      rePosition = true;\n      this._physicalTop = 0;\n    }\n\n    let y = this._physicalTop;\n    this._iterateItems((pidx) => {\n      this._physicalItems[pidx].style.transform = `translateY(${y}px)`;\n      y += this._physicalSizes[pidx];\n    });\n\n    if (rePosition) {\n      this._scrollToIndex(0);\n    }\n  }\n\n  /**\n   * @param {number} count\n   * @protected\n   */\n  _increasePoolIfNeeded(count) {\n    if ((count === 0 && this._scrollingToIndex) || !this._canPopulate() || !this._effectiveSize) {\n      return;\n    }\n\n    if (!this._initialPoolCreated) {\n      this._initialPoolCreated = true;\n      super._increasePoolIfNeeded(25);\n    } else if (this._optPhysicalSize !== Infinity) {\n      this._debounceIncreasePool = Debouncer.debounce(this._debounceIncreasePool, animationFrame, () => {\n        this._updateMetrics();\n        const remainingPhysicalSize = this._optPhysicalSize - this._physicalSize;\n        let estimatedMissingRowCount = Math.ceil(remainingPhysicalSize / this._physicalAverage);\n\n        if (this._physicalCount + estimatedMissingRowCount > this._effectiveSize) {\n          // Do not increase the physical item count above the this._effectiveSize\n          estimatedMissingRowCount = Math.max(0, this._effectiveSize - this._physicalCount);\n        }\n\n        if (this._physicalSize && estimatedMissingRowCount > 0 && this._optPhysicalSize !== Infinity) {\n          super._increasePoolIfNeeded(estimatedMissingRowCount);\n          // Ensure the rows are in order after increasing pool\n          this.__reorderChildNodes();\n        }\n      });\n    }\n  }\n\n  /** @private */\n  __reorderChildNodes() {\n    const childNodes = Array.from(this.$.items.childNodes);\n    const rowsInOrder = !!childNodes.reduce((inOrder, current, currentIndex, array) => {\n      if (currentIndex === 0 || array[currentIndex - 1].index === current.index - 1) {\n        return inOrder;\n      }\n    }, true);\n\n    if (!rowsInOrder) {\n      childNodes\n        .sort((row1, row2) => {\n          return row1.index - row2.index;\n        })\n        .forEach((row) => this.$.items.appendChild(row));\n    }\n  }\n\n  /** @private */\n  _createPool(size) {\n    const fragment = document.createDocumentFragment();\n    const physicalItems = this._createScrollerRows(size);\n\n    physicalItems.forEach((inst) => fragment.appendChild(inst));\n    this._getRowTarget().appendChild(fragment);\n\n    // Weird hack needed to get Safari to actually distribute slots\n    const content = this.querySelector('[slot]');\n    if (content) {\n      const slot = content.getAttribute('slot');\n      content.setAttribute('slot', 'foo-bar');\n      content.setAttribute('slot', slot);\n    }\n\n    afterNextRender(this, () => this.notifyResize());\n    return physicalItems;\n  }\n\n  /**\n   * Assigns the data models to a given set of items.\n   * @param {!Array<number>=} itemSet\n   * @protected\n   */\n  _assignModels(itemSet) {\n    this._iterateItems((pidx, vidx) => {\n      const el = this._physicalItems[pidx];\n      this._toggleAttribute('hidden', vidx >= this._effectiveSize, el);\n      this._updateScrollerItem(el, vidx + (this._vidxOffset || 0));\n    }, itemSet);\n  }\n\n  /** @protected */\n  _scrollHandler() {\n    const delta = this.$.table.scrollTop - this._scrollPosition;\n    this._accessIronListAPI(super._scrollHandler);\n    const oldOffset = this._vidxOffset;\n    if (this._accessIronListAPI(() => this._maxScrollTop) && this._virtualCount < this._effectiveSize) {\n      this._adjustVirtualIndexOffset(delta);\n    } else {\n      this._vidxOffset = 0;\n    }\n    if (this._vidxOffset !== oldOffset) {\n      this._update();\n    }\n    this._afterScroll();\n  }\n\n  /** @private */\n  _adjustVirtualIndexOffset(delta) {\n    if (Math.abs(delta) > 10000) {\n      if (this._noScale) {\n        this._noScale = false;\n        return;\n      }\n      const scale = this.$.table.scrollTop / (this.$.table.scrollHeight - this.$.table.offsetHeight);\n      const offset = scale * this._effectiveSize;\n      this._vidxOffset = Math.round(offset - scale * this._virtualCount);\n    } else {\n      // Make sure user can always swipe/wheel scroll to the start and end\n      const oldOffset = this._vidxOffset || 0;\n      const threshold = 1000;\n      const maxShift = 100;\n      // At start\n      if (this._scrollTop === 0) {\n        this._vidxOffset = 0;\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(0);\n        }\n      } else if (this.firstVisibleIndex < threshold && this._vidxOffset > 0) {\n        this._vidxOffset -= Math.min(this._vidxOffset, maxShift);\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this.firstVisibleIndex + (oldOffset - this._vidxOffset));\n        }\n        this._noScale = true;\n      }\n      // At end\n      const maxOffset = this._effectiveSize - this._virtualCount;\n      if (this._scrollTop >= this._maxScrollTop && this._maxScrollTop > 0) {\n        this._vidxOffset = maxOffset;\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this._virtualCount);\n        }\n      } else if (this.firstVisibleIndex > this._virtualCount - threshold && this._vidxOffset < maxOffset) {\n        this._vidxOffset += Math.min(maxOffset - this._vidxOffset, maxShift);\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this.firstVisibleIndex - (this._vidxOffset - oldOffset));\n        }\n        this._noScale = true;\n      }\n    }\n  }\n\n  /** @private */\n  _accessIronListAPI(cb) {\n    this._warnPrivateAPIAccessAsyncEnabled = false;\n    const returnValue = cb.apply(this);\n    this._debouncerWarnPrivateAPIAccess = Debouncer.debounce(\n      this._debouncerWarnPrivateAPIAccess,\n      animationFrame,\n      () => (this._warnPrivateAPIAccessAsyncEnabled = true)\n    );\n    return returnValue;\n  }\n\n  /**\n   * Allow iron-list to access its APIs from debounced callbacks without warns\n   * @private\n   */\n  _debounceRender(cb, asyncModule) {\n    super._debounceRender(() => this._accessIronListAPI(cb), asyncModule);\n  }\n\n  /**\n   * Warn when iron-list APIs are being accessed directly\n   * @private\n   */\n  _warnPrivateAPIAccess(apiName) {\n    if (this._warnPrivateAPIAccessAsyncEnabled) {\n      console.warn(`Accessing private API (${apiName})!`);\n    }\n  }\n\n  /** @protected */\n  _render() {\n    this._accessIronListAPI(super._render);\n  }\n\n  /** @protected */\n  _itemsChanged() {\n    /* Ignore */\n  }\n\n  /**\n   * @return {number}\n   * @protected\n   */\n  get _firstVisibleIndex() {\n    return this._accessIronListAPI(() => super.firstVisibleIndex);\n  }\n\n  /**\n   * @return {number}\n   * @protected\n   */\n  get _lastVisibleIndex() {\n    return this._accessIronListAPI(() => super.lastVisibleIndex);\n  }\n\n  /**\n   * @param {number} index\n   * @protected\n   */\n  _scrollToIndex(index) {\n    this._accessIronListAPI(() => this.scrollToIndex(index));\n  }\n\n  /** @private */\n  get firstVisibleIndex() {\n    this._warnPrivateAPIAccess('firstVisibleIndex');\n    return super.firstVisibleIndex;\n  }\n\n  /** @private */\n  set firstVisibleIndex(value) {\n    this._warnPrivateAPIAccess('firstVisibleIndex');\n    super.firstVisibleIndex = value;\n  }\n\n  /** @private */\n  get lastVisibleIndex() {\n    this._warnPrivateAPIAccess('lastVisibleIndex');\n    return super.lastVisibleIndex;\n  }\n\n  /** @private */\n  set lastVisibleIndex(value) {\n    this._warnPrivateAPIAccess('lastVisibleIndex');\n    super.lastVisibleIndex = value;\n  }\n\n  /** @private */\n  updateViewportBoundaries() {\n    this._warnPrivateAPIAccess('updateViewportBoundaries');\n    super.updateViewportBoundaries.apply(this, arguments);\n  }\n\n  /** @protected */\n  _resizeHandler() {\n    super._resizeHandler();\n    flush();\n  }\n}\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst A11yMixin = (superClass) =>\n  class A11yMixin extends superClass {\n    static get observers() {\n      return ['_a11yUpdateGridSize(size, _columnTree, _columnTree.*)'];\n    }\n\n    /** @private */\n    _a11yGetHeaderRowCount(_columnTree) {\n      return _columnTree.filter((level) =>\n        level.some((col) => col._headerTemplate || col.headerRenderer || col.path || col.header)\n      ).length;\n    }\n\n    /** @private */\n    _a11yGetFooterRowCount(_columnTree) {\n      return _columnTree.filter((level) => level.some((col) => col._headerTemplate || col.headerRenderer)).length;\n    }\n\n    /** @private */\n    _a11yUpdateGridSize(size, _columnTree) {\n      if (size === undefined || _columnTree === undefined) {\n        return;\n      }\n\n      const bodyColumns = _columnTree[_columnTree.length - 1];\n      this.$.table.setAttribute(\n        'aria-rowcount',\n        size + this._a11yGetHeaderRowCount(_columnTree) + this._a11yGetFooterRowCount(_columnTree)\n      );\n      this.$.table.setAttribute('aria-colcount', (bodyColumns && bodyColumns.length) || 0);\n\n      this._a11yUpdateHeaderRows();\n      this._a11yUpdateFooterRows();\n    }\n\n    /** @protected */\n    _a11yUpdateHeaderRows() {\n      Array.from(this.$.header.children).forEach((headerRow, index) =>\n        headerRow.setAttribute('aria-rowindex', index + 1)\n      );\n    }\n\n    /** @protected */\n    _a11yUpdateFooterRows() {\n      Array.from(this.$.footer.children).forEach((footerRow, index) =>\n        footerRow.setAttribute('aria-rowindex', this._a11yGetHeaderRowCount(this._columnTree) + this.size + index + 1)\n      );\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {number} index\n     * @protected\n     */\n    _a11yUpdateRowRowindex(row, index) {\n      row.setAttribute('aria-rowindex', index + this._a11yGetHeaderRowCount(this._columnTree) + 1);\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {boolean} selected\n     * @protected\n     */\n    _a11yUpdateRowSelected(row, selected) {\n      // Jaws reads selection only for rows, NVDA only for cells\n      row.setAttribute('aria-selected', Boolean(selected));\n      Array.from(row.children).forEach((cell) => cell.setAttribute('aria-selected', Boolean(selected)));\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {number} level\n     * @protected\n     */\n    _a11yUpdateRowLevel(row, level) {\n      row.setAttribute('aria-level', level + 1);\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {boolean} detailsOpened\n     * @protected\n     */\n    _a11yUpdateRowDetailsOpened(row, detailsOpened) {\n      Array.from(row.children).forEach((cell) => {\n        if (typeof detailsOpened === 'boolean') {\n          cell.setAttribute('aria-expanded', detailsOpened);\n        } else {\n          if (cell.hasAttribute('aria-expanded')) {\n            cell.removeAttribute('aria-expanded');\n          }\n        }\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {!HTMLElement} detailsCell\n     * @protected\n     */\n    _a11ySetRowDetailsCell(row, detailsCell) {\n      Array.from(row.children).forEach((cell) => {\n        if (cell !== detailsCell) {\n          cell.setAttribute('aria-controls', detailsCell.id);\n        }\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {number} colspan\n     * @protected\n     */\n    _a11yUpdateCellColspan(cell, colspan) {\n      cell.setAttribute('aria-colspan', Number(colspan));\n    }\n\n    /** @protected */\n    _a11yUpdateSorters() {\n      Array.from(this.querySelectorAll('vaadin-grid-sorter')).forEach((sorter) => {\n        let cellContent = sorter.parentNode;\n        while (cellContent && cellContent.localName !== 'vaadin-grid-cell-content') {\n          cellContent = cellContent.parentNode;\n        }\n        if (cellContent && cellContent.assignedSlot) {\n          const cell = cellContent.assignedSlot.parentNode;\n          cell.setAttribute(\n            'aria-sort',\n            {\n              asc: 'ascending',\n              desc: 'descending'\n            }[String(sorter.direction)] || 'none'\n          );\n        }\n      });\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst ActiveItemMixin = (superClass) =>\n  class ActiveItemMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * The item user has last interacted with. Turns to `null` after user deactivates\n         * the item by re-interacting with the currently active item.\n         * @type {GridItem}\n         */\n        activeItem: {\n          type: Object,\n          notify: true,\n          value: null\n        }\n      };\n    }\n\n    ready() {\n      super.ready();\n\n      this.$.scroller.addEventListener('click', this._onClick.bind(this));\n      this.addEventListener('cell-activate', this._activateItem.bind(this));\n    }\n\n    /** @private */\n    _activateItem(e) {\n      const model = e.detail.model;\n      const clickedItem = model ? model.item : null;\n\n      if (clickedItem) {\n        this.activeItem = !this._itemsEqual(this.activeItem, clickedItem) ? clickedItem : null;\n      }\n    }\n\n    /**\n     * We need to listen to click instead of tap because on mobile safari, the\n     * document.activeElement has not been updated (focus has not been shifted)\n     * yet at the point when tap event is being executed.\n     * @param {!MouseEvent} e\n     * @protected\n     */\n    _onClick(e) {\n      if (e.defaultPrevented) {\n        // Something has handled this click already, e. g., <vaadin-grid-sorter>\n        return;\n      }\n\n      const path = e.composedPath();\n      const cell = path[path.indexOf(this.$.table) - 3];\n      if (!cell || cell.getAttribute('part').indexOf('details-cell') > -1) {\n        return;\n      }\n      const cellContent = cell._content;\n\n      const activeElement = this.getRootNode().activeElement;\n      const cellContentHasFocus = cellContent.contains(activeElement);\n      if (!cellContentHasFocus && !this._isFocusable(e.target)) {\n        this.dispatchEvent(\n          new CustomEvent('cell-activate', {\n            detail: {\n              model: this.__getRowModel(cell.parentElement)\n            }\n          })\n        );\n      }\n    }\n\n    /**\n     * @param {!Element} target\n     * @return {boolean}\n     * @protected\n     */\n    _isFocusable(target) {\n      return isFocusable(target);\n    }\n\n    /**\n     * Fired when the `activeItem` property changes.\n     *\n     * @event active-item-changed\n     */\n\n    /**\n     * Fired when the cell is activated with click or keyboard.\n     *\n     * @event cell-activate\n     */\n  };\n\n/**\n * @param {!Element} target\n * @return {boolean}\n * @protected\n */\nconst isFocusable = (target) => {\n  if (!target.parentNode) {\n    return false;\n  }\n  const focusables = Array.from(\n    target.parentNode.querySelectorAll(\n      '[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]'\n    )\n  ).filter((element) => element.getAttribute('part') !== 'cell body-cell');\n\n  const isFocusableElement = focusables.indexOf(target) !== -1;\n  return !target.disabled && isFocusableElement;\n};\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst ArrayDataProviderMixin = (superClass) =>\n  class ArrayDataProviderMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * An array containing the items which will be stamped to the column template\n         * instances.\n         *\n         * @type {Array<!GridItem> | undefined}\n         */\n        items: Array\n      };\n    }\n\n    static get observers() {\n      return ['_itemsChanged(items, items.*, isAttached)'];\n    }\n\n    /** @private */\n    _itemsChanged(items, splices, isAttached) {\n      if (!isAttached) {\n        return;\n      }\n      if (!Array.isArray(items)) {\n        if (items === undefined || items === null) {\n          this.size = 0;\n        }\n        if (this.dataProvider === this._arrayDataProvider) {\n          this.dataProvider = undefined;\n        }\n        return;\n      }\n\n      this.size = items.length;\n      this.dataProvider = this.dataProvider || this._arrayDataProvider;\n      this.clearCache();\n      this._ensureFirstPageLoaded();\n    }\n\n    /**\n     * @param {GridDataProviderParams} opts\n     * @param {GridDataProviderCallback} cb\n     * @protected\n     */\n    _arrayDataProvider(opts, cb) {\n      let items = (Array.isArray(this.items) ? this.items : []).slice(0);\n\n      if (this._filters && this._checkPaths(this._filters, 'filtering', items)) {\n        items = this._filter(items);\n      }\n\n      this.size = items.length;\n\n      if (opts.sortOrders.length && this._checkPaths(this._sorters, 'sorting', items)) {\n        items = items.sort(this._multiSort.bind(this));\n      }\n\n      const start = opts.page * opts.pageSize;\n      const end = start + opts.pageSize;\n      const slice = items.slice(start, end);\n      cb(slice, items.length);\n    }\n\n    /**\n     * Check array of filters/sorters for paths validity, console.warn invalid items\n     * @param {!Array<!GridFilter | !GridSorter>} arrayToCheck The array of filters/sorters to check\n     * @param {string} action The name of action to include in warning (filtering, sorting)\n     * @param {!Array<!GridItem>} items\n     * @protected\n     */\n    _checkPaths(arrayToCheck, action, items) {\n      if (!items.length) {\n        return false;\n      }\n\n      let result = true;\n\n      for (let i in arrayToCheck) {\n        const path = arrayToCheck[i].path;\n\n        // skip simple paths\n        if (!path || path.indexOf('.') === -1) {\n          continue;\n        }\n\n        const parentProperty = path.replace(/\\.[^.]*$/, ''); // a.b.c -> a.b\n        if (Base.get(parentProperty, items[0]) === undefined) {\n          console.warn(`Path \"${path}\" used for ${action} does not exist in all of the items, ${action} is disabled.`);\n          result = false;\n        }\n      }\n\n      return result;\n    }\n\n    /**\n     * @param {unknown} a\n     * @param {unknown} b\n     * @return {number}\n     * @protected\n     */\n    _multiSort(a, b) {\n      return this._sorters\n        .map((sort) => {\n          if (sort.direction === 'asc') {\n            return this._compare(Base.get(sort.path, a), Base.get(sort.path, b));\n          } else if (sort.direction === 'desc') {\n            return this._compare(Base.get(sort.path, b), Base.get(sort.path, a));\n          }\n          return 0;\n        })\n        .reduce((p, n) => {\n          return p ? p : n;\n        }, 0);\n    }\n\n    /**\n     * @param {unknown} value\n     * @return {string}\n     * @protected\n     */\n    _normalizeEmptyValue(value) {\n      if ([undefined, null].indexOf(value) >= 0) {\n        return '';\n      } else if (isNaN(value)) {\n        return value.toString();\n      } else {\n        return value;\n      }\n    }\n\n    /**\n     * @param {unknown} a\n     * @param {unknown} b\n     * @return {number}\n     * @protected\n     */\n    _compare(a, b) {\n      a = this._normalizeEmptyValue(a);\n      b = this._normalizeEmptyValue(b);\n\n      if (a < b) {\n        return -1;\n      }\n      if (a > b) {\n        return 1;\n      }\n      return 0;\n    }\n\n    /**\n     * @param {!Array<!GridItem>} items\n     * @return {!Array<!GridItem>}\n     * @protected\n     */\n    _filter(items) {\n      return items.filter((item) => {\n        return (\n          this._filters.filter((filter) => {\n            const value = this._normalizeEmptyValue(Base.get(filter.path, item));\n            const filterValueLowercase = this._normalizeEmptyValue(filter.value).toString().toLowerCase();\n            return value.toString().toLowerCase().indexOf(filterValueLowercase) === -1;\n          }).length === 0\n        );\n      });\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst ColumnResizingMixin = (superClass) =>\n  class ColumnResizingMixin extends GestureEventListeners(superClass) {\n    ready() {\n      super.ready();\n      const scroller = this.$.scroller;\n      addListener(scroller, 'track', this._onHeaderTrack.bind(this));\n\n      // Disallow scrolling while resizing\n      scroller.addEventListener('touchmove', (e) => scroller.hasAttribute('column-resizing') && e.preventDefault());\n\n      // Disable contextmenu on any resize separator.\n      scroller.addEventListener(\n        'contextmenu',\n        (e) => e.target.getAttribute('part') == 'resize-handle' && e.preventDefault()\n      );\n\n      // Disable native cell focus when resizing\n      scroller.addEventListener(\n        'mousedown',\n        (e) => e.target.getAttribute('part') === 'resize-handle' && e.preventDefault()\n      );\n    }\n\n    /** @private */\n    _onHeaderTrack(e) {\n      const handle = e.target;\n      if (handle.getAttribute('part') === 'resize-handle') {\n        const cell = handle.parentElement;\n        let column = cell._column;\n\n        this._toggleAttribute('column-resizing', true, this.$.scroller);\n\n        // Get the target column to resize\n        while (column.localName === 'vaadin-grid-column-group') {\n          column = Array.prototype.slice\n            .call(column._childColumns, 0)\n            .sort(function (a, b) {\n              return a._order - b._order;\n            })\n            .filter(function (column) {\n              return !column.hidden;\n            })\n            .pop();\n        }\n\n        const columnRowCells = Array.from(this.$.header.querySelectorAll('[part~=\"row\"]:last-child [part~=\"cell\"]'));\n        const targetCell = columnRowCells.filter((cell) => cell._column === column)[0];\n        // Resize the target column\n        if (targetCell.offsetWidth) {\n          const style = window.getComputedStyle(targetCell);\n          const minWidth =\n            10 +\n            parseInt(style.paddingLeft) +\n            parseInt(style.paddingRight) +\n            parseInt(style.borderLeftWidth) +\n            parseInt(style.borderRightWidth) +\n            parseInt(style.marginLeft) +\n            parseInt(style.marginRight);\n          const maxWidth =\n            targetCell.offsetWidth +\n            (this.__isRTL\n              ? targetCell.getBoundingClientRect().left - e.detail.x\n              : e.detail.x - targetCell.getBoundingClientRect().right);\n          column.width = Math.max(minWidth, maxWidth) + 'px';\n          column.flexGrow = 0;\n        }\n        // Fix width and flex-grow for all preceding columns\n        columnRowCells\n          .sort(function (a, b) {\n            return a._column._order - b._column._order;\n          })\n          .forEach(function (cell, index, array) {\n            if (index < array.indexOf(targetCell)) {\n              cell._column.width = cell.offsetWidth + 'px';\n              cell._column.flexGrow = 0;\n            }\n          });\n\n        if (e.detail.state === 'end') {\n          this._toggleAttribute('column-resizing', false, this.$.scroller);\n          this.dispatchEvent(\n            new CustomEvent('column-resize', {\n              detail: { resizedColumn: column }\n            })\n          );\n        }\n\n        // Notify resize\n        this._resizeHandler();\n      }\n    }\n\n    /**\n     * Fired when a column in the grid is resized by the user.\n     *\n     * @event column-resize\n     * @param {Object} detail\n     * @param {Object} detail.resizedColumn the column that was resized\n     */\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @private\n */\nconst ItemCache = class ItemCache {\n  /**\n   * @param {!HTMLElement} grid\n   * @param {!ItemCache | undefined} parentCache\n   * @param {!GridItem | undefined} parentItem\n   */\n  constructor(grid, parentCache, parentItem) {\n    /** @type {!HTMLElement} */\n    this.grid = grid;\n    /** @type {!ItemCache | undefined} */\n    this.parentCache = parentCache;\n    /** @type {!GridItem | undefined} */\n    this.parentItem = parentItem;\n    /** @type {object} */\n    this.itemCaches = {};\n    /** @type {object} */\n    this.items = {};\n    /** @type {number} */\n    this.effectiveSize = 0;\n    /** @type {number} */\n    this.size = 0;\n    /** @type {object} */\n    this.pendingRequests = {};\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isLoading() {\n    return Boolean(\n      Object.keys(this.pendingRequests).length ||\n        Object.keys(this.itemCaches).filter((index) => {\n          return this.itemCaches[index].isLoading();\n        })[0]\n    );\n  }\n\n  /**\n   * @param {number} index\n   * @return {!GridItem | undefined}\n   */\n  getItemForIndex(index) {\n    const { cache, scaledIndex } = this.getCacheAndIndex(index);\n    return cache.items[scaledIndex];\n  }\n\n  updateSize() {\n    this.effectiveSize =\n      !this.parentItem || this.grid._isExpanded(this.parentItem)\n        ? this.size +\n          Object.keys(this.itemCaches).reduce((prev, curr) => {\n            const subCache = this.itemCaches[curr];\n            subCache.updateSize();\n            return prev + subCache.effectiveSize;\n          }, 0)\n        : 0;\n  }\n\n  /**\n   * @param {number} scaledIndex\n   */\n  ensureSubCacheForScaledIndex(scaledIndex) {\n    if (!this.itemCaches[scaledIndex]) {\n      const subCache = new ItemCache(this.grid, this, this.items[scaledIndex]);\n      this.itemCaches[scaledIndex] = subCache;\n      this.grid._loadPage(0, subCache);\n    }\n  }\n\n  /**\n   * @param {number} index\n   * @return {{cache: !ItemCache, scaledIndex: number}}\n   */\n  getCacheAndIndex(index) {\n    let thisLevelIndex = index;\n    const keys = Object.keys(this.itemCaches);\n    for (let i = 0; i < keys.length; i++) {\n      const expandedIndex = Number(keys[i]);\n      const subCache = this.itemCaches[expandedIndex];\n      if (thisLevelIndex <= expandedIndex) {\n        return { cache: this, scaledIndex: thisLevelIndex };\n      } else if (thisLevelIndex <= expandedIndex + subCache.effectiveSize) {\n        return subCache.getCacheAndIndex(thisLevelIndex - expandedIndex - 1);\n      }\n      thisLevelIndex -= subCache.effectiveSize;\n    }\n    return { cache: this, scaledIndex: thisLevelIndex };\n  }\n};\n\n/**\n * @polymerMixin\n */\nconst DataProviderMixin = (superClass) =>\n  class DataProviderMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Number of items fetched at a time from the dataprovider.\n         * @attr {number} page-size\n         * @type {number}\n         */\n        pageSize: {\n          type: Number,\n          value: 50,\n          observer: '_pageSizeChanged'\n        },\n\n        /**\n         * Function that provides items lazily. Receives arguments `params`, `callback`\n         *\n         * `params.page` Requested page index\n         *\n         * `params.pageSize` Current page size\n         *\n         * `params.filters` Currently applied filters\n         *\n         * `params.sortOrders` Currently applied sorting orders\n         *\n         * `params.parentItem` When tree is used, and sublevel items\n         * are requested, reference to parent item of the requested sublevel.\n         * Otherwise `undefined`.\n         *\n         * `callback(items, size)` Callback function with arguments:\n         *   - `items` Current page of items\n         *   - `size` Total number of items. When tree sublevel items\n         *     are requested, total number of items in the requested sublevel.\n         *     Optional when tree is not used, required for tree.\n         *\n         * @type {GridDataProvider | null | undefined}\n         */\n        dataProvider: {\n          type: Object,\n          notify: true,\n          observer: '_dataProviderChanged'\n        },\n\n        /**\n         * `true` while data is being requested from the data provider.\n         */\n        loading: {\n          type: Boolean,\n          notify: true,\n          readOnly: true,\n          reflectToAttribute: true\n        },\n\n        /**\n         * @type {!ItemCache}\n         * @protected\n         */\n        _cache: {\n          type: Object,\n          value: function () {\n            const cache = new ItemCache(this);\n            return cache;\n          }\n        },\n\n        /**\n         * Path to an item sub-property that identifies the item.\n         * @attr {string} item-id-path\n         */\n        itemIdPath: {\n          type: String,\n          value: null\n        },\n\n        /**\n         * An array that contains the expanded items.\n         * @type {!Array<!GridItem>}\n         */\n        expandedItems: {\n          type: Object,\n          notify: true,\n          value: () => []\n        }\n      };\n    }\n\n    static get observers() {\n      return ['_sizeChanged(size)', '_itemIdPathChanged(itemIdPath)', '_expandedItemsChanged(expandedItems.*)'];\n    }\n\n    /** @private */\n    _sizeChanged(size) {\n      const delta = size - this._cache.size;\n      this._cache.size += delta;\n      this._cache.effectiveSize += delta;\n      this._effectiveSize = this._cache.effectiveSize;\n      this._increasePoolIfNeeded(0);\n      this._debounceIncreasePool && this._debounceIncreasePool.flush();\n    }\n\n    /**\n     * @param {number} index\n     * @param {HTMLElement} el\n     * @protected\n     */\n    _getItem(index, el) {\n      if (index >= this._effectiveSize) {\n        return;\n      }\n\n      el.index = index;\n      const { cache, scaledIndex } = this._cache.getCacheAndIndex(index);\n      const item = cache.items[scaledIndex];\n      if (item) {\n        this._toggleAttribute('loading', false, el);\n        this._updateItem(el, item);\n        if (this._isExpanded(item)) {\n          cache.ensureSubCacheForScaledIndex(scaledIndex);\n        }\n      } else {\n        this._toggleAttribute('loading', true, el);\n        this._loadPage(this._getPageForIndex(scaledIndex), cache);\n      }\n    }\n\n    /** @private */\n    _expandedInstanceChangedCallback(inst, value) {\n      if (inst.item === undefined) {\n        return;\n      }\n      if (value) {\n        this.expandItem(inst.item);\n      } else {\n        this.collapseItem(inst.item);\n      }\n    }\n\n    /**\n     * Returns a value that identifies the item. Uses `itemIdPath` if available.\n     * Can be customized by overriding.\n     * @param {!GridItem} item\n     * @return {!GridItem | !unknown}\n     */\n    getItemId(item) {\n      return this.itemIdPath ? this.get(this.itemIdPath, item) : item;\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @return {boolean}\n     * @protected\n     */\n    _isExpanded(item) {\n      return this.__expandedKeys.has(this.getItemId(item));\n    }\n\n    /** @private */\n    _expandedItemsChanged() {\n      this.__cacheExpandedKeys();\n      this._cache.updateSize();\n      this._effectiveSize = this._cache.effectiveSize;\n      this._assignModels();\n    }\n\n    /** @private */\n    _itemIdPathChanged() {\n      this.__cacheExpandedKeys();\n    }\n\n    /** @private */\n    __cacheExpandedKeys() {\n      if (this.expandedItems) {\n        this.__expandedKeys = new Set();\n        this.expandedItems.forEach((item) => {\n          this.__expandedKeys.add(this.getItemId(item));\n        });\n      }\n    }\n\n    /**\n     * Expands the given item tree.\n     * @param {!GridItem} item\n     */\n    expandItem(item) {\n      if (!this._isExpanded(item)) {\n        this.push('expandedItems', item);\n      }\n    }\n\n    /**\n     * Collapses the given item tree.\n     * @param {!GridItem} item\n     */\n    collapseItem(item) {\n      if (this._isExpanded(item)) {\n        this.splice('expandedItems', this._getItemIndexInArray(item, this.expandedItems), 1);\n      }\n    }\n\n    /**\n     * @param {number} index\n     * @return {number}\n     * @protected\n     */\n    _getIndexLevel(index) {\n      let { cache } = this._cache.getCacheAndIndex(index);\n      let level = 0;\n      while (cache.parentCache) {\n        cache = cache.parentCache;\n        level++;\n      }\n      return level;\n    }\n\n    /**\n     * @return {boolean}\n     * @protected\n     */\n    _canPopulate() {\n      return Boolean(this._hasData && this._columnTree);\n    }\n\n    /**\n     * @param {number} page\n     * @param {ItemCache} cache\n     * @protected\n     */\n    _loadPage(page, cache) {\n      // make sure same page isn't requested multiple times.\n      if (!cache.pendingRequests[page] && this.dataProvider) {\n        this._setLoading(true);\n        cache.pendingRequests[page] = true;\n        const params = {\n          page,\n          pageSize: this.pageSize,\n          sortOrders: this._mapSorters(),\n          filters: this._mapFilters(),\n          parentItem: cache.parentItem\n        };\n        this._debounceIncreasePool && this._debounceIncreasePool.flush();\n        this.dataProvider(params, (items, size) => {\n          if (size !== undefined) {\n            cache.size = size;\n          } else {\n            if (params.parentItem) {\n              cache.size = items.length;\n            }\n          }\n\n          const currentItems = Array.from(this.$.items.children).map((row) => row._item);\n\n          // Populate the cache with new items\n          items.forEach((item, itemsIndex) => {\n            const itemIndex = page * this.pageSize + itemsIndex;\n            cache.items[itemIndex] = item;\n            if (this._isExpanded(item) && currentItems.indexOf(item) > -1) {\n              // Force synchronous data request for expanded item sub-cache\n              cache.ensureSubCacheForScaledIndex(itemIndex);\n            }\n          });\n\n          this._hasData = true;\n\n          delete cache.pendingRequests[page];\n\n          this._debouncerApplyCachedData = Debouncer.debounce(this._debouncerApplyCachedData, timeOut.after(0), () => {\n            this._setLoading(false);\n            this._cache.updateSize();\n            this._effectiveSize = this._cache.effectiveSize;\n\n            Array.from(this.$.items.children)\n              .filter((row) => !row.hidden)\n              .forEach((row) => {\n                const cachedItem = this._cache.getItemForIndex(row.index);\n                if (cachedItem) {\n                  this._getItem(row.index, row);\n                }\n              });\n\n            this._increasePoolIfNeeded(0);\n            this.__scrollToPendingIndex();\n          });\n\n          if (!this._cache.isLoading()) {\n            this._debouncerApplyCachedData.flush();\n          }\n\n          this.__itemsReceived();\n        });\n      }\n    }\n\n    /**\n     * @param {number} index\n     * @return {number}\n     * @private\n     */\n    _getPageForIndex(index) {\n      return Math.floor(index / this.pageSize);\n    }\n\n    /**\n     * Clears the cached pages and reloads data from dataprovider when needed.\n     */\n    clearCache() {\n      this._cache = new ItemCache(this);\n      Array.from(this.$.items.children).forEach((row) => {\n        Array.from(row.children).forEach((cell) => {\n          // Force data system to pick up subproperty changes\n          cell._instance && cell._instance._setPendingProperty('item', {}, false);\n        });\n      });\n      this._cache.size = this.size || 0;\n      this._cache.updateSize();\n      this._hasData = false;\n      this._assignModels();\n\n      if (!this._effectiveSize || !this._initialPoolCreated) {\n        this._loadPage(0, this._cache);\n      }\n    }\n\n    /** @private */\n    _pageSizeChanged(pageSize, oldPageSize) {\n      if (oldPageSize !== undefined && pageSize !== oldPageSize) {\n        this.clearCache();\n      }\n    }\n\n    /** @protected */\n    _checkSize() {\n      if (this.size === undefined && this._effectiveSize === 0) {\n        console.warn(\n          'The <vaadin-grid> needs the total number of items' +\n            ' in order to display rows. Set the total number of items' +\n            ' to the `size` property, or provide the total number of items' +\n            ' in the second argument of the `dataProvider`’s `callback` call.'\n        );\n      }\n    }\n\n    /** @private */\n    _dataProviderChanged(dataProvider, oldDataProvider) {\n      if (oldDataProvider !== undefined) {\n        this.clearCache();\n      }\n\n      if (dataProvider && this.items && this.items.length) {\n        // Fixes possibly invalid cached lastVisibleIndex value in <iron-list>\n        this._scrollToIndex(this._firstVisibleIndex);\n      }\n\n      this._ensureFirstPageLoaded();\n\n      this._debouncerCheckSize = Debouncer.debounce(\n        this._debouncerCheckSize,\n        timeOut.after(2000),\n        this._checkSize.bind(this)\n      );\n\n      this._scrollHandler();\n    }\n\n    /** @protected */\n    _ensureFirstPageLoaded() {\n      if (!this._hasData) {\n        // load data before adding rows to make sure they have content when\n        // rendered for the first time.\n        this._loadPage(0, this._cache);\n      }\n    }\n\n    /**\n     * @param {!GridItem} item1\n     * @param {!GridItem} item2\n     * @return {boolean}\n     * @protected\n     */\n    _itemsEqual(item1, item2) {\n      return this.getItemId(item1) === this.getItemId(item2);\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @param {!Array<!GridItem>} array\n     * @return {number}\n     * @protected\n     */\n    _getItemIndexInArray(item, array) {\n      let result = -1;\n      array.forEach((i, idx) => {\n        if (this._itemsEqual(i, item)) {\n          result = idx;\n        }\n      });\n      return result;\n    }\n\n    scrollToIndex(index) {\n      super.scrollToIndex(index);\n      if (!isNaN(index) && (this._cache.isLoading() || !this.clientHeight)) {\n        this.__pendingScrollToIndex = index;\n      }\n    }\n\n    __scrollToPendingIndex() {\n      if (this.__pendingScrollToIndex && this.$.items.children.length) {\n        const index = this.__pendingScrollToIndex;\n        delete this.__pendingScrollToIndex;\n\n        if (this._debounceIncreasePool) {\n          this._debounceIncreasePool.flush();\n        }\n\n        this.scrollToIndex(index);\n      }\n    }\n\n    /**\n     * Fired when the `expandedItems` property changes.\n     *\n     * @event expanded-items-changed\n     */\n\n    /**\n     * Fired when the `loading` property changes.\n     *\n     * @event loading-changed\n     */\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst DynamicColumnsMixin = (superClass) =>\n  class DynamicColumnsMixin extends superClass {\n    /** @protected */\n    ready() {\n      super.ready();\n      this._addNodeObserver();\n    }\n\n    /** @private */\n    _hasColumnGroups(columns) {\n      for (let i = 0; i < columns.length; i++) {\n        if (columns[i].localName === 'vaadin-grid-column-group') {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    /**\n     * @param {!GridColumnGroupElement} el\n     * @return {!Array<!GridColumnElement>}\n     * @protected\n     */\n    _getChildColumns(el) {\n      return FlattenedNodesObserver.getFlattenedNodes(el).filter(this._isColumnElement);\n    }\n\n    /** @private */\n    _flattenColumnGroups(columns) {\n      return columns\n        .map((col) => {\n          if (col.localName === 'vaadin-grid-column-group') {\n            return this._getChildColumns(col);\n          } else {\n            return [col];\n          }\n        })\n        .reduce((prev, curr) => {\n          return prev.concat(curr);\n        }, []);\n    }\n\n    /** @private */\n    _getColumnTree() {\n      const rootColumns = FlattenedNodesObserver.getFlattenedNodes(this).filter(this._isColumnElement);\n      const columnTree = [];\n\n      for (let c = rootColumns; ; ) {\n        columnTree.push(c);\n        if (!this._hasColumnGroups(c)) {\n          break;\n        }\n        c = this._flattenColumnGroups(c);\n      }\n\n      return columnTree;\n    }\n\n    /** @protected */\n    _updateColumnTree() {\n      const columnTree = this._getColumnTree();\n      if (!this._arrayEquals(columnTree, this._columnTree)) {\n        this._columnTree = columnTree;\n      }\n    }\n\n    /** @private */\n    _addNodeObserver() {\n      this._observer = new FlattenedNodesObserver(this, (info) => {\n        const rowDetailsTemplate = info.addedNodes.filter(\n          (n) => n.localName === 'template' && n.classList.contains('row-details')\n        )[0];\n        if (rowDetailsTemplate && this._rowDetailsTemplate !== rowDetailsTemplate) {\n          this._rowDetailsTemplate = rowDetailsTemplate;\n        }\n        const hasColumnElements = (nodeCollection) => nodeCollection.filter(this._isColumnElement).length > 0;\n        if (hasColumnElements(info.addedNodes) || hasColumnElements(info.removedNodes)) {\n          const allRemovedCells = info.removedNodes.flatMap((c) => c._allCells);\n          const filterNotConnected = (element) =>\n            allRemovedCells.filter((cell) => cell._content.contains(element)).length;\n\n          this.__removeSorters(this._sorters.filter(filterNotConnected));\n          this.__removeFilters(this._filters.filter(filterNotConnected));\n          this._updateColumnTree();\n        }\n\n        this._debouncerCheckImports = Debouncer.debounce(\n          this._debouncerCheckImports,\n          timeOut.after(2000),\n          this._checkImports.bind(this)\n        );\n\n        this._ensureFirstPageLoaded();\n      });\n    }\n\n    /** @private */\n    _arrayEquals(arr1, arr2) {\n      if (!arr1 || !arr2 || arr1.length != arr2.length) {\n        return false;\n      }\n\n      for (let i = 0, l = arr1.length; i < l; i++) {\n        // Check if we have nested arrays\n        if (arr1[i] instanceof Array && arr2[i] instanceof Array) {\n          // recurse into the nested arrays\n          if (!this._arrayEquals(arr1[i], arr2[i])) {\n            return false;\n          }\n        } else if (arr1[i] != arr2[i]) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /** @protected */\n    _checkImports() {\n      [\n        'vaadin-grid-column-group',\n        'vaadin-grid-filter',\n        'vaadin-grid-filter-column',\n        'vaadin-grid-tree-toggle',\n        'vaadin-grid-selection-column',\n        'vaadin-grid-sort-column',\n        'vaadin-grid-sorter'\n      ].forEach((elementName) => {\n        const element = this.querySelector(elementName);\n        if (element && !(element instanceof PolymerElement)) {\n          console.warn(`Make sure you have imported the required module for <${elementName}> element.`);\n        }\n      });\n    }\n\n    /** @protected */\n    _updateFirstAndLastColumn() {\n      Array.from(this.shadowRoot.querySelectorAll('tr')).forEach((row) => this._updateFirstAndLastColumnForRow(row));\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @protected\n     */\n    _updateFirstAndLastColumnForRow(row) {\n      Array.from(row.querySelectorAll('[part~=\"cell\"]:not([part~=\"details-cell\"])'))\n        .sort((a, b) => {\n          return a._column._order - b._column._order;\n        })\n        .forEach((cell, cellIndex, children) => {\n          this._toggleAttribute('first-column', cellIndex === 0, cell);\n          this._toggleAttribute('last-column', cellIndex === children.length - 1, cell);\n        });\n    }\n\n    /**\n     * @param {!Node} node\n     * @return {boolean}\n     * @protected\n     */\n    _isColumnElement(node) {\n      return node.nodeType === Node.ELEMENT_NODE && /\\bcolumn\\b/.test(node.localName);\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst EventContextMixin = (superClass) =>\n  class EventContextMixin extends superClass {\n    /**\n     * Returns an object with context information about the event target:\n     * - `item`: the data object corresponding to the targeted row (not specified when targeting header or footer)\n     * - `column`: the column element corresponding to the targeted cell (not specified when targeting row details)\n     * - `section`: whether the event targeted the body, header, footer or details of the grid\n     *\n     * These additional properties are included when `item` is specified:\n     * - `index`: the index of the item\n     * - `selected`: the selected state of the item\n     * - `detailsOpened`: whether the row details are open for the item\n     * - `expanded`: the expanded state of the tree toggle\n     * - `level`: the tree hierarchy level\n     *\n     * The returned object is populated only when a grid cell, header, footer or row details is found in `event.composedPath()`.\n     * This means mostly mouse and keyboard events. If such a grid part is not found in the path, an empty object is returned.\n     * This may be the case eg. if the event is fired on the `<vaadin-grid>` element and not any deeper in the DOM, or if\n     * the event targets the empty part of the grid body.\n     *\n     * @param {!Event} event\n     * @return {GridEventContext | object}\n     */\n    getEventContext(event) {\n      const context = {};\n\n      const path = event.composedPath();\n      const cell = path[path.indexOf(this.$.table) - 3];\n\n      if (!cell) {\n        return context;\n      }\n\n      context.section = ['body', 'header', 'footer', 'details'].filter(\n        (section) => cell.getAttribute('part').indexOf(section) > -1\n      )[0];\n\n      if (cell._column) {\n        context.column = cell._column;\n      }\n\n      if (context.section === 'body' || context.section === 'details') {\n        Object.assign(context, this.__getRowModel(cell.parentElement));\n      }\n\n      return context;\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst FilterMixin = (superClass) =>\n  class FilterMixin extends superClass {\n    static get properties() {\n      return {\n        /** @private */\n        _filters: {\n          type: Array,\n          value: function () {\n            return [];\n          }\n        }\n      };\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this.addEventListener('filter-changed', this._filterChanged.bind(this));\n    }\n\n    /** @private */\n    _filterChanged(e) {\n      e.stopPropagation();\n\n      this.__addFilter(e.target);\n      this.__applyFilters();\n    }\n\n    /** @private */\n    __removeFilters(filtersToRemove) {\n      if (filtersToRemove.length == 0) {\n        return;\n      }\n\n      this._filters = this._filters.filter((filter) => filtersToRemove.indexOf(filter) < 0);\n      this.__applyFilters();\n    }\n\n    /** @private */\n    __addFilter(filter) {\n      const filterIndex = this._filters.indexOf(filter);\n\n      if (filterIndex === -1) {\n        this._filters.push(filter);\n      }\n    }\n\n    /** @private */\n    __applyFilters() {\n      if (this.dataProvider && this.isAttached) {\n        this.clearCache();\n      }\n    }\n\n    /**\n     * @return {!Array<!GridFilter>}\n     * @protected\n     */\n    _mapFilters() {\n      return this._filters.map((filter) => {\n        return {\n          path: filter.path,\n          value: filter.value\n        };\n      });\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * `vaadin-grid-templatizer` is a helper element for the `vaadin-grid` that is preparing and\n * stamping instances of cells and columns templates\n *\n * @extends HTMLElement\n * @private\n */\nclass GridTemplatizer extends PolymerElement {\n  static get is() {\n    return 'vaadin-grid-templatizer';\n  }\n\n  static get properties() {\n    return {\n      dataHost: Object,\n\n      template: Object,\n\n      _templateInstances: {\n        type: Array,\n        value: function () {\n          return [];\n        }\n      },\n\n      _parentPathValues: {\n        value: function () {\n          return {};\n        }\n      },\n\n      _grid: Object\n    };\n  }\n\n  static get observers() {\n    return ['_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)'];\n  }\n\n  constructor() {\n    super();\n\n    this._instanceProps = {\n      detailsOpened: true,\n      index: true,\n      item: true,\n      selected: true,\n      expanded: true,\n      level: true\n    };\n  }\n\n  createInstance() {\n    this._ensureTemplatized();\n    const instance = new this._TemplateClass({});\n    this.addInstance(instance);\n\n    return instance;\n  }\n\n  addInstance(instance) {\n    if (this._templateInstances.indexOf(instance) === -1) {\n      this._templateInstances.push(instance);\n      requestAnimationFrame(() => this.notifyPath('_templateInstances.*', this._templateInstances));\n    }\n  }\n\n  removeInstance(instance) {\n    const index = this._templateInstances.indexOf(instance);\n    this.splice('_templateInstances', index, 1);\n  }\n\n  _ensureTemplatized() {\n    if (!this._TemplateClass) {\n      this._TemplateClass = templatize(this.template, this, {\n        instanceProps: this._instanceProps,\n        parentModel: true,\n\n        forwardHostProp: function (prop, value) {\n          this._forwardParentProp(prop, value);\n\n          if (this._templateInstances) {\n            this._templateInstances.forEach((inst) => inst.notifyPath(prop, value));\n          }\n        },\n\n        notifyInstanceProp: function (inst, prop, value) {\n          if (prop === 'index' || prop === 'item') {\n            // We don’t need a change notification for these.\n            return;\n          }\n\n          const originalProp = `__${prop}__`;\n\n          // Notify for only user-action changes, not for scrolling updates. E. g.,\n          // if `detailsOpened` is different from `__detailsOpened__`, which was set during render.\n          if (inst[originalProp] === value) {\n            return;\n          }\n          inst[originalProp] = value;\n\n          const row = Array.from(this._grid.$.items.children).filter((row) =>\n            this._grid._itemsEqual(row._item, inst.item)\n          )[0];\n          if (row) {\n            Array.from(row.children).forEach((cell) => {\n              if (cell._instance) {\n                cell._instance[originalProp] = value;\n                cell._instance.notifyPath(prop, value);\n              }\n            });\n          }\n\n          const itemPrefix = 'item.';\n          if (Array.isArray(this._grid.items) && prop.indexOf(itemPrefix) === 0) {\n            const itemsIndex = this._grid.items.indexOf(inst.item);\n            const path = prop.slice(itemPrefix.length);\n            this._grid.notifyPath(`items.${itemsIndex}.${path}`, value);\n          }\n\n          const gridCallback = `_${prop}InstanceChangedCallback`;\n          if (this._grid && this._grid[gridCallback]) {\n            this._grid[gridCallback](inst, value);\n          }\n        }\n      });\n    }\n  }\n\n  _forwardParentProp(prop, value) {\n    this._parentPathValues[prop] = value;\n    this._templateInstances.forEach((inst) => inst.notifyPath(prop, value));\n  }\n\n  _templateInstancesChanged(t) {\n    let index, count;\n    if (t.path === '_templateInstances') {\n      // Iterate all instances\n      index = 0;\n      count = this._templateInstances.length;\n    } else if (t.path === '_templateInstances.splices') {\n      // Iterate only new instances\n      index = t.value.index;\n      count = t.value.addedCount;\n    } else {\n      return;\n    }\n    Object.keys(this._parentPathValues || {}).forEach((keyName) => {\n      for (let i = index; i < index + count; i++) {\n        this._templateInstances[i].set(keyName, this._parentPathValues[keyName]);\n      }\n    });\n  }\n}\n\ncustomElements.define(GridTemplatizer.is, GridTemplatizer);\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst RowDetailsMixin = (superClass) =>\n  class RowDetailsMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * An array containing references to items with open row details.\n         * @type {Array<GridItem> | null | undefined}\n         */\n        detailsOpenedItems: {\n          type: Array,\n          value: function () {\n            return [];\n          }\n        },\n\n        /**\n         * @type {HTMLTemplateElement}\n         * @protected\n         */\n        _rowDetailsTemplate: Object,\n\n        /**\n         * Custom function for rendering the content of the row details.\n         * Receives three arguments:\n         *\n         * - `root` The row details content DOM element. Append your content to it.\n         * - `grid` The `<vaadin-grid>` element.\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *\n         * @type {GridRowDetailsRenderer | null | undefined}\n         */\n        rowDetailsRenderer: Function,\n\n        /**\n         * @type {!Array<!HTMLElement> | undefined}\n         * @protected\n         */\n        _detailsCells: {\n          type: Array\n        }\n      };\n    }\n\n    static get observers() {\n      return [\n        '_detailsOpenedItemsChanged(detailsOpenedItems.*, _rowDetailsTemplate, rowDetailsRenderer)',\n        '_rowDetailsTemplateOrRendererChanged(_rowDetailsTemplate, rowDetailsRenderer)'\n      ];\n    }\n\n    /** @private */\n    _rowDetailsTemplateOrRendererChanged(rowDetailsTemplate, rowDetailsRenderer) {\n      if (rowDetailsTemplate && rowDetailsRenderer) {\n        throw new Error('You should only use either a renderer or a template for row details');\n      }\n      if (rowDetailsTemplate || rowDetailsRenderer) {\n        if (rowDetailsTemplate && !rowDetailsTemplate.templatizer) {\n          const templatizer = new GridTemplatizer();\n          templatizer._grid = this;\n          templatizer.dataHost = this.dataHost;\n          templatizer.template = rowDetailsTemplate;\n          rowDetailsTemplate.templatizer = templatizer;\n        }\n\n        if (this._columnTree) {\n          // Only update the rows if the column tree has already been initialized\n          Array.from(this.$.items.children).forEach((row) => {\n            if (!row.querySelector('[part~=details-cell]')) {\n              this._updateRow(row, this._columnTree[this._columnTree.length - 1]);\n              this._a11yUpdateRowDetailsOpened(row, false);\n            }\n            // Clear any old template instances\n            delete row.querySelector('[part~=details-cell]')._instance;\n          });\n        }\n\n        if (this.detailsOpenedItems.length) {\n          Array.from(this.$.items.children).forEach(this._toggleDetailsCell, this);\n          this._update();\n        }\n      }\n    }\n\n    /** @private */\n    _detailsOpenedItemsChanged(changeRecord) {\n      if (changeRecord.path === 'detailsOpenedItems.length' || !changeRecord.value) {\n        // Let’s avoid duplicate work of both “.splices” and “.length” updates.\n        return;\n      }\n      Array.from(this.$.items.children).forEach((row) => {\n        this._toggleDetailsCell(row, row._item);\n        this._a11yUpdateRowDetailsOpened(row, this._isDetailsOpened(row._item));\n        this._toggleAttribute('details-opened', this._isDetailsOpened(row._item), row);\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} cell\n     * @protected\n     */\n    _configureDetailsCell(cell) {\n      cell.setAttribute('part', 'cell details-cell');\n      // Freeze the details cell, so that it does not scroll horizontally\n      // with the normal cells. This way it looks less weird.\n      this._toggleAttribute('frozen', true, cell);\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {!GridItem} item\n     * @protected\n     */\n    _toggleDetailsCell(row, item) {\n      const cell = row.querySelector('[part~=\"details-cell\"]');\n      if (!cell) {\n        return;\n      }\n      const detailsHidden = !this._isDetailsOpened(item);\n      const hiddenChanged = !!cell.hidden !== detailsHidden;\n\n      if ((!cell._instance && !cell._renderer) || cell.hidden !== detailsHidden) {\n        cell.hidden = detailsHidden;\n        if (detailsHidden) {\n          row.style.removeProperty('padding-bottom');\n        } else {\n          if (this.rowDetailsRenderer) {\n            cell._renderer = this.rowDetailsRenderer;\n            cell._renderer.call(this, cell._content, this, { index: row.index, item: item });\n          } else if (this._rowDetailsTemplate && !cell._instance) {\n            // Stamp the template\n            cell._instance = this._rowDetailsTemplate.templatizer.createInstance();\n            cell._content.innerHTML = '';\n            cell._content.appendChild(cell._instance.root);\n            this._updateItem(row, item);\n          }\n\n          flush();\n          row.style.setProperty('padding-bottom', `${cell.offsetHeight}px`);\n\n          requestAnimationFrame(() => this.notifyResize());\n        }\n      }\n      if (hiddenChanged) {\n        this._updateMetrics();\n        this._positionItems();\n      }\n    }\n\n    /** @protected */\n    _updateDetailsCellHeights() {\n      Array.from(this.$.items.querySelectorAll('[part~=\"details-cell\"]:not([hidden])')).forEach((cell) => {\n        cell.parentElement.style.setProperty('padding-bottom', `${cell.offsetHeight}px`);\n      });\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @return {boolean}\n     * @protected\n     */\n    _isDetailsOpened(item) {\n      return this.detailsOpenedItems && this._getItemIndexInArray(item, this.detailsOpenedItems) !== -1;\n    }\n\n    /**\n     * Open the details row of a given item.\n     * @param {!GridItem} item\n     */\n    openItemDetails(item) {\n      if (!this._isDetailsOpened(item)) {\n        this.push('detailsOpenedItems', item);\n      }\n    }\n\n    /**\n     * Close the details row of a given item.\n     * @param {!GridItem} item\n     */\n    closeItemDetails(item) {\n      if (this._isDetailsOpened(item)) {\n        this.splice('detailsOpenedItems', this._getItemIndexInArray(item, this.detailsOpenedItems), 1);\n      }\n    }\n\n    /** @private */\n    _detailsOpenedInstanceChangedCallback(instance, value) {\n      if (value) {\n        this.openItemDetails(instance.item);\n      } else {\n        this.closeItemDetails(instance.item);\n      }\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nconst timeouts = {\n  SCROLLING: 500,\n  IGNORE_WHEEL: 500\n};\n\n/**\n * @polymerMixin\n */\nconst ScrollMixin = (superClass) =>\n  class ScrollMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Cached array of frozen cells\n         * @private\n         */\n        _frozenCells: {\n          type: Array,\n          value: () => []\n        },\n\n        /** @private */\n        _rowWithFocusedElement: Element,\n\n        /** @private */\n        _deltaYAcc: {\n          type: Number,\n          value: 0\n        },\n\n        /** @private */\n        _useSticky: {\n          type: Boolean,\n          value:\n            window.CSS &&\n            window.CSS.supports &&\n            (window.CSS.supports('position', 'sticky') || window.CSS.supports('position', '-webkit-sticky'))\n        }\n      };\n    }\n\n    static get observers() {\n      return ['_scrollViewportHeightUpdated(_viewportHeight)'];\n    }\n\n    /**\n     * Override (from iron-scroll-target-behavior) to avoid document scroll\n     * @private\n     */\n    set _scrollTop(top) {\n      this.$.table.scrollTop = top;\n    }\n\n    /** @private */\n    get _scrollTop() {\n      return this.$.table.scrollTop;\n    }\n\n    constructor() {\n      super();\n      this._scrollLineHeight = this._getScrollLineHeight();\n    }\n\n    /**\n     * @returns {Number|undefined} - The browser's default font-size in pixels\n     * @private\n     */\n    _getScrollLineHeight() {\n      const el = document.createElement('div');\n      el.style.fontSize = 'initial';\n      el.style.display = 'none';\n      document.body.appendChild(el);\n      const fontSize = window.getComputedStyle(el).fontSize;\n      document.body.removeChild(el);\n      return fontSize ? window.parseInt(fontSize) : undefined;\n    }\n\n    /** @private */\n    _scrollViewportHeightUpdated(_viewportHeight) {\n      this._scrollPageHeight =\n        _viewportHeight - this.$.header.clientHeight - this.$.footer.clientHeight - this._scrollLineHeight;\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      // Preserve accessor to the legacy scrolling functionality\n      this.$.outerscroller = document.createElement('div');\n\n      this.scrollTarget = this.$.table;\n\n      this.addEventListener('wheel', this._onWheel);\n\n      this.$.items.addEventListener('focusin', (e) => {\n        const itemsIndex = e.composedPath().indexOf(this.$.items);\n        this._rowWithFocusedElement = e.composedPath()[itemsIndex - 1];\n      });\n      this.$.items.addEventListener('focusout', () => (this._rowWithFocusedElement = undefined));\n\n      // Reordering the physical rows cancels the user's grab of the scroll bar handle on Safari.\n      // Need to defer reordering until the user lets go of the scroll bar handle.\n      this.scrollTarget.addEventListener('mousedown', () => (this.__mouseDown = true));\n      this.scrollTarget.addEventListener('mouseup', () => {\n        this.__mouseDown = false;\n        if (this.__pendingReorder) {\n          this.__pendingReorder = false;\n          setTimeout(() => this._reorderRows(), timeouts.SCROLLING);\n        }\n      });\n    }\n\n    /**\n     * Scroll to a specific row index in the virtual list. Note that the row index is\n     * not always the same for any particular item. For example, sorting/filtering/expanding\n     * or collapsing hierarchical items can affect the row index related to an item.\n     *\n     * @param {number} index Row index to scroll to\n     */\n    scrollToIndex(index) {\n      this._accessIronListAPI(() => super.scrollToIndex(index));\n    }\n\n    /** @private */\n    _onWheel(e) {\n      if (e.ctrlKey || this._hasScrolledAncestor(e.target, e.deltaX, e.deltaY)) {\n        return;\n      }\n\n      const table = this.$.table;\n\n      let deltaY = e.deltaY;\n      if (e.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n        // Scrolling by \"lines of text\" instead of pixels\n        deltaY *= this._scrollLineHeight;\n      } else if (e.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n        // Scrolling by \"pages\" instead of pixels\n        deltaY *= this._scrollPageHeight;\n      }\n\n      if (this._wheelAnimationFrame) {\n        // Skip new wheel events while one is being processed\n        this._deltaYAcc += deltaY;\n        e.preventDefault();\n        return;\n      }\n\n      deltaY += this._deltaYAcc;\n      this._deltaYAcc = 0;\n\n      this._wheelAnimationFrame = true;\n      this._debouncerWheelAnimationFrame = Debouncer.debounce(\n        this._debouncerWheelAnimationFrame,\n        animationFrame,\n        () => (this._wheelAnimationFrame = false)\n      );\n\n      const momentum = Math.abs(e.deltaX) + Math.abs(deltaY);\n\n      if (this._canScroll(table, e.deltaX, deltaY)) {\n        e.preventDefault();\n        table.scrollTop += deltaY;\n        table.scrollLeft += e.deltaX;\n        this._scrollHandler();\n        this._hasResidualMomentum = true;\n\n        this._ignoreNewWheel = true;\n        this._debouncerIgnoreNewWheel = Debouncer.debounce(\n          this._debouncerIgnoreNewWheel,\n          timeOut.after(timeouts.IGNORE_WHEEL),\n          () => (this._ignoreNewWheel = false)\n        );\n      } else if ((this._hasResidualMomentum && momentum <= this._previousMomentum) || this._ignoreNewWheel) {\n        e.preventDefault();\n      } else if (momentum > this._previousMomentum) {\n        this._hasResidualMomentum = false;\n      }\n      this._previousMomentum = momentum;\n    }\n\n    /**\n     * Determines if the element has an ancestor prior to this\n     * cell content that handles the scroll delta\n     * @private\n     */\n    _hasScrolledAncestor(el, deltaX, deltaY) {\n      if (el.localName === 'vaadin-grid-cell-content') {\n        return false;\n      } else if (\n        this._canScroll(el, deltaX, deltaY) &&\n        ['auto', 'scroll'].indexOf(getComputedStyle(el).overflow) !== -1\n      ) {\n        return true;\n      } else if (el !== this && el.parentElement) {\n        return this._hasScrolledAncestor(el.parentElement, deltaX, deltaY);\n      }\n    }\n\n    /**\n     * Determines if the the given scroll deltas can be applied to the element\n     * (fully or partially)\n     * @private\n     */\n    _canScroll(el, deltaX, deltaY) {\n      return (\n        (deltaY > 0 && el.scrollTop < el.scrollHeight - el.offsetHeight) ||\n        (deltaY < 0 && el.scrollTop > 0) ||\n        (deltaX > 0 && el.scrollLeft < el.scrollWidth - el.offsetWidth) ||\n        (deltaX < 0 && el.scrollLeft > 0)\n      );\n    }\n\n    /** @private */\n    _scheduleScrolling() {\n      if (!this._scrollingFrame) {\n        // Defer setting state attributes to avoid Edge hiccups\n        this._scrollingFrame = requestAnimationFrame(() => this._toggleAttribute('scrolling', true, this.$.scroller));\n      }\n      this._debounceScrolling = Debouncer.debounce(this._debounceScrolling, timeOut.after(timeouts.SCROLLING), () => {\n        cancelAnimationFrame(this._scrollingFrame);\n        delete this._scrollingFrame;\n        this._toggleAttribute('scrolling', false, this.$.scroller);\n        this._reorderRows();\n      });\n    }\n\n    /** @private */\n    _afterScroll() {\n      this._translateStationaryElements();\n\n      if (!this.hasAttribute('reordering')) {\n        this._scheduleScrolling();\n      }\n\n      this._updateOverflow();\n    }\n\n    /** @private */\n    _updateOverflow() {\n      // Set overflow styling attributes\n      let overflow = '';\n      const table = this.$.table;\n      if (table.scrollTop < table.scrollHeight - table.clientHeight) {\n        overflow += ' bottom';\n      }\n\n      if (table.scrollTop > 0) {\n        overflow += ' top';\n      }\n\n      if (table.scrollLeft < table.scrollWidth - table.clientWidth) {\n        overflow += ' right';\n      }\n\n      if (table.scrollLeft > 0) {\n        overflow += ' left';\n      }\n\n      this._debounceOverflow = Debouncer.debounce(this._debounceOverflow, animationFrame, () => {\n        const value = overflow.trim();\n        if (value.length > 0 && this.getAttribute('overflow') !== value) {\n          this.setAttribute('overflow', value);\n        } else if (value.length == 0 && this.hasAttribute('overflow')) {\n          this.removeAttribute('overflow');\n        }\n      });\n    }\n\n    /**\n     * Correct order needed for preserving correct tab order between cell contents.\n     * @private\n     */\n    _reorderRows() {\n      if (this.__mouseDown) {\n        this.__pendingReorder = true;\n        return;\n      }\n\n      const body = this.$.items;\n      const items = body.querySelectorAll('tr');\n      if (!items.length) {\n        return;\n      }\n\n      const adjustedVirtualStart = this._virtualStart + this._vidxOffset;\n\n      // Which row to use as a target?\n      const targetRow = this._rowWithFocusedElement || Array.from(items).filter((row) => !row.hidden)[0];\n      if (!targetRow) {\n        // All rows are hidden, don't reorder\n        return;\n      }\n\n      // Where the target row should be?\n      const targetPhysicalIndex = targetRow.index - adjustedVirtualStart;\n\n      // Reodrer the DOM elements to keep the target row at the target physical index\n      const delta = Array.from(items).indexOf(targetRow) - targetPhysicalIndex;\n      if (delta > 0) {\n        for (let i = 0; i < delta; i++) {\n          body.appendChild(items[i]);\n        }\n      } else if (delta < 0) {\n        for (let i = items.length + delta; i < items.length; i++) {\n          body.insertBefore(items[i], items[0]);\n        }\n      }\n\n      // Due to a rendering bug, reordering the rows can make the sticky header disappear on Safari\n      // if the grid is used inside of a flex box. This is a workaround for the issue.\n      if (this._safari) {\n        const { transform } = this.$.header.style;\n        this.$.header.style.transform = '';\n        setTimeout(() => (this.$.header.style.transform = transform));\n      }\n    }\n\n    /** @protected */\n    _frozenCellsChanged() {\n      this._debouncerCacheElements = Debouncer.debounce(this._debouncerCacheElements, microTask, () => {\n        Array.from(this.shadowRoot.querySelectorAll('[part~=\"cell\"]')).forEach(function (cell) {\n          cell.style.transform = '';\n        });\n        this._frozenCells = Array.prototype.slice.call(this.$.table.querySelectorAll('[frozen]'));\n        this._updateScrollerMeasurements();\n        this._translateStationaryElements();\n      });\n      this._updateLastFrozen();\n    }\n\n    /** @protected */\n    _updateScrollerMeasurements() {\n      if (this._frozenCells.length > 0 && this.__isRTL) {\n        this.__scrollerMetrics = {\n          scrollWidth: this.$.table.scrollWidth,\n          clientWidth: this.$.table.clientWidth\n        };\n      }\n    }\n\n    /** @protected */\n    _updateLastFrozen() {\n      if (!this._columnTree) {\n        return;\n      }\n\n      const columnsRow = this._columnTree[this._columnTree.length - 1].slice(0);\n      columnsRow.sort((a, b) => {\n        return a._order - b._order;\n      });\n      const lastFrozen = columnsRow.reduce((prev, col, index) => {\n        col._lastFrozen = false;\n        return col.frozen && !col.hidden ? index : prev;\n      }, undefined);\n      if (lastFrozen !== undefined) {\n        columnsRow[lastFrozen]._lastFrozen = true;\n      }\n    }\n\n    /** @private */\n    _translateStationaryElements() {\n      const scrollLeft = Math.max(0, this._scrollLeft);\n      const scrollTop = Math.max(0, this._scrollTop);\n\n      let leftOffset = 0;\n      let topOffset = 0;\n      let footerOffset = 0;\n      if (!this._useSticky) {\n        leftOffset = scrollLeft;\n        topOffset = scrollTop;\n        footerOffset = this.$.table.clientHeight - this.$.footer.offsetHeight - this.$.footer.offsetTop;\n      }\n\n      this.$.header.style.transform = this._getTranslate(-scrollLeft + leftOffset, topOffset);\n      this.$.footer.style.transform = this._getTranslate(-scrollLeft + leftOffset, topOffset + footerOffset);\n      this.$.items.style.transform = this._getTranslate(-scrollLeft + leftOffset, 0);\n\n      if (this._frozenCells.length > 0) {\n        const x = this.__isRTL\n          ? this.__getNormalizedScrollLeft(this.$.table) +\n            this.__scrollerMetrics.clientWidth -\n            this.__scrollerMetrics.scrollWidth\n          : this._scrollLeft;\n        const frozenCellTransform = this._getTranslate(x, 0);\n\n        for (let i = 0; i < this._frozenCells.length; i++) {\n          this._frozenCells[i].style.transform = frozenCellTransform;\n        }\n      }\n    }\n\n    /** @private */\n    _getTranslate(x, y) {\n      return `translate(${x}px, ${y}px)`;\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst SelectionMixin = (superClass) =>\n  class SelectionMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * An array that contains the selected items.\n         * @type {Array<GridItem>}\n         */\n        selectedItems: {\n          type: Object,\n          notify: true,\n          value: () => []\n        }\n      };\n    }\n\n    static get observers() {\n      return ['_selectedItemsChanged(selectedItems.*)'];\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @return {boolean}\n     * @protected\n     */\n    _isSelected(item) {\n      return this.selectedItems && this._getItemIndexInArray(item, this.selectedItems) > -1;\n    }\n\n    /**\n     * Selects the given item.\n     *\n     * @method selectItem\n     * @param {!GridItem} item The item object\n     */\n    selectItem(item) {\n      if (!this._isSelected(item)) {\n        this.push('selectedItems', item);\n      }\n    }\n\n    /**\n     * Deselects the given item if it is already selected.\n     *\n     * @method deselect\n     * @param {!GridItem} item The item object\n     */\n    deselectItem(item) {\n      const index = this._getItemIndexInArray(item, this.selectedItems);\n      if (index > -1) {\n        this.splice('selectedItems', index, 1);\n      }\n    }\n\n    /**\n     * Toggles the selected state of the given item.\n     *\n     * @method toggle\n     * @param {!GridItem} item The item object\n     * @protected\n     */\n    _toggleItem(item) {\n      const index = this._getItemIndexInArray(item, this.selectedItems);\n      if (index === -1) {\n        this.selectItem(item);\n      } else {\n        this.deselectItem(item);\n      }\n    }\n\n    /** @private */\n    _selectedItemsChanged(e) {\n      if (this.$.items.children.length && (e.path === 'selectedItems' || e.path === 'selectedItems.splices')) {\n        Array.from(this.$.items.children).forEach((row) => {\n          this._updateItem(row, row._item);\n        });\n      }\n    }\n\n    /** @private */\n    _selectedInstanceChangedCallback(instance, value) {\n      if (value) {\n        this.selectItem(instance.item);\n      } else {\n        this.deselectItem(instance.item);\n      }\n    }\n\n    /**\n     * Fired when the `selectedItems` property changes.\n     *\n     * @event selected-items-changed\n     */\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst SortMixin = (superClass) =>\n  class SortMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * When `true`, all `<vaadin-grid-sorter>` are applied for sorting.\n         * @attr {boolean} multi-sort\n         * @type {boolean}\n         */\n        multiSort: {\n          type: Boolean,\n          value: false\n        },\n\n        /**\n         * @type {!Array<!GridSorter>}\n         * @protected\n         */\n        _sorters: {\n          type: Array,\n          value: function () {\n            return [];\n          }\n        },\n\n        /** @private */\n        _previousSorters: {\n          type: Array,\n          value: function () {\n            return [];\n          }\n        }\n      };\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this.addEventListener('sorter-changed', this._onSorterChanged);\n    }\n\n    /** @private */\n    _onSorterChanged(e) {\n      const sorter = e.target;\n      e.stopPropagation();\n      this.__updateSorter(sorter);\n      this.__applySorters();\n    }\n\n    /** @private */\n    __removeSorters(sortersToRemove) {\n      if (sortersToRemove.length == 0) {\n        return;\n      }\n\n      this._sorters = this._sorters.filter((sorter) => sortersToRemove.indexOf(sorter) < 0);\n      if (this.multiSort) {\n        this.__updateSortOrders();\n      }\n      this.__applySorters();\n    }\n\n    /** @private */\n    __updateSortOrders() {\n      this._sorters.forEach((sorter, index) => (sorter._order = this._sorters.length > 1 ? index : null), this);\n    }\n\n    /** @private */\n    __updateSorter(sorter) {\n      if (!sorter.direction && this._sorters.indexOf(sorter) === -1) {\n        return;\n      }\n\n      sorter._order = null;\n\n      if (this.multiSort) {\n        this._removeArrayItem(this._sorters, sorter);\n        if (sorter.direction) {\n          this._sorters.unshift(sorter);\n        }\n        this.__updateSortOrders();\n      } else {\n        if (sorter.direction) {\n          const otherSorters = this._sorters.filter((s) => s != sorter);\n          this._sorters = [sorter];\n          otherSorters.forEach((sorter) => {\n            sorter._order = null;\n            sorter.direction = null;\n          });\n        }\n      }\n    }\n\n    /** @private */\n    __applySorters() {\n      if (\n        this.dataProvider &&\n        // No need to clear cache if sorters didn't change and grid is attached\n        this.isAttached &&\n        JSON.stringify(this._previousSorters) !== JSON.stringify(this._mapSorters())\n      ) {\n        this.clearCache();\n      }\n\n      this._a11yUpdateSorters();\n\n      this._previousSorters = this._mapSorters();\n    }\n\n    /**\n     * @return {!Array<!GridSorter>}\n     * @protected\n     */\n    _mapSorters() {\n      return this._sorters.map((sorter) => {\n        return {\n          path: sorter.path,\n          direction: sorter.direction\n        };\n      });\n    }\n\n    /** @private */\n    _removeArrayItem(array, item) {\n      const index = array.indexOf(item);\n      if (index > -1) {\n        array.splice(index, 1);\n      }\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst StylingMixin = (superClass) =>\n  class StylingMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * A function that allows generating CSS class names for grid cells\n         * based on their row and column. The return value should be the generated\n         * class name as a string, or multiple class names separated by whitespace\n         * characters.\n         *\n         * Receives two arguments:\n         * - `column` The `<vaadin-grid-column>` element (`undefined` for details-cell).\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridCellClassNameGenerator | null | undefined}\n         */\n        cellClassNameGenerator: Function\n      };\n    }\n\n    static get observers() {\n      return ['__cellClassNameGeneratorChanged(cellClassNameGenerator)'];\n    }\n\n    __cellClassNameGeneratorChanged() {\n      this.generateCellClassNames();\n    }\n\n    /**\n     * Runs the `cellClassNameGenerator` for the visible cells.\n     * If the generator depends on varying conditions, you need to\n     * call this function manually in order to update the styles when\n     * the conditions change.\n     */\n    generateCellClassNames() {\n      Array.from(this.$.items.children)\n        .filter((row) => !row.hidden)\n        .forEach((row) => this._generateCellClassNames(row, this.__getRowModel(row)));\n    }\n\n    /** @private */\n    _generateCellClassNames(row, model) {\n      Array.from(row.children).forEach((cell) => {\n        if (cell.__generatedClasses) {\n          cell.__generatedClasses.forEach((className) => cell.classList.remove(className));\n        }\n        if (this.cellClassNameGenerator) {\n          const result = this.cellClassNameGenerator(cell._column, model);\n          cell.__generatedClasses = result && result.split(' ').filter((className) => className.length > 0);\n          if (cell.__generatedClasses) {\n            cell.__generatedClasses.forEach((className) => cell.classList.add(className));\n          }\n        }\n      });\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nconst DropMode = {\n  BETWEEN: 'between',\n  ON_TOP: 'on-top',\n  ON_TOP_OR_BETWEEN: 'on-top-or-between',\n  ON_GRID: 'on-grid'\n};\n\nconst DropLocation = {\n  ON_TOP: 'on-top',\n  ABOVE: 'above',\n  BELOW: 'below',\n  EMPTY: 'empty'\n};\n\n/**\n * @polymerMixin\n */\nconst DragAndDropMixin = (superClass) =>\n  class DragAndDropMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Defines the locations within the Grid row where an element can be dropped.\n         *\n         * Possible values are:\n         * - `between`: The drop event can happen between Grid rows.\n         * - `on-top`: The drop event can happen on top of Grid rows.\n         * - `on-top-or-between`: The drop event can happen either on top of or between Grid rows.\n         * - `on-grid`: The drop event will not happen on any specific row, it will show the drop target outline around the whole grid.\n         * @attr {between|on-top|on-top-or-between|on-grid} drop-mode\n         * @type {GridDropMode | null | undefined}\n         */\n        dropMode: String,\n\n        /**\n         * Marks the grid's rows to be available for dragging.\n         * @attr {boolean} rows-draggable\n         */\n        rowsDraggable: Boolean,\n\n        /**\n         * A function that filters dragging of specific grid rows. The return value should be false\n         * if dragging of the row should be disabled.\n         *\n         * Receives one argument:\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridDragAndDropFilter | null | undefined}\n         */\n        dragFilter: Function,\n\n        /**\n         * A function that filters dropping on specific grid rows. The return value should be false\n         * if dropping on the row should be disabled.\n         *\n         * Receives one argument:\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridDragAndDropFilter | null | undefined}\n         */\n        dropFilter: Function,\n\n        /** @private */\n        __dndAutoScrollThreshold: {\n          value: 50\n        }\n      };\n    }\n\n    static get observers() {\n      return ['_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter)'];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this.$.table.addEventListener('dragstart', this._onDragStart.bind(this));\n      this.$.table.addEventListener('dragend', this._onDragEnd.bind(this));\n      this.$.table.addEventListener('dragover', this._onDragOver.bind(this));\n      this.$.table.addEventListener('dragleave', this._onDragLeave.bind(this));\n      this.$.table.addEventListener('drop', this._onDrop.bind(this));\n      this.$.table.addEventListener('dragenter', (e) => {\n        if (this.dropMode) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n    }\n\n    /** @private */\n    _onDragStart(e) {\n      if (this.rowsDraggable) {\n        let row = e.target;\n        if (row.localName === 'vaadin-grid-cell-content') {\n          // The draggable node is the cell content element on browsers that support native shadow\n          row = row.assignedSlot.parentNode.parentNode;\n        }\n        if (row.parentNode !== this.$.items) {\n          return;\n        }\n\n        e.stopPropagation();\n        this._toggleAttribute('dragging-rows', true, this);\n\n        if (this._safari) {\n          // Safari doesn't get proper drag images from transformed\n          // elements so we need to switch to top temporarily\n          const transform = row.style.transform;\n          row.style.top = /translateY\\((.*)\\)/.exec(transform)[1];\n          row.style.transform = 'none';\n          requestAnimationFrame(() => {\n            row.style.top = '';\n            row.style.transform = transform;\n          });\n        }\n\n        const rowRect = row.getBoundingClientRect();\n\n        if (this._ios) {\n          e.dataTransfer.setDragImage(row);\n        } else {\n          e.dataTransfer.setDragImage(row, e.clientX - rowRect.left, e.clientY - rowRect.top);\n        }\n\n        let rows = [row];\n        if (this._isSelected(row._item)) {\n          rows = this.__getViewportRows()\n            .filter((row) => this._isSelected(row._item))\n            .filter((row) => !this.dragFilter || this.dragFilter(this.__getRowModel(row)));\n        }\n\n        // Set the default transfer data\n        e.dataTransfer.setData('text', this.__formatDefaultTransferData(rows));\n\n        row.setAttribute('dragstart', rows.length > 1 ? rows.length : '');\n        this.updateStyles({\n          '--_grid-drag-start-x': `${e.clientX - rowRect.left + 20}px`,\n          '--_grid-drag-start-y': `${e.clientY - rowRect.top + 10}px`\n        });\n\n        requestAnimationFrame(() => {\n          row.removeAttribute('dragstart');\n          this.updateStyles({ '--_grid-drag-start-x': '', '--_grid-drag-start-y': '' });\n        });\n\n        const event = new CustomEvent('grid-dragstart', {\n          detail: {\n            draggedItems: rows.map((row) => row._item),\n            setDragData: (type, data) => e.dataTransfer.setData(type, data),\n            setDraggedItemsCount: (count) => row.setAttribute('dragstart', count)\n          }\n        });\n        event.originalEvent = e;\n        this.dispatchEvent(event);\n      }\n    }\n\n    /** @private */\n    _onDragEnd(e) {\n      this._toggleAttribute('dragging-rows', false, this);\n      e.stopPropagation();\n      const event = new CustomEvent('grid-dragend');\n      event.originalEvent = e;\n      this.dispatchEvent(event);\n    }\n\n    /** @private */\n    _onDragLeave(e) {\n      e.stopPropagation();\n      this._clearDragStyles();\n    }\n\n    /** @private */\n    _onDragOver(e) {\n      if (this.dropMode) {\n        this._dropLocation = undefined;\n        this._dragOverItem = undefined;\n\n        if (this.__dndAutoScroll(e.clientY)) {\n          this._clearDragStyles();\n          return;\n        }\n\n        let row = e.composedPath().filter((node) => node.localName === 'tr')[0];\n\n        if (!this._effectiveSize || this.dropMode === DropMode.ON_GRID) {\n          // The grid is empty or \"on-grid\" drop mode was used, always default to \"empty\"\n          this._dropLocation = DropLocation.EMPTY;\n        } else if (!row || row.parentNode !== this.$.items) {\n          // The dragover didn't occur on a body row but the grid has items\n          if (row) {\n            // The dragover occurred over a header/footer row\n            return;\n          } else if (this.dropMode === DropMode.BETWEEN || this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n            // The drop mode allows setting the last row as the drag over item\n            row = Array.from(this.$.items.children)\n              .filter((row) => !row.hidden)\n              .pop();\n            this._dropLocation = DropLocation.BELOW;\n          } else {\n            // Drop mode on-top used but the dragover didn't occur over one of the existing rows\n            return;\n          }\n        } else {\n          // The dragover occurred on a body row, determine the drop location from coordinates\n          const rowRect = row.getBoundingClientRect();\n\n          this._dropLocation = DropLocation.ON_TOP;\n\n          if (this.dropMode === DropMode.BETWEEN) {\n            const dropAbove = e.clientY - rowRect.top < rowRect.bottom - e.clientY;\n            this._dropLocation = dropAbove ? DropLocation.ABOVE : DropLocation.BELOW;\n          } else if (this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n            if (e.clientY - rowRect.top < rowRect.height / 3) {\n              this._dropLocation = DropLocation.ABOVE;\n            } else if (e.clientY - rowRect.top > (rowRect.height / 3) * 2) {\n              this._dropLocation = DropLocation.BELOW;\n            }\n          }\n        }\n\n        if (row && row.hasAttribute('drop-disabled')) {\n          this._dropLocation = undefined;\n          return;\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (this._dropLocation === DropLocation.EMPTY) {\n          this._toggleAttribute('dragover', true, this);\n        } else if (row) {\n          this._dragOverItem = row._item;\n          if (row.getAttribute('dragover') !== this._dropLocation) {\n            row.setAttribute('dragover', this._dropLocation);\n          }\n        } else {\n          this._clearDragStyles();\n        }\n      }\n    }\n\n    /** @private */\n    __dndAutoScroll(clientY) {\n      if (this.__dndAutoScrolling) {\n        return true;\n      }\n\n      const headerBottom = this.$.header.getBoundingClientRect().bottom;\n      const footerTop = this.$.footer.getBoundingClientRect().top;\n      const topDiff = headerBottom - clientY + this.__dndAutoScrollThreshold;\n      const bottomDiff = clientY - footerTop + this.__dndAutoScrollThreshold;\n      let scrollTopDelta = 0;\n\n      if (bottomDiff > 0) {\n        scrollTopDelta = bottomDiff * 2;\n      } else if (topDiff > 0) {\n        scrollTopDelta = -topDiff * 2;\n      }\n\n      if (scrollTopDelta) {\n        const scrollTop = this.$.table.scrollTop;\n        this.$.table.scrollTop += scrollTopDelta;\n        const scrollTopChanged = scrollTop !== this.$.table.scrollTop;\n        if (scrollTopChanged) {\n          this.__dndAutoScrolling = true;\n          // Disallow more auto-scrolls within 20ms\n          setTimeout(() => (this.__dndAutoScrolling = false), 20);\n          this._scrollHandler();\n          return true;\n        }\n      }\n    }\n\n    /** @private */\n    __getViewportRows() {\n      const headerBottom = this.$.header.getBoundingClientRect().bottom;\n      const footerTop = this.$.footer.getBoundingClientRect().top;\n      return Array.from(this.$.items.children).filter((row) => {\n        const rowRect = row.getBoundingClientRect();\n        return rowRect.bottom > headerBottom && rowRect.top < footerTop;\n      });\n    }\n\n    /** @protected */\n    _clearDragStyles() {\n      this.removeAttribute('dragover');\n      Array.from(this.$.items.children).forEach((row) => row.removeAttribute('dragover'));\n    }\n\n    /** @private */\n    _onDrop(e) {\n      if (this.dropMode) {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const dragData =\n          e.dataTransfer.types &&\n          Array.from(e.dataTransfer.types).map((type) => {\n            return {\n              type,\n              data: e.dataTransfer.getData(type)\n            };\n          });\n\n        this._clearDragStyles();\n\n        const event = new CustomEvent('grid-drop', {\n          bubbles: e.bubbles,\n          cancelable: e.cancelable,\n          detail: {\n            dropTargetItem: this._dragOverItem,\n            dropLocation: this._dropLocation,\n            dragData\n          }\n        });\n        event.originalEvent = e;\n        this.dispatchEvent(event);\n      }\n    }\n\n    /** @private */\n    __formatDefaultTransferData(rows) {\n      return rows\n        .map((row) => {\n          return Array.from(row.children)\n            .filter((cell) => !cell.hidden && cell.getAttribute('part').indexOf('details-cell') === -1)\n            .sort((a, b) => {\n              return a._column._order > b._column._order ? 1 : -1;\n            })\n            .map((cell) => cell._content.textContent.trim())\n            .filter((content) => content)\n            .join('\\t');\n        })\n        .join('\\n');\n    }\n\n    /** @private */\n    _dragDropAccessChanged() {\n      this.filterDragAndDrop();\n    }\n\n    /**\n     * Runs the `dragFilter` and `dropFilter` hooks for the visible cells.\n     * If the filter depends on varying conditions, you may need to\n     * call this function manually in order to update the draggability when\n     * the conditions change.\n     */\n    filterDragAndDrop() {\n      Array.from(this.$.items.children)\n        .filter((row) => !row.hidden)\n        .forEach((row) => {\n          this._filterDragAndDrop(row, this.__getRowModel(row));\n        });\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {!GridItemModel} model\n     * @protected\n     */\n    _filterDragAndDrop(row, model) {\n      const dragDisabled = !this.rowsDraggable || (this.dragFilter && !this.dragFilter(model));\n      const dropDisabled = !this.dropMode || (this.dropFilter && !this.dropFilter(model));\n\n      const draggableElements = Array.from(row.children).map((cell) => cell._content);\n\n      draggableElements.forEach((e) => {\n        if (dragDisabled) {\n          e.removeAttribute('draggable');\n        } else {\n          e.setAttribute('draggable', true);\n        }\n      });\n\n      this._toggleAttribute('drag-disabled', dragDisabled, row);\n      this._toggleAttribute('drop-disabled', dropDisabled, row);\n    }\n\n    /**\n     * Fired when starting to drag grid rows.\n     *\n     * @event grid-dragstart\n     * @param {Object} originalEvent The native dragstart event\n     * @param {Object} detail\n     * @param {Object} detail.draggedItems the items in the visible viewport that are dragged\n     * @param {Function} detail.setDraggedItemsCount Overrides the default number shown in the drag image on multi row drag.\n     * Parameter is of type number.\n     * @param {Function} detail.setDragData Sets dataTransfer data for the drag operation.\n     * Note that \"text\" is the only data type supported by all the browsers the grid currently supports (including IE11).\n     * The function takes two parameters:\n     * - type:string The type of the data\n     * - data:string The data\n     */\n\n    /**\n     * Fired when the dragging of the rows ends.\n     *\n     * @event grid-dragend\n     * @param {Object} originalEvent The native dragend event\n     */\n\n    /**\n     * Fired when a drop occurs on top of the grid.\n     *\n     * @event grid-drop\n     * @param {Object} originalEvent The native drop event\n     * @param {Object} detail\n     * @param {Object} detail.dropTargetItem The item of the grid row on which the drop occurred.\n     * @param {string} detail.dropLocation The position at which the drop event took place relative to a row.\n     * Depending on the dropMode value, the drop location can be one of the following\n     * - `on-top`: when the drop occurred on top of the row\n     * - `above`: when the drop occurred above the row\n     * - `below`: when the drop occurred below the row\n     * - `empty`: when the drop occurred over the grid, not relative to any specific row\n     * @param {string} detail.dragData An array of items with the payload as a string representation as the\n     * `data` property and the type of the data as `type` property.\n     */\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst KeyboardNavigationMixin = (superClass) =>\n  class KeyboardNavigationMixin extends superClass {\n    static get properties() {\n      return {\n        /** @private */\n        _headerFocusable: {\n          type: Object,\n          observer: '_focusableChanged'\n        },\n\n        /**\n         * @type {!HTMLElement | undefined}\n         * @protected\n         */\n        _itemsFocusable: {\n          type: Object,\n          observer: '_focusableChanged'\n        },\n\n        /** @private */\n        _footerFocusable: {\n          type: Object,\n          observer: '_focusableChanged'\n        },\n\n        /** @private */\n        _navigatingIsHidden: Boolean,\n\n        /**\n         * @type {number}\n         * @protected\n         */\n        _focusedItemIndex: {\n          type: Number,\n          value: 0\n        },\n\n        /** @private */\n        _focusedColumnOrder: Number\n      };\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      if (this._ios || this._android) {\n        // Disable keyboard navigation on mobile devices\n        return;\n      }\n\n      this.addEventListener('keydown', this._onKeyDown);\n      this.addEventListener('keyup', this._onKeyUp);\n\n      this.addEventListener('focusin', this._onFocusIn);\n      this.addEventListener('focusout', this._onFocusOut);\n\n      // When focus goes from cell to another cell, focusin/focusout events do\n      // not escape the grid’s shadowRoot, thus listening inside the shadowRoot.\n      this.$.table.addEventListener('focusin', this._onCellFocusIn.bind(this));\n      this.$.table.addEventListener('focusout', this._onCellFocusOut.bind(this));\n\n      this.addEventListener('mousedown', () => {\n        this._toggleAttribute('navigating', false, this);\n        this._isMousedown = true;\n      });\n      this.addEventListener('mouseup', () => (this._isMousedown = false));\n    }\n\n    /** @private */\n    _focusableChanged(focusable, oldFocusable) {\n      if (oldFocusable) {\n        oldFocusable.setAttribute('tabindex', '-1');\n      }\n      if (focusable) {\n        focusable.setAttribute('tabindex', '0');\n      }\n    }\n\n    /**\n     * @param {!KeyboardEvent} e\n     * @protected\n     */\n    _onKeyDown(e) {\n      const key = e.key;\n\n      let keyGroup;\n      switch (key) {\n        case 'ArrowUp':\n        case 'ArrowDown':\n        case 'ArrowLeft':\n        case 'ArrowRight':\n        case 'PageUp':\n        case 'PageDown':\n        case 'Home':\n        case 'End':\n          keyGroup = 'Navigation';\n          break;\n        case 'Enter':\n        case 'Escape':\n        case 'F2':\n          keyGroup = 'Interaction';\n          break;\n        case 'Tab':\n          keyGroup = 'Tab';\n          break;\n        case ' ':\n          keyGroup = 'Space';\n          break;\n      }\n\n      this._detectInteracting(e);\n      if (this.hasAttribute('interacting') && keyGroup !== 'Interaction') {\n        // When in the interacting mode, only the “Interaction” keys are handled.\n        keyGroup = undefined;\n      }\n\n      if (keyGroup) {\n        this[`_on${keyGroup}KeyDown`](e, key);\n      }\n    }\n\n    /** @private */\n    _ensureScrolledToIndex(index) {\n      const targetRowInDom = Array.from(this.$.items.children).filter((child) => child.index === index)[0];\n      if (!targetRowInDom) {\n        this._scrollToIndex(index);\n      }\n    }\n\n    /** @private */\n    _onNavigationKeyDown(e, key) {\n      this._scrollHandler();\n\n      e.preventDefault();\n\n      function indexOfChildElement(el) {\n        return Array.prototype.indexOf.call(el.parentNode.children, el);\n      }\n\n      const visibleItemsCount = this._lastVisibleIndex - this._firstVisibleIndex - 1;\n\n      let dx = 0,\n        dy = 0;\n      switch (key) {\n        case 'ArrowRight':\n          dx = this.__isRTL ? -1 : 1;\n          break;\n        case 'ArrowLeft':\n          dx = this.__isRTL ? 1 : -1;\n          break;\n        case 'Home':\n          dx = -Infinity;\n          e.ctrlKey && (dy = -Infinity);\n          break;\n        case 'End':\n          dx = Infinity;\n          e.ctrlKey && (dy = Infinity);\n          break;\n        case 'ArrowDown':\n          dy = 1;\n          break;\n        case 'ArrowUp':\n          dy = -1;\n          break;\n        case 'PageDown':\n          dy = visibleItemsCount;\n          break;\n        case 'PageUp':\n          dy = -visibleItemsCount;\n          break;\n      }\n\n      const activeCell = e.composedPath()[0];\n      const columnIndex = indexOfChildElement(activeCell);\n      const isRowDetails = this._elementMatches(activeCell, '[part~=\"details-cell\"]');\n\n      const activeRow = activeCell.parentNode;\n\n      const activeRowGroup = activeRow.parentNode;\n      const maxRowIndex = (activeRowGroup === this.$.items ? this._effectiveSize : activeRowGroup.children.length) - 1;\n\n      // Body rows have index property, otherwise DOM child index of the row is used.\n      const rowIndex =\n        activeRowGroup === this.$.items\n          ? this._focusedItemIndex !== undefined\n            ? this._focusedItemIndex\n            : activeRow.index\n          : indexOfChildElement(activeRow);\n\n      // Index of the destination row\n      let dstRowIndex = Math.max(0, Math.min(rowIndex + dy, maxRowIndex));\n\n      // Row details navigation logic\n      let dstIsRowDetails = false;\n      if (activeRowGroup === this.$.items) {\n        const item = activeRow._item;\n        const dstItem = this._cache.getItemForIndex(dstRowIndex);\n        // Should we navigate to row details?\n        if (isRowDetails) {\n          dstIsRowDetails = dy === 0;\n        } else {\n          dstIsRowDetails =\n            (dy === 1 && this._isDetailsOpened(item)) ||\n            (dy === -1 && dstRowIndex !== rowIndex && this._isDetailsOpened(dstItem));\n        }\n        // Should we navigate between details and regular cells of the same row?\n        if (dstIsRowDetails !== isRowDetails && ((dy === 1 && dstIsRowDetails) || (dy === -1 && !dstIsRowDetails))) {\n          dstRowIndex = rowIndex;\n        }\n      }\n\n      // Header and footer could have hidden rows, e. g., if none of the columns\n      // or groups on the given column tree level define template. Skip them\n      // in vertical keyboard navigation.\n      if (activeRowGroup !== this.$.items) {\n        if (dstRowIndex > rowIndex) {\n          while (dstRowIndex < maxRowIndex && activeRowGroup.children[dstRowIndex].hidden) {\n            dstRowIndex++;\n          }\n        } else if (dstRowIndex < rowIndex) {\n          while (dstRowIndex > 0 && activeRowGroup.children[dstRowIndex].hidden) {\n            dstRowIndex--;\n          }\n        }\n      }\n\n      // _focusedColumnOrder is memoized — this is to ensure predictable\n      // navigation when entering and leaving detail and column group cells.\n      if (this._focusedColumnOrder === undefined) {\n        if (isRowDetails) {\n          this._focusedColumnOrder = 0;\n        } else {\n          this._focusedColumnOrder = this._getColumns(activeRowGroup, rowIndex).filter((c) => !c.hidden)[\n            columnIndex\n          ]._order;\n        }\n      }\n\n      // Find orderedColumnIndex — the index of order closest matching the\n      // original _focusedColumnOrder in the sorted array of orders\n      // of the visible columns on the destination row.\n      const dstColumns = this._getColumns(activeRowGroup, dstRowIndex).filter((c) => !c.hidden);\n      const dstSortedColumnOrders = dstColumns.map((c) => c._order).sort((b, a) => b - a);\n      const maxOrderedColumnIndex = dstSortedColumnOrders.length - 1;\n      const orderedColumnIndex = dstSortedColumnOrders.indexOf(\n        dstSortedColumnOrders\n          .slice(0)\n          .sort((b, a) => Math.abs(b - this._focusedColumnOrder) - Math.abs(a - this._focusedColumnOrder))[0]\n      );\n\n      // Index of the destination column order\n      const dstOrderedColumnIndex =\n        dy === 0 && isRowDetails\n          ? orderedColumnIndex\n          : Math.max(0, Math.min(orderedColumnIndex + dx, maxOrderedColumnIndex));\n\n      if (dstOrderedColumnIndex !== orderedColumnIndex) {\n        // Horizontal movement invalidates stored _focusedColumnOrder\n        this._focusedColumnOrder = undefined;\n      }\n\n      // Ensure correct vertical scroll position, destination row is visible\n      if (activeRowGroup === this.$.items) {\n        this._ensureScrolledToIndex(dstRowIndex);\n      }\n\n      // This has to be set after scrolling, otherwise it can be removed by\n      // `_preventScrollerRotatingCellFocus(row, index)` during scrolling.\n      this._toggleAttribute('navigating', true, this);\n\n      const columnIndexByOrder = dstColumns.reduce((acc, col, i) => ((acc[col._order] = i), acc), {});\n      const dstColumnIndex = columnIndexByOrder[dstSortedColumnOrders[dstOrderedColumnIndex]];\n\n      // For body rows, use index property to find destination row, otherwise use DOM child index\n      const dstRow =\n        activeRowGroup === this.$.items\n          ? Array.from(activeRowGroup.children).filter((el) => el.index === dstRowIndex)[0]\n          : activeRowGroup.children[dstRowIndex];\n      if (!dstRow) {\n        return;\n      }\n\n      // Here we go!\n      const dstCell = dstIsRowDetails\n        ? Array.from(dstRow.children).filter((el) => this._elementMatches(el, '[part~=\"details-cell\"]'))[0]\n        : dstRow.children[dstColumnIndex];\n      this._scrollHorizontallyToCell(dstCell);\n      if (activeRowGroup === this.$.items) {\n        // When scrolling with repeated keydown, sometimes FocusEvent listeners\n        // are too late to update _focusedItemIndex. Ensure next keydown\n        // listener invocation gets updated _focusedItemIndex value.\n        this._focusedItemIndex = dstRowIndex;\n      }\n\n      if (activeRowGroup === this.$.items) {\n        const dstRect = dstCell.getBoundingClientRect();\n        const footerTop = this.$.footer.getBoundingClientRect().top;\n        const headerBottom = this.$.header.getBoundingClientRect().bottom;\n        if (dstRect.bottom > footerTop) {\n          this.$.table.scrollTop += dstRect.bottom - footerTop;\n          this._scrollHandler();\n        } else if (dstRect.top < headerBottom) {\n          this.$.table.scrollTop -= headerBottom - dstRect.top;\n          this._scrollHandler();\n        }\n      }\n\n      dstCell.focus();\n    }\n\n    /** @private */\n    _parseEventPath(path) {\n      const tableIndex = path.indexOf(this.$.table);\n      return {\n        rowGroup: path[tableIndex - 1],\n        row: path[tableIndex - 2],\n        cell: path[tableIndex - 3]\n      };\n    }\n\n    /** @private */\n    _onInteractionKeyDown(e, key) {\n      const localTarget = e.composedPath()[0];\n      const localTargetIsTextInput =\n        localTarget.localName === 'input' &&\n        !/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(localTarget.type);\n\n      let wantInteracting;\n      switch (key) {\n        case 'Enter':\n          wantInteracting = this.hasAttribute('interacting') ? !localTargetIsTextInput : true;\n          break;\n        case 'Escape':\n          wantInteracting = false;\n          break;\n        case 'F2':\n          wantInteracting = !this.hasAttribute('interacting');\n          break;\n      }\n\n      const { cell } = this._parseEventPath(e.composedPath());\n\n      if (this.hasAttribute('interacting') !== wantInteracting) {\n        if (wantInteracting) {\n          const focusTarget = cell._content.querySelector('[focus-target]') || cell._content.firstElementChild;\n          if (focusTarget) {\n            e.preventDefault();\n            focusTarget.focus();\n            this._toggleAttribute('interacting', true, this);\n            this._toggleAttribute('navigating', false, this);\n          }\n        } else {\n          e.preventDefault();\n          this._focusedColumnOrder = undefined;\n          cell.focus();\n          this._toggleAttribute('interacting', false, this);\n          this._toggleAttribute('navigating', true, this);\n        }\n      }\n    }\n\n    /** @private */\n    _predictFocusStepTarget(srcElement, step) {\n      const tabOrder = [\n        this.$.table,\n        this._headerFocusable,\n        this._itemsFocusable,\n        this._footerFocusable,\n        this.$.focusexit\n      ];\n\n      let index = tabOrder.indexOf(srcElement);\n\n      index += step;\n      while (index >= 0 && index <= tabOrder.length - 1 && (!tabOrder[index] || tabOrder[index].parentNode.hidden)) {\n        index += step;\n      }\n\n      return tabOrder[index];\n    }\n\n    /** @private */\n    _onTabKeyDown(e) {\n      const focusTarget = this._predictFocusStepTarget(e.composedPath()[0], e.shiftKey ? -1 : 1);\n\n      if (focusTarget === this.$.table) {\n        // The focus is about to exit the grid to the top.\n        this.$.table.focus();\n      } else if (focusTarget === this.$.focusexit) {\n        // The focus is about to exit the grid to the bottom.\n        this.$.focusexit.focus();\n      } else if (focusTarget === this._itemsFocusable) {\n        let itemsFocusTarget = focusTarget;\n        const targetRow = this._itemsFocusable.parentNode;\n        this._ensureScrolledToIndex(this._focusedItemIndex);\n        if (targetRow.index !== this._focusedItemIndex) {\n          // The target row, which is about to be focused next, has been\n          // assigned with a new index since last focus, probably because of\n          // scrolling. Focus the row for the stored focused item index instead.\n          const columnIndex = Array.from(targetRow.children).indexOf(this._itemsFocusable);\n          const focusedItemRow = Array.from(this.$.items.children).filter(\n            (row) => row.index === this._focusedItemIndex\n          )[0];\n          if (focusedItemRow) {\n            itemsFocusTarget = focusedItemRow.children[columnIndex];\n          }\n        }\n        e.preventDefault();\n        itemsFocusTarget.focus();\n      } else {\n        e.preventDefault();\n        focusTarget.focus();\n      }\n\n      this._toggleAttribute('navigating', true, this);\n    }\n\n    /** @private */\n    _onSpaceKeyDown(e) {\n      e.preventDefault();\n\n      const cell = e.composedPath()[0];\n      if (!cell._content || !cell._content.firstElementChild) {\n        this.dispatchEvent(\n          new CustomEvent('cell-activate', {\n            detail: {\n              model: this.__getRowModel(cell.parentElement)\n            }\n          })\n        );\n      }\n    }\n\n    /** @private */\n    _onKeyUp(e) {\n      if (!/^( |SpaceBar)$/.test(e.key)) {\n        return;\n      }\n\n      e.preventDefault();\n\n      const cell = e.composedPath()[0];\n      if (cell._content && cell._content.firstElementChild) {\n        const wasNavigating = this.hasAttribute('navigating');\n        cell._content.firstElementChild.click();\n        this._toggleAttribute('navigating', wasNavigating, this);\n      }\n    }\n\n    /**\n     * @param {!FocusEvent} e\n     * @protected\n     */\n    _onFocusIn(e) {\n      if (!this._isMousedown) {\n        this._toggleAttribute('navigating', true, this);\n      }\n\n      const rootTarget = e.composedPath()[0];\n\n      if (rootTarget === this.$.table || rootTarget === this.$.focusexit) {\n        // The focus enters the top (bottom) of the grid, meaning that user has\n        // tabbed (shift-tabbed) into the grid. Move the focus to\n        // the first (the last) focusable.\n        this._predictFocusStepTarget(rootTarget, rootTarget === this.$.table ? 1 : -1).focus();\n        this._toggleAttribute('interacting', false, this);\n      } else {\n        this._detectInteracting(e);\n      }\n    }\n\n    /**\n     * @param {!FocusEvent} e\n     * @protected\n     */\n    _onFocusOut(e) {\n      this._toggleAttribute('navigating', false, this);\n      this._detectInteracting(e);\n    }\n\n    /** @private */\n    _onCellFocusIn(e) {\n      this._detectInteracting(e);\n\n      if (e.composedPath().indexOf(this.$.table) === 3) {\n        const cell = e.composedPath()[0];\n        this._activeRowGroup = cell.parentNode.parentNode;\n        if (this._activeRowGroup === this.$.header) {\n          this._headerFocusable = cell;\n        } else if (this._activeRowGroup === this.$.items) {\n          this._itemsFocusable = cell;\n        } else if (this._activeRowGroup === this.$.footer) {\n          this._footerFocusable = cell;\n        }\n        // Inform cell content of the focus (used in <vaadin-grid-sorter>)\n        cell._content.dispatchEvent(new CustomEvent('cell-focusin', { bubbles: false }));\n      }\n\n      this._detectFocusedItemIndex(e);\n    }\n\n    /** @private */\n    _onCellFocusOut(e) {\n      if (e.composedPath().indexOf(this.$.table) === 3) {\n        const cell = e.composedPath()[0];\n        // Inform cell content of the focus (used in <vaadin-grid-sorter>)\n        cell._content.dispatchEvent(new CustomEvent('cell-focusout', { bubbles: false }));\n      }\n    }\n\n    /** @private */\n    _detectInteracting(e) {\n      this._toggleAttribute(\n        'interacting',\n        e.composedPath().some((el) => el.localName === 'vaadin-grid-cell-content'),\n        this\n      );\n    }\n\n    /** @private */\n    _detectFocusedItemIndex(e) {\n      const { rowGroup, row } = this._parseEventPath(e.composedPath());\n      if (rowGroup === this.$.items) {\n        this._focusedItemIndex = row.index;\n      }\n    }\n\n    /**\n     * @param {!HTMLTableRowElement} row\n     * @param {number} index\n     * @protected\n     */\n    _preventScrollerRotatingCellFocus(row, index) {\n      if (\n        row.index === this._focusedItemIndex &&\n        this.hasAttribute('navigating') &&\n        this._activeRowGroup === this.$.items\n      ) {\n        // Focused item has went, hide navigation mode\n        this._navigatingIsHidden = true;\n        this._toggleAttribute('navigating', false, this);\n      }\n      if (index === this._focusedItemIndex && this._navigatingIsHidden) {\n        // Focused item is back, restore navigation mode\n        this._navigatingIsHidden = false;\n        this._toggleAttribute('navigating', true, this);\n      }\n    }\n\n    /**\n     * @param {HTMLTableSectionElement=} rowGroup\n     * @param {number=} rowIndex\n     * @return {!Array<!GridColumnElement>}\n     * @protected\n     */\n    _getColumns(rowGroup, rowIndex) {\n      let columnTreeLevel = this._columnTree.length - 1;\n      if (rowGroup === this.$.header) {\n        columnTreeLevel = rowIndex;\n      } else if (rowGroup === this.$.footer) {\n        columnTreeLevel = this._columnTree.length - 1 - rowIndex;\n      }\n      return this._columnTree[columnTreeLevel];\n    }\n\n    /** @protected */\n    _resetKeyboardNavigation() {\n      if (this.$.header.firstElementChild) {\n        this._headerFocusable = Array.from(this.$.header.firstElementChild.children).filter((el) => !el.hidden)[0];\n      }\n\n      if (this.$.items.firstElementChild) {\n        const firstVisibleIndexRow = this._iterateItems((pidx, vidx) => {\n          if (this._firstVisibleIndex === vidx) {\n            return this.$.items.children[pidx];\n          }\n        });\n        if (firstVisibleIndexRow) {\n          this._itemsFocusable = Array.from(firstVisibleIndexRow.children).filter((el) => !el.hidden)[0];\n        }\n      }\n\n      if (this.$.footer.firstElementChild) {\n        this._footerFocusable = Array.from(this.$.footer.firstElementChild.children).filter((el) => !el.hidden)[0];\n      }\n    }\n\n    /**\n     * @param {!HTMLElement} dstCell\n     * @protected\n     */\n    _scrollHorizontallyToCell(dstCell) {\n      if (dstCell.hasAttribute('frozen') || this._elementMatches(dstCell, '[part~=\"details-cell\"]')) {\n        // These cells are, by design, always visible, no need to scroll.\n        return;\n      }\n\n      const dstCellRect = dstCell.getBoundingClientRect();\n      const dstRow = dstCell.parentNode;\n      const dstCellIndex = Array.from(dstRow.children).indexOf(dstCell);\n      const tableRect = this.$.table.getBoundingClientRect();\n      let leftBoundary = tableRect.left,\n        rightBoundary = tableRect.right;\n      for (let i = dstCellIndex - 1; i >= 0; i--) {\n        const cell = dstRow.children[i];\n        if (cell.hasAttribute('hidden') || this._elementMatches(cell, '[part~=\"details-cell\"]')) {\n          continue;\n        }\n        if (cell.hasAttribute('frozen')) {\n          leftBoundary = cell.getBoundingClientRect().right;\n          break;\n        }\n      }\n      for (let i = dstCellIndex + 1; i < dstRow.children.length; i++) {\n        const cell = dstRow.children[i];\n        if (cell.hasAttribute('hidden') || this._elementMatches(cell, '[part~=\"details-cell\"]')) {\n          continue;\n        }\n        if (cell.hasAttribute('frozen')) {\n          rightBoundary = cell.getBoundingClientRect().left;\n          break;\n        }\n      }\n\n      if (dstCellRect.left < leftBoundary) {\n        this.$.table.scrollLeft += Math.round(dstCellRect.left - leftBoundary);\n      }\n      if (dstCellRect.right > rightBoundary) {\n        this.$.table.scrollLeft += Math.round(dstCellRect.right - rightBoundary);\n      }\n    }\n\n    /** @private */\n    _elementMatches(el, query) {\n      return el.matches ? el.matches(query) : Array.from(el.parentNode.querySelectorAll(query)).indexOf(el) !== -1;\n    }\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst ColumnReorderingMixin = (superClass) =>\n  class ColumnReorderingMixin extends GestureEventListeners(superClass) {\n    static get properties() {\n      return {\n        /**\n         * Set to true to allow column reordering.\n         * @attr {boolean} column-reordering-allowed\n         * @type {boolean}\n         */\n        columnReorderingAllowed: {\n          type: Boolean,\n          value: false\n        },\n\n        /** @private */\n        _orderBaseScope: {\n          type: Number,\n          value: 10000000\n        }\n      };\n    }\n\n    static get observers() {\n      return ['_updateOrders(_columnTree, _columnTree.*)'];\n    }\n\n    ready() {\n      super.ready();\n      addListener(this, 'track', this._onTrackEvent);\n      this._reorderGhost = this.shadowRoot.querySelector('[part=\"reorder-ghost\"]');\n\n      this.addEventListener('touchstart', this._onTouchStart.bind(this));\n      this.addEventListener('touchmove', this._onTouchMove.bind(this));\n      this.addEventListener('touchend', this._onTouchEnd.bind(this));\n      this.addEventListener('contextmenu', this._onContextMenu.bind(this));\n    }\n\n    /** @private */\n    _onContextMenu(e) {\n      if (this.hasAttribute('reordering')) {\n        e.preventDefault();\n      }\n    }\n\n    /** @private */\n    _onTouchStart(e) {\n      // Touch event, delay activation by 100ms\n      this._startTouchReorderTimeout = setTimeout(() => {\n        this._onTrackStart({\n          detail: {\n            x: e.touches[0].clientX,\n            y: e.touches[0].clientY\n          }\n        });\n      }, 100);\n    }\n\n    /** @private */\n    _onTouchMove(e) {\n      if (this._draggedColumn) {\n        e.preventDefault();\n      }\n      clearTimeout(this._startTouchReorderTimeout);\n    }\n\n    /** @private */\n    _onTouchEnd() {\n      clearTimeout(this._startTouchReorderTimeout);\n      this._onTrackEnd();\n    }\n\n    /** @private */\n    _onTrackEvent(e) {\n      if (e.detail.state === 'start') {\n        const path = e.composedPath();\n        const headerCell = path[path.indexOf(this.$.header) - 2];\n        if (!headerCell || !headerCell._content) {\n          // Not a header column\n          return;\n        }\n\n        if (headerCell._content.contains(this.getRootNode().activeElement)) {\n          // Something was focused inside the cell\n          return;\n        }\n\n        if (this.$.scroller.hasAttribute('column-resizing')) {\n          // Resizing is in progress\n          return;\n        }\n\n        if (!this._touchDevice) {\n          // Not a touch device\n          this._onTrackStart(e);\n        }\n      } else if (e.detail.state === 'track') {\n        this._onTrack(e);\n      } else if (e.detail.state === 'end') {\n        this._onTrackEnd(e);\n      }\n    }\n\n    /** @private */\n    _onTrackStart(e) {\n      if (!this.columnReorderingAllowed) {\n        return;\n      }\n\n      // Cancel reordering if there are draggable nodes on the event path\n      const path = e.composedPath && e.composedPath();\n      if (path && path.filter((node) => node.hasAttribute && node.hasAttribute('draggable'))[0]) {\n        return;\n      }\n\n      const headerCell = this._cellFromPoint(e.detail.x, e.detail.y);\n      if (!headerCell || headerCell.getAttribute('part').indexOf('header-cell') === -1) {\n        return;\n      }\n\n      this._toggleAttribute('reordering', true, this);\n      this._draggedColumn = headerCell._column;\n      while (this._draggedColumn.parentElement.childElementCount === 1) {\n        // This is the only column in the group, drag the whole group instead\n        this._draggedColumn = this._draggedColumn.parentElement;\n      }\n      this._setSiblingsReorderStatus(this._draggedColumn, 'allowed');\n      this._draggedColumn._reorderStatus = 'dragging';\n\n      this._updateGhost(headerCell);\n      this._reorderGhost.style.visibility = 'visible';\n      this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n      this._autoScroller();\n    }\n\n    /** @private */\n    _onTrack(e) {\n      if (!this._draggedColumn) {\n        // Reordering didn’t start. Skip this event.\n        return;\n      }\n\n      const targetCell = this._cellFromPoint(e.detail.x, e.detail.y);\n      if (!targetCell) {\n        return;\n      }\n\n      const targetColumn = this._getTargetColumn(targetCell, this._draggedColumn);\n      if (\n        this._isSwapAllowed(this._draggedColumn, targetColumn) &&\n        this._isSwappableByPosition(targetColumn, e.detail.x)\n      ) {\n        this._swapColumnOrders(this._draggedColumn, targetColumn);\n      }\n\n      this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n      this._lastDragClientX = e.detail.x;\n    }\n\n    /** @private */\n    _onTrackEnd() {\n      if (!this._draggedColumn) {\n        // Reordering didn’t start. Skip this event.\n        return;\n      }\n\n      this._toggleAttribute('reordering', false, this);\n      this._draggedColumn._reorderStatus = '';\n      this._setSiblingsReorderStatus(this._draggedColumn, '');\n      this._draggedColumn = null;\n      this._lastDragClientX = null;\n      this._reorderGhost.style.visibility = 'hidden';\n\n      this.dispatchEvent(\n        new CustomEvent('column-reorder', {\n          detail: {\n            columns: this._getColumnsInOrder()\n          }\n        })\n      );\n    }\n\n    /**\n     * @return {!Array<!GridColumnElement>}\n     * @protected\n     */\n    _getColumnsInOrder() {\n      return this._columnTree\n        .slice(0)\n        .pop()\n        .filter((c) => !c.hidden)\n        .sort((b, a) => b._order - a._order);\n    }\n\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {HTMLElement | undefined}\n     * @protected\n     */\n    _cellFromPoint(x, y) {\n      x = x || 0;\n      y = y || 0;\n      if (!this._draggedColumn) {\n        this._toggleAttribute('no-content-pointer-events', true, this.$.scroller);\n      }\n      const cell = this.shadowRoot.elementFromPoint(x, y);\n      this._toggleAttribute('no-content-pointer-events', false, this.$.scroller);\n\n      // Make sure the element is actually a cell\n      if (cell && cell._column) {\n        return cell;\n      }\n    }\n\n    /**\n     * @param {number} eventClientX\n     * @param {number} eventClientY\n     * @protected\n     */\n    _updateGhostPosition(eventClientX, eventClientY) {\n      const ghostRect = this._reorderGhost.getBoundingClientRect();\n      // // This is where we want to position the ghost\n      const targetLeft = eventClientX - ghostRect.width / 2;\n      const targetTop = eventClientY - ghostRect.height / 2;\n      // Current position\n      const _left = parseInt(this._reorderGhost._left || 0);\n      const _top = parseInt(this._reorderGhost._top || 0);\n      // Reposition the ghost\n      this._reorderGhost._left = _left - (ghostRect.left - targetLeft);\n      this._reorderGhost._top = _top - (ghostRect.top - targetTop);\n      this._reorderGhost.style.transform = `translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`;\n    }\n\n    /**\n     * @param {!HTMLElement} cell\n     * @return {!HTMLElement}\n     * @protected\n     */\n    _updateGhost(cell) {\n      const ghost = this._reorderGhost;\n      ghost.textContent = cell._content.innerText;\n      const style = window.getComputedStyle(cell);\n      [\n        'boxSizing',\n        'display',\n        'width',\n        'height',\n        'background',\n        'alignItems',\n        'padding',\n        'border',\n        'flex-direction',\n        'overflow'\n      ].forEach((propertyName) => (ghost.style[propertyName] = style[propertyName]));\n      return ghost;\n    }\n\n    /** @private */\n    _updateOrders(columnTree, splices) {\n      if (columnTree === undefined || splices === undefined) {\n        return;\n      }\n\n      // Reset all column orders\n      columnTree[0].forEach((column) => (column._order = 0));\n      // Set order numbers to top-level columns\n      columnTree[0].forEach((column, index) => (column._order = (index + 1) * this._orderBaseScope));\n    }\n\n    /**\n     * @param {!GridColumnElement} column\n     * @param {string} status\n     * @protected\n     */\n    _setSiblingsReorderStatus(column, status) {\n      Array.from(column.parentNode.children)\n        .filter((child) => /column/.test(child.localName) && this._isSwapAllowed(child, column))\n        .forEach((sibling) => (sibling._reorderStatus = status));\n    }\n\n    /** @protected */\n    _autoScroller() {\n      if (this._lastDragClientX) {\n        const rightDiff = this._lastDragClientX - this.getBoundingClientRect().right + 50;\n        const leftDiff = this.getBoundingClientRect().left - this._lastDragClientX + 50;\n\n        if (rightDiff > 0) {\n          this.$.table.scrollLeft += rightDiff / 10;\n        } else if (leftDiff > 0) {\n          this.$.table.scrollLeft -= leftDiff / 10;\n        }\n        this._scrollHandler();\n      }\n\n      if (this._draggedColumn) {\n        this.async(this._autoScroller, 10);\n      }\n    }\n\n    /**\n     * @param {GridColumnElement | undefined} column1\n     * @param {GridColumnElement | undefined} column2\n     * @return {boolean | undefined}\n     * @protected\n     */\n    _isSwapAllowed(column1, column2) {\n      if (column1 && column2) {\n        const differentColumns = column1 !== column2;\n        const sameParent = column1.parentElement === column2.parentElement;\n        const sameFrozen = column1.frozen === column2.frozen;\n        return differentColumns && sameParent && sameFrozen;\n      }\n    }\n\n    /**\n     * @param {!GridColumnElement} targetColumn\n     * @param {number} clientX\n     * @return {boolean}\n     * @protected\n     */\n    _isSwappableByPosition(targetColumn, clientX) {\n      const targetCell = Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~=\"cell\"]')).filter((cell) =>\n        targetColumn.contains(cell._column)\n      )[0];\n      const sourceCellRect = this.$.header\n        .querySelector('tr:not([hidden]) [reorder-status=dragging]')\n        .getBoundingClientRect();\n      const targetRect = targetCell.getBoundingClientRect();\n      if (targetRect.left > sourceCellRect.left) {\n        return clientX > targetRect.right - sourceCellRect.width;\n      } else {\n        return clientX < targetRect.left + sourceCellRect.width;\n      }\n    }\n\n    /**\n     * @param {!GridColumnElement} column1\n     * @param {!GridColumnElement} column2\n     * @protected\n     */\n    _swapColumnOrders(column1, column2) {\n      const _order = column1._order;\n      column1._order = column2._order;\n      column2._order = _order;\n      this._updateLastFrozen();\n      this._updateFirstAndLastColumn();\n    }\n\n    /**\n     * @param {HTMLElement | undefined} targetCell\n     * @param {GridColumnElement} draggedColumn\n     * @return {GridColumnElement | undefined}\n     * @protected\n     */\n    _getTargetColumn(targetCell, draggedColumn) {\n      if (targetCell && draggedColumn) {\n        let candidate = targetCell._column;\n        while (candidate.parentElement !== draggedColumn.parentElement && candidate !== this) {\n          candidate = candidate.parentElement;\n        }\n        if (candidate.parentElement === draggedColumn.parentElement) {\n          return candidate;\n        } else {\n          return targetCell._column;\n        }\n      }\n    }\n\n    /**\n     * Fired when the columns in the grid are reordered.\n     *\n     * @event column-reorder\n     * @param {Object} detail\n     * @param {Object} detail.columns the columns in the new order\n     */\n  };\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nconst ColumnBaseMixin = (superClass) =>\n  class ColumnBaseMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * When set to true, the column is user-resizable.\n         * @default false\n         */\n        resizable: {\n          type: Boolean,\n          value: function () {\n            if (this.localName === 'vaadin-grid-column-group') {\n              return;\n            }\n\n            const parent = this.parentNode;\n            if (parent && parent.localName === 'vaadin-grid-column-group') {\n              return parent.resizable || false;\n            } else {\n              return false;\n            }\n          }\n        },\n\n        /**\n         * @type {HTMLTemplateElement}\n         * @protected\n         */\n        _headerTemplate: {\n          type: Object\n        },\n\n        /**\n         * @type {HTMLTemplateElement}\n         * @protected\n         */\n        _footerTemplate: {\n          type: Object\n        },\n\n        /**\n         * When true, the column is frozen. When a column inside of a column group is frozen,\n         * all of the sibling columns inside the group will get frozen also.\n         * @type {boolean}\n         */\n        frozen: {\n          type: Boolean,\n          value: false\n        },\n\n        /**\n         * When set to true, the cells for this column are hidden.\n         */\n        hidden: {\n          type: Boolean\n        },\n\n        /**\n         * Text content to display in the header cell of the column.\n         */\n        header: {\n          type: String\n        },\n\n        /**\n         * Aligns the columns cell content horizontally.\n         * Supported values: \"start\", \"center\" and \"end\".\n         * @attr {start|center|end} text-align\n         * @type {GridColumnTextAlign | null | undefined}\n         */\n        textAlign: {\n          type: String\n        },\n\n        /**\n         * @type {boolean}\n         * @protected\n         */\n        _lastFrozen: {\n          type: Boolean,\n          value: false\n        },\n\n        /** @protected */\n        _order: Number,\n\n        /** @private */\n        _reorderStatus: Boolean,\n\n        /**\n         * @type {Array<!HTMLElement>}\n         * @protected\n         */\n        _emptyCells: Array,\n\n        /** @private */\n        _headerCell: Object,\n\n        /** @private */\n        _footerCell: Object,\n\n        /** @protected */\n        _grid: Object,\n\n        /**\n         * Custom function for rendering the header content.\n         * Receives two arguments:\n         *\n         * - `root` The header cell content DOM element. Append your content to it.\n         * - `column` The `<vaadin-grid-column>` element.\n         *\n         * @type {GridHeaderFooterRenderer | null | undefined}\n         */\n        headerRenderer: Function,\n\n        /**\n         * Custom function for rendering the footer content.\n         * Receives two arguments:\n         *\n         * - `root` The footer cell content DOM element. Append your content to it.\n         * - `column` The `<vaadin-grid-column>` element.\n         *\n         * @type {GridHeaderFooterRenderer | null | undefined}\n         */\n        footerRenderer: Function\n      };\n    }\n\n    static get observers() {\n      return [\n        '_widthChanged(width, _headerCell, _footerCell, _cells.*)',\n        '_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)',\n        '_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)',\n        '_pathOrHeaderChanged(path, header, _headerCell, _footerCell, _cells.*, renderer, headerRenderer, _bodyTemplate, _headerTemplate)',\n        '_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)',\n        '_orderChanged(_order, _headerCell, _footerCell, _cells.*)',\n        '_lastFrozenChanged(_lastFrozen)',\n        '_setBodyTemplateOrRenderer(_bodyTemplate, renderer, _cells, _cells.*)',\n        '_setHeaderTemplateOrRenderer(_headerTemplate, headerRenderer, _headerCell)',\n        '_setFooterTemplateOrRenderer(_footerTemplate, footerRenderer, _footerCell)',\n        '_resizableChanged(resizable, _headerCell)',\n        '_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)',\n        '_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)'\n      ];\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n\n      this._bodyTemplate && (this._bodyTemplate.templatizer._grid = this._grid);\n      this._headerTemplate && (this._headerTemplate.templatizer._grid = this._grid);\n      this._footerTemplate && (this._footerTemplate.templatizer._grid = this._grid);\n\n      this._templateObserver.flush();\n      if (!this._bodyTemplate) {\n        // The observer might not have triggered if the tag is empty. Run manually.\n        this._templateObserver.callback();\n      }\n\n      requestAnimationFrame(() => {\n        this._allCells.forEach((cell) => {\n          if (!cell._content.parentNode) {\n            this._grid && this._grid.appendChild(cell._content);\n          }\n        });\n      });\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      requestAnimationFrame(() => {\n        if (!this._findHostGrid()) {\n          this._allCells.forEach((cell) => {\n            if (cell._content.parentNode) {\n              cell._content.parentNode.removeChild(cell._content);\n            }\n          });\n        }\n      });\n\n      this._gridValue = undefined;\n    }\n\n    /**\n     * @return {!GridElement | undefined}\n     * @protected\n     */\n    _findHostGrid() {\n      let el = this;\n      // Custom elements extending grid must have a specific localName\n      while (el && !/^vaadin.*grid(-pro)?$/.test(el.localName)) {\n        el = el.assignedSlot ? el.assignedSlot.parentNode : el.parentNode;\n      }\n      return el || undefined;\n    }\n\n    /**\n     * @return {!GridElement | undefined}\n     * @protected\n     */\n    get _grid() {\n      if (!this._gridValue) {\n        this._gridValue = this._findHostGrid();\n      }\n      return this._gridValue;\n    }\n\n    /**\n     * @return {!Array<!HTMLElement>}\n     * @protected\n     */\n    get _allCells() {\n      return []\n        .concat(this._cells || [])\n        .concat(this._emptyCells || [])\n        .concat(this._headerCell)\n        .concat(this._footerCell)\n        .filter((cell) => cell);\n    }\n\n    constructor() {\n      super();\n\n      this._templateObserver = new FlattenedNodesObserver(this, () => {\n        this._headerTemplate = this._prepareHeaderTemplate();\n        this._footerTemplate = this._prepareFooterTemplate();\n        this._bodyTemplate = this._prepareBodyTemplate();\n      });\n    }\n\n    /**\n     * @return {HTMLTemplateElement}\n     * @protected\n     */\n    _prepareHeaderTemplate() {\n      return this._prepareTemplatizer(this._findTemplate(true) || null, {});\n    }\n\n    /**\n     * @return {HTMLTemplateElement}\n     * @protected\n     */\n    _prepareFooterTemplate() {\n      return this._prepareTemplatizer(this._findTemplate(false, true) || null, {});\n    }\n\n    /**\n     * @return {HTMLTemplateElement}\n     * @protected\n     */\n    _prepareBodyTemplate() {\n      return this._prepareTemplatizer(this._findTemplate() || null);\n    }\n\n    /**\n     * @param {HTMLTemplateElement} template\n     * @param {object} instanceProps\n     * @return {HTMLTemplateElement}\n     * @protected\n     */\n    _prepareTemplatizer(template, instanceProps) {\n      if (template && !template.templatizer) {\n        const templatizer = new GridTemplatizer();\n        templatizer._grid = this._grid;\n        templatizer.dataHost = this.dataHost;\n        templatizer._instanceProps = instanceProps || templatizer._instanceProps;\n        templatizer.template = template;\n        template.templatizer = templatizer;\n      }\n\n      return template;\n    }\n\n    /** @protected */\n    _renderHeaderAndFooter() {\n      if (this.headerRenderer && this._headerCell) {\n        this.__runRenderer(this.headerRenderer, this._headerCell);\n      }\n      if (this.footerRenderer && this._footerCell) {\n        this.__runRenderer(this.footerRenderer, this._footerCell);\n      }\n    }\n\n    /** @private */\n    __runRenderer(renderer, cell, model) {\n      const args = [cell._content, this];\n      if (model && model.item) {\n        args.push(model);\n      }\n      renderer.apply(this, args);\n    }\n\n    /** @private */\n    __setColumnTemplateOrRenderer(template, renderer, cells) {\n      // no renderer or template needed in a hidden column\n      if (this.hidden) {\n        return;\n      }\n\n      if (template && renderer) {\n        throw new Error('You should only use either a renderer or a template');\n      }\n\n      cells.forEach((cell) => {\n        const model = this._grid.__getRowModel(cell.parentElement);\n\n        if (renderer) {\n          cell._renderer = renderer;\n\n          if (model.item || renderer === this.headerRenderer || renderer === this.footerRenderer) {\n            this.__runRenderer(renderer, cell, model);\n          }\n        } else if (cell._template !== template) {\n          cell._template = template;\n\n          cell._content.innerHTML = '';\n          template.templatizer._grid = template.templatizer._grid || this._grid;\n          const inst = template.templatizer.createInstance();\n          cell._content.appendChild(inst.root);\n          cell._instance = inst;\n          if (model.item) {\n            cell._instance.setProperties(model);\n          }\n        }\n      });\n    }\n\n    /** @private */\n    _setBodyTemplateOrRenderer(template, renderer, cells) {\n      if ((template || renderer) && cells) {\n        this.__setColumnTemplateOrRenderer(template, renderer, cells);\n      }\n    }\n\n    /** @private */\n    _setHeaderTemplateOrRenderer(headerTemplate, headerRenderer, headerCell) {\n      if ((headerTemplate || headerRenderer) && headerCell) {\n        this.__setColumnTemplateOrRenderer(headerTemplate, headerRenderer, [headerCell]);\n      }\n    }\n\n    /** @private */\n    _setFooterTemplateOrRenderer(footerTemplate, footerRenderer, footerCell) {\n      if ((footerTemplate || footerRenderer) && footerCell) {\n        this.__setColumnTemplateOrRenderer(footerTemplate, footerRenderer, [footerCell]);\n        this._grid.__updateHeaderFooterRowVisibility(footerCell.parentElement);\n      }\n    }\n\n    /**\n     * @param {boolean} header\n     * @param {boolean} footer\n     * @return {HTMLTemplateElement}\n     * @protected\n     */\n    _selectFirstTemplate(header = false, footer = false) {\n      return FlattenedNodesObserver.getFlattenedNodes(this).filter(\n        (node) =>\n          node.localName === 'template' &&\n          node.classList.contains('header') === header &&\n          node.classList.contains('footer') === footer\n      )[0];\n    }\n\n    /**\n     * @param {boolean} header\n     * @param {boolean} footer\n     * @return {HTMLTemplateElement}\n     * @protected\n     */\n    _findTemplate(header, footer) {\n      const template = this._selectFirstTemplate(header, footer);\n      if (template) {\n        if (this.dataHost) {\n          // set dataHost to the context where template has been defined\n          template._rootDataHost = this.dataHost._rootDataHost || this.dataHost;\n        }\n      }\n      return template;\n    }\n\n    /** @private */\n    _flexGrowChanged(flexGrow) {\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._columnPropChanged('flexGrow');\n      }\n\n      this._allCells.forEach((cell) => (cell.style.flexGrow = flexGrow));\n    }\n\n    /** @private */\n    _orderChanged(order) {\n      this._allCells.forEach((cell) => (cell.style.order = order));\n    }\n\n    /** @private */\n    _widthChanged(width) {\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._columnPropChanged('width');\n      }\n\n      this._allCells.forEach((cell) => (cell.style.width = width));\n\n      // Force a reflow to workaround browser issues causing double scrollbars to grid\n      // https://github.com/vaadin/vaadin-grid/issues/1586\n      if (this._grid && this._grid.__forceReflow) {\n        this._grid.__forceReflow();\n      }\n    }\n\n    /** @private */\n    _frozenChanged(frozen) {\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._columnPropChanged('frozen', frozen);\n      }\n\n      this._allCells.forEach((cell) => this._toggleAttribute('frozen', frozen, cell));\n\n      this._grid && this._grid._frozenCellsChanged && this._grid._frozenCellsChanged();\n    }\n\n    /** @private */\n    _lastFrozenChanged(lastFrozen) {\n      this._allCells.forEach((cell) => this._toggleAttribute('last-frozen', lastFrozen, cell));\n\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._lastFrozen = lastFrozen;\n      }\n    }\n\n    /**\n     * @param {string | undefined} path\n     * @param {string | undefined} header\n     * @param {!HTMLTableCellElement | undefined} headerCell\n     * @param {!HTMLTableCellElement | undefined} footerCell\n     * @param {!object | undefined} cells\n     * @param {GridBodyRenderer | undefined} renderer\n     * @param {GridHeaderFooterRenderer | undefined} headerRenderer\n     * @param {HTMLTemplateElement | undefined} bodyTemplate\n     * @param {HTMLTemplateElement | undefined} headerTemplate\n     * @protected\n     */\n    _pathOrHeaderChanged(\n      path,\n      header,\n      headerCell,\n      footerCell,\n      cells,\n      renderer,\n      headerRenderer,\n      bodyTemplate,\n      headerTemplate\n    ) {\n      const hasHeaderText = header !== undefined;\n      if (!headerRenderer && !headerTemplate && hasHeaderText && headerCell) {\n        this.__setTextContent(headerCell._content, header);\n      }\n\n      if (path && cells.value) {\n        if (!renderer && !bodyTemplate) {\n          const pathRenderer = (root, owner, { item }) => this.__setTextContent(root, this.get(path, item));\n          this.__setColumnTemplateOrRenderer(undefined, pathRenderer, cells.value);\n        }\n\n        if (!headerRenderer && !headerTemplate && !hasHeaderText && headerCell && header !== null) {\n          this.__setTextContent(headerCell._content, this._generateHeader(path));\n        }\n      }\n\n      if (headerCell) {\n        this._grid.__updateHeaderFooterRowVisibility(headerCell.parentElement);\n      }\n    }\n\n    /** @private */\n    __setTextContent(node, textContent) {\n      node.textContent !== textContent && (node.textContent = textContent);\n    }\n\n    /**\n     * @param {string} path\n     * @return {string}\n     * @protected\n     */\n    _generateHeader(path) {\n      return path\n        .substr(path.lastIndexOf('.') + 1)\n        .replace(/([A-Z])/g, '-$1')\n        .toLowerCase()\n        .replace(/-/g, ' ')\n        .replace(/^./, (match) => match.toUpperCase());\n    }\n\n    /**\n     * @param {string} name\n     * @param {boolean} bool\n     * @param {!Element} node\n     * @protected\n     */\n    _toggleAttribute(name, bool, node) {\n      if (node.hasAttribute(name) === !bool) {\n        if (bool) {\n          node.setAttribute(name, '');\n        } else {\n          node.removeAttribute(name);\n        }\n      }\n    }\n\n    /** @private */\n    _reorderStatusChanged(reorderStatus) {\n      this._allCells.forEach((cell) => cell.setAttribute('reorder-status', reorderStatus));\n    }\n\n    /** @private */\n    _resizableChanged(resizable, headerCell) {\n      if (resizable === undefined || headerCell === undefined) {\n        return;\n      }\n\n      if (headerCell) {\n        [headerCell].concat(this._emptyCells).forEach((cell) => {\n          if (cell) {\n            const existingHandle = cell.querySelector('[part~=\"resize-handle\"]');\n            if (existingHandle) {\n              cell.removeChild(existingHandle);\n            }\n\n            if (resizable) {\n              const handle = document.createElement('div');\n              handle.setAttribute('part', 'resize-handle');\n              cell.appendChild(handle);\n            }\n          }\n        });\n      }\n    }\n\n    /** @private */\n    _textAlignChanged(textAlign) {\n      if (textAlign === undefined) {\n        return;\n      }\n      if (['start', 'end', 'center'].indexOf(textAlign) === -1) {\n        console.warn('textAlign can only be set as \"start\", \"end\" or \"center\"');\n        return;\n      }\n\n      let textAlignFallback;\n      if (getComputedStyle(this._grid).direction === 'ltr') {\n        if (textAlign === 'start') {\n          textAlignFallback = 'left';\n        } else if (textAlign === 'end') {\n          textAlignFallback = 'right';\n        }\n      } else {\n        if (textAlign === 'start') {\n          textAlignFallback = 'right';\n        } else if (textAlign === 'end') {\n          textAlignFallback = 'left';\n        }\n      }\n\n      this._allCells.forEach((cell) => {\n        cell._content.style.textAlign = textAlign;\n        if (getComputedStyle(cell._content).textAlign !== textAlign) {\n          cell._content.style.textAlign = textAlignFallback;\n        }\n      });\n    }\n\n    /** @private */\n    _hiddenChanged(hidden) {\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._columnPropChanged('hidden', hidden);\n      }\n\n      if (!!hidden !== !!this._previousHidden && this._grid) {\n        if (hidden === true) {\n          this._allCells.forEach((cell) => {\n            if (cell._content.parentNode) {\n              cell._content.parentNode.removeChild(cell._content);\n            }\n          });\n        }\n        this._grid._debouncerHiddenChanged = Debouncer.debounce(\n          this._grid._debouncerHiddenChanged,\n          animationFrame,\n          () => {\n            if (this._grid && this._grid._renderColumnTree) {\n              this._grid._renderColumnTree(this._grid._columnTree);\n            }\n          }\n        );\n\n        this._grid._updateLastFrozen && this._grid._updateLastFrozen();\n        this._grid.notifyResize && this._grid.notifyResize();\n        this._grid._resetKeyboardNavigation && this._grid._resetKeyboardNavigation();\n      }\n      this._previousHidden = hidden;\n    }\n  };\n\n/**\n * A `<vaadin-grid-column>` is used to configure how a column in `<vaadin-grid>`\n * should look like.\n *\n * See `<vaadin-grid>` documentation and demos for instructions and examples on how\n * to configure the `<vaadin-grid-column>`.\n * ```\n *\n * @extends HTMLElement\n * @mixes ColumnBaseMixin\n */\nclass GridColumnElement extends ColumnBaseMixin(DirMixin(PolymerElement)) {\n  static get is() {\n    return 'vaadin-grid-column';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Width of the cells for this column.\n       */\n      width: {\n        type: String,\n        value: '100px'\n      },\n\n      /**\n       * Flex grow ratio for the cell widths. When set to 0, cell width is fixed.\n       * @attr {number} flex-grow\n       * @type {number}\n       */\n      flexGrow: {\n        type: Number,\n        value: 1\n      },\n\n      /**\n       * Custom function for rendering the cell content.\n       * Receives three arguments:\n       *\n       * - `root` The cell content DOM element. Append your content to it.\n       * - `column` The `<vaadin-grid-column>` element.\n       * - `model` The object with the properties related with\n       *   the rendered item, contains:\n       *   - `model.index` The index of the item.\n       *   - `model.item` The item.\n       *   - `model.expanded` Sublevel toggle state.\n       *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n       *   - `model.selected` Selected state.\n       *\n       * @type {GridBodyRenderer | null | undefined}\n       */\n      renderer: Function,\n\n      /**\n       * Path to an item sub-property whose value gets displayed in the column body cells.\n       * The property name is also shown in the column header if an explicit header or renderer isn't defined.\n       */\n      path: {\n        type: String\n      },\n\n      /**\n       * Automatically sets the width of the column based on the column contents when this is set to `true`.\n       *\n       * For performance reasons the column width is calculated automatically only once when the grid items\n       * are rendered for the first time and the calculation only considers the rows which are currently\n       * rendered in DOM (a bit more than what is currently visible). If the grid is scrolled, or the cell\n       * content changes, the column width might not match the contents anymore.\n       *\n       * Hidden columns are ignored in the calculation and their widths are not automatically updated when\n       * you show a column that was initially hidden.\n       *\n       * You can manually trigger the auto sizing behavior again by calling `grid.recalculateColumnWidths()`.\n       *\n       * The column width may still grow larger when `flexGrow` is not 0.\n       * @attr {boolean} auto-width\n       * @type {boolean}\n       */\n      autoWidth: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * @type {HTMLTemplateElement}\n       * @protected\n       */\n      _bodyTemplate: {\n        type: Object\n      },\n\n      /**\n       * @type {Array<!HTMLElement>}\n       * @protected\n       */\n      _cells: Array\n    };\n  }\n}\n\ncustomElements.define(GridColumnElement.is, GridColumnElement);\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nregisterStyles(\n  'vaadin-grid',\n  css`\n    @keyframes vaadin-grid-appear {\n      to {\n        opacity: 1;\n      }\n    }\n\n    :host {\n      display: block;\n      animation: 1ms vaadin-grid-appear;\n      height: 400px;\n      flex: 1 1 auto;\n      align-self: stretch;\n      position: relative;\n    }\n\n    :host([hidden]) {\n      display: none !important;\n    }\n\n    #scroller {\n      display: block;\n      transform: translateY(0);\n      width: auto;\n      height: auto;\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n\n    :host([height-by-rows]) {\n      height: auto;\n      align-self: flex-start;\n      flex-grow: 0;\n      width: 100%;\n    }\n\n    :host([height-by-rows]) #scroller {\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    #table {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      height: 100%;\n      overflow: auto;\n      position: relative;\n      outline: none;\n      /* Workaround for a Desktop Safari bug: new stacking context here prevents the scrollbar from getting hidden */\n      z-index: 0;\n    }\n\n    #header,\n    #footer {\n      display: block;\n      position: -webkit-sticky;\n      position: sticky;\n      left: 0;\n      overflow: visible;\n      width: 100%;\n      z-index: 1;\n    }\n\n    #header {\n      top: 0;\n    }\n\n    th {\n      text-align: inherit;\n    }\n\n    /* Safari doesn't work with \"inherit\" */\n    [safari] th {\n      text-align: initial;\n    }\n\n    #footer {\n      bottom: 0;\n    }\n\n    #items {\n      flex-grow: 1;\n      flex-shrink: 0;\n      display: block;\n      position: -webkit-sticky;\n      position: sticky;\n      width: 100%;\n      left: 0;\n      overflow: visible;\n    }\n\n    [part~='row'] {\n      display: flex;\n      width: 100%;\n      box-sizing: border-box;\n      margin: 0;\n    }\n\n    [part~='row'][loading] [part~='body-cell'] ::slotted(vaadin-grid-cell-content) {\n      opacity: 0;\n    }\n\n    #items [part~='row'] {\n      position: absolute;\n    }\n\n    #items [part~='row']:empty {\n      height: 1em;\n    }\n\n    [part~='cell']:not([part~='details-cell']) {\n      flex-shrink: 0;\n      flex-grow: 1;\n      box-sizing: border-box;\n      display: flex;\n      width: 100%;\n      position: relative;\n      align-items: center;\n      padding: 0;\n      white-space: nowrap;\n    }\n\n    [part~='details-cell'] {\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      box-sizing: border-box;\n      padding: 0;\n    }\n\n    [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      display: block;\n      width: 100%;\n      box-sizing: border-box;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    [hidden] {\n      display: none !important;\n    }\n\n    [frozen] {\n      z-index: 2;\n      will-change: transform;\n    }\n\n    [no-scrollbars][safari] #table,\n    [no-scrollbars][firefox] #table {\n      overflow: hidden;\n    }\n\n    /* Reordering styles */\n    :host([reordering]) [part~='cell'] ::slotted(vaadin-grid-cell-content),\n    :host([reordering]) [part~='resize-handle'],\n    #scroller[no-content-pointer-events] [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      pointer-events: none;\n    }\n\n    [part~='reorder-ghost'] {\n      visibility: hidden;\n      position: fixed;\n      pointer-events: none;\n      opacity: 0.5;\n\n      /* Prevent overflowing the grid in Firefox */\n      top: 0;\n      left: 0;\n    }\n\n    :host([reordering]) {\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    /* Resizing styles */\n    [part~='resize-handle'] {\n      position: absolute;\n      top: 0;\n      right: 0;\n      height: 100%;\n      cursor: col-resize;\n      z-index: 1;\n    }\n\n    [part~='resize-handle']::before {\n      position: absolute;\n      content: '';\n      height: 100%;\n      width: 35px;\n      transform: translateX(-50%);\n    }\n\n    [last-column] [part~='resize-handle']::before,\n    [last-frozen] [part~='resize-handle']::before {\n      width: 18px;\n      transform: none;\n      right: 0;\n    }\n\n    #scroller[column-resizing] {\n      -ms-user-select: none;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    /* Sizer styles */\n    #sizer {\n      display: flex;\n      position: absolute;\n      visibility: hidden;\n    }\n\n    #sizer [part~='details-cell'] {\n      display: none !important;\n    }\n\n    #sizer [part~='cell'][hidden] {\n      display: none !important;\n    }\n\n    #sizer [part~='cell'] {\n      display: block;\n      flex-shrink: 0;\n      line-height: 0;\n      height: 0 !important;\n      min-height: 0 !important;\n      max-height: 0 !important;\n      padding: 0 !important;\n      border: none !important;\n    }\n\n    #sizer [part~='cell']::before {\n      content: '-';\n    }\n\n    #sizer [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      display: none !important;\n    }\n\n    /* RTL specific styles */\n\n    :host([dir='rtl']) #items,\n    :host([dir='rtl']) #header,\n    :host([dir='rtl']) #footer {\n      left: auto;\n    }\n\n    :host([dir='rtl']) [part~='reorder-ghost'] {\n      left: auto;\n      right: 0;\n    }\n\n    :host([dir='rtl']) [part~='resize-handle'] {\n      left: 0;\n      right: auto;\n    }\n\n    :host([dir='rtl']) [part~='resize-handle']::before {\n      transform: translateX(50%);\n    }\n\n    :host([dir='rtl']) [last-column] [part~='resize-handle']::before,\n    :host([dir='rtl']) [last-frozen] [part~='resize-handle']::before {\n      left: 0;\n      right: auto;\n    }\n  `,\n  { moduleId: 'vaadin-grid-styles' }\n);\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nconst TOUCH_DEVICE = (() => {\n  try {\n    document.createEvent('TouchEvent');\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n/**\n * `<vaadin-grid>` is a free, high quality data grid / data table Web Component. The content of the\n * the grid can be populated in two ways: imperatively by using renderer callback function and\n * declaratively by using Polymer's Templates.\n *\n * ### Quick Start\n *\n * Start with an assigning an array to the [`items`](#/elements/vaadin-grid#property-items) property to visualize your data.\n *\n * Use the [`<vaadin-grid-column>`](#/elements/vaadin-grid-column) element to configure the grid columns. Set `path` and `header`\n * shorthand properties for the columns to define what gets rendered in the cells of the column.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column path=\"name.first\" header=\"First name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"name.last\" header=\"Last name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"email\"></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n *\n * For custom content `vaadin-grid-column` element provides you with three types of `renderer` callback functions: `headerRenderer`,\n * `renderer` and `footerRenderer`.\n *\n * Each of those renderer functions provides `root`, `column`, `model` arguments when applicable.\n * Generate DOM content, append it to the `root` element and control the state\n * of the host element by accessing `column`. Before generating new content,\n * users are able to check if there is already content in `root` for reusing it.\n *\n * Renderers are called on initialization of new column cells and each time the\n * related row model is updated. DOM generated during the renderer call can be reused\n * in the next renderer call and will be provided with the `root` argument.\n * On first call it will be empty.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n * ```js\n * const grid = document.querySelector('vaadin-grid');\n * grid.items = [{'name': 'John', 'surname': 'Lennon', 'role': 'singer'},\n *               {'name': 'Ringo', 'surname': 'Starr', 'role': 'drums'}];\n *\n * const columns = grid.querySelectorAll('vaadin-grid-column');\n *\n * columns[0].headerRenderer = function(root) {\n *   root.textContent = 'Name';\n * };\n * columns[0].renderer = function(root, column, model) {\n *   root.textContent = model.item.name;\n * };\n *\n * columns[1].headerRenderer = function(root) {\n *   root.textContent = 'Surname';\n * };\n * columns[1].renderer = function(root, column, model) {\n *   root.textContent = model.item.surname;\n * };\n *\n * columns[2].headerRenderer = function(root) {\n *   root.textContent = 'Role';\n * };\n * columns[2].renderer = function(root, column, model) {\n *   root.textContent = model.item.role;\n * };\n * ```\n *\n * Alternatively, the content can be provided with Polymer's Templates:\n *\n * #### Example:\n * ```html\n * <vaadin-grid items='[{\"name\": \"John\", \"surname\": \"Lennon\", \"role\": \"singer\"},\n * {\"name\": \"Ringo\", \"surname\": \"Starr\", \"role\": \"drums\"}]'>\n *   <vaadin-grid-column>\n *     <template class=\"header\">Name</template>\n *     <template>[[item.name]]</template>\n *   </vaadin-grid-column>\n *   <vaadin-grid-column>\n *     <template class=\"header\">Surname</template>\n *     <template>[[item.surname]]</template>\n *   </vaadin-grid-column>\n *   <vaadin-grid-column>\n *     <template class=\"header\">Role</template>\n *     <template>[[item.role]]</template>\n *   </vaadin-grid-column>\n * </vaadin-grid>\n * ```\n *\n * The following helper elements can be used for further customization:\n * - [`<vaadin-grid-column-group>`](#/elements/vaadin-grid-column-group)\n * - [`<vaadin-grid-filter>`](#/elements/vaadin-grid-filter)\n * - [`<vaadin-grid-sorter>`](#/elements/vaadin-grid-sorter)\n * - [`<vaadin-grid-selection-column>`](#/elements/vaadin-grid-selection-column)\n * - [`<vaadin-grid-tree-toggle>`](#/elements/vaadin-grid-tree-toggle)\n *\n * __Note that the helper elements must be explicitly imported.__\n * If you want to import everything at once you can use the `all-imports.html` bundle.\n *\n * A column template can be decorated with one the following class names to specify its purpose\n * - `header`: Marks a header template\n * - `footer`: Marks a footer template\n * - `row-details`: Marks a row details template\n *\n * The following built-in template variables can be bound to inside the column templates:\n * - `[[index]]`: Number representing the row index\n * - `[[item]]` and it's sub-properties: Data object (provided by a data provider / items array)\n * - `{{selected}}`: True if the item is selected (can be two-way bound)\n * - `{{detailsOpened}}`: True if the item has row details opened (can be two-way bound)\n * - `{{expanded}}`: True if the item has tree sublevel expanded (can be two-way bound)\n * - `[[level]]`: Number of the tree sublevel of the item, first level-items have 0\n *\n * ### Lazy Loading with Function Data Provider\n *\n * In addition to assigning an array to the items property, you can alternatively\n * provide the `<vaadin-grid>` data through the\n * [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) function property.\n * The `<vaadin-grid>` calls this function lazily, only when it needs more data\n * to be displayed.\n *\n * See the [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) in\n * the API reference below for the detailed data provider arguments description,\n * and the “Assigning Data” page in the demos.\n *\n * __Note that expanding the tree grid's item will trigger a call to the `dataProvider`.__\n *\n * __Also, note that when using function data providers, the total number of items\n * needs to be set manually. The total number of items can be returned\n * in the second argument of the data provider callback:__\n *\n * ```javascript\n * grid.dataProvider = function(params, callback) {\n *   const url = 'https://api.example/data' +\n *       '?page=' + params.page +        // the requested page index\n *       '&per_page=' + params.pageSize; // number of items on the page\n *   const xhr = new XMLHttpRequest();\n *   xhr.onload = function() {\n *     const response = JSON.parse(xhr.responseText);\n *     callback(\n *       response.employees, // requested page of items\n *       response.totalSize  // total number of items\n *     );\n *   };\n *   xhr.open('GET', url, true);\n *   xhr.send();\n * };\n * ```\n *\n * __Alternatively, you can use the `size` property to set the total number of items:__\n *\n * ```javascript\n * grid.size = 200; // The total number of items\n * grid.dataProvider = function(params, callback) {\n *   const url = 'https://api.example/data' +\n *       '?page=' + params.page +        // the requested page index\n *       '&per_page=' + params.pageSize; // number of items on the page\n *   const xhr = new XMLHttpRequest();\n *   xhr.onload = function() {\n *     const response = JSON.parse(xhr.responseText);\n *     callback(response.employees);\n *   };\n *   xhr.open('GET', url, true);\n *   xhr.send();\n * };\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `row` | Row in the internal table\n * `cell` | Cell in the internal table\n * `header-cell` | Header cell in the internal table\n * `body-cell` | Body cell in the internal table\n * `footer-cell` | Footer cell in the internal table\n * `details-cell` | Row details cell in the internal table\n * `resize-handle` | Handle for resizing the columns\n * `reorder-ghost` | Ghost element of the header cell being dragged\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `loading` | Set when the grid is loading data from data provider | :host\n * `interacting` | Keyboard navigation in interaction mode | :host\n * `navigating` | Keyboard navigation in navigation mode | :host\n * `overflow` | Set when rows are overflowing the grid viewport. Possible values: `top`, `bottom`, `left`, `right` | :host\n * `reordering` | Set when the grid's columns are being reordered | :host\n * `dragover` | Set when the grid (not a specific row) is dragged over | :host\n * `dragging-rows` : Set when grid rows are dragged  | :host\n * `reorder-status` | Reflects the status of a cell while columns are being reordered | cell\n * `frozen` | Frozen cell | cell\n * `last-frozen` | Last frozen cell | cell\n * * `first-column` | First visible cell on a row | cell\n * `last-column` | Last visible cell on a row | cell\n * `selected` | Selected row | row\n * `expanded` | Expanded row | row\n * `details-opened` | Row with details open | row\n * `loading` | Row that is waiting for data from data provider | row\n * `odd` | Odd row | row\n * `first` | The first body row | row\n * `dragstart` | Set for one frame when drag of a row is starting. The value is a number when multiple rows are dragged | row\n * `dragover` | Set when the row is dragged over | row\n * `drag-disabled` | Set to a row that isn't available for dragging | row\n * `drop-disabled` | Set to a row that can't be dropped on top of | row\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @fires {CustomEvent} active-item-changed - Fired when the `activeItem` property changes.\n * @fires {CustomEvent} cell-activate - Fired when the cell is activated with click or keyboard.\n * @fires {CustomEvent} column-reorder - Fired when the columns in the grid are reordered.\n * @fires {CustomEvent} column-resize - Fired when the grid column resize is finished.\n * @fires {CustomEvent} expanded-items-changed - Fired when the `expandedItems` property changes.\n * @fires {CustomEvent} grid-dragstart - Fired when starting to drag grid rows.\n * @fires {CustomEvent} grid-dragend - Fired when the dragging of the rows ends.\n * @fires {CustomEvent} grid-drop - Fired when a drop occurs on top of the grid.\n * @fires {CustomEvent} loading-changed - Fired when the `loading` property changes.\n * @fires {CustomEvent} selected-items-changed - Fired when the `selectedItems` property changes.\n *\n * @extends ScrollerElement\n * @mixes ElementMixin\n * @mixes ThemableMixin\n * @mixes A11yMixin\n * @mixes ActiveItemMixin\n * @mixes ArrayDataProviderMixin\n * @mixes ColumnResizingMixin\n * @mixes DataProviderMixin\n * @mixes DynamicColumnsMixin\n * @mixes FilterMixin\n * @mixes RowDetailsMixin\n * @mixes ScrollMixin\n * @mixes SelectionMixin\n * @mixes SortMixin\n * @mixes KeyboardNavigationMixin\n * @mixes ColumnReorderingMixin\n * @mixes EventContextMixin\n * @mixes StylingMixin\n * @mixes DragAndDropMixin\n */\nclass GridElement extends ElementMixin(\n  ThemableMixin(\n    DataProviderMixin(\n      ArrayDataProviderMixin(\n        DynamicColumnsMixin(\n          ActiveItemMixin(\n            ScrollMixin(\n              SelectionMixin(\n                SortMixin(\n                  RowDetailsMixin(\n                    KeyboardNavigationMixin(\n                      A11yMixin(\n                        FilterMixin(\n                          ColumnReorderingMixin(\n                            ColumnResizingMixin(EventContextMixin(DragAndDropMixin(StylingMixin(ScrollerElement))))\n                          )\n                        )\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    )\n  )\n) {\n  static get template() {\n    return html`\n      <div\n        id=\"scroller\"\n        safari$=\"[[_safari]]\"\n        ios$=\"[[_ios]]\"\n        loading$=\"[[loading]]\"\n        column-reordering-allowed$=\"[[columnReorderingAllowed]]\"\n      >\n        <table id=\"table\" role=\"grid\" aria-multiselectable=\"true\" tabindex=\"0\">\n          <caption id=\"sizer\" part=\"row\"></caption>\n          <thead id=\"header\" role=\"rowgroup\"></thead>\n          <tbody id=\"items\" role=\"rowgroup\"></tbody>\n          <tfoot id=\"footer\" role=\"rowgroup\"></tfoot>\n        </table>\n\n        <div part=\"reorder-ghost\"></div>\n      </div>\n\n      <div id=\"focusexit\" tabindex=\"0\"></div>\n    `;\n  }\n\n  static get is() {\n    return 'vaadin-grid';\n  }\n\n  static get version() {\n    return '6.0.2';\n  }\n\n  static get observers() {\n    return ['_columnTreeChanged(_columnTree, _columnTree.*)'];\n  }\n\n  static get properties() {\n    return {\n      /** @private */\n      _safari: {\n        type: Boolean,\n        value: /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n      },\n\n      /** @private */\n      _ios: {\n        type: Boolean,\n        value:\n          (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) ||\n          (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)\n      },\n\n      /** @private */\n      _firefox: {\n        type: Boolean,\n        value: navigator.userAgent.toLowerCase().indexOf('firefox') > -1\n      },\n\n      /** @private */\n      _android: {\n        type: Boolean,\n        value: /android/i.test(navigator.userAgent)\n      },\n\n      /** @private */\n      _touchDevice: {\n        type: Boolean,\n        value: TOUCH_DEVICE\n      },\n\n      /**\n       * If true, the grid's height is defined by its rows.\n       *\n       * Effectively, this disables the grid's virtual scrolling so that all the rows are rendered in the DOM at once.\n       * If the grid has a large number of items, using the feature is discouraged to avoid performance issues.\n       * @attr {boolean} height-by-rows\n       * @type {boolean}\n       */\n      heightByRows: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true,\n        observer: '_heightByRowsChanged'\n      },\n\n      /** @private */\n      _recalculateColumnWidthOnceLoadingFinished: {\n        type: Boolean,\n        value: true\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this.addEventListener('animationend', this._onAnimationEnd);\n  }\n\n  /** @protected */\n  connectedCallback() {\n    super.connectedCallback();\n    this.recalculateColumnWidths();\n  }\n\n  /**\n   * @param {string} name\n   * @param {?string} oldValue\n   * @param {?string} newValue\n   * @protected\n   */\n  attributeChangedCallback(name, oldValue, newValue) {\n    super.attributeChangedCallback(name, oldValue, newValue);\n    if (name === 'dir') {\n      this.__isRTL = newValue === 'rtl';\n      this._updateScrollerMeasurements();\n    }\n  }\n\n  /** @private */\n  __hasRowsWithClientHeight() {\n    return !!Array.from(this.$.items.children).filter((row) => row.clientHeight).length;\n  }\n\n  /** @protected */\n  __itemsReceived() {\n    if (\n      this._recalculateColumnWidthOnceLoadingFinished &&\n      !this._cache.isLoading() &&\n      this.__hasRowsWithClientHeight()\n    ) {\n      this._recalculateColumnWidthOnceLoadingFinished = false;\n      this.recalculateColumnWidths();\n    }\n  }\n\n  /**\n   * @param {!Array<!GridColumnElement>} cols the columns to auto size based on their content width\n   * @private\n   */\n  _recalculateColumnWidths(cols) {\n    // Note: The `cols.forEach()` loops below could be implemented as a single loop but this has been\n    // split for performance reasons to batch these similar actions [write/read] together to avoid\n    // unnecessary layout trashing.\n\n    // [write] Set automatic width for all cells (breaks column alignment)\n    cols.forEach((col) => {\n      col.width = 'auto';\n      col._origFlexGrow = col.flexGrow;\n      col.flexGrow = 0;\n    });\n    // [read] Measure max cell width in each column\n    cols.forEach((col) => {\n      col._currentWidth = 0;\n      // Note: _allCells only contains cells which are currently rendered in DOM\n      col._allCells.forEach((c) => {\n        // Add 1px buffer to the offset width to avoid too narrow columns (sub-pixel rendering)\n        const cellWidth = c.offsetWidth + 1;\n        col._currentWidth = Math.max(col._currentWidth, cellWidth);\n      });\n    });\n    // [write] Set column widths to fit widest measured content\n    cols.forEach((col) => {\n      col.width = `${col._currentWidth}px`;\n      col.flexGrow = col._origFlexGrow;\n      col._currentWidth = undefined;\n      col._origFlexGrow = undefined;\n    });\n  }\n\n  /**\n   * Updates the `width` of all columns which have `autoWidth` set to `true`.\n   */\n  recalculateColumnWidths() {\n    if (!this._columnTree) {\n      return; // No columns\n    }\n    if (this._cache.isLoading()) {\n      this._recalculateColumnWidthOnceLoadingFinished = true;\n    } else {\n      const cols = this._getColumns().filter((col) => !col.hidden && col.autoWidth);\n      this._recalculateColumnWidths(cols);\n    }\n  }\n\n  /** @private */\n  _createScrollerRows(count) {\n    const rows = [];\n    for (let i = 0; i < count; i++) {\n      const row = document.createElement('tr');\n      row.setAttribute('part', 'row');\n      row.setAttribute('role', 'row');\n      if (this._columnTree) {\n        this._updateRow(row, this._columnTree[this._columnTree.length - 1], 'body', false, true);\n      }\n      rows.push(row);\n    }\n\n    if (this._columnTree) {\n      this._columnTree[this._columnTree.length - 1].forEach(\n        (c) => c.isConnected && c.notifyPath && c.notifyPath('_cells.*', c._cells)\n      );\n    }\n\n    beforeNextRender(this, () => {\n      this._updateFirstAndLastColumn();\n      this._resetKeyboardNavigation();\n    });\n    return rows;\n  }\n\n  /** @private */\n  _getRowTarget() {\n    return this.$.items;\n  }\n\n  /** @private */\n  _createCell(tagName) {\n    const contentId = (this._contentIndex = this._contentIndex + 1 || 0);\n    const slotName = 'vaadin-grid-cell-content-' + contentId;\n\n    const cellContent = document.createElement('vaadin-grid-cell-content');\n    cellContent.setAttribute('slot', slotName);\n\n    const cell = document.createElement(tagName);\n    cell.id = slotName.replace('-content-', '-');\n    cell.setAttribute('tabindex', '-1');\n    cell.setAttribute('role', tagName === 'td' ? 'gridcell' : 'columnheader');\n\n    const slot = document.createElement('slot');\n    slot.setAttribute('name', slotName);\n\n    cell.appendChild(slot);\n\n    cell._content = cellContent;\n\n    // With native Shadow DOM, mousedown on slotted element does not focus\n    // focusable slot wrapper, that is why cells are not focused with\n    // mousedown. Workaround: listen for mousedown and focus manually.\n    cellContent.addEventListener('mousedown', () => {\n      if (window.chrome) {\n        // Chrome bug: focusing before mouseup prevents text selection, see http://crbug.com/771903\n        const mouseUpListener = () => {\n          if (!cellContent.contains(this.getRootNode().activeElement)) {\n            cell.focus();\n          }\n          // If focus is in the cell content — respect it, do not change.\n          document.removeEventListener('mouseup', mouseUpListener, true);\n        };\n        document.addEventListener('mouseup', mouseUpListener, true);\n      } else {\n        // Focus on mouseup, on the other hand, removes selection on Safari.\n        // Watch out sync focus removal issue, only async focus works here.\n        setTimeout(() => {\n          if (!cellContent.contains(this.getRootNode().activeElement)) {\n            cell.focus();\n          }\n        });\n      }\n    });\n\n    return cell;\n  }\n\n  /**\n   * @param {!HTMLTableRowElement} row\n   * @param {!Array<!GridColumnElement>} columns\n   * @param {?string} section\n   * @param {boolean} isColumnRow\n   * @param {boolean} noNotify\n   * @protected\n   */\n  _updateRow(row, columns, section, isColumnRow, noNotify) {\n    section = section || 'body';\n\n    const contentsFragment = document.createDocumentFragment();\n\n    Array.from(row.children).forEach((cell) => (cell._vacant = true));\n    row.innerHTML = '';\n    if (row.id !== 'sizer') {\n      row.hidden = true;\n    }\n    columns\n      .filter((column) => !column.hidden)\n      .forEach((column, index, cols) => {\n        let cell;\n\n        if (section === 'body') {\n          // Body\n          column._cells = column._cells || [];\n          cell = column._cells.filter((cell) => cell._vacant)[0];\n          if (!cell) {\n            cell = this._createCell('td');\n            column._cells.push(cell);\n          }\n          cell.setAttribute('part', 'cell body-cell');\n          row.appendChild(cell);\n\n          if (index === cols.length - 1 && (this._rowDetailsTemplate || this.rowDetailsRenderer)) {\n            // Add details cell as last cell to body rows\n            this._detailsCells = this._detailsCells || [];\n            const detailsCell = this._detailsCells.filter((cell) => cell._vacant)[0] || this._createCell('td');\n            if (this._detailsCells.indexOf(detailsCell) === -1) {\n              this._detailsCells.push(detailsCell);\n            }\n            if (!detailsCell._content.parentElement) {\n              contentsFragment.appendChild(detailsCell._content);\n            }\n            this._configureDetailsCell(detailsCell);\n            row.appendChild(detailsCell);\n            this._a11ySetRowDetailsCell(row, detailsCell);\n            detailsCell._vacant = false;\n          }\n\n          if (column.notifyPath && !noNotify) {\n            column.notifyPath('_cells.*', column._cells);\n          }\n        } else {\n          // Header & footer\n          const tagName = section === 'header' ? 'th' : 'td';\n          if (isColumnRow || column.localName === 'vaadin-grid-column-group') {\n            cell = column[`_${section}Cell`] || this._createCell(tagName);\n            cell._column = column;\n            row.appendChild(cell);\n            column[`_${section}Cell`] = cell;\n          } else {\n            column._emptyCells = column._emptyCells || [];\n            cell = column._emptyCells.filter((cell) => cell._vacant)[0] || this._createCell(tagName);\n            cell._column = column;\n            row.appendChild(cell);\n            if (column._emptyCells.indexOf(cell) === -1) {\n              column._emptyCells.push(cell);\n            }\n          }\n          cell.setAttribute('part', `cell ${section}-cell`);\n          this.__updateHeaderFooterRowVisibility(row);\n        }\n\n        if (!cell._content.parentElement) {\n          contentsFragment.appendChild(cell._content);\n        }\n        cell._vacant = false;\n        cell._column = column;\n      });\n\n    // Might be empty if only cache was used\n    this.appendChild(contentsFragment);\n\n    this._frozenCellsChanged();\n    this._updateFirstAndLastColumnForRow(row);\n  }\n\n  /**\n   * @param {HTMLTableRowElement} row\n   * @protected\n   */\n  __updateHeaderFooterRowVisibility(row) {\n    if (!row) {\n      return;\n    }\n\n    const visibleRowCells = Array.from(row.children).filter((cell) => {\n      const column = cell._column;\n      if (column._emptyCells && column._emptyCells.indexOf(cell) > -1) {\n        // The cell is an \"empty cell\"  -> doesn't block hiding the row\n        return false;\n      }\n      if (row.parentElement === this.$.header) {\n        if (column.headerRenderer || column._headerTemplate) {\n          // The cell is the header cell of a column that has a header renderer\n          // or a header template -> row should be visible\n          return true;\n        }\n        if (column.header === null) {\n          // The column header is explicilty set to null -> doesn't block hiding the row\n          return false;\n        }\n        if (column.path || column.header !== undefined) {\n          // The column has an explicit non-null header or a path that generates a header\n          // -> row should be visible\n          return true;\n        }\n      } else {\n        if (column.footerRenderer || column._footerTemplate) {\n          // The cell is the footer cell of a column that has a footer renderer\n          // or a footer template -> row should be visible\n          return true;\n        }\n      }\n    });\n\n    if (row.hidden !== !visibleRowCells.length) {\n      row.hidden = !visibleRowCells.length;\n      this.notifyResize();\n    }\n  }\n\n  /** @private */\n  _updateScrollerItem(row, index) {\n    this._preventScrollerRotatingCellFocus(row, index);\n\n    if (!this._columnTree) {\n      return;\n    }\n\n    this._toggleAttribute('first', index === 0, row);\n    this._toggleAttribute('odd', index % 2, row);\n    this._a11yUpdateRowRowindex(row, index);\n    this._getItem(index, row);\n  }\n\n  /** @private */\n  _columnTreeChanged(columnTree) {\n    this._renderColumnTree(columnTree);\n    this.recalculateColumnWidths();\n  }\n\n  /**\n   * @param {!Array<!GridColumnElement>} columnTree\n   * @protected\n   */\n  _renderColumnTree(columnTree) {\n    Array.from(this.$.items.children).forEach((row) =>\n      this._updateRow(row, columnTree[columnTree.length - 1], null, false, true)\n    );\n\n    while (this.$.header.children.length < columnTree.length) {\n      const headerRow = document.createElement('tr');\n      headerRow.setAttribute('part', 'row');\n      headerRow.setAttribute('role', 'row');\n      this.$.header.appendChild(headerRow);\n\n      const footerRow = document.createElement('tr');\n      footerRow.setAttribute('part', 'row');\n      footerRow.setAttribute('role', 'row');\n      this.$.footer.appendChild(footerRow);\n    }\n    while (this.$.header.children.length > columnTree.length) {\n      this.$.header.removeChild(this.$.header.firstElementChild);\n      this.$.footer.removeChild(this.$.footer.firstElementChild);\n    }\n\n    Array.from(this.$.header.children).forEach((headerRow, index) =>\n      this._updateRow(headerRow, columnTree[index], 'header', index === columnTree.length - 1)\n    );\n\n    Array.from(this.$.footer.children).forEach((footerRow, index) =>\n      this._updateRow(footerRow, columnTree[columnTree.length - 1 - index], 'footer', index === 0)\n    );\n\n    // Sizer rows\n    this._updateRow(this.$.sizer, columnTree[columnTree.length - 1]);\n\n    this._resizeHandler();\n    this._frozenCellsChanged();\n    this._updateFirstAndLastColumn();\n    this._resetKeyboardNavigation();\n    this._a11yUpdateHeaderRows();\n    this._a11yUpdateFooterRows();\n    this.__updateFooterPositioning();\n  }\n\n  __updateFooterPositioning() {\n    if (this._firefox) {\n      // Sticky (or translated) footer in a flexbox host doesn't get included in\n      // the scroll height calculation on FF. This is a workaround for the issue.\n      this.$.items.style.paddingBottom = 0;\n      if (!this.heightByRows) {\n        this.$.items.style.paddingBottom = `${this.$.footer.offsetHeight}px`;\n      }\n    }\n\n    if (this._ios) {\n      const isOldIOS = !window.CSS.supports('position', 'sticky');\n      if (isOldIOS) {\n        // Due to a rendering bug, the sticky header may disappear on an older iOS (10-12) Safari\n        // if the grid is used inside of a flex box. This is a workaround for the issue.\n        this.$.table.style.height = '';\n        this.$.table.style.minHeight = '100%';\n        this.$.table.style.maxHeight = '100%';\n        setTimeout(() => (this.$.table.style.height = `${this.$.scroller.offsetHeight}px`));\n      }\n    }\n  }\n\n  /**\n   * @param {!HTMLElement} row\n   * @param {GridItem} item\n   * @protected\n   */\n  _updateItem(row, item) {\n    row._item = item;\n    const model = this.__getRowModel(row);\n\n    this._toggleAttribute('selected', model.selected, row);\n    this._a11yUpdateRowSelected(row, model.selected);\n    this._a11yUpdateRowLevel(row, model.level);\n    this._toggleAttribute('expanded', model.expanded, row);\n    this._toggleAttribute('details-opened', this._isDetailsOpened(item), row);\n    if (this._rowDetailsTemplate || this.rowDetailsRenderer) {\n      this._toggleDetailsCell(row, item);\n    }\n    this._generateCellClassNames(row, model);\n    this._filterDragAndDrop(row, model);\n\n    Array.from(row.children).forEach((cell) => {\n      if (cell._renderer) {\n        const owner = cell._column || this;\n        cell._renderer.call(owner, cell._content, owner, model);\n      } else if (cell._instance) {\n        cell._instance.__detailsOpened__ = model.detailsOpened;\n        cell._instance.__selected__ = model.selected;\n        cell._instance.__level__ = model.level;\n        cell._instance.__expanded__ = model.expanded;\n        cell._instance.setProperties(model);\n      }\n    });\n\n    this._debouncerUpdateHeights = Debouncer.debounce(this._debouncerUpdateHeights, timeOut.after(1), () => {\n      this._updateMetrics();\n      this._positionItems();\n      this._updateScrollerSize();\n    });\n  }\n\n  /** @private */\n  _resizeHandler() {\n    this._updateDetailsCellHeights();\n    this._accessIronListAPI(super._resizeHandler, true);\n    this._updateScrollerMeasurements();\n    this.__updateFooterPositioning();\n  }\n\n  /** @private */\n  _onAnimationEnd(e) {\n    // ShadyCSS applies scoping suffixes to animation names\n    if (e.animationName.indexOf('vaadin-grid-appear') === 0) {\n      this._render();\n      e.stopPropagation();\n      this.notifyResize();\n      this.__itemsReceived();\n\n      requestAnimationFrame(() => {\n        this.__scrollToPendingIndex();\n        // This needs to be set programmatically in order to avoid an iOS 10 bug (disappearing grid)\n        this.$.table.style.webkitOverflowScrolling = 'touch';\n      });\n    }\n  }\n\n  /**\n   * @param {string} name\n   * @param {boolean} bool\n   * @param {!Element} node\n   * @protected\n   */\n  _toggleAttribute(name, bool, node) {\n    if (node.hasAttribute(name) === !bool) {\n      if (bool) {\n        node.setAttribute(name, '');\n      } else {\n        node.removeAttribute(name);\n      }\n    }\n  }\n\n  /**\n   * @param {!HTMLTableRowElement} row\n   * @return {!GridItemModel}\n   * @protected\n   */\n  __getRowModel(row) {\n    return {\n      index: row.index,\n      item: row._item,\n      level: this._getIndexLevel(row.index),\n      expanded: this._isExpanded(row._item),\n      selected: this._isSelected(row._item),\n      detailsOpened: !!(this._rowDetailsTemplate || this.rowDetailsRenderer) && this._isDetailsOpened(row._item)\n    };\n  }\n\n  /**\n   * Manually invoke existing renderers for all the columns\n   * (header, footer and body cells) and opened row details.\n   */\n  render() {\n    if (this._columnTree) {\n      // header and footer renderers\n      this._columnTree.forEach((level) => {\n        level.forEach((column) => column._renderHeaderAndFooter());\n      });\n\n      // body and row details renderers\n      this._update();\n    }\n  }\n\n  /**\n   * Updates the computed metrics and positioning of internal grid parts\n   * (row/details cell positioning etc). Needs to be invoked whenever the sizing of grid\n   * content changes asynchronously to ensure consistent appearance (e.g. when a\n   * contained image whose bounds aren't known beforehand finishes loading).\n   */\n  notifyResize() {\n    super.notifyResize();\n  }\n\n  /** @private */\n  _heightByRowsChanged(value, oldValue) {\n    if (value || oldValue) {\n      this.notifyResize();\n    }\n  }\n\n  /** @protected */\n  __forceReflow() {\n    this._debouncerForceReflow = Debouncer.debounce(this._debouncerForceReflow, animationFrame, () => {\n      this.$.scroller.style.overflow = 'hidden';\n      setTimeout(() => (this.$.scroller.style.overflow = ''));\n    });\n  }\n}\n\ncustomElements.define(GridElement.is, GridElement);\n\nfunction CreateDomModules(options) {\r\n  // Asset Tree Grid\r\n  const DomModule = document.createElement(\"dom-module\");\r\n  DomModule.setAttribute(\"theme-for\", \"vaadin-grid\");\r\n  DomModule.setAttribute(\"id\", `bh-ui-toolkit__vaadin-grid`);\r\n  const innerHtmlStr = `<template><style>\r\n\r\n  :host([gridtype=\"tree\"]) {\r\n    --_lumo-grid-border-width: 0px;\r\n    background-color: transparent;\r\n  }\r\n  \r\n  :host([gridtype=\"tree\"]:not([theme~='no-border'])) {\r\n    box-shadow: none!important;\r\n    border: none!important;\r\n  }\r\n\r\n\r\n  :host([gridtype=\"tree\"]:not([theme~='no-border'])) [part~='row'][selected] [part~='cell']:not([part~='details-cell']) {\r\n    box-shadow: none;\r\n  }\r\n\r\n  :host([gridtype=\"tree\"]:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {\r\n    background-image: none;\r\n  }\r\n\r\n  :host([gridtype=\"tree\"]) #header {\r\n    display: none;\r\n  }\r\n  \r\n  :host([gridtype=\"tree\"]) [part~=\"body-cell\"] {\r\n    color: var(--color-text-common-secondary);\r\n    font-family: var(--font-family-body-small);\r\n    letter-spacing: var(--font-letter-spacing-body-small);\r\n    line-height: var(--font-line-height-body-small);\r\n    position: relative;  \r\n    box-shadow: none;\r\n    min-width: 180px;\r\n    min-height: unset;\r\n  }\r\n\r\n  :host([gridtype=\"tree\"]) [part='toggle'] {\r\n      margin: none!important;\r\n  }\r\n\r\n \r\n\r\n  :host([gridtype=\"tree\"][noverticalborder='true']) [part~=\"body-cell\"] {\r\n    border-right: none;\r\n  }\r\n\r\n  :host([gridtype=\"tree\"]) [part~=\"cell\"] {\r\n    background-color: transparent;\r\n  }\r\n\r\n  :host([gridtype=\"tree\"]) [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\r\n    font-weight: var(--font-weight-body-small);\r\n    font-size: var(--font-size-body-small);\r\n    letter-spacing: var(--font-letter-spacing-body-small);\r\n    line-height: var(--font-line-height-body-small);\r\n    position: relative;\r\n    padding-top:0 !important;\r\n    padding-bottom:0 !important;\r\n    cursor: pointer;\r\n    transition: all;\r\n    transition-timing-function: var(--motion-easing-fast);\r\n    transition-duration: var(--motion-duration-fast);\r\n  }\r\n\r\n  :host([gridtype=\"tree\"]) [part~='cell']:focus {\r\n    outline: none !important;\r\n  }\r\n  :host([gridtype=\"tree\"][navigating]) [part~='cell']:focus::before {\r\n    box-shadow: none !important;\r\n  }\r\n \r\n\r\n  :host([gridtype=\"tree\"]) [part~=\"body-cell\"]:hover ::slotted(vaadin-grid-cell-content) {\r\n    color: var(--color-text-common-primary);\r\n  }\r\n\r\n  :host([gridtype=\"tree\"]:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {\r\n    background-image: none;\r\n  }\r\n\r\n   :host([gridtype=\"tree\"]:not([theme~='no-border'])) [part~='row'][selected]  [part~=\"cell\"] ::slotted(vaadin-grid-cell-content){\r\n      color: var(--color-text-link-primary-default);\r\n      text-decoration: underline;\r\n      position: relative;\r\n      padding-top:0 !important;\r\n      padding-bottom:0 !important;\r\n      background: none;\r\n      box-shadow: none;\r\n  }\r\n\r\n  @media (hover: hover) {\r\n    :host([gridtype=\"tree\"]:hover) (:not([theme~='no-border'])) [part~='row'] [part~=\"cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      // color: var(--color-text-common-primary);\r\n    }\r\n  }\r\n\r\n  :host([gridtype=\"tree\"][spacing=\"medium\"]) {\r\n    height: unset;\r\n  }\r\n\r\n  :host([gridtype=\"tree\"][spacing=\"medium\"][shouldoverflow=\"true\"]) {\r\n    height:  var(--tabularlist-default-height) ;\r\n  }\r\n\r\n  :host([gridtype=\"tree\"][spacing=\"medium\"]) [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n    height: 26px;\r\n    padding: var(--spacing-padding-small) var(--spacing-padding-small);\r\n  }\r\n\r\n  :host([gridtype=\"tree\"]:not([theme~='no-row-borders'])) [part='row'][first] [part~='cell']:not([part~='details-cell']) {\r\n    transform: translateY(5px);\r\n  }\r\n\r\n    :host([gridtype=\"tabularlist\"]) {\r\n      border: none;\r\n      background-color:var(--table-background-color);\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][linkitem=\"true\"]) [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      cursor: pointer;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][reordering]) [part~=\"cell\"][reorder-status=\"dragging\"] {\r\n      background-color: var(--color-fill-menu-selected-supplemental);\r\n      background: var(--color-fill-menu-selected-supplemental);\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"]) [part~='row'][selected] [part~='cell']:not([part~='details-cell']) {\r\n      box-shadow: none;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"]) [part~=\"reorder-ghost\"] {\r\n      background: var(--color-fill-menu-selected-supplemental);\r\n      background-color: var(--color-fill-menu-selected-supplemental);\r\n      font-family: var(--font-family-label-small);\r\n      letter-spacing: var(--font-letter-spacing-label-small);\r\n      line-height: var(--font-line-height-label-small);\r\n      font-weight: var(--font-weight-label-small);\r\n      font-size: var(--font-size-label-small);\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"]) [part~=\"header-cell\"] {\r\n      background-color: var(--color-fill-common-tertiary);\r\n      color: var(--color-text-common-primary);\r\n      font-family: var(--font-family-label-small);\r\n      letter-spacing: var(--font-letter-spacing-label-small);\r\n      line-height: var(--font-line-height-label-small);\r\n      min-height: 42px !important;\r\n      min-width: var(--tabularlist-header-cell-min-width);\r\n      height: 42px;\r\n      align-items: center;\r\n      position: relative;\r\n      cursor: pointer;      \r\n    }\r\n    :host([gridtype=\"tabularlist\"][noverticalborder='false']) [part~=\"header-cell\"]{\r\n      border-right: 1px solid var(--color-border-common-primary);    \r\n      }\r\n    :host([gridtype=\"tabularlist\"][selection='true']) [part~=\"header-cell\"]:first-child {\r\n      min-width: 64px;\r\n      width: 64px !important;\r\n      padding: 0 8px;\r\n      height: 42px;\r\n      min-height: 42px !important;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][selection='true'][searchmode=\"column\"]) [part~=\"header-cell\"]:first-child {\r\n      height: 87px;\r\n      min-height: 87px !important;\r\n    }\r\n    \r\n    :host([gridtype=\"tabularlist\"][selection='true']) [part~=\"header-cell\"]:first-child ::slotted(vaadin-grid-cell-content) {\r\n      display: flex;\r\n      justify-content: center;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][selection='true'][searchmode=\"column\"]) [part~=\"header-cell\"]:first-child ::slotted(vaadin-grid-cell-content) {\r\n      padding-bottom: 44px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][selection='true'][searchmode=\"column\"]) [part~=\"header-cell\"]:first-child:before {\r\n      position: absolute;\r\n      content: ' ';\r\n      width: 64px;\r\n      height: 44px;\r\n      border-top: 1px solid var(--color-border-common-primary);\r\n      background-color: var(--color-fill-common-secondary);\r\n      top: 41px;\r\n      left: 0;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][selection='true']) [part~='cell'][part~=\"header-cell\"]:first-child ::slotted(vaadin-grid-cell-content) {\r\n      text-overflow: clip;\r\n      margin-right: 0;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][searchmode=\"column\"]) [part~=\"header-cell\"] {\r\n      min-height: 87px !important;\r\n      height: 87px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][searchmode=\"column\"]) [part~=\"header-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      margin-right: 0;\r\n      padding: 0;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][searchmode=\"column\"]) [part~=\"header-cell\"]:after {\r\n      top: 13px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][searchmode=\"column\"]) [part='resize-handle'] {\r\n      height: 42px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][noverticalborder='true']) [part~=\"header-cell\"] {\r\n      border-right: none;\r\n    }\r\n\r\n    \r\n\r\n    :host([gridtype=\"tabularlist\"]) [part~=\"header-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      font-weight: var(--font-weight-label-small);\r\n      font-size: var(--font-size-label-small);\r\n      padding: 0 var(--tabulatlist-header-cell-padding);\r\n      position: relative;\r\n      cursor: pointer;\r\n      margin-right: var(--tabulatlist-header-cell-margin);\r\n    }\r\n    \r\n    :host([gridtype=\"tabularlist\"][rowselection=\"true\"]) [role~=\"row\"]:hover [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      background-color: var(--color-fill-menu-highlighted);\r\n      cursor: pointer;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"]:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {\r\n      background-image: linear-gradient(var(--color-fill-menu-selected-supplemental), var(--color-fill-menu-selected-supplemental));\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][rowselection=\"true\"]) [role~=\"row\"][selected]:hover [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      background-color: var(--color-fill-menu-selected-supplemental);\r\n      background-image: linear-gradient(var(--color-fill-menu-selected-supplemental), var(--color-fill-menu-selected-supplemental));\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"]) [part~=\"body-cell\"] {\r\n      color: var(--color-text-common-secondary);\r\n      font-family: var(--font-family-body-medium);\r\n      letter-spacing: var(--letter-spacing-body-medium);\r\n      line-height: var(--font-line-height-body-medium);\r\n      position: relative;\r\n      border-top: 1px solid var(--color-border-common-primary);      \r\n      min-width: var(--tabularlist-header-cell-min-width);\r\n      background-color: var(--color-fill-common-secondary);      \r\n    }\r\n    :host([gridtype=\"tabularlist\"][noverticalborder='false']) [part~='body-cell'] {\r\n      border-right: 1px solid var(--color-border-common-primary);\r\n      border-bottom: 1px solid var(--color-border-common-primary);\r\n  }\r\n    :host([gridtype=\"tabularlist\"][selection='true']) [part~=\"body-cell\"]:first-child {\r\n      min-width: 64px;\r\n      width: 64px !important;\r\n      padding: 0 8px;\r\n    } \r\n\r\n    :host([gridtype=\"tabularlist\"][selection='true']) [part~='cell'][part~=\"body-cell\"]:first-child ::slotted(vaadin-grid-cell-content) {\r\n      text-overflow: clip;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][noverticalborder='true']) [part~=\"body-cell\"] {\r\n      border-right: none;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][reordering]) [part~='cell'][reorder-status='allowed'] {\r\n      background-color: var(--color-fill-common-secondary);\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"]) [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      font-weight: var(--font-weight-body-medium);\r\n      font-size: var(--font-size-body-medium);\r\n      position: relative;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"large\"]){\r\n      height: unset;\r\n      // max-height: 651px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"large\"][shouldoverflow=\"true\"]) {\r\n      height: 651px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"large\"]) [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      height:60px;\r\n      padding: var(--spacing-padding-medium) var(--spacing-padding-small);\r\n    }\r\n    :host([gridtype=\"tabularlist\"][spacing=\"auto\"]) [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      padding: var(--spacing-padding-medium) var(--spacing-padding-small);\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"auto\"]) [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      height: auto;\r\n     \r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"medium\"]) {\r\n      height: unset;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"medium\"][shouldoverflow=\"true\"]) {\r\n      height:  var(--tabularlist-default-height) ;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"medium\"]) [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      height: 44px;\r\n      padding: var(--spacing-padding-small) var(--spacing-padding-small);\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"small\"]) {\r\n      height: unset;\r\n      // max-height: 411px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"small\"][shouldoverflow=\"true\"]) {\r\n      height: 411px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][spacing=\"small\"]) [part~=\"body-cell\"] ::slotted(vaadin-grid-cell-content) {\r\n      height: 36px;\r\n      padding: var(--spacing-padding-xsmall) var(--spacing-padding-small);\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"]) [part='resize-handle'] {\r\n      width: 2px;\r\n      background-color: var(--color-fill-control-selected);\r\n      right: 0px;\r\n      -webkit-transition: background-color var(--motion-duration-fast) var(--motion-easing-fast);\r\n      transition: background-color var(--motion-duration-fast) var(--motion-easing-fast);\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"]) [part='resize-handle']::before {\r\n      width: 25px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][navigating]) [part~='header-cell']:focus::before {\r\n      height: 41px;\r\n    }\r\n\r\n    :host([gridtype=\"tabularlist\"][navigating]) [part~='cell']:focus::before {\r\n      box-shadow: inset 0 0 0 2px var(--color-border-common-focused);\r\n    }\r\n\r\n  </style>\r\n  </template>`;\r\n  DomModule.innerHTML = innerHtmlStr;\r\n  const DomModuleCheckbox = document.createElement(\"dom-module\");\r\n  DomModuleCheckbox.setAttribute(\"theme-for\", \"vaadin-checkbox\");\r\n  DomModuleCheckbox.setAttribute(\"id\", `bh-ui-toolkit__vaadin-checkbox`);\r\n  const innerHtmlStrCheckbox = `<template><style>\r\n    :host {\r\n      width: var(--checkbox-width);\r\n      height: var(--checkbox-height);\r\n      margin: 0 var(--spacing-margin-xxsmall);\r\n      cursor: pointer !important;\r\n      border: none;\r\n      transition: all;\r\n      transition-timing-function: var(--motion-easing-fast);\r\n      transition-duration: var(--motion-duration-fast);\r\n    }\r\n\r\n    :host [part~=\"checkbox\"] {\r\n      background-color: var(--color-fill-control-unselected);\r\n      width: var(--checkbox-width);\r\n      height: var(--checkbox-height);\r\n      border-style: solid;\r\n      border-width: var(--effect-border-width-thick);\r\n      border-color: var(--color-border-control-unselected);\r\n      box-sizing: border-box;\r\n      border-radius: var(--effect-border-radius-light);\r\n      margin: 0;\r\n      transition: all;\r\n      transition-timing-function: var(--motion-easing-fast);\r\n      transition-duration: var(--motion-duration-fast);\r\n    }\r\n\r\n    :host(:active) [part~=\"checkbox\"] {\r\n      transform: unset;\r\n    }\r\n\r\n    :host(:hover) label {\r\n      cursor: pointer !important;\r\n    }\r\n\r\n    :host(:focus) [part~=\"checkbox\"] {\r\n      box-shadow: var(--effect-drop-shadow-focus-primary);\r\n    }\r\n\r\n    :host [part~=\"checkbox\"] input {\r\n      border: none;\r\n    }\r\n\r\n    :host [part~=\"checkbox\"]::before {\r\n      background-color: var(--color-fill-control-unselected);\r\n      width: var(--checkbox-width);\r\n      height: var(--checkbox-height);\r\n      border-style: solid;\r\n      border-width: var(--effect-border-width-thick);\r\n      border-color: var(--color-border-control-unselected);\r\n      box-sizing: border-box;\r\n      transition: all;\r\n      transition-timing-function: var(--motion-easing-fast);\r\n      transition-duration: var(--motion-duration-fast);\r\n      transform: scale(1);\r\n    }\r\n\r\n    :host(:hover) [part~=\"checkbox\"]::before {\r\n      background-color: var(--color-fill-control-unselected) !important;\r\n    }\r\n\r\n    :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part='checkbox'] {\r\n      background-color: var(--color-fill-control-unselected);\r\n    }\r\n\r\n    :host([checked]) [part='checkbox'] {\r\n      background-color: var(--color-fill-control-selected);\r\n      border-color: var(--color-border-control-selected);\r\n    }\r\n\r\n    :host([checked]:not([indeterminate])) [part='checkbox']:after {\r\n      border-width: 2px 0 0 2px;\r\n      transform: rotate(-135deg);\r\n      width: 6px;\r\n      height: 12px;\r\n      top: 12px;\r\n      left: 5px;\r\n    }\r\n\r\n    :host([indeterminate]) [part='checkbox']::after {\r\n      width: 12px;\r\n      height: 2px;\r\n      left: 1px;\r\n    }\r\n  </style>\r\n  </template>`;\r\n  DomModuleCheckbox.innerHTML = innerHtmlStrCheckbox;\r\n  return [DomModule, DomModuleCheckbox];\r\n}\n\nexport { CreateDomModules as C, GridColumnElement as G, isFocusable as i };\n","import { r as registerInstance, h, H as Host, c as createEvent, g as getElement } from './index-c0304f12.js';\nimport { D as DesignTokens } from './tokens-0cdc4f36.js';\nimport { g as getBreakpoint } from './utils-daa41c2c.js';\nimport { c as components, g as generateComponentLiteralWithPrefix, d as defaultPrefix } from './component-list-392dd0ee.js';\nimport { v as v4 } from './v4-929670b7.js';\nimport './_commonjsHelpers-11ca3be1.js';\nimport { l as luxon } from './vaadin-button-72eefd1b.js';\nimport { h as hooks } from './moment-6f6ab70c.js';\nimport { C as Chart, g as getChartColor } from './chart-helper-fa709a30.js';\nimport { E as ERROR_MESSAGE$1 } from './bh-button-dropdown.types-79dc3fef.js';\nimport { h as html, E as ElementMixin, T as ThemableMixin, P as PolymerElement, r as registerStyles, c as css, a as resetMouseCanceller } from './iron-resizable-behavior-b5089143.js';\nimport { G as GridColumnElement, C as CreateDomModules$1 } from './vaadin-grid.styles-556b22c5.js';\nimport './iron-scroll-target-behavior-5bd912f7.js';\nimport { _ } from './index-default-3e0774e5.js';\nimport './field-button-05bb7ace.js';\n\nconst bhACss = \"a{-o-transition:var(--motion-duration-fast);-ms-transition:var(--motion-duration-fast);-moz-transition:var(--motion-duration-fast);-webkit-transition:var(--motion-duration-fast);transition:var(--motion-duration-fast)}.bh-a{font:inherit;cursor:pointer;outline:none;-webkit-appearance:none;-moz-appearance:none;-o-appearance:none;appearance:none;-webkit-tap-highlight-color:transparent;-moz-tap-highlight-color:transparent}.bh-a--tag{text-decoration:none}.bh-a--text{text-decoration:underline}.bh-a--text.no-border{text-decoration:none}.bh-a:focus{box-shadow:var(--effect-drop-shadow-focus-primary)}.bh-a:focus:not(:focus-visible){box-shadow:none}.bh-a__type-primary:link,.bh-a__type-primary:visited{color:var(--color-text-link-primary-default)}.bh-a__type-secondary:link,.bh-a__type-secondary:visited{color:var(--color-text-link-secondary-default)}.bh-a__type-tertiary:link,.bh-a__type-tertiary:visited{color:var(--color-text-link-tertiary-default)}.bh-a__type-primary:hover,.bh-a__type-secondary:hover,.bh-a__type-tertiary:hover{color:var(--color-text-link-hover)}.bh-a__type-primary:active,.bh-a__type-secondary:active,.bh-a__type-tertiary:active{color:var(--color-text-link-pressed)}.bh-a__type-disabled{color:var(--color-text-link-disabled);cursor:not-allowed;pointer-events:none}.bh-a__type-inverse:link,.bh-a__type-inverse:visited{color:var(--color-text-link-inverse-default)}.bh-a__type-inverse:hover,.bh-a__type-inverse:active{color:var(--color-text-link-inverse-hover)}.bh-a__type-inverse-disabled{color:var(--color-text-link-inverse-disabled);cursor:not-allowed;pointer-events:none}.bh-a__no-underline{text-decoration:none}.bh-a--icon{font-family:var(--font-family-icon-medium);font-style:normal;vertical-align:middle;text-decoration:none !important}.bh-a--icon-left{padding-right:var(--spacing-margin-xxsmall)}.bh-a--icon-right{padding-left:var(--spacing-margin-xxsmall)}.external-link{display:inline-block;transform:rotate(-45deg);padding-top:3px}\";\n\nconst BhA = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    /**\r\n     * Valid input types are: 'primary' 'secondary' 'tertiary, inverse'\r\n     */\r\n    this.type = \"primary\";\r\n    /**\r\n     * Designates typography for the link copy\r\n     */\r\n    this.font = 'typography--body-medium';\r\n    /**\r\n     * Valid targets are: '_blank' '_self' '_parent' '_top'\r\n     */\r\n    this.target = \"_self\";\r\n    /**\r\n     * Link text\r\n     */\r\n    this.text = \"default\";\r\n    /**\r\n     * Disabled links are grayed out and cannot be clicked\r\n     */\r\n    this.isDisabled = false;\r\n    /**\r\n     * Remove underline from link (used in footer)\r\n     */\r\n    this.noUnderline = false;\r\n    /**\r\n     * Make link into an external link; adds a \"launch\" icon to the end\r\n     */\r\n    this.externalLink = false;\r\n  }\r\n  render() {\r\n    const linkClasses = [\"bh-a\", \"motion--fast\"];\r\n    const rightIconClasses = [\"bh-a--icon bh-a--icon-right material-icons material-icons-outlined\"];\r\n    if (this.isDisabled && this.type === \"inverse\") {\r\n      linkClasses.push(\"bh-a__type-inverse-disabled\");\r\n    }\r\n    else if (this.isDisabled) {\r\n      linkClasses.push(\"bh-a__type-disabled\");\r\n    }\r\n    else {\r\n      linkClasses.push(`bh-a__type-${this.type}`);\r\n    }\r\n    // disable href\r\n    if (this.isDisabled) {\r\n      this.href = \"\";\r\n    }\r\n    // remove underline\r\n    if (this.noUnderline) {\r\n      linkClasses.push(\"bh-a__no-underline\");\r\n    }\r\n    //make external link\r\n    if (this.externalLink) {\r\n      // this.rightIcon = \"arrow_forward\";\r\n      rightIconClasses.push(\"external-link bh-a--icon bh-a--icon-right material-icons material-icons-outlined\");\r\n    }\r\n    return (h(Host, { class: `bh-a bh-a--container ${this.font}` }, h(\"a\", { class: `bh-a--tag ${linkClasses.join(\" \")}`, href: this.href, target: this.target }, this.leftIcon && h(\"i\", { class: `bh-a--icon bh-a--icon-left material-icons material-icons-outlined` }, this.leftIcon), h(\"span\", { class: `bh-a--text ${this.noUnderline ? 'no-border' : ''}` }, this.text), this.rightIcon &&\r\n      h(\"i\", { class: rightIconClasses.join(\" \") }, this.rightIcon), this.externalLink &&\r\n      h(\"i\", { class: rightIconClasses.join(\" \") }, \"arrow_forward\"))));\r\n  }\r\n};\r\nBhA.style = bhACss;\n\nconst bhActionBarCss = \".bh-action-bar{background-color:var(--color-fill-common-secondary);border-top:1px solid var(--color-border-common-primary);position:var(--position-bh-action-bar);left:58px;right:0;bottom:0;width:calc(100% - 58px);height:52px;z-index:500;display:flex}.bh-action-bar--slot{display:flex;align-items:center;padding:0 var(--spacing-padding-medium);width:50%}.bh-action-bar--footer-actions{min-width:0;width:50%;display:flex;justify-content:flex-end;align-items:center;padding:0 var(--spacing-padding-medium)}.bh-action-bar--footer-actions>*{display:flex;min-width:0;margin-left:var(--spacing-margin-small)}.bh-action-bar--footer-actions>*:first-child{margin-left:0px}@media only screen and (max-width: 1023px){.bh-action-bar{left:0;width:100%}}@media only screen and (max-width: 599px){.bh-action-bar{height:auto;max-height:120px;flex-direction:column;padding:var(--spacing-padding-xsmall) 0}.bh-action-bar>*:first-child{margin-bottom:var(--spacing-margin-small)}.bh-action-bar--slot{padding:0 var(--spacing-padding-small);width:100%}.bh-action-bar--footer-actions>*{flex:1;min-width:0}.bh-action-bar--footer-actions{width:100%;max-width:calc(100% - 24px);justify-content:flex-start;align-items:center;padding:0 var(--spacing-padding-small)}}\";\n\nconst BhActionBar = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.ctaClick = createEvent(this, \"ctaClick\", 7);\r\n    this.bhEventCtaClick = createEvent(this, \"bhEventCtaClick\", 7);\r\n  }\r\n  watchFooterActions() {\r\n    this._footerActions =\r\n      typeof this.footerActions === \"string\"\r\n        ? JSON.parse(this.footerActions)\r\n        : this.footerActions;\r\n  }\r\n  handleResize() {\r\n    const bp = getBreakpoint();\r\n    if (this.viewport !== bp)\r\n      this.viewport = bp;\r\n  }\r\n  componentWillLoad() {\r\n    this.viewport = getBreakpoint();\r\n    this._footerActions =\r\n      typeof this.footerActions === \"string\"\r\n        ? JSON.parse(this.footerActions)\r\n        : this.footerActions;\r\n  }\r\n  render() {\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.actionBar.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix);\r\n    return (h(Host, { class: \"bh-action-bar\" }, h(\"div\", { class: \"bh-action-bar--slot\" }, h(\"slot\", null)), this._footerActions && (h(\"div\", { class: \"bh-action-bar--footer-actions\" }, this._footerActions.slice(0, 3).map((button) => (h(Components.button, { isSmall: button.size === \"medium\" ? false : true, type: button.type, label: button.label, leftIcon: button.leftIcon, rightIcon: button.rightIcon, isDisabled: button.isDisabled, isLoading: button.isLoading, isFluid: !!(this.viewport === \"small\"), onClick: () => {\r\n        if (button.isDisabled)\r\n          return;\r\n        this.ctaClick.emit(button.key);\r\n        this.bhEventCtaClick.emit(button.key ? button.key : \"\");\r\n      } })))))));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"footerActions\": [\"watchFooterActions\"]\r\n  }; }\r\n};\r\nBhActionBar.style = bhActionBarCss;\n\nconst bhAppShellCss = \":root{--color-border-common-primary:#ced7d4;--table-background-color:#ffffff;--color-border-common-secondary:#b8b8b8;--color-border-cta-secondary-default:#adbdb9;--color-border-cta-secondary-hover:#8ca39d;--color-border-cta-secondary-pressed:#748e88;--color-border-cta-secondary-focused:#adbdb9;--color-border-control-unselected:#a0a0a0;--color-border-control-selected:#02a783;--color-border-control-disabled:#adbdb9;--color-border-control-error:#e16e75;--color-border-form-default:#ced7d4;--color-border-form-hover:#adbdb9;--color-border-form-focused:#02a783;--color-border-form-disabled:#adbdb9;--color-border-form-error:#e16e75;--color-border-form-error-hover:#f0373a;--color-border-data-viz-comparison-secondary:#b8b8b8;--color-border-data-viz-comparison-primary:#666eb4;--color-border-data-viz-default-1:#666eb4;--color-border-data-viz-default-2:#4ca2a8;--color-border-data-viz-default-3:#af74b9;--color-border-data-viz-default-4:#b49566;--color-border-data-viz-default-5:#dd887c;--color-border-data-viz-default-6:#e6b056;--color-border-data-viz-default-7:#dd7cc2;--color-border-data-viz-default-8:#b0cd5d;--color-border-common-focused:#2cb0bc;--color-border-common-error:#ec979b;--color-border-semantic-success:#05322b;--color-border-semantic-error:#e12d39;--color-border-semantic-neutral:#adbdb9;--color-border-semantic-warning:#e87516;--color-border-semantic-info:#1f6362;--color-fill-data-viz-comparison-secondary:#d0d0d0;--color-fill-data-viz-comparison-primary:#666eb4;--color-fill-data-viz-default-1:#666eb4;--color-fill-semantic-error-hover:#fdcbd3;--color-fill-semantic-neutral-pressed:#8ca39d;--color-fill-semantic-error-selected:#e12d39;--color-fill-data-viz-default-2:#4ca2a8;--color-fill-data-viz-default-3:#af74b9;--color-fill-data-viz-default-4:#b49566;--color-fill-data-viz-default-5:#dd887c;--color-fill-data-viz-default-6:#e6b056;--color-fill-data-viz-default-7:#dd7cc2;--color-fill-data-viz-default-8:#b0cd5d;--color-fill-control-error-hover:#fdcbd3;--color-fill-common-primary:#f8faf9;--color-fill-common-secondary:#ffffff;--color-fill-common-brand:#05322b;--color-fill-common-tertiary:#ebefee;--color-fill-cta-primary-default:#147d64;--color-fill-cta-primary-hover:#0c6b58;--color-fill-cta-primary-pressed:#014d40;--color-fill-cta-primary-focused:#147d64;--color-fill-cta-secondary-default:rgba(255, 255, 255, 0);--color-fill-cta-secondary-hover:#ebefee;--color-fill-cta-secondary-pressed:#adbdb9;--color-fill-cta-secondary-focused:rgba(255, 255, 255, 0);--color-fill-cta-critical-default:#e12d39;--color-fill-cta-critical-hover:#cf2333;--color-fill-cta-critical-pressed:#c21a2c;--color-fill-control-error-supplemental:#e16e75;--color-fill-cta-critical-focused:#e12d39;--color-fill-cta-disabled:#ebefee;--color-fill-control-unselected:rgba(255, 255, 255, 0);--color-fill-control-unselected-supplemental:#a0a0a0;--color-fill-control-unselected-hover:#f3f3f3;--color-fill-control-selected:#02a783;--color-fill-control-disabled:#ebefee;--color-fill-control-disabled-supplemental:#ced7d4;--color-fill-control-error:#feeaee;--color-fill-menu-unselected:#ffffff;--color-fill-menu-highlighted:#ebefee;--color-fill-menu-selected:#c6f7e2;--color-fill-menu-selected-supplemental:#effcf6;--color-fill-form-disabled:#ebefee;--color-fill-form-error:#feeaee;--color-fill-avatar-primary:#147d64;--color-fill-avatar-secondary:#653cad;--color-fill-avatar-tertiary:#ced7d4;--color-fill-avatar-circumference:#02a783;--color-fill-common-overlay:rgba(18, 18, 18, 0.8);--color-fill-control-accent:#a0a0a0;--color-fill-control-selected-hover:#147d64;--color-fill-control-slider-disabled:#ced7d4;--color-fill-control-slider-background:#e7e7e7;--color-fill-semantic-success-default:#147d64;--color-fill-semantic-success-supplemental:#199473;--color-fill-semantic-error-supplemental:#cf2333;--color-fill-semantic-error-default:#cf2333;--color-fill-semantic-info-default:#299ba3;--color-fill-semantic-info-supplemental:#299ba3;--color-fill-semantic-info-highlight:#e1f8f9;--color-fill-semantic-warning-default:#e87516;--color-fill-semantic-warning-supplemental:#e87516;--color-fill-cta-secondary-hover-supplemental:#ced7d4;--color-fill-semantic-error-highlight:#feeaee;--color-fill-semantic-warning-hover:#fcf5c1;--color-fill-semantic-warning-highlight:#fefbe6;--color-fill-semantic-error-status-background:#feeaee;--color-fill-semantic-warning-status-background:#fefbe6;--color-fill-semantic-neutral-hover:#adbdb9;--color-fill-semantic-neutral-selected:#5c7b74;--color-fill-semantic-neutral-default:#ced7d4;--color-fill-semantic-accent-default:#5d37a7;--color-fill-semantic-accent-supplemental:#452996;--color-fill-semantic-accent-highlight:#ece7f5;--color-fill-cta-primary-hover-supplemental:#014d40;--color-fill-semantic-success-pressed:#65d6ad;--color-fill-semantic-error-pressed:#e16e75;--color-fill-semantic-success-hover:#8eedc7;--color-fill-semantic-success-highlight:#effcf6;--color-fill-semantic-success-status-background:#effcf6;--color-fill-semantic-neutral-disabled:#ebefee;--color-fill-semantic-neutral-highlight:#ebefee;--color-fill-semantic-neutral-status-background:#ebefee;--color-text-cta-primary:#ffffff;--color-text-common-primary:#121212;--kpi-sub-color:#121212;--kpi-sup-color:#121212;--color-text-common-secondary:#595959;--color-text-common-disabled:#adbdb9;--color-text-common-brand:#05322b;--color-text-common-inverse-primary:#ffffff;--color-text-common-inverse-secondary:rgba(255, 255, 255, 0.6);--color-text-link-primary-default:#02a783;--color-text-link-secondary-default:#1a2321;--color-text-link-tertiary-default:#595959;--color-text-link-hover:#147d64;--color-text-link-pressed:#014d40;--color-text-link-disabled:#d0d0d0;--color-text-link-inverse-default:#ffffff;--color-text-link-inverse-hover:#02a783;--color-text-link-inverse-disabled:#2a2a2a;--color-text-label-default:#595959;--color-text-label-placeholder:#717171;--color-text-label-disabled-default:#adbdb9;--color-text-label-disabled-highlighted:#adbdb9;--color-text-label-error:#e16e75;--color-text-label-critical:#c21a2c;--color-text-label-brand:#05322b;--color-text-label-success:#02a783;--color-text-label-warning:#e87516;--color-text-cta-disabled:#adbdb9;--color-text-cta-secondary:#121212;--font-family-headline-xlarge:\\\"Poppins\\\", sans-serif;--font-family-headline-large:\\\"Poppins\\\", sans-serif;--font-family-headline-medium:\\\"Poppins\\\", sans-serif;--font-family-headline-small:\\\"Poppins\\\", sans-serif;--font-family-title-medium:\\\"Poppins\\\", sans-serif;--font-family-title-small:\\\"Poppins\\\", sans-serif;--font-family-subtitle-large:\\\"Poppins\\\", sans-serif;--font-family-subtitle-medium:\\\"Poppins\\\", sans-serif;--font-family-subtitle-small:\\\"Poppins\\\", sans-serif;--font-family-body-large:\\\"Noto Sans\\\", sans-serif;--font-family-body-medium:\\\"Noto Sans\\\", sans-serif;--font-family-body-medium-semi-bold:\\\"Noto Sans\\\", sans-serif;--font-family-body-small:\\\"Noto Sans\\\", sans-serif;--font-family-body-small-semi-bold:\\\"Noto Sans\\\", sans-serif;--font-family-decorative-large:\\\"Poppins\\\", sans-serif;--font-family-decorative-medium:\\\"Poppins\\\", sans-serif;--font-family-decorative-small:\\\"Poppins\\\", sans-serif;--font-family-label-medium:\\\"Poppins\\\", sans-serif;--font-family-label-small:\\\"Poppins\\\", sans-serif;--font-family-menu-link-medium:\\\"Poppins\\\", sans-serif;--font-family-button-link-medium:\\\"Poppins\\\", sans-serif;--font-family-button-link-small:\\\"Poppins\\\", sans-serif;--font-family-avatar-large:\\\"Poppins\\\", sans-serif;--font-family-avatar-medium:\\\"Poppins\\\", sans-serif;--font-family-avatar-small:\\\"Poppins\\\", sans-serif;--font-family-icon-medium:\\\"Material Icons Outlined\\\";--font-family-icon-small:\\\"Material Icons Outlined\\\";--font-family-title-medium-mobile:\\\"Poppins\\\", sans-serif;--font-family-title-small-mobile:\\\"Poppins\\\", sans-serif;--font-weight-headline-xlarge:600;--font-weight-headline-large:600;--font-weight-headline-medium:600;--font-weight-headline-small:600;--font-weight-title-medium:600;--font-weight-title-small:600;--font-weight-subtitle-large:600;--font-weight-subtitle-medium:600;--font-weight-subtitle-small:600;--font-weight-body-large:400;--font-weight-body-medium:400;--font-weight-body-medium-semi-bold:600;--font-weight-body-small:400;--font-weight-body-small-semi-bold:600;--font-weight-decorative-large:400;--font-weight-decorative-medium:400;--font-weight-decorative-small:400;--font-weight-label-medium:500;--font-weight-label-small:500;--font-weight-menu-link-medium:500;--font-weight-button-link-medium:600;--font-weight-button-link-small:600;--font-weight-avatar-large:600;--font-weight-avatar-medium:600;--font-weight-avatar-small:600;--font-weight-title-medium-mobile:600;--font-weight-title-small-mobile:600;--font-size-headline-xlarge:56px;--font-size-headline-large:48px;--font-size-headline-medium:40px;--font-size-headline-small:32px;--font-size-title-medium:24px;--font-size-title-small:20px;--font-size-subtitle-large:18px;--font-size-subtitle-medium:16px;--font-size-subtitle-small:14px;--font-size-body-large:16px;--font-size-body-medium:14px;--font-size-body-medium-semi-bold:14px;--font-size-body-small:12px;--font-size-body-small-semi-bold:12px;--font-size-decorative-large:16px;--font-size-decorative-medium:14px;--font-size-decorative-small:12px;--font-size-label-medium:14px;--font-size-label-small:12px;--font-size-menu-link-medium:14px;--font-size-button-link-medium:14px;--font-size-button-link-small:12px;--font-size-avatar-large:20px;--font-size-avatar-medium:14px;--font-size-avatar-small:12px;--font-size-icon-medium:24px;--font-size-icon-small:18px;--font-size-title-medium-mobile:20px;--font-size-title-small-mobile:18px;--font-line-height-headline-xlarge:62px;--font-line-height-headline-large:58px;--font-line-height-headline-medium:52px;--font-line-height-headline-small:40px;--font-line-height-title-medium:28px;--font-line-height-title-small:24px;--font-line-height-subtitle-large:24px;--font-line-height-subtitle-medium:22px;--font-line-height-subtitle-small:20px;--font-line-height-body-large:22px;--font-line-height-body-medium:20px;--font-line-height-body-medium-semi-bold:20px;--font-line-height-body-small:18px;--font-line-height-body-small-semi-bold:18px;--font-line-height-decorative-large:22px;--font-line-height-decorative-medium:20px;--font-line-height-decorative-small:18px;--font-line-height-label-medium:20px;--font-line-height-label-small:18px;--font-line-height-menu-link-medium:20px;--font-line-height-button-link-medium:20px;--font-line-height-button-link-small:18px;--font-line-height-avatar-large:28px;--font-line-height-avatar-medium:20px;--font-line-height-avatar-small:18px;--kpi-sub-font-size:12px;--kpi-sup-font-size:12px;--font-line-height-title-small-mobile:24px;--font-letter-spacing-headline-xlarge:-1.5px;--font-letter-spacing-headline-large:-1px;--font-letter-spacing-headline-medium:-1px;--font-letter-spacing-headline-small:-0.5px;--font-letter-spacing-title-medium:-0.5px;--font-letter-spacing-title-small:-0.5px;--font-letter-spacing-subtitle-large:-0.25px;--font-letter-spacing-subtitle-medium:-0.25px;--font-letter-spacing-subtitle-small:-0.25px;--font-letter-spacing-body-large:0px;--font-letter-spacing-body-medium:0px;--font-letter-spacing-body-medium-semi-bold:0px;--font-letter-spacing-body-small:0px;--font-letter-spacing-body-small-semi-bold:0px;--font-letter-spacing-decorative-large:0px;--font-letter-spacing-decorative-medium:0px;--font-letter-spacing-decorative-small:0px;--font-letter-spacing-label-medium:-0.25px;--font-letter-spacing-label-small:-0.25px;--font-letter-spacing-menu-link-medium:-0.25px;--font-letter-spacing-button-link-medium:0px;--font-letter-spacing-button-link-small:0px;--font-letter-spacing-avatar-large:0px;--font-letter-spacing-avatar-medium:0px;--font-letter-spacing-avatar-small:0px;--font-letter-spacing-title-medium-mobile:-0.5px;--font-letter-spacing-title-small-mobile:-0.25px;--effect-border-radius-light:2px;--effect-border-radius-medium:4px;--effect-border-width-regular:1px;--effect-border-width-thick:2px;--effect-drop-shadow-focus-primary:0px 0px 0px 2px #8eedc7ff;--effect-drop-shadow-focus-error:0px 0px 0px 2px #fdcbd3ff;--effect-drop-shadow-elevation-low:0px 2px 6px 0px #00000014;--effect-drop-shadow-elevation-medium:0px 2px 6px 0px #0000001f;--effect-drop-shadow-elevation-high:0px 2px 8px 0px #00000029;--effect-drop-shadow-elevation-extra-high:0px 6px 16px 0px #00000033;--layout-media-query-small:0px;--layout-media-query-medium:600px;--layout-media-query-large:1024px;--layout-grid-columns-small:4;--layout-grid-columns-medium:8;--layout-grid-columns-large:12;--motion-easing-fast:cubic-bezier(0.42,0,0.58,1);--motion-easing-normal:cubic-bezier(0.42,0,0.58,1);--motion-easing-slow:cubic-bezier(0.42,0,0.58,1);--motion-duration-slow:300ms;--motion-duration-normal:200ms;--motion-duration-fast:100ms;--spacing-padding-xxsmall:4px;--spacing-padding-xsmall:8px;--spacing-padding-small:12px;--spacing-padding-medium:20px;--spacing-padding-large:32px;--spacing-padding-xlarge:52px;--spacing-padding-xxlarge:84px;--spacing-margin-large:32px;--spacing-margin-xlarge:52px;--spacing-margin-xxlarge:84px;--spacing-margin-xxsmall:4px;--spacing-margin-xsmall:8px;--spacing-margin-small:12px;--spacing-margin-medium:20px;--color-base-teal-950:#05322b;--color-base-teal-900:#014d40;--color-base-teal-800:#0c6b58;--color-base-teal-700:#147d64;--color-base-teal-600:#199473;--color-base-teal-500:#02a783;--color-base-teal-400:#3ebd93;--color-base-teal-300:#65d6ad;--color-base-teal-200:#8eedc7;--color-base-teal-100:#c6f7e2;--color-base-teal-050:#effcf6;--color-base-gray-900:#121212;--color-base-translucent-gray:rgba(18, 18, 18, 0.8);--color-base-gray-800:#2a2a2a;--color-base-gray-700:#414141;--color-base-gray-600:#595959;--color-base-gray-500:#717171;--color-base-gray-400:#888888;--color-base-gray-300:#a0a0a0;--color-base-gray-200:#b8b8b8;--color-base-gray-100:#d0d0d0;--color-base-gray-075:#e7e7e7;--color-base-gray-050:#f3f3f3;--color-base-gray-025:#f9f9f9;--color-base-rose-900:#b30920;--color-base-rose-800:#c21a2c;--color-base-rose-700:#cf2333;--color-base-rose-600:#e12d39;--color-base-rose-500:#f0373a;--color-base-rose-400:#eb4b53;--color-base-rose-300:#e16e75;--color-base-rose-200:#ec979b;--color-base-rose-100:#fdcbd3;--color-base-rose-050:#feeaee;--color-base-gold-900:#e87516;--color-base-gold-800:#ed9d22;--color-base-gold-700:#f0b529;--color-base-gold-600:#f3cc30;--color-base-gold-500:#f4dd33;--color-base-gold-400:#f6e252;--color-base-gold-300:#f8e771;--color-base-gold-200:#faee99;--color-base-gold-100:#fcf5c1;--color-base-gold-050:#fefbe6;--color-base-cyan-900:#1f6362;--color-base-cyan-800:#26868b;--color-base-cyan-700:#299ba3;--color-base-cyan-600:#2cb0bc;--color-base-cyan-500:#2fc0cf;--color-base-cyan-400:#3ecad4;--color-base-cyan-300:#5ad3db;--color-base-cyan-200:#86e1e5;--color-base-cyan-100:#b5edef;--color-base-cyan-050:#e1f8f9;--color-base-purple-900:#341e86;--color-base-purple-800:#452996;--color-base-purple-700:#512f9e;--color-base-purple-600:#5d37a7;--color-base-purple-500:#653cad;--color-base-purple-400:#7c58b9;--color-base-purple-300:#9376c6;--color-base-purple-200:#b19dd6;--color-base-purple-100:#d0c4e6;--color-base-purple-050:#ece7f5;--color-base-white-100:#ffffff;--color-base-white-060:rgba(255, 255, 255, 0.6);--color-base-data-viz-100:#666eb4;--color-base-data-viz-200:#4ca2a8;--color-base-data-viz-300:#af74b9;--color-base-data-viz-400:#b49566;--color-base-data-viz-500:#dd887c;--color-base-data-viz-600:#e6b056;--color-base-data-viz-700:#dd7cc2;--color-base-data-viz-800:#b0cd5d;--color-base-transparent:rgba(255, 255, 255, 0);--color-base-earth-950:#1a2321;--color-base-earth-900:#22302d;--color-base-earth-800:#334541;--color-base-earth-700:#415853;--color-base-earth-600:#506c65;--color-base-earth-500:#5c7b74;--color-base-earth-400:#748e88;--color-base-earth-300:#8ca39d;--color-base-earth-200:#adbdb9;--color-base-earth-100:#ced7d4;--color-base-earth-050:#ebefee;--color-base-earth-025:#f8faf9;--font-base-font-family-decorative:\\\"Poppins\\\", sans-serif;--font-base-font-family-body:\\\"Noto Sans\\\", sans-serif;--font-base-font-family-icon:\\\"Material Icons Outlined\\\";--font-base-font-weight-regular:400;--font-base-font-weight-medium:500;--font-base-font-weight-semibold:600;--font-base-text-transform-uppercase:uppercase;--font-base-text-transform-capitalize:capitalize;--font-base-text-transform-lowercase:lowercase;--font-base-text-decoration-line-through:line-through;--font-base-text-decoration-underline:underline;--font-base-font-size-56:56px;--font-base-font-size-48:48px;--font-base-font-size-40:40px;--font-base-font-size-32:32px;--font-base-font-size-24:24px;--font-base-font-size-20:20px;--font-base-font-size-18:18px;--font-base-font-size-16:16px;--font-base-font-size-14:14px;--font-base-font-size-12:12px;--font-base-font-size-10:10px;--font-base-line-height-16:16px;--font-base-line-height-62:62px;--font-base-line-height-58:58px;--font-base-line-height-52:52px;--font-base-line-height-40:40px;--font-base-line-height-28:28px;--font-base-line-height-24:24px;--font-base-line-height-22:22px;--font-base-line-height-20:20px;--font-base-line-height-18:18px;--font-base-letter-spacing-1-5:-1.5px;--font-base-letter-spacing-1:-1px;--font-base-letter-spacing-0-5:-0.5px;--font-base-letter-spacing-0-25:-0.25px;--font-base-letter-spacing-0:0px;--effect-base-border-radius-8:8px;--effect-base-border-radius-12:8px;--effect-base-opacity-95:0.95;--effect-base-opacity-90:0.9;--effect-base-opacity-85:0.85;--effect-base-opacity-80:0.8;--effect-base-opacity-70:0.7;--effect-base-opacity-60:0.6;--effect-base-opacity-50:0.4;--effect-base-opacity-40:0.4;--effect-base-opacity-30:0.3;--effect-base-opacity-20:0.2;--effect-base-opacity-10:0.1;--effect-base-drop-shadow-rose:0px 0px 0px 2px #fdcbd3ff;--effect-base-drop-shadow-teal:0px 0px 0px 2px #8eedc7ff;--effect-base-drop-shadow-small:0px 2px 6px 0px #00000014;--effect-base-drop-shadow-medium:0px 2px 6px 0px #0000001f;--effect-base-drop-shadow-large:0px 2px 8px 0px #00000029;--effect-base-drop-shadow-xlarge:0px 6px 16px 0px #00000033;--effect-base-border-width-1:1px;--effect-base-border-width-2:2px;--effect-base-border-radius-2:2px;--effect-base-border-radius-4:4px;--effect-base-transition-duration-100-ms:100ms;--effect-base-transition-duration-200-ms:200ms;--effect-base-transition-duration-300-ms:300ms;--effect-base-transition-timing-ease-in-ease-out:cubic-bezier(0.42,0,0.58,1);--size-base-space-0:0px;--size-base-space-4:4px;--size-base-space-8:8px;--size-base-space-12:12px;--size-base-space-20:20px;--size-base-space-32:32px;--size-base-space-52:52px;--size-base-space-84:84px;--size-base-mq-0-599:0px;--size-base-mq-600-1023:600px;--size-base-mq-1024:1024px;--size-base-columns-12:12;--size-base-columns-8:8;--size-base-columns-4:4;--badge-count-position-right:-12px;--badge-count-position-top:-12px;--tabularlist-header-cell-min-width:auto;--tabulatlist-header-cell-overflow:hidden;--tabulatlist-header-cell-textoverflow:ellipsis;--tabulatlist-header-cell-margin:0;--tabulatlist-header-cell-padding:12px;--tabularlist-default-height:491px;--position-bh-action-bar:fixed;--datepicker-input-field-height:44px;--datepicker-input-icon-position-left:12px;--datepicker-input-icon-position-top:12px;--datepicker-input-value-padding:0px 0px 0px 26px;--date-picker-text-field-width:280px}.typography--headline-xlarge{font-family:var(--font-family-headline-xlarge);font-size:var(--font-size-headline-xlarge);font-weight:var(--font-weight-headline-xlarge);line-height:var(--font-line-height-headline-xlarge);letter-spacing:var(--font-letter-spacing-headline-xlarge)}.typography--headline-large{font-family:var(--font-family-headline-large);font-size:var(--font-size-headline-large);font-weight:var(--font-weight-headline-large);line-height:var(--font-line-height-headline-large);letter-spacing:var(--font-letter-spacing-headline-large)}.typography--headline-medium{font-family:var(--font-family-headline-medium);font-size:var(--font-size-headline-medium);font-weight:var(--font-weight-headline-medium);line-height:var(--font-line-height-headline-medium);letter-spacing:var(--font-letter-spacing-headline-medium)}.typography--headline-small{font-family:var(--font-family-headline-small);font-size:var(--font-size-headline-small);font-weight:var(--font-weight-headline-small);line-height:var(--font-line-height-headline-small);letter-spacing:var(--font-letter-spacing-headline-small)}.typography--title-medium{font-family:var(--font-family-title-medium);font-size:var(--font-size-title-medium);font-weight:var(--font-weight-title-medium);line-height:var(--font-line-height-title-medium);letter-spacing:var(--font-letter-spacing-title-medium)}.typography--title-small{font-family:var(--font-family-title-small);font-size:var(--font-size-title-small);font-weight:var(--font-weight-title-small);line-height:var(--font-line-height-title-small);letter-spacing:var(--font-letter-spacing-title-small)}.typography--subtitle-large{font-family:var(--font-family-subtitle-large);font-size:var(--font-size-subtitle-large);font-weight:var(--font-weight-subtitle-large);line-height:var(--font-line-height-subtitle-large);letter-spacing:var(--font-letter-spacing-subtitle-large)}.typography--subtitle-medium{font-family:var(--font-family-subtitle-medium);font-size:var(--font-size-subtitle-medium);font-weight:var(--font-weight-subtitle-medium);line-height:var(--font-line-height-subtitle-medium);letter-spacing:var(--font-letter-spacing-subtitle-medium)}.typography--subtitle-small{font-family:var(--font-family-subtitle-small);font-size:var(--font-size-subtitle-small);font-weight:var(--font-weight-subtitle-small);line-height:var(--font-line-height-subtitle-small);letter-spacing:var(--font-letter-spacing-subtitle-small)}.typography--body-large{font-family:var(--font-family-body-large);font-size:var(--font-size-body-large);font-weight:var(--font-weight-body-large);line-height:var(--font-line-height-body-large);letter-spacing:var(--font-letter-spacing-body-large)}.typography--body-medium{font-family:var(--font-family-body-medium);font-size:var(--font-size-body-medium);font-weight:var(--font-weight-body-medium);line-height:var(--font-line-height-body-medium);letter-spacing:var(--font-letter-spacing-body-medium)}.typography--body-medium-semi-bold{font-family:var(--font-family-body-medium-semi-bold);font-size:var(--font-size-body-medium-semi-bold);font-weight:var(--font-weight-body-medium-semi-bold);line-height:var(--font-line-height-body-medium-semi-bold);letter-spacing:var(--font-letter-spacing-body-medium-semi-bold)}.typography--body-small{font-family:var(--font-family-body-small);font-size:var(--font-size-body-small);font-weight:var(--font-weight-body-small);line-height:var(--font-line-height-body-small);letter-spacing:var(--font-letter-spacing-body-small)}.typography--body-small-semi-bold{font-family:var(--font-family-body-small-semi-bold);font-size:var(--font-size-body-small-semi-bold);font-weight:var(--font-weight-body-small-semi-bold);line-height:var(--font-line-height-body-small-semi-bold);letter-spacing:var(--font-letter-spacing-body-small-semi-bold)}.typography--decorative-large{font-family:var(--font-family-decorative-large);font-size:var(--font-size-decorative-large);font-weight:var(--font-weight-decorative-large);line-height:var(--font-line-height-decorative-large);letter-spacing:var(--font-letter-spacing-decorative-large)}.typography--decorative-medium{font-family:var(--font-family-decorative-medium);font-size:var(--font-size-decorative-medium);font-weight:var(--font-weight-decorative-medium);line-height:var(--font-line-height-decorative-medium);letter-spacing:var(--font-letter-spacing-decorative-medium)}.typography--decorative-small{font-family:var(--font-family-decorative-small);font-size:var(--font-size-decorative-small);font-weight:var(--font-weight-decorative-small);line-height:var(--font-line-height-decorative-small);letter-spacing:var(--font-letter-spacing-decorative-small)}.typography--label-medium{font-family:var(--font-family-label-medium);font-size:var(--font-size-label-medium);font-weight:var(--font-weight-label-medium);line-height:var(--font-line-height-label-medium);letter-spacing:var(--font-letter-spacing-label-medium)}.typography--label-small{font-family:var(--font-family-label-small);font-size:var(--font-size-label-small);font-weight:var(--font-weight-label-small);line-height:var(--font-line-height-label-small);letter-spacing:var(--font-letter-spacing-label-small)}.typography--menu-link-medium{font-family:var(--font-family-menu-link-medium);font-size:var(--font-size-menu-link-medium);font-weight:var(--font-weight-menu-link-medium);line-height:var(--font-line-height-menu-link-medium);letter-spacing:var(--font-letter-spacing-menu-link-medium)}.typography--button-link-medium{font-family:var(--font-family-button-link-medium);font-size:var(--font-size-button-link-medium);font-weight:var(--font-weight-button-link-medium);line-height:var(--font-line-height-button-link-medium);letter-spacing:var(--font-letter-spacing-button-link-medium)}.typography--button-link-small{font-family:var(--font-family-button-link-small);font-size:var(--font-size-button-link-small);font-weight:var(--font-weight-button-link-small);line-height:var(--font-line-height-button-link-small);letter-spacing:var(--font-letter-spacing-button-link-small)}.typography--avatar-xsmall{font-family:var(--font-family-avatar-xsmall);font-size:var(--font-size-avatar-xsmall);font-weight:var(--font-weight-avatar-xsmall);line-height:var(--font-line-height-avatar-xsmall);letter-spacing:var(--font-letter-spacing-avatar-xsmall)}.typography--avatar-small{font-family:var(--font-family-avatar-small);font-size:var(--font-size-avatar-small);font-weight:var(--font-weight-avatar-small);line-height:var(--font-line-height-avatar-small);letter-spacing:var(--font-letter-spacing-avatar-small)}.typography--avatar-medium{font-family:var(--font-family-avatar-medium);font-size:var(--font-size-avatar-medium);font-weight:var(--font-weight-avatar-medium);line-height:var(--font-line-height-avatar-medium);letter-spacing:var(--font-letter-spacing-avatar-medium)}.typography--avatar-large{font-family:var(--font-family-avatar-large);font-size:var(--font-size-avatar-large);font-weight:var(--font-weight-avatar-large);line-height:var(--font-line-height-avatar-large);letter-spacing:var(--font-letter-spacing-avatar-large)}.typography--icon-xsmall,.typography--icon-small,.typography--icon-medium{font-weight:normal;font-style:normal;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:\\\"liga\\\";-moz-font-feature-settings:\\\"liga\\\";font-feature-settings:\\\"liga\\\";-webkit-font-smoothing:antialiased;font-display:block}.typography--icon-xsmall{font-family:var(--font-family-icon-xsmall);font-size:var(--font-size-icon-xsmall)}.typography--icon-small{font-family:var(--font-family-icon-small) !important;font-size:var(--font-size-icon-small) !important}.typography--icon-medium{font-family:var(--font-family-icon-medium);font-size:var(--font-size-icon-medium)}.bh-icon-size--medium{width:var(--font-size-icon-medium);height:var(--font-size-icon-medium)}.bh-icon-size--small{width:var(--font-size-icon-small);height:var(--font-size-icon-small)}@media only screen and (max-width: 600px){.typography--title-medium{font-family:var(--font-family-title-medium-mobile);font-size:var(--font-size-title-medium-mobile);font-weight:var(--font-weight-title-medium-mobile);line-height:var(--font-line-height-title-medium-mobile);letter-spacing:var(--font-letter-spacing-title-medium-mobile)}.typography--title-small{font-family:var(--font-family-title-small-mobile);font-size:var(--font-size-title-small-mobile);font-weight:var(--font-weight-title-small-mobile);line-height:var(--font-line-height-title-small-mobile);letter-spacing:var(--font-letter-spacing-title-small-mobile)}}.typography--color-primary{color:var(--color-text-common-primary)}.typography--color-inverse-primary{color:var(--color-text-common-inverse-primary)}.typography--color-secondary{color:var(--color-text-common-secondary)}.typography--color-tertiary{color:var(--color-text-common-tertiary)}.typography--line-through{text-decoration:line-through}.motion--slow{transition:all;transition-timing-function:var(--motion-easing-slow);transition-duration:var(--motion-duration-slow)}.motion--normal{transition:all;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal)}.motion--fast{transition:all;transition-timing-function:var(--motion-easing-fast);transition-duration:var(--motion-duration-fast)}:host{display:block;overflow:hidden}.bh-app-shell{position:fixed;top:0;bottom:0;left:0;right:0;overflow:hidden}.bh-app-shell--wrapper{height:calc(100vh - 72px);margin-top:72px;position:relative;overflow-y:auto;}.bh-app-shell--hidden{display:none}.bh-app-shell__side-menu{position:fixed;left:0px;padding-top:104px;top:0px;bottom:0px;width:58px;background-color:var(--color-fill-common-secondary);transition:top none;z-index:600;border-right:1px solid var(--color-border-common-primary);transition:width;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal);transition-delay:var(--motion-duration-normal)}.bh-app-shell__side-menu:hover,.bh-app-shell__side-menu--open{width:var(--side-menu-open-desktop-width);visibility:visible;transition-delay:0s}.bh-app-shell__side-menu:hover .bh-app-shell__side-menu{width:var(--side-menu-open-desktop-width)}.bh-app-shell__spacing--breadcrumbs{margin-top:45px}.bh-app-shell__bh-breadcrumbs{--side-menu-open-desktop-width:250px;--side-menu-closed-desktop-width:58px;transition:width left;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal);position:fixed;z-index:400;left:var(--side-menu-closed-desktop-width);width:calc(100% - var(--side-menu-closed-desktop-width))}.bh-app-shell__bh-progress-bar{--side-menu-open-desktop-width:250px;--side-menu-closed-desktop-width:58px;transition:left;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal);position:fixed;z-index:400;left:var(--side-menu-closed-desktop-width);width:calc(100% - var(--side-menu-closed-desktop-width))}.bh-app-shell__bh-breadcrumbs.secondary,.bh-app-shell__bh-progress-bar.secondary{left:0;width:100%}.bh-app-shell__bh-breadcrumbs.open,.bh-app-shell__bh-progress-bar.open{width:100%}@media only screen and (max-width: 1023px){.bh-app-shell__side-menu{width:0px;opacity:0;pointer-events:none;transition:width, opacity;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal);transition-delay:var(--motion-duration-normal)}.bh-app-shell__side-menu--open{width:var(--side-menu-open-desktop-width);opacity:1;pointer-events:initial;transition:width, opacity;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal);transition-delay:0s}.bh-app-shell__side-menu:hover{width:0px}.bh-app-shell__side-menu--open,.bh-app-shell__side-menu--open:hover{width:var(--side-menu-open-desktop-width)}.bh-app-shell__bh-breadcrumbs,.bh-app-shell__bh-progress-bar,.bh-app-shell__bh-breadcrumbs.open,.bh-app-shell__bh-progress-bar.open{left:0;width:100%}}@media only screen and (max-width: 599px){.bh-app-shell--wrapper{height:calc(100vh - 60px);margin-top:60px}@supports (-webkit-touch-callout: none){.bh-app-shell--wrapper{height:calc(calc(var(--vh, 1vh) * 100) - 60px);overflow-y:visible;overflow-x:hidden}}}.bh-app-shell__side-menu{position:fixed;left:0px;padding-top:104px;top:0px;bottom:0px;width:58px;background-color:var(--color-fill-common-secondary);transition:top none;z-index:600;border-right:1px solid var(--color-border-common-primary);transition:width;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal);transition-delay:var(--motion-duration-normal)}.bh-app-shell__side-menu:hover,.bh-app-shell__side-menu--open{width:var(--side-menu-open-desktop-width);visibility:visible;transition-delay:0s}.bh-app-shell__side-menu-item{position:relative}.bh-app-shell__side-menu-item__sub-menu{position:absolute;left:58px;top:0;padding-left:8px;transition:opacity var(--motion-duration-fast) var(--motion-easing-fast)}.bh-app-shell__side-menu-item__sub-menu.shown{visibility:visible;opacity:1}.bh-app-shell__side-menu-item__sub-menu.hidden{visibility:hidden;opacity:0}.bh-app-shell__settings-menu{position:fixed;right:36px;top:62px;z-index:3000;visibility:hidden;opacity:0}.bh-app-shell__settings-menu--open{visibility:visible;opacity:1}.bh-app-shell__avatar{outline:none}.bh-app-shell__avatar:focus{box-shadow:var(--effect-drop-shadow-focus-primary)}.bh-app-shell__avatar:focus:not(:focus-visible){box-shadow:none}\";\n\nconst BhAppShell = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.isSettingsMenuOpenUpdate = createEvent(this, \"isSettingsMenuOpenUpdate\", 7);\r\n    this.bhEventSelected = createEvent(this, \"bhEventSelected\", 7);\r\n    this.bhEventChange = createEvent(this, \"bhEventChange\", 7);\r\n    this.bhEventScroll = createEvent(this, \"bhEventScroll\", 7);\r\n    this.isMobileMenuOpen = false;\r\n    this.isSettingsMenuOpen = false;\r\n    this.isSideMenuOpen = false;\r\n    this.sideMenuHovered = false;\r\n    this.renderMobile = window.innerWidth < 600;\r\n    /**\r\n     * Defines the app shell type - 'primary' | 'secondary'. 'primary' is with a side nav bar, 'secondary' is with header navigation\r\n     */\r\n    this.type = 'primary';\r\n    /**\r\n     * The name label of the app\r\n     */\r\n    this.headerLimit = 30;\r\n    /**\r\n     * User's email\r\n     */\r\n    this.mobileViewLabel = true;\r\n    this.progressBarSize = undefined;\r\n    this.navMenuStaggerAnimation = false;\r\n  }\r\n  handleResize() {\r\n    if (window.innerWidth < 600) {\r\n      this.renderMobile = true;\r\n    }\r\n    else {\r\n      this.renderMobile = false;\r\n    }\r\n    const bp = getBreakpoint();\r\n    if (bp !== this.viewport)\r\n      this.viewport = bp;\r\n  }\r\n  watchIsSettingsMenuOpen() {\r\n    this.isSettingsMenuOpenUpdate.emit(this.isSettingsMenuOpen);\r\n  }\r\n  watchIsMenuOpen() {\r\n    if (this.renderMobile) {\r\n      if (this.isMenuOpen) {\r\n        this.isMobileMenuOpen = true;\r\n        this.isSideMenuOpen = true;\r\n      }\r\n      else {\r\n        this.isMobileMenuOpen = false;\r\n        this.isSideMenuOpen = false;\r\n      }\r\n      this.bhEventChange.emit({ type: 'isMenuOpen', payload: this.isMenuOpen });\r\n    }\r\n  }\r\n  watchIconLinks() {\r\n    this._iconLinks =\r\n      typeof this.iconLinks === 'string'\r\n        ? JSON.parse(this.iconLinks)\r\n        : this.iconLinks;\r\n  }\r\n  watchNavigation() {\r\n    if (typeof this.navigation === 'string') {\r\n      try {\r\n        this._navigation = JSON.parse(this.navigation);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      this._navigation = this.navigation;\r\n    }\r\n  }\r\n  watchNavigationSelected() {\r\n    this._navigationSelected =\r\n      typeof this.navigationSelected === 'string'\r\n        ? JSON.parse(this.navigationSelected)\r\n        : this.navigationSelected;\r\n  }\r\n  watchSettings() {\r\n    if (typeof this.settings === 'string') {\r\n      try {\r\n        this._settings = JSON.parse(this.settings);\r\n      }\r\n      catch (_a) {\r\n        console.log(JSON.parse(this.settings), 'JSON.parse(this.settings)');\r\n      }\r\n    }\r\n    else {\r\n      this._settings = this.settings;\r\n    }\r\n  }\r\n  watchSettingsSelected() {\r\n    if (typeof this.settingsSelected === 'string') {\r\n      try {\r\n        this._settingsSelected = JSON.parse(this.settingsSelected);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      this._settingsSelected = this.settingsSelected;\r\n    }\r\n  }\r\n  navSubMenuOpenedHandler() {\r\n    console.log('Nav Menu Opened');\r\n    this.navMenuStaggerAnimation = true;\r\n  }\r\n  navSubMenuClosedHandler() {\r\n    console.log('Nav Menu Closed');\r\n    this.navMenuStaggerAnimation = false;\r\n  }\r\n  onAppShellWrapperScroll(e) {\r\n    this.bhEventScroll.emit({\r\n      type: 'scroll',\r\n      payload: e\r\n    });\r\n  }\r\n  handleNavigationItemUpdate(navigationSelected) {\r\n    this._navigationSelected = {\r\n      item: navigationSelected.item,\r\n      submenuItem: navigationSelected.submenuItem || '',\r\n    };\r\n    this.bhEventSelected.emit({\r\n      type: 'navigation',\r\n      keys: this._navigationSelected,\r\n    });\r\n  }\r\n  handleSettingsItemUpdate(settingsSelected) {\r\n    if (settingsSelected.submenuItem) {\r\n      this._settingsSelected = [\r\n        ...this._settingsSelected.filter((setting) => {\r\n          return setting.item !== settingsSelected.item;\r\n        }),\r\n        {\r\n          item: settingsSelected.item,\r\n          submenuItem: settingsSelected.submenuItem || '',\r\n        },\r\n      ];\r\n    }\r\n    else {\r\n      this.isSettingsMenuOpen = false;\r\n    }\r\n    this.bhEventSelected.emit({\r\n      type: 'settings',\r\n      keys: { selected: this._settingsSelected, clicked: settingsSelected },\r\n    });\r\n  }\r\n  handleClickMenuToggle() {\r\n    this.isMobileMenuOpen = !this.isMobileMenuOpen;\r\n    this.isSideMenuOpen = !this.isSideMenuOpen;\r\n    this.bhEventChange.emit({\r\n      type: 'isMenuOpen',\r\n      payload: this.isMobileMenuOpen || this.isSideMenuOpen,\r\n    });\r\n  }\r\n  componentWillLoad() {\r\n    // First we get the viewport height and we multiple it by 1% to get a value for a vh unit\r\n    let vh = window.innerHeight * 0.01;\r\n    // Then we set the value in the --vh custom property to the root of the document\r\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n    this._iconLinks =\r\n      typeof this.iconLinks === 'string'\r\n        ? JSON.parse(this.iconLinks)\r\n        : this.iconLinks;\r\n    this.viewport = getBreakpoint();\r\n    this._navigationSelected =\r\n      typeof this.navigationSelected === 'string'\r\n        ? JSON.parse(this.navigationSelected)\r\n        : this.navigationSelected;\r\n    if (typeof this.settingsSelected === 'string') {\r\n      try {\r\n        this._settingsSelected = JSON.parse(this.settingsSelected);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      this._settingsSelected = this.settingsSelected;\r\n    }\r\n    if (typeof this.navigation === 'string') {\r\n      try {\r\n        this._navigation = JSON.parse(this.navigation);\r\n      }\r\n      catch (_b) { }\r\n    }\r\n    else {\r\n      this._navigation = this.navigation;\r\n    }\r\n    if (typeof this.settings === 'string') {\r\n      try {\r\n        this._settings = JSON.parse(this.settings);\r\n      }\r\n      catch (_c) { }\r\n    }\r\n    else {\r\n      this._settings = this.settings;\r\n    }\r\n  }\r\n  render() {\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.appShell.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix);\r\n    let withBreadcrumbs = false;\r\n    if (this.renderMobile) {\r\n      if ((this.isSideMenuOpen || this.isMobileMenuOpen) && !this.isMenuOpen)\r\n        this.isMenuOpen = true;\r\n      if (!(this.isSideMenuOpen || this.isMobileMenuOpen) && this.isMenuOpen)\r\n        this.isMenuOpen = false;\r\n    }\r\n    Array.from(this.host.children).map((child) => {\r\n      // SETTINGS:\r\n      if (child.nodeName === Components.settingsMenu.toUpperCase()) {\r\n        child.setAttribute('userfirstname', this.userfirstname);\r\n        child.setAttribute('userlastname', this.userlastname);\r\n        child.setAttribute('userimage', this.userimage);\r\n        child.setAttribute('useremail', this.useremail);\r\n        this.renderMobile\r\n          ? child.setAttribute('mobile', '')\r\n          : child.removeAttribute('mobile');\r\n        this.isSettingsMenuOpen\r\n          ? child.setAttribute('open', '')\r\n          : child.removeAttribute('open');\r\n      }\r\n      // NAV:\r\n      if (child.nodeName === Components.navMenu.toUpperCase()) {\r\n        if (this.renderMobile) {\r\n          child.setAttribute('type', 'mobile');\r\n        }\r\n        else if (this.type === 'secondary') {\r\n          child.setAttribute('type', 'header');\r\n        }\r\n        else if (this.type === 'primary' &&\r\n          (this.isSideMenuOpen || this.sideMenuHovered)) {\r\n          child.setAttribute('type', 'side-nav-open');\r\n        }\r\n        else {\r\n          child.setAttribute('type', 'side-nav');\r\n        }\r\n      }\r\n      // CONTENT:\r\n      if (child.nodeName === Components.content.toUpperCase()) {\r\n        this.isSideMenuOpen || this.sideMenuHovered\r\n          ? child.setAttribute('sideMenuOpen', '')\r\n          : child.removeAttribute('sideMenuOpen');\r\n      }\r\n      // App Shell Menu\r\n      if (child.nodeName === Components.appShellMenu.toUpperCase()) ;\r\n      if (child.nodeName === Components.breadcrumbs.toUpperCase()) {\r\n        withBreadcrumbs = true;\r\n      }\r\n      if (child.nodeName === Components.progressBar.toUpperCase()) {\r\n        this.progressBarSize =\r\n          child.getAttribute('size') || 'medium';\r\n      }\r\n    });\r\n    const shellClasses = ['bh-app-shell'];\r\n    shellClasses.push(`bh-app-shell--${this.type}`);\r\n    const hamburgerClasses = ['bh-header__hamburger motion--fast'];\r\n    if (this.isSideMenuOpen || this.isMobileMenuOpen)\r\n      hamburgerClasses.push('bh-header__hamburger--open');\r\n    return (h(Host, { class: shellClasses.join(' ') }, h(\"div\", { class: 'bh-app-shell--wrapper', onScroll: (event) => { this.onAppShellWrapperScroll(event); } }, h(Components.header, { type: this.type, appname: this.appname, headerLimit: this.headerLimit, logo: this.applogo, closeSettingsMenu: () => {\r\n        this.isSettingsMenuOpen = false;\r\n      }, iconLinks: this._iconLinks, onBhEventCtaClick: (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.bhEventSelected.emit(event.detail);\r\n      } }, h(\"div\", { slot: 'bh-header__menu-toggle', class: hamburgerClasses.join(' '), tabIndex: 0, onClick: () => { this.handleClickMenuToggle(); }, onKeyDown: (event) => {\r\n        if (event.code === 'Enter')\r\n          this.handleClickMenuToggle();\r\n      } }, h(\"span\", { class: 'bh-header__hamburger-icon motion--fast' })), !(this.navigation && this.settings) &&\r\n      !this.renderMobile &&\r\n      this.type === 'secondary' && (h(\"div\", { slot: 'bh-header__nav-menu' }, h(\"slot\", { name: 'bh-nav-menu' }))), this.navigation &&\r\n      this.settings &&\r\n      this.type === 'secondary' &&\r\n      this.viewport !== 'small' && (h(Components.navMenu, { type: 'header', slot: 'bh-header__nav-menu' }, this._navigation.map((item) => {\r\n      return (h(Components.menuItem, { type: 'header', label: item.label, icon: item.icon, isSelected: item.key === this._navigationSelected.item, onClick: () => {\r\n          this.handleNavigationItemUpdate({\r\n            item: item.key,\r\n            submenuItem: '',\r\n          });\r\n        }, onKeyDown: (event) => {\r\n          if (event.code === 'Enter') {\r\n            this.handleNavigationItemUpdate({\r\n              item: item.key,\r\n              submenuItem: '',\r\n            });\r\n          }\r\n        } }));\r\n    }))), h(Components.avatar, { class: 'bh-app-shell__avatar', firstname: this.userfirstname, lastname: this.userlastname, image: this.userimage, size: 'medium', isRing: true, isActive: this.isSettingsMenuOpen, slot: 'bh-header__avatar', onClick: () => {\r\n        this.isSettingsMenuOpen = !this.isSettingsMenuOpen;\r\n      }, tabIndex: 0, onKeyDown: (event) => {\r\n        if (event.code === 'Enter')\r\n          this.isSettingsMenuOpen = !this.isSettingsMenuOpen;\r\n      } })), (this.navigation || this.settings) && (h(Components.appShellMenu, { type: this.type, mobileViewLabel: this.mobileViewLabel, navigation: this._navigation, settings: this._settings, navigationSelected: this._navigationSelected, isSideMenuOpen: this.isSideMenuOpen, isSettingsMenuOpen: this.isSettingsMenuOpen, isMobileMenuOpen: this.isMobileMenuOpen, userInfo: {\r\n        firstname: this.userfirstname,\r\n        lastname: this.userlastname,\r\n        image: this.userimage,\r\n        email: this.useremail,\r\n      }, settingsSelected: this._settingsSelected, onBhEventSelected: (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        const keys = event.detail.keys;\r\n        const type = event.detail.type;\r\n        if (!keys || !type)\r\n          return;\r\n        switch (type) {\r\n          case 'navigation':\r\n            this.handleNavigationItemUpdate(keys);\r\n            break;\r\n          case 'settings':\r\n            this.handleSettingsItemUpdate(keys);\r\n            break;\r\n        }\r\n      } })), h(\"div\", { class: `bh-app-shell__bh-breadcrumbs ${this.isSideMenuOpen ? 'open' : ''} ${this.type}` }, h(\"slot\", { name: 'bh-breadcrumbs' })), withBreadcrumbs && (h(\"div\", { class: 'bh-app-shell__spacing--breadcrumbs' })), h(\"div\", { class: `bh-app-shell__bh-panel ${this.isSideMenuOpen ? 'open' : ''} ${this.type}` }, h(\"slot\", { name: 'bh-panel' })), h(\"div\", { class: `bh-app-shell__bh-progress-bar ${this.isSideMenuOpen ? 'open' : ''} ${this.type}` }, h(\"slot\", { name: 'bh-progress-bar' })), h(\"div\", { class: `bh-app-shell__bh-content-container ${withBreadcrumbs ? 'with-breadcrumbs' : ''}`, onClick: () => {\r\n        this.isSettingsMenuOpen = false;\r\n      } }, h(\"slot\", { name: 'bh-content' })))));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"isSettingsMenuOpen\": [\"watchIsSettingsMenuOpen\"],\r\n    \"isMenuOpen\": [\"watchIsMenuOpen\"],\r\n    \"iconLinks\": [\"watchIconLinks\"],\r\n    \"navigation\": [\"watchNavigation\"],\r\n    \"navigationSelected\": [\"watchNavigationSelected\"],\r\n    \"settings\": [\"watchSettings\"],\r\n    \"settingsSelected\": [\"watchSettingsSelected\"]\r\n  }; }\r\n};\r\nBhAppShell.style = bhAppShellCss;\n\nconst bhBreadcrumbsCss = \".bh-breadcrumbs--container{background-color:var(--color-fill-common-secondary);height:44px;display:flex;align-items:center;padding:0 var(--spacing-padding-large);position:relative;-moz-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}.bh-breadcrumbs--container.border{border-bottom:1px solid var(--color-border-common-primary)}.bh-breadcrumbs--label-block{display:flex;align-items:center;position:relative}.bh-breadcrumbs--truncation-wrapper{display:flex}.bh-breadcrumbs--truncation-wrapper.hidden{visibility:hidden}.bh-breadcrumbs--trucation-icon{color:var(--color-text-common-secondary);cursor:pointer}.bh-breadcrumbs--trucation-icon:hover,.bh-breadcrumbs--trucation-icon:active{color:var(--color-text-common-primary)}.bh-breadcrumbs--label-block.truncated{position:fixed;opacity:0;visibility:hidden;pointer-events:none}.bh-breadcrumbs--label{color:var(--color-text-common-secondary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;max-width:220px;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.bh-breadcrumbs--label:hover,.bh-breadcrumbs--label:active{color:var(--color-text-common-primary);text-decoration:underline}.bh-breadcrumbs--label.selected{color:var(--color-text-common-primary)}.bh-breadcrumbs--icon{color:var(--color-text-common-secondary);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bh-breadcrumbs--icon:hover,.bh-breadcrumbs--icon:active{color:var(--color-text-common-primary)}.bh-breadcrumbs--chevron-down{cursor:pointer;padding-left:var(--spacing-padding-xxsmall)}.bh-breadcrumbs--menu-container{position:absolute;top:26px;z-index:100}.bh-breadcrumbs--menu-container.flipped{right:0}.bh-breadcrumbs--slash{width:24px;height:24px;position:relative;margin:0 var(--spacing-margin-xsmall)}.bh-breadcrumbs--slash::before{display:block;content:' ';width:1px;height:16px;background-color:var(--color-text-common-secondary);position:relative;top:4px;left:12px;transform:rotate(15deg)}@media (max-width: 1023px){.bh-breadcrumbs--container{padding:0 var(--spacing-padding-medium)}}@media (max-width: 599px){.bh-breadcrumbs--container{padding:0 var(--spacing-padding-small)}.bh-breadcrumbs--label{max-width:120px}}\";\n\nconst BhBreadcrumbs = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.opened = createEvent(this, \"opened\", 7);\r\n    this.itemSelectedUpdate = createEvent(this, \"itemSelectedUpdate\", 7);\r\n    this.bhEventOpen = createEvent(this, \"bhEventOpen\", 7);\r\n    this.bhEventClose = createEvent(this, \"bhEventClose\", 7);\r\n    this.bhEventChange = createEvent(this, \"bhEventChange\", 7);\r\n    this.bhEventSelected = createEvent(this, \"bhEventSelected\", 7);\r\n    this.inlineStyle = {};\r\n    /**\r\n     * Enables / disables the border bottom style of the breadcrumbs container\r\n     */\r\n    this.isBorder = true;\r\n    /**\r\n   * Used to anchor element for inline usecase (like within table)\r\n   */\r\n    this.inlineAnchorId = \"\";\r\n    /**\r\n     * Enable the dropdown menu inline, default value is false\r\n     */\r\n    this.isInline = false;\r\n    /**\r\n     * Defines width of the menu container. Default value is \"medium\" - valid options are \"large\" (280px) | \"medium\" (250px) | \"small\" (160px), | \"fluid\" (100%)\r\n     */\r\n    this.menuWidth = \"medium\";\r\n    this.isOptionMenuOpen = false;\r\n    this.isOptionMenuHorizontallyFlipped = false;\r\n    this.isTruncationMenuOpen = false;\r\n    this.truncateIndex = -1;\r\n  }\r\n  watchItems() {\r\n    this.bhEventChange.emit(this._items);\r\n  }\r\n  changeItems() {\r\n    if (typeof this.items === \"string\") {\r\n      try {\r\n        this._items = JSON.parse(this.items);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      this._items = this.items;\r\n    }\r\n    this.handleTruncation();\r\n  }\r\n  watchIsTruncationMenuOpen() {\r\n    if (this.isTruncationMenuOpen) {\r\n      this.bhEventOpen.emit();\r\n    }\r\n    else {\r\n      this.bhEventClose.emit();\r\n    }\r\n    this.handleInlineProperty();\r\n  }\r\n  watchIsOptionMenuOpen() {\r\n    if (this.isOptionMenuOpen) {\r\n      this.bhEventOpen.emit();\r\n    }\r\n    else {\r\n      this.bhEventClose.emit();\r\n    }\r\n    this.handleInlineProperty();\r\n  }\r\n  handleResize() {\r\n    this.handleTruncation();\r\n    this.setOptionMenuPosition();\r\n    this.viewport = getBreakpoint();\r\n    if (this.inlineAnchorId || this.isInline)\r\n      this.styleMenu();\r\n  }\r\n  addItem(event) {\r\n    if (event.detail && event.detail.label && event.detail.key)\r\n      this._items = [...this._items, event.detail];\r\n  }\r\n  handleItemSelection(item, index) {\r\n    var _a;\r\n    if (index < this._items.length - 1) {\r\n      this._items = this._items.slice(0, index + 1);\r\n      this.itemSelectedUpdate.emit({ item, type: \"item\" });\r\n      this.bhEventSelected.emit({ item, type: \"item\" });\r\n    }\r\n    else if (index === this._items.length - 1 &&\r\n      ((_a = this._items[index].options) === null || _a === void 0 ? void 0 : _a.length) > 0) {\r\n      this.isOptionMenuOpen = !this.isOptionMenuOpen;\r\n    }\r\n  }\r\n  handleInlineProperty() {\r\n    if (this.inlineAnchorId || this.isInline) {\r\n      this.opened.emit({\r\n        isOpen: this.isOptionMenuOpen,\r\n        inlineAnchorId: this.inlineAnchorId,\r\n      });\r\n      if (this.isOptionMenuOpen) {\r\n        setTimeout(() => {\r\n          this.styleMenu();\r\n        }, 50);\r\n        this.disableScroll();\r\n      }\r\n      else {\r\n        this.enableScroll();\r\n        this.isInlineStyleSet = false;\r\n        document.body.removeChild(document.getElementById(`bh-breadcrumbs--menu-container__${this.inlineUuid}`));\r\n      }\r\n    }\r\n  }\r\n  styleMenu() {\r\n    var _a, _b;\r\n    try {\r\n      if (!this.inlineAnchorId && !this.isInline)\r\n        return;\r\n      const tar = this.inlineAnchorId\r\n        ? document.body.querySelector(`[inline-anchor-id=\"${this.inlineAnchorId}\"]`)\r\n        : this.element__menu__option;\r\n      this.inlineStyle = {\r\n        position: \"fixed\",\r\n        left: `${(_a = tar === null || tar === void 0 ? void 0 : tar.getBoundingClientRect()) === null || _a === void 0 ? void 0 : _a.left}px`,\r\n        top: `${(_b = tar === null || tar === void 0 ? void 0 : tar.getBoundingClientRect()) === null || _b === void 0 ? void 0 : _b.top}px`\r\n      };\r\n      this.isInlineStyleSet = true;\r\n      if (this.element__menu__option) {\r\n        this.element__menu__option.id = `bh-breadcrumbs--menu-container__${this.inlineUuid}`;\r\n        document.body.appendChild(this.element__menu__option);\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n  // call this to Disable\r\n  disableScroll() {\r\n    window.addEventListener(\"DOMMouseScroll\", this.preventDefault, false); // older FF\r\n    window.addEventListener(this.wheelEvent, this.preventDefault, this.wheelOpt); // modern desktop\r\n    window.addEventListener(\"touchmove\", this.preventDefault, this.wheelOpt); // mobile\r\n  }\r\n  // call this to Enable\r\n  enableScroll() {\r\n    window.removeEventListener(\"DOMMouseScroll\", this.preventDefault, false);\r\n    window.removeEventListener(this.wheelEvent, this.preventDefault, this.wheelOpt);\r\n    window.removeEventListener(\"touchmove\", this.preventDefault, this.wheelOpt);\r\n  }\r\n  preventDefault(event) {\r\n    event.preventDefault();\r\n  }\r\n  setOptionMenuPosition() {\r\n    var _a, _b, _c, _d;\r\n    this.isOptionMenuHorizontallyFlipped =\r\n      ((_b = (_a = this.element__label) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()[0]) === null || _b === void 0 ? void 0 : _b.left) + ((_d = (_c = this.element__menu__option) === null || _c === void 0 ? void 0 : _c.getBoundingClientRect()[0]) === null || _d === void 0 ? void 0 : _d.width) >\r\n        window.innerWidth - 32;\r\n  }\r\n  handleOptionSelection(event) {\r\n    var _a, _b, _c, _d;\r\n    if (event.detail && ((_a = event.detail) === null || _a === void 0 ? void 0 : _a.label) && ((_b = event.detail) === null || _b === void 0 ? void 0 : _b.value)) {\r\n      this._items[this._items.length - 1] = Object.assign(Object.assign({}, this._items[this._items.length - 1]), { label: (_c = event.detail) === null || _c === void 0 ? void 0 : _c.label, key: (_d = event.detail) === null || _d === void 0 ? void 0 : _d.value });\r\n    }\r\n    this.itemSelectedUpdate.emit({\r\n      item: this._items[this._items.length - 1],\r\n      type: \"option\",\r\n    });\r\n    this.bhEventSelected.emit({\r\n      item: this._items[this._items.length - 1],\r\n      type: \"option\",\r\n    });\r\n    this.isOptionMenuOpen = false;\r\n  }\r\n  handleTruncation() {\r\n    var _a, _b, _c;\r\n    const items = (_a = this.element__container) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".bh-breadcrumbs--label-block\");\r\n    const padding = this.element__container\r\n      ? parseInt(window\r\n        .getComputedStyle(this.element__container, null)\r\n        .getPropertyValue(\"padding-right\")\r\n        .replace(\"px\", \"\")) + 12\r\n      : 32;\r\n    const firstItemWidth = this.truncateIndex > -1 ? 64 : 24;\r\n    if (items &&\r\n      Array.from(items)\r\n        .slice(1)\r\n        .reduce((acc, item) => {\r\n        return acc + item.clientWidth;\r\n      }, firstItemWidth) >\r\n        this.element__container.clientWidth - ((_b = items[0]) === null || _b === void 0 ? void 0 : _b.clientWidth) + padding * 2) {\r\n      let i = items.length - 1;\r\n      while (i > 0) {\r\n        if (items &&\r\n          Array.from(items)\r\n            .slice(i, items.length)\r\n            .reduce((acc, item) => {\r\n            return acc + item.clientWidth;\r\n          }, 0) >\r\n            this.element__container.clientWidth -\r\n              (((_c = items[0]) === null || _c === void 0 ? void 0 : _c.clientWidth) + padding * 2)) {\r\n          break;\r\n        }\r\n        else {\r\n          i--;\r\n        }\r\n      }\r\n      if (i === 1 && items &&\r\n        Array.from(items)\r\n          .slice(1)\r\n          .reduce((acc, item) => {\r\n          return acc + item.clientWidth;\r\n        }, 24) <=\r\n          this.element__container.clientWidth - padding * 2) {\r\n        this.truncateIndex = -1;\r\n      }\r\n      else {\r\n        this.truncateIndex = i;\r\n      }\r\n    }\r\n    else {\r\n      if (items &&\r\n        Array.from(items)\r\n          .slice(1)\r\n          .reduce((acc, item) => {\r\n          return acc + item.clientWidth;\r\n        }, 24) >\r\n          this.element__container.clientWidth - padding * 2) {\r\n        this.truncateIndex = 1;\r\n      }\r\n      else {\r\n        this.truncateIndex = -1;\r\n      }\r\n    }\r\n  }\r\n  handleTruncationSelection(event) {\r\n    var _a;\r\n    if (event.detail && ((_a = event.detail) === null || _a === void 0 ? void 0 : _a.value)) {\r\n      const index = this._items.findIndex((item) => item.key === event.detail.value);\r\n      this.handleItemSelection(this._items[index], index);\r\n      this.handleTruncation();\r\n    }\r\n    this.isTruncationMenuOpen = false;\r\n  }\r\n  breadcrumbsGlobalClickEvent(event) {\r\n    var _a, _b, _c, _d;\r\n    if (!((_a = this.element__label) === null || _a === void 0 ? void 0 : _a.contains(event.target)) &&\r\n      !((_b = this.element__menu__option) === null || _b === void 0 ? void 0 : _b.contains(event.target)))\r\n      this.isOptionMenuOpen = false;\r\n    if (!((_c = this.element__truncation) === null || _c === void 0 ? void 0 : _c.contains(event.target)) &&\r\n      !((_d = this.element__menu__truncation) === null || _d === void 0 ? void 0 : _d.contains(event.target)))\r\n      this.isTruncationMenuOpen = false;\r\n  }\r\n  componentWillLoad() {\r\n    // Data parsers\r\n    if (typeof this.items === \"string\") {\r\n      try {\r\n        this._items = JSON.parse(this.items);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      this._items = this.items;\r\n    }\r\n    this.viewport = getBreakpoint();\r\n    if (this.inlineAnchorId || this.isInline) {\r\n      this.inlineUuid = v4();\r\n    }\r\n  }\r\n  componentDidLoad() {\r\n    // Event binding\r\n    window.addEventListener(\"click\", (event) => this.breadcrumbsGlobalClickEvent(event));\r\n    this.handleTruncation();\r\n  }\r\n  componentDidUpdate() {\r\n    this.handleTruncation();\r\n    this.setOptionMenuPosition();\r\n  }\r\n  disconnectedCallback() {\r\n    // Unhook events\r\n    window.removeEventListener(\"click\", (event) => this.breadcrumbsGlobalClickEvent(event));\r\n  }\r\n  render() {\r\n    var _a;\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.breadcrumbs.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix);\r\n    return (h(Host, { class: \"bh-breadcrumbs\" }, h(\"div\", { class: `bh-breadcrumbs--container ${this.isBorder ? \"border\" : \"\"}`, ref: (el) => {\r\n        this.element__container = el;\r\n      } }, (_a = this._items) === null || _a === void 0 ? void 0 : _a.map((item, index) => {\r\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n      return (h(\"div\", { class: `bh-breadcrumbs--label-block ${index <= this.truncateIndex && index > 0 ? \"truncated\" : \"\"}`, ref: (el) => {\r\n          if (index === this._items.length - 1) {\r\n            this.element__label = el;\r\n          }\r\n        } }, item.label && !item.icon && (h(\"span\", { class: `bh-breadcrumbs--label typography--label-small motion--fast ${index === this._items.length - 1 ? \"selected\" : \"\"}`, onClick: () => {\r\n          this.handleItemSelection(item, index);\r\n        } }, item.label)), !item.label && item.icon && (h(\"i\", { class: \"bh-breadcrumbs--icon motion--fast material-icons material-icons-outlined typography--icon-medium bh-icon-size--medium\", onClick: () => {\r\n          this.handleItemSelection(item, index);\r\n        } }, item.icon)), index === this._items.length - 1 &&\r\n        ((_b = (_a = this._items[index]) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.length) > 0 && (h(\"i\", { class: \"bh-breadcrumbs--chevron-down material-icons material-icons-outlined typography--icon-small typography--color-primary bh-icon-size--small\", onClick: () => {\r\n          this.handleItemSelection(item, index);\r\n        } }, \"expand_more\")), index === this._items.length - 1 &&\r\n        ((_d = (_c = this._items[index]) === null || _c === void 0 ? void 0 : _c.options) === null || _d === void 0 ? void 0 : _d.length) > 0 &&\r\n        this.isOptionMenuOpen && (h(\"div\", { class: `bh-breadcrumbs--menu-container ${this.isOptionMenuHorizontallyFlipped ? \"flipped\" : \"\"}`, style: this.inlineAnchorId || this.isInline ? this.inlineStyle : {}, ref: (el) => (this.element__menu__option = el) }, h(Components.menu, { menuItems: {\r\n          itemGroups: [\r\n            {\r\n              items: (_f = (_e = this._items[index]) === null || _e === void 0 ? void 0 : _e.options) === null || _f === void 0 ? void 0 : _f.map((opt) => {\r\n                return { label: opt.label, value: opt.key };\r\n              }),\r\n            },\r\n          ],\r\n        }, menuWidth: this.viewport === \"small\"\r\n          ? this.menuWidth === \"small\"\r\n            ? \"small\"\r\n            : \"medium\"\r\n          : this.menuWidth, menuHeight: \"small\",\r\n        // onSelect={(event: CustomEvent) => {\r\n        //   this.handleOptionSelection(event);\r\n        // }}\r\n        onBhEventSelected: (event) => {\r\n          this.handleOptionSelection(event);\r\n        } }))), index < (this._items.length - 1) ? h(\"div\", { class: \"bh-breadcrumbs--slash\" }) : '', this.truncateIndex > 0 && index === 0 && (h(\"div\", { class: \"bh-breadcrumbs--truncation-wrapper\" }, h(\"i\", { ref: (el) => {\r\n          this.element__truncation = el;\r\n        }, class: \"bh-breadcrumbs--trucation-icon material-icons material-icons-outlined typography--icon-medium bh-icon-size--medium\", onClick: () => {\r\n          this.isTruncationMenuOpen = !this.isTruncationMenuOpen;\r\n        } }, \"more_horiz\"), this.isTruncationMenuOpen && (h(\"div\", { class: `bh-breadcrumbs--menu-container ${((_h = (_g = this.element__menu__option) === null || _g === void 0 ? void 0 : _g.getBoundingClientRect()[0]) === null || _h === void 0 ? void 0 : _h.right) >\r\n          window.innerWidth - 40\r\n          ? \"flipped\"\r\n          : \"\"}`, ref: (el) => (this.element__menu__truncation = el) }, h(Components.menu, { class: \"bh-breadcrumbs--truncation-menu\", menuItems: {\r\n          itemGroups: [\r\n            {\r\n              items: (_j = this._items\r\n                .slice(1, this.truncateIndex + 1)) === null || _j === void 0 ? void 0 : _j.map((item) => {\r\n                return {\r\n                  label: item.label,\r\n                  value: item.key,\r\n                  icon: item.icon,\r\n                };\r\n              }),\r\n            },\r\n          ],\r\n        }, menuWidth: this.viewport === \"small\"\r\n          ? this.menuWidth === \"small\"\r\n            ? \"small\"\r\n            : \"medium\"\r\n          : this.menuWidth, menuHeight: \"small\", onBhEventSelected: (event) => {\r\n          this.handleTruncationSelection(event);\r\n        } }))), h(\"div\", { class: \"bh-breadcrumbs--slash\" })))));\r\n    }))));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"_items\": [\"watchItems\"],\r\n    \"items\": [\"changeItems\"],\r\n    \"isTruncationMenuOpen\": [\"watchIsTruncationMenuOpen\"],\r\n    \"isOptionMenuOpen\": [\"watchIsOptionMenuOpen\"]\r\n  }; }\r\n};\r\nBhBreadcrumbs.style = bhBreadcrumbsCss;\n\nconst bhButtonCss = \".bh-button{border:12px;border-color:black;padding:0;font:inherit;outline:inherit;display:flex;justify-content:center;align-items:center;border-radius:var(--effect-border-radius-medium);box-shadow:none;padding:0 var(--spacing-padding-medium);background-color:var(--color-fill-cta-primary-default);color:var(--color-text-common-inverse-primary);height:var(--button-medium-height);min-width:var(--button-medium-width);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}@media (hover: hover){.bh-button{cursor:pointer}.bh-button:hover{background-color:var(--color-fill-cta-primary-hover);border-color:var(--color-border-cta-primary-hover)}.bh-button--type-secondary:hover{background-color:var(--color-fill-cta-secondary-hover);border-color:var(--color-border-cta-secondary-hover)}.bh-button--type-ghost:hover{background-color:var(--color-fill-cta-secondary-hover)}.bh-button--type-critical:hover{background-color:var(--color-fill-cta-critical-hover)}}.bh-button:active{background-color:var(--color-fill-cta-primary-pressed)}.bh-button:focus:not(:active):not(:hover){box-shadow:var(--effect-drop-shadow-focus-primary)}.bh-button:focus:not(:focus-visible):not(:active):not(:hover){box-shadow:none}.bh-button--type-critical:focus:not(:active):not(:hover){box-shadow:var(--effect-drop-shadow-focus-error)}.bh-button--type-critical:focus:not(:focus-visible):not(:active):not(:hover){box-shadow:none}.bh-button--type-secondary{color:var(--color-text-common-primary);background-color:var(--color-fill-cta-secondary-default);border-width:var(--effect-border-width-regular);border-color:var(--color-border-cta-secondary-default);border-style:solid}.bh-button--type-secondary:active{background-color:var(--color-fill-cta-secondary-pressed);border-color:var(--color-border-cta-secondary-pressed)}.bh-button--secondary--disabled,.bh-button--secondary--disabled:hover,.bh-button--secondary--disabled:active{cursor:not-allowed;border-width:var(--effect-border-width-regular);border-color:var(--color-border-control-disabled);border-style:solid;background-color:var(--color-fill-cta-disabled);color:var(--color-text-common-disabled)}.bh-button--type-ghost{color:var(--color-text-common-primary);background-color:var(--color-fill-cta-secondary-default)}.bh-button--type-ghost:active{background-color:var(--color-fill-cta-secondary-pressed)}.bh-button--ghost--disabled,.bh-button--ghost--disabled:hover,.bh-button--ghost--disabled:active{cursor:not-allowed;background-color:var(--color-fill-cta-disabled);color:var(--color-text-common-disabled)}.bh-button--type-critical{background-color:var(--color-fill-cta-critical-default)}.bh-button--type-critical:active{background-color:var(--color-fill-cta-critical-pressed)}.bh-button--fluid{width:100%}.bh-button--icon{width:var(--button-medium-height);height:var(--button-medium-height);min-width:initial;padding:var(--spacing-padding-none);border-radius:100%}.bh-button--small{min-width:var(--button-small-width);height:var(--button-small-height)}.bh-button--small.bh-button--icon{width:var(--button-small-height);height:var(--button-small-height);min-width:initial}.bh-button__left-icon{margin-right:var(--spacing-margin-xsmall)}.bh-button__right-icon{margin-left:var(--spacing-margin-xsmall)}.bh-button--small .bh-button__left-icon{margin-right:var(--spacing-margin-xxsmall)}.bh-button--small .bh-button__right-icon{margin-left:var(--spacing-margin-xxsmall)}.bh-button__label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.bh-button--disabled,.bh-button--disabled:hover,.bh-button--disabled:active{cursor:not-allowed;background-color:var(--color-fill-cta-disabled);color:var(--color-text-common-disabled)}.bh-button__loading-indicator{--indicator-border-width:2px}.bh-button__loading-indicator{display:inline-block;width:calc(var(--font-size-icon-medium) - 2 * var(--indicator-border-width));height:calc(\\r\\n    var(--font-size-icon-medium) - 2 * var(--indicator-border-width)\\r\\n  );margin-left:var(--spacing-margin-xsmall);margin-top:calc(-2 * var(--indicator-border-width))}.bh-button__loading-indicator:after{content:' ';display:block;width:calc(var(--font-size-icon-medium) - 2 * var(--indicator-border-width));height:calc(\\r\\n    var(--font-size-icon-medium) - 2 * var(--indicator-border-width)\\r\\n  );border-radius:calc(\\r\\n    var(--font-size-icon-medium) - 2 * var(--indicator-border-width)\\r\\n  );border:var(--indicator-border-width) solid transparent;border-color:var(--color-text-common-inverse-primary) transparent\\r\\n    var(--color-text-common-inverse-primary) transparent;animation:loading-indicator 1.5s linear infinite}.bh-button--small .bh-button__loading-indicator{display:inline-block;width:calc(var(--font-size-icon-small) - 2 * var(--indicator-border-width));height:calc(var(--font-size-icon-small) - 2 * var(--indicator-border-width));margin-left:var(--spacing-margin-xsmall);margin-top:calc(-2 * var(--indicator-border-width))}.bh-button--small .bh-button__loading-indicator:after{content:' ';display:block;width:calc(var(--font-size-icon-small) - 2 * var(--indicator-border-width));height:calc(var(--font-size-icon-small) - 2 * var(--indicator-border-width));border-radius:calc(\\r\\n    var(--font-size-icon-small) - 2 * var(--indicator-border-width)\\r\\n  );border:var(--indicator-border-width) solid transparent;border-color:var(--color-text-common-inverse-primary) transparent\\r\\n    var(--color-text-common-inverse-primary) transparent;animation:loading-indicator 1.5s linear infinite}.bh-button--type-primary .bh-button__loading-indicator:after{border-color:var(--color-text-common-inverse-primary) transparent\\r\\n    var(--color-text-common-inverse-primary) transparent}.bh-button--type-secondary .bh-button__loading-indicator:after{border-color:var(--color-text-common-primary) transparent\\r\\n    var(--color-text-common-primary) transparent}.bh-button--type-critical .bh-button__loading-indicator:after{border-color:var(--color-text-common-inverse-primary) transparent\\r\\n    var(--color-text-common-inverse-primary) transparent}.bh-button--type-ghost .bh-button__loading-indicator:after{border-color:var(--color-text-common-primary) transparent\\r\\n    var(--color-text-common-primary) transparent}.bh-button--disabled .bh-button__loading-indicator:after{border-color:var(--color-text-common-disabled) transparent\\r\\n    var(--color-text-common-disabled) transparent}.bh-button__loading-indicator--icon,.bh-button--small .bh-button__loading-indicator--icon{width:initial;margin-left:initial}@keyframes loading-indicator{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\";\n\nconst BhButton = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    /**\r\n     * Valid button types are: 'primary' 'secondary' 'tertiary' 'ghost' 'critical'\r\n     */\r\n    this.type = \"primary\";\r\n    this.disableTooltip = false;\r\n    /**\r\n     * Disabled buttons are grayed out and cannot be clicked\r\n     */\r\n    this.isDisabled = false;\r\n    /**\r\n     * Fluid buttons expand to the width of their parent container\r\n     */\r\n    this.isFluid = false;\r\n    /**\r\n     * Small buttons are shorter, with smaller font size\r\n     */\r\n    this.isSmall = false;\r\n    /**\r\n     * If true, button displays an infinite css loading animation\r\n     */\r\n    this.isLoading = false;\r\n  }\r\n  render() {\r\n    let isIconOnly = false;\r\n    let hideTooltip = true;\r\n    const containerClasses = [\"bh-button__container\"];\r\n    if (this.isSmall)\r\n      containerClasses.push(\"bh-button__container--small\");\r\n    const buttonClasses = [\"bh-button motion--normal\"];\r\n    if (this.isDisabled && this.type === \"secondary\") {\r\n      buttonClasses.push(\"bh-button--secondary--disabled\");\r\n      // console.log(\"buttons\", buttonClasses, this.type);\r\n    }\r\n    else if (this.isDisabled && this.type === \"ghost\") {\r\n      buttonClasses.push(\"bh-button--ghost--disabled\");\r\n      // console.log(\"buttons\", buttonClasses, this.type);\r\n    }\r\n    else if (this.isDisabled) {\r\n      buttonClasses.push(\"bh-button--disabled\");\r\n      // console.log(\"buttons\", buttonClasses, this.type);\r\n    }\r\n    else {\r\n      buttonClasses.push(`bh-button--type-${this.type}`);\r\n    }\r\n    if (this.isFluid)\r\n      buttonClasses.push(\"bh-button--fluid\");\r\n    if (this.isSmall)\r\n      buttonClasses.push(\"bh-button--small\");\r\n    if ((this.leftIcon && this.label === undefined) || this.label === \"\") {\r\n      buttonClasses.push(\"bh-button--icon\");\r\n      isIconOnly = true;\r\n      if (this.tooltipMessage !== undefined) {\r\n        //  this.tooltipMessage = \"Action Button\";\r\n        hideTooltip = false;\r\n      }\r\n    }\r\n    const labelClasses = [\"bh-button__label\"];\r\n    if (this.isSmall) {\r\n      labelClasses.push(\"typography--button-link-small\");\r\n    }\r\n    else {\r\n      labelClasses.push(\"typography--button-link-medium\");\r\n    }\r\n    const iconClasses = [\"bh-button__icon\"];\r\n    if (this.leftIcon && !isIconOnly) {\r\n      iconClasses.push(\"bh-button__left-icon\");\r\n    }\r\n    else if (this.rightIcon) {\r\n      iconClasses.push(\"bh-button__right-icon\");\r\n    }\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.button.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix);\r\n    let template = '';\r\n    if (this.disableTooltip) {\r\n      template = h(Components.icon, { class: iconClasses.join(\" \"), icon: this.leftIcon, size: this.isSmall ? \"small\" : \"medium\", color: this.isDisabled\r\n          ? \"var(--color-text-label-disabled-default)\"\r\n          : this.type === \"primary\" || this.type === \"critical\"\r\n            ? \"inverse_primary\"\r\n            : \"primary\", onClick: (event) => {\r\n          if (this.isDisabled)\r\n            event.stopPropagation();\r\n          event.preventDefault();\r\n        } });\r\n    }\r\n    else {\r\n      template = h(Components.tooltip, { message: this.tooltipMessage, placement: \"top\", hide: hideTooltip }, h(Components.icon, { class: iconClasses.join(\" \"), icon: this.leftIcon, size: this.isSmall ? \"small\" : \"medium\", color: this.isDisabled\r\n          ? \"var(--color-text-label-disabled-default)\"\r\n          : this.type === \"primary\" || this.type === \"critical\"\r\n            ? \"inverse_primary\"\r\n            : \"primary\", onClick: (event) => {\r\n          if (this.isDisabled)\r\n            event.stopPropagation();\r\n          event.preventDefault();\r\n        } }));\r\n    }\r\n    return (h(Host, { class: containerClasses.join(\" \"), style: { pointerEvents: this.isDisabled ? 'none' : undefined } }, h(\"button\", { class: buttonClasses.join(\" \"), disabled: this.isDisabled }, this.leftIcon && !(isIconOnly && this.isLoading) && template, this.label && (h(\"span\", { class: labelClasses.join(\" \") }, this.label)), this.rightIcon && (h(Components.icon, { class: iconClasses.join(\" \"), icon: this.rightIcon, size: this.isSmall ? \"small\" : \"medium\", color: this.isDisabled\r\n        ? \"var(--color-text-label-disabled-default)\"\r\n        : this.type === \"primary\" || this.type === \"critical\"\r\n          ? \"inverse_primary\"\r\n          : \"primary\" })), this.isLoading && !isIconOnly && (h(\"span\", { class: \"bh-button__loading-indicator\" })), this.isLoading && isIconOnly && (h(\"span\", { class: \"bh-button__loading-indicator bh-button__loading-indicator--icon\" })))));\r\n  }\r\n  get host() { return getElement(this); }\r\n};\r\nBhButton.style = bhButtonCss;\n\nconst bhButtonTabsCss = \".bh-button-tabs--wrapper{width:100%;-moz-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}.bh-button-tabs--container{height:44px;display:inline-flex;align-items:center;position:relative;background-color:var(--color-fill-common-tertiary);border-radius:var(--effect-border-radius-medium);padding:0 var(--spacing-padding-xxsmall);z-index:1;outline:none}.bh-button-tabs--item .bh-tooltip__message-container{width:max-content}.bh-button-tabs--container.small{height:36px}.bh-button-tabs--container.border{border-bottom:1px solid var(--color-border-common-primary)}.bh-button-tabs--item{white-space:nowrap;display:flex;align-items:center;padding:0 var(--spacing-padding-medium);color:var(--color-text-common-secondary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;height:36px;border-radius:var(--effect-border-radius-medium);position:relative;z-index:3;margin-right:var(--spacing-margin-xxsmall)}.bh-button-tabs--item.small{height:28px;padding:0 var(--spacing-padding-small)}.bh-button-tabs--item-label{overflow-x:hidden;text-overflow:ellipsis}.bh-button-tabs--item:not(.active):hover,.bh-button-tabs--item.selected:not(.active){color:var(--color-text-common-primary);background-color:var(--color-fill-cta-secondary-hover-supplemental)}.bh-button-tabs--item.truncated{visibility:hidden;position:fixed;pointer-events:none}.bh-button-tabs--truncation-menu{display:flex;align-items:center;position:relative;z-index:2;padding:0 var(--spacing-padding-medium);color:var(--color-text-common-secondary);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;height:36px;border-radius:var(--effect-border-radius-medium)}.bh-button-tabs--truncation-menu.hidden{display:none}.bh-button-tabs--truncation-menu.small{padding:0 var(--spacing-padding-small);height:28px}.bh-button-tabs--truncation-menu:hover,.bh-button-tabs--truncation-menu.selected{background-color:var(--color-fill-cta-secondary-hover-supplemental)}.bh-button-tabs--truncation-menu--container{position:absolute;top:48px;right:0;z-index:10}.bh-button-tabs--truncation-menu--container.hidden{visibility:hidden;position:fixed}.bh-button-tabs--truncation-menu--container.small{top:40px}.bh-button-tabs--item.active{color:var(--color-text-common-primary);}.bh-button-tabs--item:last-child{margin-right:0}.bh-button-tabs--item__icon{margin-right:var(--spacing-margin-xsmall)}.bh-button-tabs--active-highlight{position:absolute;height:36px;bottom:4px;pointer-events:none;background-color:var(--color-fill-common-secondary);border-radius:var(--effect-border-radius-medium);z-index:2;box-shadow:inset 0px 0px 0px 1px var(--color-border-common-primary)}.bh-button-tabs--active-highlight.small{height:28px}.bh-button-tabs--label-block{display:flex;align-items:center;position:relative}.bh-button-tabs--truncation-wrapper{display:flex}.bh-button-tabs--trucation-icon{color:var(--color-text-common-secondary);cursor:pointer}.bh-button-tabs--trucation-icon:hover,.bh-button-tabs--trucation-icon:active{color:var(--color-text-common-primary)}.bh-button-tabs--label-block.truncated{position:fixed;opacity:0;visibility:hidden;pointer-events:none}.bh-button-tabs--label{color:var(--color-text-common-secondary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;max-width:220px;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.bh-button-tabs--label:hover,.bh-button-tabs--label:active,.bh-button-tabs--label.selected{color:var(--color-text-common-primary);text-decoration:underline}.bh-button-tabs--label.selected{color:var(--color-text-common-primary)}.bh-button-tabs--icon{color:var(--color-text-common-secondary);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bh-button-tabs--icon:hover,.bh-button-tabs--icon:active .bh-button-tabs--icon.selected{color:var(--color-text-common-primary)}.bh-button-tabs--chevron-down{cursor:pointer;padding-left:var(--spacing-padding-xxsmall)}.bh-button-tabs--menu-container{position:absolute;top:26px;z-index:100}.bh-button-tabs--menu-container.flipped{right:0}@media (max-width: 599px){.bh-button-tabs--label{max-width:120px}}\";\n\nconst TRUNCATION_MENU = \"truncation-menu\";\r\nconst BhButtonTabs = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.activeTabUpdate = createEvent(this, \"activeTabUpdate\", 7);\r\n    this.bhEventOpen = createEvent(this, \"bhEventOpen\", 7);\r\n    this.bhEventClose = createEvent(this, \"bhEventClose\", 3);\r\n    this.bhEventSelected = createEvent(this, \"bhEventSelected\", 7);\r\n    this.hideToolip = false;\r\n    /**\r\n     * isSmall\r\n     * Enables / disables the height of the Tabs container and item\r\n     * DOM Attribute: border\r\n     * Usage: <bh-button-tabs border=\"false\" />\r\n     * Optional\r\n     */\r\n    this.isSmall = false;\r\n    /**\r\n     * tooltipMessage\r\n     * Describes the action clicking the button causes\r\n     * DOM Attribute: tooltip-message\r\n     * Usage: <bh-button-tabs tooltip-message=\"Create New Report\" />\r\n     * Default: \"Secondary Options\"\r\n     * Optional (Required if using an icon-only button tab)\r\n     */\r\n    this.tooltipMessage = \"Secondary Options\";\r\n    /**\r\n     * Defines width of the menu container. Default value is \"medium\" - valid options are \"large\" (280px) | \"medium\" (250px) | \"small\" (160px), | \"fluid\" (100%)\r\n     */\r\n    this.menuWidth = \"fluid\";\r\n    // Truncation States\r\n    this.isTruncationMenuOpen = false;\r\n    this.truncateIndex = -1;\r\n    this.truncateIndexPrev = -1;\r\n    this.isInUpdate = false;\r\n  }\r\n  changeItems() {\r\n    // Data parsers\r\n    if (this.items) {\r\n      if (typeof this.items === \"string\") {\r\n        try {\r\n          this._items = JSON.parse(this.items);\r\n        }\r\n        catch (_a) { }\r\n      }\r\n      else {\r\n        this._items = this.items;\r\n      }\r\n      this._items = this._items.map((item) => {\r\n        return {\r\n          label: item.label.length > 26\r\n            ? `${item.label.substring(0, 26)}...`\r\n            : item.label,\r\n          key: item.key,\r\n          icon: item.icon,\r\n          fullText: item.label,\r\n          showTooltip: item.label.length > 26 ? true : false,\r\n        };\r\n      });\r\n      this.handleTruncation();\r\n    }\r\n    else {\r\n      console.warn(\"Undefined passed to button tabs\");\r\n    }\r\n  }\r\n  watchActiveKey() {\r\n    this.setActiveKey(this.activeKey, true);\r\n  }\r\n  // Listeners\r\n  handleResize() {\r\n    this.viewport = getBreakpoint();\r\n    this.handleTruncation();\r\n    setTimeout(() => {\r\n      this.setActiveKey(this.activeKey, true);\r\n    });\r\n  }\r\n  setActiveTab(event) {\r\n    if (!event.detail || !event.detail.key)\r\n      return;\r\n    const key = event.detail.key;\r\n    this.setActiveKey(key);\r\n  }\r\n  watchIsTruncationMenuOpen() {\r\n    if (this.isTruncationMenuOpen) {\r\n      this.bhEventOpen.emit({ 'open': true });\r\n    }\r\n    else {\r\n      this.bhEventClose.emit({\r\n        'open': false\r\n      });\r\n      this.element__container.focus();\r\n    }\r\n  }\r\n  toggleTrucateMenu() {\r\n    this.isTruncationMenuOpen = !this.isTruncationMenuOpen;\r\n  }\r\n  handleTruncation() {\r\n    var _a;\r\n    if (!this._items || this._items.length < 1)\r\n      return;\r\n    this.truncateIndexPrev = this.truncateIndex;\r\n    const tars = (_a = this.element__container) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".bh-button-tabs--item\");\r\n    const idx = this._items.findIndex((item, index) => {\r\n      if (tars) {\r\n        return (Array.from(tars)\r\n          .slice(0, index + 1)\r\n          .reduce((acc, tar) => {\r\n          return acc + tar.clientWidth + 4;\r\n        }, 0) >\r\n          this.element__wrapper.clientWidth - 72);\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    });\r\n    if (idx > 0) {\r\n      this.truncateIndex =\r\n        Array.from(tars).reduce((acc, tar) => {\r\n          return acc + tar.clientWidth + 4;\r\n        }, 0) < this.element__wrapper.clientWidth\r\n          ? -1\r\n          : idx;\r\n    }\r\n    else {\r\n      this.truncateIndex = -1;\r\n    }\r\n    // Close Menu if not truncated\r\n    if (this.truncateIndex === -1) {\r\n      this.isTruncationMenuOpen = false;\r\n    }\r\n    // Rerender if truncation index changes\r\n    if (this.truncateIndex !== this.truncateIndexPrev &&\r\n      this.isTruncationMenuOpen) {\r\n      this.isInUpdate = true;\r\n      this.isTruncationMenuOpen = false;\r\n      this.setActiveKey(this.activeKey);\r\n    }\r\n    // reallocate selected key\r\n    const currentIndex = this.selectedKey === TRUNCATION_MENU\r\n      ? TRUNCATION_MENU\r\n      : this._items.findIndex((item) => {\r\n        return item.key === this.selectedKey;\r\n      });\r\n    if (currentIndex !== TRUNCATION_MENU &&\r\n      currentIndex > 0 &&\r\n      this.truncateIndex > -1 &&\r\n      currentIndex > this.truncateIndex) {\r\n      this.selectedKey = TRUNCATION_MENU;\r\n    }\r\n  }\r\n  handleTruncationSelection(event) {\r\n    if (event.detail && event.detail.value) {\r\n      this.setActiveKey(event.detail.value);\r\n    }\r\n    this.isTruncationMenuOpen = false;\r\n    setTimeout(() => {\r\n      this.selectedKey = TRUNCATION_MENU;\r\n    });\r\n  }\r\n  setActiveKey(key, preventEventEmission = false) {\r\n    try {\r\n      this.activeKey = key;\r\n      this.selectedKey = key;\r\n      // Highlight\r\n      if (this.element__active_highlight && this.element__container) {\r\n        const tar = this.element__container.querySelector(`[data-key=\"${key}\"]`);\r\n        if (tar) {\r\n          if (tar.classList.contains(\"truncated\")) {\r\n            const truncate = this.element__container.querySelector(\".bh-button-tabs--truncation-menu\");\r\n            this.element__active_highlight.style.width = `${truncate.offsetWidth}px`;\r\n            this.element__active_highlight.style.left = `${truncate.offsetLeft}px`;\r\n          }\r\n          else {\r\n            this.element__active_highlight.style.width = `${tar.getBoundingClientRect().width}px`;\r\n            this.element__active_highlight.style.left = `${tar.offsetLeft}px`;\r\n          }\r\n        }\r\n      }\r\n      if (!preventEventEmission) {\r\n        this.activeTabUpdate.emit(this._items.find((item) => item.key === this.activeKey));\r\n        this.bhEventSelected.emit(this._items.find((item) => item.key === this.activeKey));\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n  tabsGlobalClickEvent(event) {\r\n    var _a, _b;\r\n    if (!((_a = this.element__truncation) === null || _a === void 0 ? void 0 : _a.contains(event.target)) &&\r\n      !((_b = this.element__menu__truncation) === null || _b === void 0 ? void 0 : _b.contains(event.target)))\r\n      this.isTruncationMenuOpen = false;\r\n  }\r\n  preventDefaultForScrollKeys(event) {\r\n    if (event.code === \"ArrowUp\" ||\r\n      event.code === \"ArrowDown\" ||\r\n      event.code === \"ArrowRight\" ||\r\n      event.code === \"ArrowLeft\" ||\r\n      event.code === \"Space\") {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n  componentWillLoad() {\r\n    // Data parsers\r\n    this.changeItems();\r\n    this.viewport = getBreakpoint();\r\n  }\r\n  componentDidLoad() {\r\n    // Event binding\r\n    window.addEventListener(\"click\", (event) => this.tabsGlobalClickEvent(event));\r\n    // TODO - find a cleaner way to workaround the item width change bug\r\n    setTimeout(() => {\r\n      var _a, _b, _c;\r\n      if (this._items && !this.activeKey) {\r\n        this.setActiveKey((_a = this._items[0]) === null || _a === void 0 ? void 0 : _a.key, true);\r\n        this.handleTruncation();\r\n        // If the tab item is with icon\r\n        const tar = (_c = this.element__container\r\n          .querySelector(`[data-key=\"${(_b = this._items[0]) === null || _b === void 0 ? void 0 : _b.key}\"]`)) === null || _c === void 0 ? void 0 : _c.querySelector(\".bh-button-tabs--item__icon\");\r\n        if (tar) {\r\n          let _timeout;\r\n          const _interval = setInterval(() => {\r\n            var _a;\r\n            if (tar.clientWidth <= 24) {\r\n              this.setActiveKey((_a = this._items[0]) === null || _a === void 0 ? void 0 : _a.key, true);\r\n              this.handleTruncation();\r\n              clearTimeout(_timeout);\r\n              clearInterval(_interval);\r\n            }\r\n          }, 25);\r\n          // In case the icon did not load, give up after 5sec\r\n          _timeout = setTimeout(() => {\r\n            clearInterval(_interval);\r\n          }, 5000);\r\n        }\r\n      }\r\n    });\r\n    if (this.activeKey) {\r\n      this.setActiveKey(this.activeKey, true);\r\n    }\r\n    const that = this;\r\n    window.addEventListener(\"keydown\", (event) => {\r\n      var _a;\r\n      if ((_a = that.element__container) === null || _a === void 0 ? void 0 : _a.contains(event.target)) {\r\n        const currentIndex = that.selectedKey === TRUNCATION_MENU\r\n          ? TRUNCATION_MENU\r\n          : that._items.findIndex((item) => {\r\n            return item.key === that.selectedKey;\r\n          });\r\n        switch (event.code) {\r\n          case \"ArrowRight\":\r\n            if (that.isTruncationMenuOpen)\r\n              that.isTruncationMenuOpen = false;\r\n            if (currentIndex === TRUNCATION_MENU) {\r\n              that.selectedKey = TRUNCATION_MENU;\r\n            }\r\n            else {\r\n              if (currentIndex === that.truncateIndex - 1 &&\r\n                that.truncateIndex > -1) {\r\n                that.selectedKey = TRUNCATION_MENU;\r\n              }\r\n              else {\r\n                if (currentIndex < that._items.length - 1)\r\n                  that.selectedKey = that._items[currentIndex + 1].key;\r\n              }\r\n            }\r\n            break;\r\n          case \"ArrowLeft\":\r\n            if (that.isTruncationMenuOpen)\r\n              that.isTruncationMenuOpen = false;\r\n            if (currentIndex === TRUNCATION_MENU) {\r\n              that.selectedKey = that._items[that.truncateIndex - 1].key;\r\n            }\r\n            else {\r\n              if (currentIndex > that.truncateIndex &&\r\n                that.truncateIndex > -1) {\r\n                if (currentIndex > 0)\r\n                  that.selectedKey = that._items[that.truncateIndex - 1].key;\r\n              }\r\n              else {\r\n                if (currentIndex > 0)\r\n                  that.selectedKey = that._items[currentIndex - 1].key;\r\n              }\r\n            }\r\n            break;\r\n          case \"Space\":\r\n            if (that.selectedKey === TRUNCATION_MENU) {\r\n              that.toggleTrucateMenu();\r\n            }\r\n            else if (that.selectedKey !== that.activeKey) {\r\n              that.setActiveKey(that.selectedKey, false);\r\n            }\r\n            break;\r\n          case \"Enter\":\r\n            if (that.selectedKey === TRUNCATION_MENU) {\r\n              that.toggleTrucateMenu();\r\n            }\r\n            else if (that.selectedKey !== that.activeKey) {\r\n              that.setActiveKey(that.selectedKey, false);\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    }, false);\r\n  }\r\n  componentDidRender() {\r\n    var _a, _b;\r\n    const items = (_a = this.element__container) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".bh-button-tabs--item\");\r\n    if (this.firstItemWidth !== ((_b = Array.from(items)[0]) === null || _b === void 0 ? void 0 : _b.clientWidth) ||\r\n      !this.firstItemWidth) {\r\n      setTimeout(() => {\r\n        var _a;\r\n        this.firstItemWidth = (_a = Array.from(items)[0]) === null || _a === void 0 ? void 0 : _a.clientWidth;\r\n      }, 0);\r\n    }\r\n  }\r\n  componentDidUpdate() {\r\n    var _a, _b, _c;\r\n    this.handleTruncation();\r\n    const items = (_a = this.element__container) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".bh-button-tabs--item\");\r\n    if (this.firstItemWidth !== ((_b = Array.from(items)[0]) === null || _b === void 0 ? void 0 : _b.clientWidth) ||\r\n      !this.firstItemWidth) {\r\n      this.firstItemWidth = (_c = Array.from(items)[0]) === null || _c === void 0 ? void 0 : _c.clientWidth;\r\n    }\r\n    setTimeout(() => {\r\n      this.hideToolip = true;\r\n    }, 100);\r\n  }\r\n  disconnectedCallback() {\r\n    // Unhook events\r\n    window.removeEventListener(\"click\", (event) => this.tabsGlobalClickEvent(event));\r\n  }\r\n  getHideTooltip(item) {\r\n    if (item.icon !== undefined &&\r\n      (!item.hasOwnProperty(\"label\") || item.label === \"\")) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  render() {\r\n    var _a;\r\n    const prefix = this.host.tagName\r\n      .toLowerCase()\r\n      .replace(components.buttonTabs.tagNameBase, \"\");\r\n    const Components = generateComponentLiteralWithPrefix(prefix);\r\n    if (this.isInUpdate) {\r\n      setTimeout(() => {\r\n        this.isInUpdate = false;\r\n        this.isTruncationMenuOpen = true;\r\n      });\r\n    }\r\n    return (h(Host, { class: \"bh-button-tabs\" }, h(\"div\", { class: \"bh-button-tabs--wrapper\", ref: (el) => {\r\n        this.element__wrapper = el;\r\n      } }, h(\"div\", { class: `bh-button-tabs--container ${this.isSmall ? \"small\" : \"\"}`, ref: (el) => {\r\n        this.element__container = el;\r\n      }, tabIndex: 0, onKeyDown: this.preventDefaultForScrollKeys }, h(\"div\", { ref: (el) => {\r\n        this.element__active_highlight = el;\r\n      }, class: `motion--fast bh-button-tabs--active-highlight ${this.isSmall ? \"small\" : \"\"}` }), this._items &&\r\n      this._items.map((item, index) => {\r\n        return (h(\"div\", { class: `bh-button-tabs--item motion--fast ${this.isSmall ? \"small\" : \"\"} ${item.key === this.selectedKey ? \"selected\" : \"\"} ${item.key === this.activeKey ? \"active\" : \"\"} ${index >= this.truncateIndex && this.truncateIndex > -1\r\n            ? \"truncated\"\r\n            : \"\"}`, onClick: () => {\r\n            this.setActiveKey(item.key);\r\n          }, \"data-key\": item.key }, item.icon && (h(\"i\", { class: `material-icons material-icons-outlined ${this.isSmall\r\n            ? \"typography--icon-small\"\r\n            : \"typography--icon-medium\"} bh-button-tabs--item__icon ${this.selectedKey === item.key ? \"selected\" : \"\"}` }, h(Components.tooltip, { message: this.tooltipMessage, placement: \"top\", hide: this.getHideTooltip(item) }, item.icon))), h(\"span\", { class: `bh-button-tabs--item-label ${this.isSmall\r\n            ? \"typography--label-small\"\r\n            : \"typography--label-medium\"} ${this.selectedKey === item.key ? \"selected\" : \"\"}` }, h(Components.tooltip, { message: item.showTooltip ? item.fullText : \"\", placement: \"top\", hide: !this.hideToolip }, item.label))));\r\n      }), h(\"div\", { class: `bh-button-tabs--truncation-menu motion--fast ${this.isSmall ? \"small\" : \"\"} ${this.truncateIndex > -1 ? \"\" : \"hidden\"} ${this.selectedKey === TRUNCATION_MENU ? \"selected\" : \"\"}` }, h(Components.tooltip, { message: this.tooltipMessage, placement: \"top\" }, h(\"i\", { class: `material-icons material-icons-outlined ${this.isSmall\r\n        ? \"typography--icon-small\"\r\n        : \"typography--icon-medium\"}`, ref: (el) => {\r\n        this.element__truncation = el;\r\n      }, onClick: () => {\r\n        this.toggleTrucateMenu();\r\n      } }, \"more_horiz\")), h(\"div\", { class: `bh-button-tabs--truncation-menu--container ${this.isSmall ? \"small\" : \"\"} ${this.isTruncationMenuOpen ? \"\" : \"hidden\"}`, ref: (el) => {\r\n        this.element__menu__truncation = el;\r\n      } }, h(Components.menu, { menuItems: {\r\n        itemGroups: [\r\n          {\r\n            items: (_a = this._items\r\n              .slice(this.truncateIndex)) === null || _a === void 0 ? void 0 : _a.map((opt) => {\r\n              return { label: opt.label, value: opt.key };\r\n            }),\r\n          },\r\n        ],\r\n      }, isFocused: this.isTruncationMenuOpen, menuWidth: this.viewport === \"small\"\r\n        ? \"small\"\r\n        : this.menuWidth\r\n          ? this.menuWidth\r\n          : \"fluid\", menuHeight: \"small\", selected: this.activeKey, onBhEventSelected: (event) => {\r\n        this.handleTruncationSelection(event);\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      } })))))));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"items\": [\"changeItems\"],\r\n    \"activeKey\": [\"watchActiveKey\"],\r\n    \"isTruncationMenuOpen\": [\"watchIsTruncationMenuOpen\"]\r\n  }; }\r\n};\r\nBhButtonTabs.style = bhButtonTabsCss;\n\nconst bhCardCss = \".bh-card{display:block;background-color:var(--color-fill-common-secondary);border:1px solid var(--color-border-common-primary);border-radius:var(--effect-border-radius-medium)}.bh-card--content{height:100%}.bh-card--content.with-header-actions{height:calc(100% - 60px)}.bh-card--content.with-footer-actions{height:calc(100% - 61px)}.bh-card--content.with-header-actions.with-footer-actions{height:calc(100% - 121px)}.bh-card--content.expandable{max-height:0px;overflow:hidden;transition:all var(--motion-duration-normal)\\r\\n    var(--motion-easing-normal)}.bh-card--content.expandable.open{overflow:hidden;max-height:1000px}.bh-card.focusable{transition:all;transition-timing-function:var(--motion-easing-fast);transition-duration:var(--motion-duration-fast)}.bh-card.focusable:hover{cursor:pointer;border-radius:var(--effect-border-radius-medium);border:1px solid var(--color-border-form-hover)}.bh-card.focusable:focus{cursor:pointer;border-color:var(--color-border-form-focused);box-shadow:var(--effect-drop-shadow-focus-primary);border-radius:var(--effect-border-radius-medium);outline:none}.bh-card.focusable:focus:not(:focus-visible){cursor:auto;border-color:none;box-shadow:none;outline:none}.bh-card--contained-content{min-height:20px;display:flex;flex-direction:column;justify-content:flex-start;padding:var(--spacing-padding-small)}.bh-card--contained-content.border{border-top:1px solid var(--color-border-common-primary)}.bh-card--header{height:60px;padding:0 var(--spacing-padding-small);display:flex;justify-content:space-between;align-items:center}.bh-card--header.expandable{cursor:pointer}.bh-card--heading{color:var(--color-text-common-primary)}.bh-card--header-right-container{display:flex}.bh-card--header-right-container>*{margin-left:var(--spacing-margin-small)}.bh-card--header-right-container>*:first-child{margin-left:0px}.bh-card__subtext-copy{color:var(--color-text-common-secondary);margin-left:12px}.bh-card--header-left-container{display:flex;align-items:center}.bh-card--icon{margin-left:12px;margin-right:10.5px}.bh-card--subtext-small-view{display:none !important}.bh-card--footer{display:flex;justify-content:flex-end;align-items:center;border-top:1px solid var(--color-border-common-primary);padding:var(--spacing-padding-small);min-width:0}.bh-card--footer>*{display:flex;min-width:0;margin-left:var(--spacing-margin-small)}.bh-card--footer>*:first-child{margin-left:0px}.bh-card--header--action-wrapper--bh-button{margin-left:var(--spacing-margin-small)}.bh-card--header--action-wrapper--desktop{display:flex}.bh-card--header--action-wrapper--mobile{display:none}@media only screen and (max-width: 599px){.bh-card--footer>*{flex:1;min-width:0}.bh-card--header--action-wrapper--desktop{display:none}.bh-card--header--action-wrapper--mobile{display:flex}.bh-card--header--action-wrapper--mobile .bh-card--header--action-wrapper--bh-button{margin-right:var(--spacing-margin-xsmall)}.bh-card--header-right-container .bh-action-menu .bh-action-menu__menu-container{right:-4px}}.bh-card__title-extension__slot-container{display:flex}.bh-card__header-actions__slot-container{display:flex;align-items:center}.bh-card__footer-actions__slot-container{display:flex;justify-content:flex-end;padding:var(--spacing-padding-small);border-top:1px solid var(--color-border-common-primary)}.bh-card__header-actions__slot-container bh-button-group,.bh-card__footer-actions__slot-container bh-button-group{justify-content:flex-end;align-items:center}.bh-card__header-actions__slot-container bh-action-menu{display:block;height:36px}@media only screen and (max-width: 599px){.bh-card__header-actions__slot-container,.bh-card__footer-actions__slot-container{justify-content:space-between}.bh-card__header-actions__slot-container bh-button,.bh-card__header-actions__slot-container bh-button-group,.bh-card__footer-actions__slot-container bh-button,.bh-card__footer-actions__slot-container bh-button-group{width:100%}}\";\n\nconst BhCard = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.ctaClick = createEvent(this, \"ctaClick\", 7);\r\n    this.bhEventCtaClick = createEvent(this, \"bhEventCtaClick\", 7);\r\n    this.bhEventOpen = createEvent(this, \"bhEventOpen\", 7);\r\n    this.bhEventClose = createEvent(this, \"bhEventClose\", 7);\r\n    /**\r\n     * Allows the card content to be toggled opened and closed\r\n     */\r\n    this.isExpandable = false;\r\n    this.isOpen = false;\r\n  }\r\n  watchHeaderActions() {\r\n    this.parseHeaderActionsData();\r\n  }\r\n  watchFooterActions() {\r\n    this.parseFooterActionsData();\r\n  }\r\n  watchActionMenu() {\r\n    this._actionMenu =\r\n      typeof this.actionMenu === \"string\"\r\n        ? JSON.parse(this.actionMenu)\r\n        : this.actionMenu;\r\n  }\r\n  watchIsOpen() {\r\n    if (this.isOpen) {\r\n      this.bhEventClose.emit();\r\n    }\r\n    else {\r\n      this.bhEventOpen.emit();\r\n    }\r\n  }\r\n  // Event Listeners\r\n  handleResize() {\r\n    this.setViewport();\r\n  }\r\n  setViewport() {\r\n    const bp = getBreakpoint();\r\n    if (this.viewport !== bp) {\r\n      this.viewport = bp;\r\n    }\r\n  }\r\n  parseHeaderActionsData() {\r\n    // headerActions\r\n    let headerActionsRaw;\r\n    if (typeof this.headerActions === \"string\") {\r\n      try {\r\n        headerActionsRaw = JSON.parse(this.headerActions);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      headerActionsRaw = this.headerActions;\r\n    }\r\n    if (!Array.isArray(headerActionsRaw) || headerActionsRaw.length < 1)\r\n      return;\r\n    const firstHeaderCtaItem = headerActionsRaw[0];\r\n    if (firstHeaderCtaItem.buttonType) {\r\n      this._headerActions = headerActionsRaw.map((headerActionsRawItem) => {\r\n        return {\r\n          label: headerActionsRawItem.buttonLabel,\r\n          type: headerActionsRawItem.buttonType,\r\n          key: headerActionsRawItem.buttonKey,\r\n          leftIcon: headerActionsRawItem.buttonIcon,\r\n        };\r\n      });\r\n    }\r\n    else if (firstHeaderCtaItem.type) {\r\n      this._headerActions = headerActionsRaw;\r\n    }\r\n  }\r\n  parseFooterActionsData() {\r\n    // footerActions\r\n    let footerActionsRaw;\r\n    if (typeof this.footerActions === \"string\") {\r\n      try {\r\n        footerActionsRaw = JSON.parse(this.footerActions);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      footerActionsRaw = this.footerActions;\r\n    }\r\n    if (!Array.isArray(footerActionsRaw) || footerActionsRaw.length < 1)\r\n      return;\r\n    const firstFooterCtaItem = footerActionsRaw[0];\r\n    if (firstFooterCtaItem.buttonType) {\r\n      this._footerActions = footerActionsRaw.map((footerActionsRawItem) => {\r\n        return {\r\n          label: footerActionsRawItem.buttonLabel,\r\n          type: footerActionsRawItem.buttonType,\r\n          key: footerActionsRawItem.buttonKey,\r\n          leftIcon: footerActionsRawItem.buttonIcon,\r\n        };\r\n      });\r\n    }\r\n    else if (firstFooterCtaItem.type) {\r\n      this._footerActions = footerActionsRaw;\r\n    }\r\n  }\r\n  parseData() {\r\n    // This will parse the stringified array/object props in HTML and return it as a defined type\r\n    this.parseHeaderActionsData();\r\n    this.parseFooterActionsData();\r\n    this._actionMenu =\r\n      typeof this.actionMenu === \"string\"\r\n        ? JSON.parse(this.actionMenu)\r\n        : this.actionMenu;\r\n  }\r\n  toggleOpen() {\r\n    this.isOpen = !this.isOpen;\r\n  }\r\n  componentWillLoad() {\r\n    this.setViewport();\r\n    this.parseData();\r\n  }\r\n  componentWillRender() {\r\n    var _a, _b;\r\n    const prefix = this.host.tagName\r\n      .toLowerCase()\r\n      .replace(components.card.tagNameBase, \"\");\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    // header action slot\r\n    const headerActionsSlot = (_a = this.host) === null || _a === void 0 ? void 0 : _a.querySelector('[slot=\"bh-card__header-actions\"]');\r\n    this.withHeaderActionSlot = headerActionsSlot ? true : false;\r\n    if (this.withHeaderActionSlot) {\r\n      // wrapping actions\r\n      if ((headerActionsSlot === null || headerActionsSlot === void 0 ? void 0 : headerActionsSlot.querySelector(Components.actionMenu)) && (headerActionsSlot === null || headerActionsSlot === void 0 ? void 0 : headerActionsSlot.querySelector(Components.button))) {\r\n        const element__actionMenu = headerActionsSlot.querySelector(Components.actionMenu);\r\n        const element__button = headerActionsSlot.querySelector(Components.button);\r\n        if (this.viewport === \"small\") {\r\n          element__actionMenu.setAttribute(\"additional-menu-items\", element__button.getAttribute(\"label\"));\r\n          element__button.style.display = \"none\";\r\n        }\r\n        else {\r\n          element__actionMenu.removeAttribute(\"additional-menu-items\");\r\n          element__button.style.display = \"block\";\r\n        }\r\n      }\r\n    }\r\n    // footer action slot\r\n    const footerActionsSlot = (_b = this.host) === null || _b === void 0 ? void 0 : _b.querySelector('[slot=\"bh-card__footer-actions\"]');\r\n    this.withFooterActionSlot = footerActionsSlot ? true : false;\r\n    if (this.withFooterActionSlot) {\r\n      if (footerActionsSlot.nodeName === Components.button.toUpperCase()) {\r\n        this.viewport === \"small\"\r\n          ? footerActionsSlot.setAttribute(\"fluid\", \"\")\r\n          : footerActionsSlot.removeAttribute(\"fluid\");\r\n      }\r\n      else if (footerActionsSlot.nodeName === Components.buttonGroup.toUpperCase()) {\r\n        const buttons = footerActionsSlot.querySelectorAll(Components.button);\r\n        buttons.forEach((b) => {\r\n          this.viewport === \"small\"\r\n            ? b.setAttribute(\"fluid\", \"\")\r\n            : b.removeAttribute(\"fluid\");\r\n        });\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\r\n    const headerClasses = [\"bh-card--header\"];\r\n    const prefix = this.host.tagName\r\n      .toLowerCase()\r\n      .replace(components.card.tagNameBase, \"\");\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    // Changes heading text size based on breakpoint\r\n    const headingClasses = [\"bh-card--heading\"];\r\n    headingClasses.push(this.viewport === \"small\"\r\n      ? \"typography--subtitle-small\"\r\n      : \"typography--subtitle-medium\");\r\n    const subtextClasses = [\"typography--body-small bh-card__subtext-copy\"];\r\n    subtextClasses.push(this.viewport === \"small\"\r\n      ? \"typography--body-small bh-card--subtext-small-view\"\r\n      : \"typography--body-small bh-card__subtext-copy\");\r\n    if (this.isExpandable) {\r\n      headerClasses.push(\"expandable\");\r\n    }\r\n    const headerCtaProps = [];\r\n    (_a = this._headerActions) === null || _a === void 0 ? void 0 : _a.slice(0, 3).forEach((prop) => {\r\n      if (prop.label)\r\n        headerCtaProps.push({\r\n          label: prop.label,\r\n          value: prop.key ? prop.key : prop.label,\r\n        });\r\n    });\r\n    return (h(Host, { class: `bh-card ${this.isFocusable ? \"focusable\" : \"\"}`, tabindex: this.isFocusable ? \"0\" : \"-1\" }, this.heading && (h(\"div\", { class: headerClasses.join(\" \"), onClick: () => {\r\n        this.toggleOpen();\r\n      } }, h(\"div\", { class: \"bh-card--header-left-container\" }, this.icon && (h(Components.icon, { class: \"bh-card--icon\", icon: this.icon, size: \"small\", color: \"primary\", onClick: (event) => {\r\n        event.preventDefault();\r\n      } })), h(\"span\", { class: headingClasses.join(\" \") }, this.heading), this.subtext && (h(\"span\", { class: subtextClasses.join(\" \") }, this.subtext))), (this.headerActions || this._actionMenu || this.isExpandable) && (h(\"div\", { class: \"bh-card--header-right-container\" }, this._actionMenu && !this._headerActions && (h(Components.actionMenu, { menuItems: this._actionMenu.menuItems, menuWidth: this._actionMenu.menuWidth\r\n        ? this._actionMenu.menuWidth\r\n        : \"medium\", isMultiSelect: this._actionMenu.isMultiSelect, isSearchable: this._actionMenu.isSearchable, isUnselectable: this._actionMenu.isUnselectable, placeholder: this._actionMenu.placeholder, isSmall: true, iconOverride: this._actionMenu.iconOverride, onClick: (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      } })), !this._actionMenu &&\r\n      this._headerActions && ((_b = this._headerActions) === null || _b === void 0 ? void 0 : _b.slice(0, 3).map((action) => (h(Components.button, { isSmall: action.size === \"medium\" ? false : true, type: action.type, label: action.label, leftIcon: action.leftIcon, rightIcon: action.rightIcon, isDisabled: action.isDisabled, isLoading: action.isLoading, onClick: () => {\r\n        if (action.isDisabled)\r\n          return;\r\n        this.ctaClick.emit(action.key);\r\n        this.bhEventCtaClick.emit(action.key ? action.key : \"\");\r\n      } })))), this._actionMenu && this._headerActions && (h(\"div\", null, h(\"div\", { class: \"bh-card--header--action-wrapper bh-card--header--action-wrapper--desktop\" }, (_c = this._headerActions) === null || _c === void 0 ? void 0 :\r\n      _c.slice(0, 3).map((action) => (h(Components.button, { class: \"bh-card--header--action-wrapper--bh-button\", isSmall: action.size === \"medium\" ? false : true, type: action.type, label: action.label, leftIcon: action.leftIcon, rightIcon: action.rightIcon, isDisabled: action.isDisabled, isLoading: action.isLoading, onClick: () => {\r\n          if (action.isDisabled)\r\n            return;\r\n          this.ctaClick.emit(action.key);\r\n          this.bhEventCtaClick.emit(action.key ? action.key : \"\");\r\n        } }))), h(Components.actionMenu, { style: { marginLeft: \"8px\" }, menuItems: this._actionMenu.menuItems, menuWidth: this._actionMenu.menuWidth\r\n        ? this._actionMenu.menuWidth\r\n        : \"medium\", isMultiSelect: this._actionMenu.isMultiSelect, isSearchable: this._actionMenu.isSearchable, isUnselectable: this._actionMenu.isUnselectable, placeholder: this._actionMenu.placeholder, isSmall: true, iconOverride: this._actionMenu.iconOverride, onClick: (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      } })), h(\"div\", { class: \"bh-card--header--action-wrapper bh-card--header--action-wrapper--mobile\" }, (_d = this._headerActions) === null || _d === void 0 ? void 0 :\r\n      _d.slice(0, 3).filter((action) => action.leftIcon).map((action) => (h(Components.button, { class: \"bh-card--header--action-wrapper--bh-button\", isSmall: action.size === \"medium\" ? false : true, type: action.type, label: action.label, leftIcon: action.leftIcon, rightIcon: action.rightIcon, isDisabled: action.isDisabled, isLoading: action.isLoading, onClick: () => {\r\n          if (action.isDisabled)\r\n            return;\r\n          this.ctaClick.emit(action.key);\r\n          this.bhEventCtaClick.emit(action.key ? action.key : \"\");\r\n        } }))), h(Components.actionMenu, { menuItems: {\r\n        itemGroups: headerCtaProps.length > 0\r\n          ? [\r\n            { items: headerCtaProps, divider: false },\r\n            ...(_f = (_e = this._actionMenu) === null || _e === void 0 ? void 0 : _e.menuItems) === null || _f === void 0 ? void 0 : _f.itemGroups,\r\n          ]\r\n          : (_h = (_g = this._actionMenu) === null || _g === void 0 ? void 0 : _g.menuItems) === null || _h === void 0 ? void 0 : _h.itemGroups,\r\n        ctas: (_k = (_j = this._actionMenu) === null || _j === void 0 ? void 0 : _j.menuItems) === null || _k === void 0 ? void 0 : _k.ctas,\r\n      }, menuWidth: ((_l = this._actionMenu) === null || _l === void 0 ? void 0 : _l.menuWidth) ? (_m = this._actionMenu) === null || _m === void 0 ? void 0 : _m.menuWidth : \"medium\", isMultiSelect: (_o = this._actionMenu) === null || _o === void 0 ? void 0 : _o.isMultiSelect, isSearchable: (_p = this._actionMenu) === null || _p === void 0 ? void 0 : _p.isSearchable, isUnselectable: (_q = this._actionMenu) === null || _q === void 0 ? void 0 : _q.isUnselectable, placeholder: (_r = this._actionMenu) === null || _r === void 0 ? void 0 : _r.placeholder, isSmall: true, iconOverride: (_s = this._actionMenu) === null || _s === void 0 ? void 0 : _s.iconOverride, onClick: (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      } })))), this.isExpandable && (h(Components.button, { leftIcon: this.isOpen ? \"expand_less\" : \"expand_more\", isSmall: true, type: \"ghost\", onClick: (event) => {\r\n        this.toggleOpen();\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n      } })))), this.withHeaderActionSlot && (h(\"div\", { class: \"bh-card__header-actions__slot-container\" }, h(\"slot\", { name: \"bh-card__header-actions\" }))))), h(\"div\", { class: `bh-card--content ${this.isExpandable ? \"expandable\" : \"\"} ${this.isOpen ? \"open\" : \"close\"} ${this.heading ? \"with-header-actions\" : \"\"} ${this.withFooterActionSlot || this.footerActions\r\n        ? \"with-footer-actions\"\r\n        : \"\"}` }, h(\"div\", { class: `bh-card--contained-content ${this.border ? \"border\" : \"\"}` }, h(\"slot\", null))), this._footerActions && (h(\"div\", { class: \"bh-card--footer\" }, this._footerActions.slice(0, 3).map((action) => (h(Components.button, { isSmall: action.size === \"medium\" ? false : true, type: action.type, label: action.label, leftIcon: action.leftIcon, rightIcon: action.rightIcon, isDisabled: action.isDisabled, isLoading: action.isLoading, isFluid: !!(this.viewport === \"small\"), onClick: () => {\r\n        if (action.isDisabled)\r\n          return;\r\n        this.ctaClick.emit(action.key);\r\n        this.bhEventCtaClick.emit(action.key ? action.key : \"\");\r\n      } }))))), this.withFooterActionSlot && (h(\"div\", { class: \"bh-card__footer-actions__slot-container\" }, h(\"slot\", { name: \"bh-card__footer-actions\" })))));\r\n  }\r\n  static get assetsDirs() { return [\"assets\"]; }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"headerActions\": [\"watchHeaderActions\"],\r\n    \"footerActions\": [\"watchFooterActions\"],\r\n    \"actionMenu\": [\"watchActionMenu\"],\r\n    \"isOpen\": [\"watchIsOpen\"]\r\n  }; }\r\n};\r\nBhCard.style = bhCardCss;\n\nconst bhCheckboxCss = \".bh-checkbox{display:flex;flex-direction:row;align-items:flex-start;-webkit-touch-callout:none;-moz-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}.bh-checkbox__input-container{display:flex;align-items:flex-start;justify-content:center}.bh-checkbox__input{outline:none;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;opacity:0;padding:0;margin:0;cursor:default;position:absolute}@media (hover: hover){.bh-checkbox__input-container{cursor:pointer}.bh-checkbox__input-container--disabled,.bh-checkbox__input--disabled{cursor:not-allowed}}.bh-checkbox__input-icon{min-width:var(--checkbox-width);height:var(--checkbox-height);border-radius:var(--effect-border-radius-light);border-style:solid;border-width:var(--effect-border-width-thick);border-color:var(--color-border-control-unselected);background-color:var(--color-fill-control-unselected);margin:3px 0;box-sizing:border-box;display:inline-block;pointer-events:none;background-position:center;background-repeat:no-repeat}.bh-checkbox__input:checked+.bh-checkbox__input-icon,.bh-checkbox__input:indeterminate+.bh-checkbox__input-icon{background-color:var(--color-fill-control-selected);border-color:var(--color-border-control-selected)}.bh-checkbox__input--error.bh-checkbox__input:checked+.bh-checkbox__input-icon,.bh-checkbox__input--error.bh-checkbox__input:indeterminate+.bh-checkbox__input-icon{background-color:var(--color-fill-control-error-supplemental);border-color:var(--color-border-control-error)}.bh-checkbox__input:checked+.bh-checkbox__input-icon{background-image:url(\\\"data:image/svg+xml; utf8, <svg width='14' height='10' viewbox='0 0 14 10' fill='none' xmlns='http://www.w3.org/2000/svg' version='1.1'><path d='M5 10L0 5.19231L1.4 3.84615L5 7.30769L12.6 0L14 1.34615L5 10Z' fill='white'/></svg>\\\")}.bh-checkbox__input:indeterminate+.bh-checkbox__input-icon{background-image:url(\\\"data:image/svg+xml; utf8, <svg width='10' height='2'  viewbox='0 0 10 2' fill='none' xmlns='http://www.w3.org/2000/svg' version='1.1'><rect width='10' height='2' fill='white'/></svg>\\\")}.bh-checkbox[indeterminate]:not([checked]) .bh-checkbox__input-icon{background-color:var(--color-fill-control-selected);border-color:var(--color-border-control-selected);background-image:url(\\\"data:image/svg+xml; utf8, <svg width='10' height='2'  viewbox='0 0 10 2' fill='none' xmlns='http://www.w3.org/2000/svg' version='1.1'><rect width='10' height='2' fill='white'/></svg>\\\")}.bh-checkbox__input:focus+.bh-checkbox__input-icon{box-shadow:var(--effect-drop-shadow-focus-primary)}.bh-checkbox__input:focus:not(:focus-visible)+.bh-checkbox__input-icon{box-shadow:none}.bh-checkbox__input:focus.bh-checkbox__input--error+.bh-checkbox__input-icon{box-shadow:var(--effect-drop-shadow-focus-error)}.bh-checkbox__input:focus:not(:focus-visible).bh-checkbox__input--error+.bh-checkbox__input-icon{box-shadow:none}.bh-checkbox__input--error+.bh-checkbox__input-icon{background-color:var(--color-fill-control-error);border-color:var(--color-border-control-error)}.bh-checkbox__input--disabled+.bh-checkbox__input-icon{border-color:var(--color-base-transparent);background-color:var(--color-fill-control-disabled-supplemental)}.bh-checkbox__input--disabled.bh-checkbox__input:checked+.bh-checkbox__input-icon,.bh-checkbox__input--disabled.bh-checkbox__input:indeterminate+.bh-checkbox__input-icon{background-color:var(--color-fill-cta-disabled);border-color:var(--color-base-transparent)}.bh-checkbox__label{display:flex;align-items:center;min-height:var(--checkbox-container-height);color:var(--color-text-label-default)}.bh-checkbox__label--disabled{color:var(--color-text-label-disabled-default)}.bh-checkbox__label{margin-left:var(--spacing-margin-xsmall)}\";\n\nconst BhCheckbox = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventChange = createEvent(this, \"bhEventChange\", 7);\r\n    /**\r\n     * isChecked\r\n     * If true, the checkbox will be rendered intially, checked. This attribute determines the checkbox's value ('on'/'off')\r\n     * DOM Attribute: checked\r\n     * Usage: <bh-checkbox checked />\r\n     * Optional\r\n     */\r\n    this.isChecked = false;\r\n    /**\r\n     * isDisabled\r\n     * Disabled buttons are grayed out and cannot be clicked\r\n     * DOM Attribute: disabled\r\n     * Usage: <bh-button disabled />\r\n     * Default: false\r\n     * Optional\r\n     */\r\n    this.isDisabled = false;\r\n    /**\r\n     * isIndeterminate\r\n     * Indeterminate buttons are rendered with a dash. This attribute has NO effect on the checkbox's value.\r\n     * DOM Attribute: indeterminate\r\n     * Usage: <bh-button indeterminate />\r\n     * Default: false\r\n     * Optional\r\n     */\r\n    this.isIndeterminate = false;\r\n    /**\r\n     * isError\r\n     * Disabled buttons are grayed out and cannot be clicked, they should not be checked\r\n     * DOM Attribute: error\r\n     * Usage: <bh-radio-button error />\r\n     * Default: false\r\n     * Optional\r\n     */\r\n    this.isError = false;\r\n    /**\r\n     * isUnfocusable\r\n     * makes the checkbox unable to focus\r\n     * DOM Attribute: unfocusable\r\n     * Usage: <bh-radio-button unfocusable />\r\n     * Default: false\r\n     * Optional\r\n     */\r\n    this.isUnfocusable = false;\r\n  }\r\n  render() {\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.checkbox.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    const containerClasses = ['bh-checkbox__input-container'];\r\n    if (this.isDisabled) {\r\n      containerClasses.push('bh-checkbox__input-container--disabled');\r\n    }\r\n    const inputClasses = ['bh-checkbox__input'];\r\n    if (this.isDisabled) {\r\n      inputClasses.push('bh-checkbox__input--disabled');\r\n    }\r\n    if (this.isError) {\r\n      inputClasses.push('bh-checkbox__input--error');\r\n    }\r\n    const labelClasses = ['bh-checkbox__label', 'typography--body-medium'];\r\n    if (this.isDisabled) {\r\n      labelClasses.push('bh-checkbox__label--disabled');\r\n    }\r\n    else if (this.isError) {\r\n      labelClasses.push('bh-checkbox__label--error');\r\n    }\r\n    else {\r\n      labelClasses.push('typography--color-secondary');\r\n    }\r\n    return (h(Host, null, h(\"div\", { class: 'bh-checkbox' }, h(\"label\", { class: containerClasses.join(' ') }, h(\"input\", { tabIndex: this.isUnfocusable ? -1 : 0, class: inputClasses.join(' '), type: 'checkbox', value: this.value, name: this.name, checked: this.isChecked, indeterminate: this.isIndeterminate, disabled: this.isDisabled, onChange: (event) => {\r\n        this.isChecked = event.target.checked;\r\n        this.bhEventChange.emit(this.isChecked);\r\n      } }), h(\"span\", { class: 'bh-checkbox__input-icon motion--fast' }), this.label && (h(\"span\", { class: labelClasses.join(' ') }, this.label)))), this.message && (h(Components.formMessage, { message: this.message, isError: this.isError, isDisabled: this.isDisabled }))));\r\n  }\r\n  get host() { return getElement(this); }\r\n};\r\nBhCheckbox.style = bhCheckboxCss;\n\nconst bhChipCss = \".bh-chip{display:inline-flex;flex-shrink:0;justify-content:center;align-items:center;max-width:240px;border-radius:30px;padding:0 var(--spacing-padding-medium);box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.bh-chip.link{color:var(--color-text-label-default);text-decoration:none;cursor:pointer}.bh-chip.medium{height:var(--spacing-padding-large)}.bh-chip.small{height:24px;padding:0 var(--spacing-padding-small)}.bh-chip.dismissible{padding:0 var(--spacing-padding-xxsmall) 0 var(--spacing-padding-small);cursor:pointer}.bh-chip.small.dismissible{padding:0 var(--spacing-padding-xxsmall) 0 var(--spacing-padding-small)}.bh-chip__dismissible{margin-left:var(--spacing-padding-small)}.bh-chip.icon-container{padding:0 var(--spacing-padding-medium) 0 var(--spacing-padding-small)}.bh-chip.small.icon-container{padding:0 var(--spacing-padding-small) 0 var(--spacing-padding-xsmall)}.bh-chip__icon{margin-right:var(--spacing-padding-xxsmall)}.bh-chip__label{vertical-align:middle;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.bh-chip.neutral.solid:hover,.bh-chip.neutral.solid.selected:active{background-color:var(--color-fill-semantic-neutral-hover)}.bh-chip.neutral.solid:active,.bh-chip.neutral.solid.selected:hover{background-color:var(--color-fill-semantic-neutral-pressed)}.bh-chip.neutral.solid.selected{background-color:var(--color-fill-semantic-neutral-selected)}.bh-chip.neutral.selected>.bh-chip__label,.bh-chip.neutral.selected>.bh-chip__dismissible,.bh-chip.neutral.selected>.bh-chip__icon{color:var(--color-text-common-inverse-primary)}.bh-chip.neutral.solid,.bh-chip.neutral.solid.plain{background-color:var(--color-fill-semantic-neutral-default)}.bh-chip.neutral.outlined:hover,.bh-chip.neutral.outlined.selected:active{background-color:var(--color-fill-semantic-neutral-default)}.bh-chip.neutral.outlined:active,.bh-chip.neutral.outlined.selected:hover{background-color:var(--color-fill-semantic-neutral-hover)}.bh-chip.neutral.outlined.selected{background-color:var(--color-fill-semantic-neutral-selected)}.bh-chip.neutral.outlined{border:1px solid var(--color-border-semantic-neutral)}.bh-chip.neutral>.bh-chip__label,.bh-chip.neutral>.bh-chip__dismissible,.bh-chip.neutral>.bh-chip__icon{color:var(--color-text-label-default)}.bh-chip.success.solid:hover,.bh-chip.success.solid.selected:active{background-color:var(--color-fill-semantic-success-hover)}.bh-chip.success.solid:active,.bh-chip.success.solid.selected:hover{background-color:var(--color-fill-semantic-success-pressed)}.bh-chip.success.solid.selected{background-color:var(--color-fill-semantic-success-supplemental)}.bh-chip.success.selected>.bh-chip__label,.bh-chip.success.selected>.bh-chip__dismissible,.bh-chip.success.selected>.bh-chip__icon{color:var(--color-text-common-inverse-primary)}.bh-chip.success.outlined:hover,.bh-chip.success.outlined.selected:active{background-color:var(--color-fill-semantic-success-hover)}.bh-chip.success.outlined:active,.bh-chip.success.outlined.selected:hover{background-color:var(--color-fill-semantic-success-pressed)}.bh-chip.success.outlined.selected{background-color:var(--color-fill-semantic-success-supplemental)}.bh-chip.success>.bh-chip__label,.bh-chip.success>.bh-chip__dismissible,.bh-chip.success>.bh-chip__icon{color:var(--color-text-label-success)}.bh-chip.success.outlined{border:1px solid var(--color-border-semantic-success)}.bh-chip.success.outlined:hover,.bh-chip.success.outlined:active{background-color:var(--color-fill-semantic-success-status-background)}.bh-chip.success.solid,.bh-chip.success.solid.plain{background-color:var(--color-fill-semantic-success-status-background)}.bh-chip.error.solid:hover,.bh-chip.error.solid.selected:active{background-color:var(--color-fill-semantic-error-hover)}.bh-chip.error.solid:active,.bh-chip.error.solid.selected:hover{background-color:var(--color-fill-semantic-error-pressed)}.bh-chip.error.solid.selected{background-color:var(--color-fill-semantic-error-selected)}.bh-chip.error.selected>.bh-chip__label,.bh-chip.error.selected>.bh-chip__dismissible,.bh-chip.error.selected>.bh-chip__icon{color:var(--color-text-common-inverse-primary)}.bh-chip.error.solid,.bh-chip.error.solid.plain{background-color:var(--color-fill-semantic-error-status-background)}.bh-chip.error>.bh-chip__label,.bh-chip.error>.bh-chip__dismissible,.bh-chip.error>.bh-chip__icon{color:var(--color-text-label-critical)}.bh-chip.error.outlined{border:1px solid var(--color-border-semantic-error)}.bh-chip.error.outlined:hover,.bh-chip.error.outlined.selected:active{background-color:var(--color-fill-semantic-error-hover)}.bh-chip.error.outlined:active,.bh-chip.error.outlined.selected:hover{background-color:var(--color-fill-semantic-error-pressed)}.bh-chip.error.outlined.selected{background-color:var(--color-fill-semantic-error-selected)}.bh-chip.neutral.outlined.plain,.bh-chip.success.outlined.plain,.bh-chip.error.outlined.plain{background-color:transparent}.bh-chip.disabled>.bh-chip__icon,.bh-chip.disabled>.bh-chip__dismissible,.bh-chip.disabled>.bh-chip__label{color:var(--color-text-label-disabled-default)}.bh-chip.neutral.solid.disabled,.bh-chip.neutral.solid.disabled:hover,.bh-chip.success.solid.disabled,.bh-chip.success.solid.disabled:hover,.bh-chip.error.solid.disabled,.bh-chip.error.solid.disabled:hover,.bh-chip.neutral.outlined.disabled,.bh-chip.neutral.outlined.disabled:hover,.bh-chip.success.outlined.disabled,.bh-chip.success.outlined.disabled:hover,.bh-chip.error.outlined.disabled,.bh-chip.error.outlined.disabled:hover{cursor:not-allowed;background-color:var(--color-fill-control-disabled)}.bh-chip.neutral.outlined.disabled,.bh-chip.neutral.outlined.disabled:hover,.bh-chip.success.outlined.disabled,.bh-chip.success.outlined.disabled:hover,.bh-chip.error.outlined.disabled,.bh-chip.error.outlined.disabled:hover{cursor:not-allowed;border:none}.bh-chip.cursor{cursor:pointer}.bh-chip--dismissed{margin:0}.bh-chip--disable-event:active{pointer-events:none}.bh-chip--mobile-tap{-moz-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}\";\n\nconst BhChip = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventClose = createEvent(this, \"bhEventClose\", 7);\r\n    this.bhEventChange = createEvent(this, \"bhEventChange\", 7);\r\n    /**\r\n     * BhChipSize options are: 'small' | 'medium'. Defaults to 'medium'.\r\n     */\r\n    this.size = \"medium\";\r\n    /**\r\n     * BhChipTheme options are: 'success' | 'neutral' | 'error', default is 'neutral'. Defines the theme of chip appearance. Selectable chip defaults to 'neutral'\r\n     */\r\n    this.theme = \"neutral\";\r\n    /**\r\n     * BhChipType options are: 'solid' | 'outlined'. Defaults to 'solid'\r\n     */\r\n    this.type = \"solid\";\r\n    this.selectable = false;\r\n  }\r\n  toggleSelected() {\r\n    if (this.selectable) {\r\n      this.selected = !this.selected;\r\n      // this.chipEl.classList.remove(\r\n      //   this.selected ? \"neutral\" : this.selectedTheme\r\n      // );\r\n      // this.chipEl.classList.add(this.selected ? this.selectedTheme : \"neutral\");\r\n      this.bhEventChange.emit(this.selected);\r\n    }\r\n  }\r\n  componentWillRender() {\r\n    if (this.selectedColor || this.selectedTheme)\r\n      this.selectable = true;\r\n    if (this.color) {\r\n      console.warn('bh-chip: Prop \"color\" is deprecated and will not be supported in the future releases. Please use \"theme\" prop instead.');\r\n      switch (this.color) {\r\n        case \"teal\":\r\n          this.theme = \"success\";\r\n          break;\r\n        case \"rose\":\r\n          this.theme = \"error\";\r\n          break;\r\n        case \"earth\":\r\n          this.theme = \"neutral\";\r\n          break;\r\n      }\r\n    }\r\n    if (this.selectedColor) {\r\n      console.warn('bh-chip: Prop \"selectedColor\" is deprecated and will not be supported in the future releases. Please use \"selectedTheme\" prop instead.');\r\n      switch (this.selectedColor) {\r\n        case \"teal\":\r\n          this.selectedTheme = \"success\";\r\n          break;\r\n        case \"rose\":\r\n          this.selectedTheme = \"error\";\r\n          break;\r\n        case \"earth\":\r\n          this.selectedTheme = \"neutral\";\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  componentDidLoad() {\r\n    this.chipEl = this.chipElement.querySelector(\".bh-chip\");\r\n  }\r\n  removeChip(e) {\r\n    e.preventDefault();\r\n    this.chipEl.style.display = \"none\";\r\n    this.dismissed = true;\r\n    this.bhEventClose.emit();\r\n  }\r\n  render() {\r\n    if (this.link) {\r\n      return (h(Host, { class: `${this.isDisabled ? \"bh-chip--disable-event\" : \"\"}` }, h(\"a\", { ref: (el) => {\r\n          this.chipEl = el;\r\n        }, href: `${this.link}`, target: \"_blank\", rel: \"noopener noreferrer\", class: `bh-chip motion--normal noselect\r\n              ${this.size} \r\n\t\t\t  ${this.theme === \"success\" ||\r\n          this.theme === \"error\" ||\r\n          this.theme === \"neutral\"\r\n          ? this.theme\r\n          : \"\"}\r\n              ${this.type}\r\n              ${this.link ? \"link\" : \"\"}\r\n              ${this.icon ? \"icon-container\" : \"\"}\r\n              ${this.isDisabled ? \"disabled\" : \"\"} \r\n          ` }, this.icon && !this.dismissible && (h(\"i\", { class: `bh-chip__icon typography--icon-${this.size}` }, this.icon)), h(\"span\", { title: this.label, class: `bh-chip__label typography--body-${this.size}` }, this.label))));\r\n    }\r\n    return (h(Host, { class: `${this.plain ? \"bh-chip--mobile-tap\" : \"\"} ${this.isDisabled ? \"bh-chip--disable-event\" : \"\"} ${this.dismissed ? \"bh-chip--dismissed\" : \"\"}` }, h(\"div\", { ref: (el) => {\r\n        this.chipEl = el;\r\n      }, class: `bh-chip motion--normal noselect\r\n              ${this.size} \r\n              ${this.theme === \"success\" ||\r\n        this.theme === \"error\" ||\r\n        this.theme === \"neutral\"\r\n        ? (this.selectedTheme && this.selected ? this.selectedTheme : this.theme)\r\n        : \"\"}\r\n              ${this.type} \r\n              ${this.plain ? \"plain\" : \"\"}\r\n              ${this.selectable ? \"cursor\" : \"\"}\r\n              ${this.dismissible ? \"dismissible\" : \"\"} \r\n              ${this.icon ? \"icon-container\" : \"\"}\r\n              ${this.isDisabled ? \"disabled\" : \"\"}\r\n              ${this.selected ? \"selected\" : \"\"}\r\n        ` }, this.icon && !this.dismissible && (h(\"i\", { class: `bh-chip__icon typography--icon-${this.size}` }, this.icon)), h(\"span\", { title: this.label, class: `bh-chip__label typography--body-${this.size}` }, this.label), this.dismissible && !this.icon && (h(\"i\", { onClick: (e) => this.removeChip(e), class: `bh-chip__dismissible typography--icon-${this.size}` }, \"close\")))));\r\n  }\r\n  get chipElement() { return getElement(this); }\r\n};\r\nBhChip.style = bhChipCss;\n\nconst bhContentCss = \":host{display:block}.bh-content{position:absolute;background-color:blue;border:0px;padding-top:32px;padding-bottom:127px;min-height:calc(\\r\\n\\t\\t100vh - 231px\\r\\n\\t);background-color:var(--color-fill-common-primary)}.bh-content.no-padding{padding-top:0;padding-bottom:0;min-height:calc(100vh - 72px)}.bh-content--progress-bar{width:inherit;position:fixed;z-index:2000;top:72px}.bh-app-shell--primary .bh-content{left:var(--side-menu-closed-desktop-width);transition:left;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal);transition-delay:var(--motion-duration-normal);width:calc(100% - 58px);}.bh-app-shell--primary .bh-content--side-menu-open{left:var(--side-menu-open-desktop-width);transition-delay:0s;width:calc(100% - 267px);}.bh-app-shell--secondary .bh-content{left:0px;width:100%}.bh-content .bh-footer{position:absolute;bottom:0}@supports (-webkit-touch-callout: none){.bh-content .bh-footer{}}@media only screen and (max-width: 1023px){.bh-app-shell--primary .bh-content,.bh-app-shell--secondary .bh-content{left:0px;width:100%;padding-bottom:0px}.bh-content .bh-footer{position:relative}.bh-app-shell--primary .bh-content--side-menu-open,.bh-app-shell--secondary{left:0px}.bh-app-shell--primary .bh-content__overlay{position:fixed;top:var(--header-tablet-height);z-index:2000;bottom:0px;left:0px;right:0px;background-color:black;opacity:0;visibility:hidden;pointer-events:initial;transition:width, opacity, visibility;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal);transition-delay:0s}.bh-app-shell--primary .bh-content__overlay--activated{position:fixed;top:var(--header-tablet-height);z-index:2000;bottom:0px;left:0px;right:0px;background-color:black;opacity:0.6;visibility:visible;pointer-events:initial;transition:width, opacity, visibility;transition-timing-function:var(--motion-easing-normal);transition-duration:var(--motion-duration-normal);transition-delay:var(--motion-duration-normal)}}@media only screen and (max-width: 599px){.bh-app-shell--primary .bh-content,.bh-app-shell--secondary .bh-content{left:0px;transition:unset;padding-top:20px;padding-bottom:0px;min-height:calc(\\r\\n\\t\\t\\t100vh - 201px\\r\\n\\t\\t);width:100%;}.bh-content .bh-footer{position:relative}}\";\n\nconst BhContent = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.progressBarMode = 'manual';\r\n    /**\r\n   * The name label of the app\r\n   */\r\n    this.contentPush = false;\r\n    this.showProgressBar = false;\r\n    this.isNoPadding = false;\r\n  }\r\n  watchBackgroundColor() {\r\n    this._backgroundColor =\r\n      this.backgroundColor === 'primary' ||\r\n        this.backgroundColor === 'secondary' ||\r\n        this.backgroundColor === 'tertiary' ||\r\n        this.backgroundColor === 'brand'\r\n        ? `var(--color-fill-common-${this.backgroundColor})`\r\n        : this.backgroundColor;\r\n  }\r\n  handleResize() {\r\n    if (window.innerWidth >= 1024) {\r\n      this.breakpoint = 'large';\r\n    }\r\n    else if (window.innerWidth >= 600 && window.innerWidth < 1024) {\r\n      this.breakpoint = 'medium';\r\n    }\r\n    else {\r\n      this.breakpoint = 'small';\r\n    }\r\n  }\r\n  componentWillLoad() {\r\n    if (window.innerWidth >= 1024) {\r\n      this.breakpoint = 'large';\r\n    }\r\n    else if (window.innerWidth >= 600 && window.innerWidth < 1024) {\r\n      this.breakpoint = 'medium';\r\n    }\r\n    else {\r\n      this.breakpoint = 'small';\r\n    }\r\n    this._backgroundColor =\r\n      this.backgroundColor === 'primary' ||\r\n        this.backgroundColor === 'secondary' ||\r\n        this.backgroundColor === 'tertiary' ||\r\n        this.backgroundColor === 'brand'\r\n        ? `var(--color-fill-common-${this.backgroundColor})`\r\n        : this.backgroundColor;\r\n  }\r\n  render() {\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.content.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix);\r\n    const contentClasses = ['bh-content'];\r\n    if (this.isSideMenuOpen && this.contentPush)\r\n      contentClasses.push('bh-content--side-menu-open');\r\n    if (this.isNoPadding)\r\n      contentClasses.push('no-padding');\r\n    const overlayClasses = ['bh-content__overlay'];\r\n    if (this.isSideMenuOpen)\r\n      overlayClasses.push('bh-content__overlay--activated');\r\n    return (h(Host, { class: contentClasses.join(' '), style: { backgroundColor: this._backgroundColor } }, this.showProgressBar && (h(\"div\", { class: 'bh-content--progress-bar' }, h(Components.progressBar, { mode: this.progressBarMode, size: 'large', progress: this.progress }))), h(\"slot\", null), h(\"div\", { class: overlayClasses.join(' ') }), h(Components.footer, { marginTop: this.breakpoint === 'small' ? 'xlarge' : 'xxlarge' })));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"backgroundColor\": [\"watchBackgroundColor\"]\r\n  }; }\r\n};\r\nBhContent.style = bhContentCss;\n\nconst bhDateRangePickerCss = \".bh-date-range-picker__container{display:flex;align-items:center}.bh-date-range-picker__divider{margin:-8px var(--spacing-margin-xsmall) 0 var(--spacing-margin-xsmall)}\";\n\nconst BhDateRangePicker = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventChange = createEvent(this, \"bhEventChange\", 7);\r\n    /**\r\n     * Label of the first date picker\r\n     */\r\n    this.startDateLabel = 'Start';\r\n    /**\r\n     * Label of the first date picker\r\n     */\r\n    this.endDateLabel = 'End';\r\n    /**\r\n     * Denotes whether the input is read-only\r\n     */\r\n    this.isReadOnly = false;\r\n    /**\r\n     * Invalid form element indicator\r\n     */\r\n    this.isInvalid = false;\r\n    /**\r\n     * Required form element indicator\r\n     */\r\n    this.isRequired = false;\r\n    /**\r\n     * Error message that appears when the input is invalid\r\n     */\r\n    this.errorMessage = 'Invalid date';\r\n    this.getDaysArray = (start, end) => {\r\n      for (var arr = [], dt = new Date(start); dt <= end; dt.setDate(dt.getDate() + 1)) {\r\n        arr.push(new Date(dt));\r\n      }\r\n      return arr;\r\n    };\r\n  }\r\n  handleResize() {\r\n    this.setViewport();\r\n  }\r\n  setViewport() {\r\n    const bp = getBreakpoint();\r\n    if (this.viewport !== bp) {\r\n      this.viewport = bp;\r\n    }\r\n  }\r\n  componentWillLoad() {\r\n    this.setViewport();\r\n  }\r\n  componentDidLoad() {\r\n    customElements.whenDefined(`vaadin-date-picker`).then(() => {\r\n      const startDatePicker = this.el__container.querySelector(`.bh-date-range-picker__start-date-picker`);\r\n      const endDatePicker = this.el__container.querySelector(`.bh-date-range-picker__end-date-picker`);\r\n      if (this.value !== undefined) {\r\n        const startDt = new Date(this.value[0]);\r\n        this.startValue = luxon.DateTime.fromJSDate(startDt);\r\n        const endDt = new Date(this.value[this.value.length - 1]);\r\n        this.endValue = luxon.DateTime.fromJSDate(endDt);\r\n      }\r\n      startDatePicker.addEventListener('change', (e) => {\r\n        const startDt = luxon.DateTime.fromISO(e.target.value);\r\n        this.startValue = startDt;\r\n        this.bhEventChange.emit({ start: this.startValue, end: this.endValue });\r\n      });\r\n      endDatePicker.addEventListener('change', (e) => {\r\n        const endDt = luxon.DateTime.fromISO(e.target.value);\r\n        this.endValue = endDt;\r\n        this.bhEventChange.emit({ start: this.startValue, end: this.endValue });\r\n        // Get range of dates between min and max\r\n        if (this.startValue && this.endValue) {\r\n          let daylist = this.getDaysArray(this.startValue, this.endValue).map((v) => v.toISOString().slice(0, 13));\r\n          this.value = daylist;\r\n        }\r\n      });\r\n    });\r\n  }\r\n  render() {\r\n    const width = this.viewport === 'small' ? 'fluid' : 'small';\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.dateRangePicker.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    return (h(Host, null, h(\"div\", { ref: (el) => {\r\n        this.el__container = el;\r\n      }, class: 'bh-date-range-picker__container' }, h(Components.datePicker, { class: 'bh-date-range-picker__start-date-picker', value: this.value && this.value[0], width: width, label: this.startDateLabel, isReadOnly: this.isReadOnly, isInvalid: this.isInvalid, isRequired: this.isRequired }), h(\"p\", { class: 'typography--body-medium bh-date-range-picker__divider' }, \"-\"), h(Components.datePicker, { ref: (el) => {\r\n        this.el__endpicker = el;\r\n      }, class: 'bh-date-range-picker__end-date-picker', value: this.value && this.value[this.value.length - 1], width: width, label: this.endDateLabel, minValue: this.startValue, isReadOnly: this.isReadOnly, isInvalid: this.isInvalid, isRequired: this.isRequired }))));\r\n  }\r\n  get host() { return getElement(this); }\r\n};\r\nBhDateRangePicker.style = bhDateRangePickerCss;\n\nconst bhDonutChartCss = \".bh-donut-chart{display:block}.bh-donut-chart.horizontal{display:flex}.bh-donut-chart.horizontal .bh-donut-chart-wrapper{}.bh-donut-chart-wrapper{position:relative}.bh-donut-chart-wrapper.horizontal{display:flex;justify-content:center;width:50%}.bh-donut-chart--legend{list-style-type:none;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:0;display:flex;flex-wrap:wrap;justify-content:center;margin-top:calc(var(--spacing-margin-medium) - var(--spacing-margin-xxsmall))}.bh-donut-chart--legend-li{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:var(--spacing-margin-xxsmall)}.bh-donut-chart--legend-li.hidden{opacity:0.2}.bh-donut-chart--legend-item{display:flex;align-items:center;}.bh-donut-chart--legend-item--dot{width:8px;height:8px;border-radius:50%;display:block;margin-right:var(--spacing-margin-xsmall)}.bh-donut-chart--horizontal-layout-legend-group{width:50%;display:flex;justify-content:center}.bh-donut-chart--horizontal-layout-legend-group .bh-donut-chart--legend{display:table;margin-top:0}.bh-donut-chart--vertical-layout-legend-group .bh-donut-chart--legend{display:table;margin:var(--spacing-margin-medium) auto 0}.bh-donut-chart--vertical-layout-legend-group .bh-donut-chart--legend-li{margin-right:0}.bh-donut-chart--label{position:absolute;top:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.bh-donut-chart--label--wrapper{text-align:center}.bh-donut-chart--label--wrapper.with-subheader{margin-top:12px}.bh-donut-chart--label--copy{display:block}.bh-donut-chart--tooltip-title{margin-bottom:var(--spacing-margin-xxsmall)}\";\n\nconst BhDonutChart = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventChange = createEvent(this, \"bhEventChange\", 7);\r\n    this.defaultPalette = [\r\n      DesignTokens.colorFill.dataVizDefault_1,\r\n      DesignTokens.colorFill.dataVizDefault_2,\r\n      DesignTokens.colorFill.dataVizDefault_3,\r\n      DesignTokens.colorFill.dataVizDefault_4,\r\n      DesignTokens.colorFill.dataVizDefault_5,\r\n      DesignTokens.colorFill.dataVizDefault_6,\r\n      DesignTokens.colorFill.dataVizDefault_7,\r\n      DesignTokens.colorFill.dataVizDefault_8,\r\n    ];\r\n    this.comparisonPalette = [\r\n      DesignTokens.colorFill.dataVizComparisonPrimary,\r\n      DesignTokens.colorFill.dataVizComparisonSecondary,\r\n    ];\r\n    /**\r\n     * Height of the donut chart\r\n     */\r\n    this.height = 400;\r\n    /**\r\n     * Layout of the donut chart legend group\r\n     */\r\n    this.legendLayout = \"vertical\";\r\n    // Int States\r\n    this.disabledDatasetIndex = [];\r\n    this.isMaxedOut = false;\r\n    this.toMax = 0;\r\n    this.dataToRender = [];\r\n  }\r\n  watchData() {\r\n    var _a;\r\n    this._data =\r\n      typeof this.data === \"string\"\r\n        ? JSON.parse(this.data)\r\n        : this.data;\r\n    this.originalDataStr = JSON.stringify((_a = this._data) === null || _a === void 0 ? void 0 : _a.datasets[0].data);\r\n    this.componentDidLoad();\r\n  }\r\n  watchOption() {\r\n    this._option =\r\n      typeof this.option === \"string\"\r\n        ? JSON.parse(this.option)\r\n        : this.option;\r\n    this.componentDidLoad();\r\n  }\r\n  watchLabel() {\r\n    this._label =\r\n      typeof this.label === \"string\"\r\n        ? JSON.parse(this.label)\r\n        : this.label;\r\n    this.componentDidLoad();\r\n  }\r\n  watchChartOptionOverride() {\r\n    this._chartOptionOverride =\r\n      typeof this.chartOptionOverride === \"string\"\r\n        ? JSON.parse(this.chartOptionOverride)\r\n        : this.chartOptionOverride;\r\n    this.componentDidLoad();\r\n  }\r\n  watchTheme() {\r\n    this._theme = typeof (this.theme) === 'string'\r\n      ? JSON.parse(this.theme)\r\n      : this.theme;\r\n  }\r\n  componentWillLoad() {\r\n    var _a;\r\n    this._chartOptionOverride =\r\n      typeof this.chartOptionOverride === \"string\"\r\n        ? JSON.parse(this.chartOptionOverride)\r\n        : this.chartOptionOverride;\r\n    this._data =\r\n      typeof this.data === \"string\"\r\n        ? JSON.parse(this.data)\r\n        : this.data;\r\n    this._option =\r\n      typeof this.option === \"string\"\r\n        ? JSON.parse(this.option)\r\n        : this.option;\r\n    this._label =\r\n      typeof this.label === \"string\"\r\n        ? JSON.parse(this.label)\r\n        : this.label;\r\n    this._theme =\r\n      typeof (this.theme) === 'string'\r\n        ? JSON.parse(this.theme)\r\n        : this.theme;\r\n    this.originalDataStr = JSON.stringify((_a = this._data) === null || _a === void 0 ? void 0 : _a.datasets[0].data);\r\n  }\r\n  componentDidLoad() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\r\n    const that = this;\r\n    const ctx = this.element__canvas.getContext(\"2d\");\r\n    const _DesignTokens = this.theme || DesignTokens;\r\n    if (this.theme) {\r\n      this.defaultPalette = [\r\n        _DesignTokens.colorFill.dataVizDefault_1,\r\n        _DesignTokens.colorFill.dataVizDefault_2,\r\n        _DesignTokens.colorFill.dataVizDefault_3,\r\n        _DesignTokens.colorFill.dataVizDefault_4,\r\n        _DesignTokens.colorFill.dataVizDefault_5,\r\n        _DesignTokens.colorFill.dataVizDefault_6,\r\n        _DesignTokens.colorFill.dataVizDefault_7,\r\n        _DesignTokens.colorFill.dataVizDefault_8,\r\n      ];\r\n      this.comparisonPalette = [\r\n        _DesignTokens.colorFill.dataVizComparisonPrimary,\r\n        _DesignTokens.colorFill.dataVizComparisonSecondary,\r\n      ];\r\n    }\r\n    Chart.defaults.DoughnutWithDecoration = Chart.defaults.doughnut;\r\n    Chart.controllers.DoughnutWithDecoration = Chart.controllers.doughnut.extend({\r\n      draw: function (ease) {\r\n        const ratio = that._chart.canvas.width / that._chart.canvas.height >= 1\r\n          ? 1\r\n          : that._chart.canvas.width / that._chart.canvas.height;\r\n        const thickness = (((140 - 114) / 140) * that.height) / 2;\r\n        // draw line\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        ctx.arc(that._chart.width / 2, that.height / 2, (ratio * that.height) / 2 - ratio * (thickness / 2) - 1, 0, 2 * Math.PI);\r\n        ctx.lineWidth = thickness;\r\n        ctx.strokeStyle = _DesignTokens.colors.base.gray_050;\r\n        ctx.stroke();\r\n        ctx.restore();\r\n        Chart.controllers.doughnut.prototype.draw.call(this, ease);\r\n      },\r\n    });\r\n    const getDefaultDonutColor = () => {\r\n      var _a, _b;\r\n      if (((_a = that._option) === null || _a === void 0 ? void 0 : _a.mode) === \"comparison\") {\r\n        return that.comparisonPalette;\r\n      }\r\n      else if (this.isMaxedOut) {\r\n        return that.defaultPalette.slice(0, (_b = this._data) === null || _b === void 0 ? void 0 : _b.datasets[0].data.length);\r\n      }\r\n      else {\r\n        return [\r\n          ...that.defaultPalette.slice(0, this._data.datasets[0].data.length),\r\n          _DesignTokens.colors.base.gray_050,\r\n        ];\r\n      }\r\n    };\r\n    this.isMaxedOut = !(((_b = (_a = this._data) === null || _a === void 0 ? void 0 : _a.datasets[0]) === null || _b === void 0 ? void 0 : _b.maxValue) &&\r\n      ((_d = (_c = this._data) === null || _c === void 0 ? void 0 : _c.datasets[0]) === null || _d === void 0 ? void 0 : _d.maxValue) > ((_e = this._data) === null || _e === void 0 ? void 0 : _e.datasets[0].data.reduce((a, c) => {\r\n        return a + c;\r\n      }, 0)));\r\n    this.toMax =\r\n      ((_g = (_f = this._data) === null || _f === void 0 ? void 0 : _f.datasets[0]) === null || _g === void 0 ? void 0 : _g.maxValue) - ((_h = this._data) === null || _h === void 0 ? void 0 : _h.datasets[0].data.reduce((a, c) => {\r\n        return a + c;\r\n      }, 0));\r\n    this._chartOption = this.chartOptionOverride\r\n      ? this.chartOptionOverride\r\n      : {\r\n        type: \"DoughnutWithDecoration\",\r\n        data: {\r\n          backgroundColor: _DesignTokens.colorFill.commonSecondary,\r\n          labels: (_j = this._data) === null || _j === void 0 ? void 0 : _j.labels,\r\n          datasets: [\r\n            {\r\n              data: this.isMaxedOut\r\n                ? (_l = (_k = this._data) === null || _k === void 0 ? void 0 : _k.datasets[0]) === null || _l === void 0 ? void 0 : _l.data : [...(_o = (_m = this._data) === null || _m === void 0 ? void 0 : _m.datasets[0]) === null || _o === void 0 ? void 0 : _o.data, this.toMax],\r\n              lineTension: 0.05,\r\n              borderWidth: 0,\r\n              borderColor: _DesignTokens.colors.base.white_100,\r\n              hoverBorderColor: _DesignTokens.colors.base.white_100,\r\n              hoverBorderWidth: 1,\r\n              backgroundColor: ((_p = this._option) === null || _p === void 0 ? void 0 : _p.styleOverride) && ((_r = (_q = this._option) === null || _q === void 0 ? void 0 : _q.styleOverride[0]) === null || _r === void 0 ? void 0 : _r.color)\r\n                ? this._option.styleOverride.map((style) => style.color)\r\n                : getDefaultDonutColor(),\r\n              hoverBackgroundColor: ((_s = this._option) === null || _s === void 0 ? void 0 : _s.styleOverride) && ((_u = (_t = this._option) === null || _t === void 0 ? void 0 : _t.styleOverride[0]) === null || _u === void 0 ? void 0 : _u.color)\r\n                ? this._option.styleOverride.map((style) => style.color)\r\n                : getDefaultDonutColor(),\r\n              pointRadius: 0,\r\n              pointHoverRadius: 4,\r\n              pointHitRadius: 12,\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          cutoutPercentage: 100 * (114 / 140),\r\n          responsive: true,\r\n          tooltips: {\r\n            enabled: false,\r\n            intersect: false,\r\n            mode: \"nearest\",\r\n            caretSize: 0,\r\n            caretPadding: parseInt(_DesignTokens.spacing.paddingXsmall.replace(\"px\", \"\")),\r\n            titleFontFamily: _DesignTokens.fontFamily.bodySmall,\r\n            bodyFontFamily: _DesignTokens.fontFamily.bodySmall,\r\n            titleSpacing: parseInt(_DesignTokens.spacing.paddingXxsmall.replace(\"px\", \"\")),\r\n            bodySpacing: 0,\r\n            cornerRadius: _DesignTokens.effectBorderRadius.medium.replace(\"px\", \"\"),\r\n            xPadding: parseInt(_DesignTokens.spacing.paddingXsmall.replace(\"px\", \"\")),\r\n            yPadding: parseInt(_DesignTokens.spacing.paddingXxsmall.replace(\"px\", \"\")),\r\n            custom: ((_w = (_v = this._option) === null || _v === void 0 ? void 0 : _v.tooltipSetting) === null || _w === void 0 ? void 0 : _w.isDisabled) ? () => { }\r\n              : customChartTooltip,\r\n          },\r\n          maintainAspectRatio: false,\r\n          legend: {\r\n            position: \"bottom\",\r\n            display: false,\r\n          },\r\n          legendCallback: customChartLegend,\r\n        },\r\n      };\r\n    function customChartLegend(chart) {\r\n      const renderLabels = (chart) => {\r\n        const { data } = chart;\r\n        return `${data.datasets.map((dataset) => `${data.labels.reduce((acc, label, index) => {\r\n          return (acc +\r\n            `<li class=\"bh-donut-chart--legend-li  bh-donut-chart--legend-item\">\r\n                <span class=\"bh-donut-chart--legend-item--dot\" style=\"background-color: ${dataset.backgroundColor[index]}\"></span>\r\n                <span class=\"typography--label-small typography--color-primary\">${label}</span>\r\n              </li>`);\r\n        }, \"\")}`)}`;\r\n      };\r\n      return `<ul class=\"bh-donut-chart--legend\">\r\n          ${renderLabels(chart)}\r\n        </ul>`;\r\n    }\r\n    function customChartTooltip(tooltipModel) {\r\n      var _a;\r\n      // Tooltip Element\r\n      var tooltipEl = that.element__tooltip;\r\n      // Hide if no tooltip\r\n      if (tooltipModel.opacity === 0) {\r\n        tooltipEl.style.opacity = \"0\";\r\n        return;\r\n      }\r\n      // Set caret Position\r\n      tooltipEl.classList.remove(\"above\", \"below\", \"no-transform\");\r\n      if (tooltipModel.yAlign) {\r\n        tooltipEl.classList.add(tooltipModel.yAlign);\r\n      }\r\n      else {\r\n        tooltipEl.classList.add(\"no-transform\");\r\n      }\r\n      function getBody(bodyItem) {\r\n        return bodyItem.lines;\r\n      }\r\n      // Set Text\r\n      if (tooltipModel.body) {\r\n        var titleLines = tooltipModel.title || [];\r\n        var bodyLines = tooltipModel.body.map(getBody);\r\n        var innerHtml = \"<thead>\";\r\n        if (!that.disabledDatasetIndex.includes(tooltipModel.dataPoints[0].index)) {\r\n          titleLines.forEach(function (title) {\r\n            innerHtml += \"<tr><th>\" + title + \"</th></tr>\";\r\n          });\r\n          innerHtml += \"</thead>\";\r\n          if ((_a = that._option.tooltipSetting) === null || _a === void 0 ? void 0 : _a.title) {\r\n            innerHtml += `<span class=\"typography--body-small-semi-bold bh-donut-chart--tooltip-title\">${that._option.tooltipSetting.title}</span>`;\r\n          }\r\n          innerHtml += \"<tbody>\";\r\n          bodyLines.forEach(function (body, i) {\r\n            var _a, _b, _c, _d, _e, _f, _g, _h;\r\n            var colors = tooltipModel.labelColors[i];\r\n            var style = \"background:\" + colors.backgroundColor;\r\n            style += \"; border-color:\" + colors.backgroundColor;\r\n            style += \"; border-width: \" + _DesignTokens.effectBorderWidth.thick;\r\n            var decorator = '<div style=\"background-color: ' +\r\n              colors.backgroundColor +\r\n              `; width: ${_DesignTokens.spacing.marginXsmall}; height: ${_DesignTokens.spacing.marginXsmall}; border-radius: 50%; margin-right: ${_DesignTokens.spacing.marginXsmall};\"></div>`;\r\n            var span = '<span style=\"' + style + '\"></span>';\r\n            const data = `${body[0].slice(0, body[0].indexOf(\":\") + 2)}${((_b = (_a = that._option.tooltipSetting) === null || _a === void 0 ? void 0 : _a.unit) === null || _b === void 0 ? void 0 : _b.prefix) ? (_d = (_c = that._option.tooltipSetting) === null || _c === void 0 ? void 0 : _c.unit) === null || _d === void 0 ? void 0 : _d.prefix : \"\"}${that.getNumberToDisplay(parseFloat(body[0].slice(body[0].indexOf(\": \") + 2)))}${((_f = (_e = that._option.tooltipSetting) === null || _e === void 0 ? void 0 : _e.unit) === null || _f === void 0 ? void 0 : _f.suffix) ? (_h = (_g = that._option.tooltipSetting) === null || _g === void 0 ? void 0 : _g.unit) === null || _h === void 0 ? void 0 : _h.suffix : \"\"}`;\r\n            innerHtml +=\r\n              '<tr><td><div style=\"display: flex; align-items: center;\">' +\r\n                decorator +\r\n                span +\r\n                data +\r\n                \"</div></td></tr>\";\r\n          });\r\n          innerHtml += \"</tbody>\";\r\n          var tableRoot = tooltipEl.querySelector(\"table\");\r\n          tableRoot.innerHTML = innerHtml;\r\n        }\r\n      }\r\n      // `this` will be the overall tooltip\r\n      var position = this._chart.canvas.getBoundingClientRect();\r\n      // Display, position, and set styles for font\r\n      tooltipEl.style.opacity =\r\n        tooltipModel.dataPoints[0].index < that._data.datasets[0].data.length\r\n          ? \"1\"\r\n          : \"0\";\r\n      tooltipEl.style.textAlign = \"left\";\r\n      tooltipEl.style.position = \"absolute\";\r\n      const canvasWidth = that.legendLayout === \"horizontal\"\r\n        ? position.width * 2\r\n        : position.width;\r\n      if (tooltipModel.caretX + tooltipModel.width > canvasWidth * 0.75) {\r\n        const leftPos = tooltipModel.caretX -\r\n          tooltipModel.width * 0.75 -\r\n          parseInt(_DesignTokens.spacing.marginXsmall.replace(\"px\", \"\"));\r\n        tooltipEl.style.left = (leftPos < 0 ? 0 : leftPos) + \"px\";\r\n      }\r\n      else {\r\n        const leftPos = tooltipModel.caretX +\r\n          parseInt(_DesignTokens.spacing.marginXsmall.replace(\"px\", \"\"));\r\n        tooltipEl.style.left =\r\n          (leftPos > position.width ? position.width : leftPos) + \"px\";\r\n      }\r\n      if (that._data.datasets[0].data.length === that.disabledDatasetIndex.length) {\r\n        tooltipEl.style.left = \"-9999px\";\r\n      }\r\n      tooltipEl.style.top = tooltipModel.caretY + tooltipModel.height + \"px\";\r\n      tooltipEl.style.fontFamily = tooltipModel._bodyFontFamily;\r\n      tooltipEl.style.fontSize = tooltipModel.bodyFontSize + \"px\";\r\n      tooltipEl.style.fontStyle = tooltipModel._bodyFontStyle;\r\n      tooltipEl.style.padding =\r\n        tooltipModel.yPadding + \"px \" + tooltipModel.xPadding + \"px\";\r\n      tooltipEl.style.pointerEvents = \"none\";\r\n      tooltipEl.style.transition = `opacity ${_DesignTokens.motionDuration.normal} ${_DesignTokens.motionEasing.normal}`;\r\n      tooltipEl.style.color =\r\n        tooltipModel.dataPoints[0].index < that._data.datasets[0].data.length\r\n          ? _DesignTokens.colorText.commonInversePrimary\r\n          : _DesignTokens.colorFill.controlUnselected;\r\n      tooltipEl.style.borderRadius = _DesignTokens.effectBorderRadius.medium;\r\n      tooltipEl.style.backgroundColor =\r\n        tooltipModel.dataPoints[0].index < that._data.datasets[0].data.length\r\n          ? _DesignTokens.colorFill.commonOverlay\r\n          : _DesignTokens.colorFill.controlUnselected;\r\n      tooltipEl.style.zIndex = \"30\";\r\n    }\r\n    this._chart = new Chart(ctx, this._chartOption);\r\n    if (!((_x = this._option) === null || _x === void 0 ? void 0 : _x.disableLegend)) {\r\n      this.element__legends.innerHTML = this._chart.generateLegend();\r\n      this.bindLegendClickEvent();\r\n    }\r\n  }\r\n  bindLegendClickEvent() {\r\n    const legendItems = this.element__legends.querySelectorAll(\".bh-donut-chart--legend-li\");\r\n    legendItems.forEach((item, i) => {\r\n      item.addEventListener(\"click\", () => {\r\n        var _a, _b;\r\n        this.disabledDatasetIndex =\r\n          this.disabledDatasetIndex.find((idx) => idx === i) > -1\r\n            ? this.disabledDatasetIndex.filter((idx) => idx !== i)\r\n            : [...this.disabledDatasetIndex, i];\r\n        // If selected index matches one of the disabled items, add property hidden to item\r\n        this.disabledDatasetIndex.find((idx) => idx === i) > -1\r\n          ? legendItems[i].classList.add(\"hidden\")\r\n          : legendItems[i].classList.remove(\"hidden\");\r\n        const baseHexColor = getChartColor(this._option.mode, i);\r\n        const defaultColor = this.disabledDatasetIndex.find((idx) => idx === i) > -1\r\n          ? `${baseHexColor}`\r\n          : baseHexColor;\r\n        if ((_a = this._option) === null || _a === void 0 ? void 0 : _a.styleOverride) {\r\n          const isStyleOverride = (_b = this._option) === null || _b === void 0 ? void 0 : _b.styleOverride[0].color;\r\n          const overrideColor = this.disabledDatasetIndex.find((idx) => idx === i) > -1\r\n            ? `${this._option.styleOverride[i].color}`\r\n            : this._option.styleOverride[i].color;\r\n          this._chart.data.datasets[0].backgroundColor[i] = isStyleOverride\r\n            ? overrideColor\r\n            : defaultColor;\r\n          this._chart.data.datasets[0].hoverBackgroundColor[i] = isStyleOverride\r\n            ? overrideColor\r\n            : defaultColor;\r\n        }\r\n        this._chart.data.datasets[0].data[i] =\r\n          this.disabledDatasetIndex.find((idx) => idx === i) > -1\r\n            ? 0\r\n            : JSON.parse(this.originalDataStr)[i];\r\n        this._chart.update();\r\n        this.bhEventChange.emit({\r\n          disabledDatasetIndex: this.disabledDatasetIndex,\r\n        });\r\n      });\r\n    });\r\n  }\r\n  // TODO: Consider refactoring it into the util\r\n  getNumberToDisplay(raw) {\r\n    var _a, _b;\r\n    if (!raw)\r\n      return \"0\";\r\n    if ((_b = (_a = this._label) === null || _a === void 0 ? void 0 : _a.unit) === null || _b === void 0 ? void 0 : _b.isShortScale) {\r\n      if (raw > 1e12) {\r\n        return `${((raw / 1e12).toFixed(2) * 100) / 100}t`;\r\n      }\r\n      else if (raw > 1e9) {\r\n        return `${((raw / 1e9).toFixed(2) * 100) / 100}b`;\r\n      }\r\n      else if (raw > 1e6) {\r\n        return `${((raw / 1e6).toFixed(2) * 100) / 100}m`;\r\n      }\r\n      else if (raw > 1e3) {\r\n        return `${((raw / 1e3).toFixed(2) * 100) / 100}k`;\r\n      }\r\n      else {\r\n        return `${(raw.toFixed(2) * 100) / 100}`;\r\n      }\r\n    }\r\n    else {\r\n      return `${(raw.toFixed(2) * 100) / 100}`;\r\n    }\r\n  }\r\n  render() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w;\r\n    const sum = this.getNumberToDisplay(((_b = (_a = this._data) === null || _a === void 0 ? void 0 : _a.datasets[0]) === null || _b === void 0 ? void 0 : _b.maxValue) && !this.isMaxedOut\r\n      ? ((_f = (_e = (_d = (_c = this._chart) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.datasets[0]) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f.reduce((a, c) => {\r\n        return a + c;\r\n      }, 0)) - this.toMax\r\n      : (_k = (_j = (_h = (_g = this._chart) === null || _g === void 0 ? void 0 : _g.data) === null || _h === void 0 ? void 0 : _h.datasets[0]) === null || _j === void 0 ? void 0 : _j.data) === null || _k === void 0 ? void 0 : _k.reduce((a, c) => {\r\n        return a + c;\r\n      }, 0));\r\n    return (h(Host, { class: `bh-donut-chart ${this.legendLayout === \"horizontal\" ? \"horizontal\" : \"\"}` }, h(\"div\", { class: `bh-donut-chart-wrapper ${this.legendLayout === \"horizontal\" ? \"horizontal\" : \"\"}`, style: { height: `${this.height}px` } }, h(\"canvas\", { width: this.legendLayout === \"horizontal\" ? this.height : \"\", height: this.legendLayout === \"horizontal\" ? this.height : \"\", ref: (el) => {\r\n        this.element__canvas = el;\r\n      } }), h(\"div\", { class: \"bh-donut-chart--label\" }, h(\"div\", { class: `bh-donut-chart--label--wrapper ${((_l = this._label) === null || _l === void 0 ? void 0 : _l.subheader) ? \"with-subheader\" : \"\"}` }, h(\"span\", { class: \"bh-donut-chart--label--copy typography--title-small typography--color-primary\" }, ((_o = (_m = this._label) === null || _m === void 0 ? void 0 : _m.unit) === null || _o === void 0 ? void 0 : _o.prefix) ? (_q = (_p = this._label) === null || _p === void 0 ? void 0 : _p.unit) === null || _q === void 0 ? void 0 : _q.prefix : \"\", ((_r = this._label) === null || _r === void 0 ? void 0 : _r.header) ? this._label.header : sum, ((_t = (_s = this._label) === null || _s === void 0 ? void 0 : _s.unit) === null || _t === void 0 ? void 0 : _t.suffix) ? (_v = (_u = this._label) === null || _u === void 0 ? void 0 : _u.unit) === null || _v === void 0 ? void 0 : _v.suffix : \"\"), ((_w = this._label) === null || _w === void 0 ? void 0 : _w.subheader) && (h(\"span\", { class: \"bh-donut-chart--label--copy typography--label-small typography--color-secondary\" }, this._label.subheader))))), h(\"div\", { class: this.legendLayout === \"horizontal\"\r\n        ? \"bh-donut-chart--horizontal-layout-legend-group\"\r\n        : \"bh-donut-chart--vertical-layout-legend-group\", ref: (el) => {\r\n        this.element__legends = el;\r\n      } }), h(\"div\", { ref: (el) => {\r\n        this.element__tooltip = el;\r\n      } }, h(\"table\", { class: \"bink-calc__tooltip\" }))));\r\n  }\r\n  static get watchers() { return {\r\n    \"data\": [\"watchData\"],\r\n    \"option\": [\"watchOption\"],\r\n    \"label\": [\"watchLabel\"],\r\n    \"chartOptionOverride\": [\"watchChartOptionOverride\"],\r\n    \"theme\": [\"watchTheme\"]\r\n  }; }\r\n};\r\nBhDonutChart.style = bhDonutChartCss;\n\nconst bhDropdownCss = \".bh-dropdown{border:none;padding:var(--spacing-padding-none);margin:var(--spacing-margin-none);font:inherit;cursor:default;outline:none;-webkit-appearance:none;-moz-appearance:none;-o-appearance:none;appearance:none;display:flex;flex-direction:column;align-items:flex-start;position:relative;width:280px}.bh-dropdown.small{width:140px}.bh-dropdown.fluid,.bh-dropdown.fluid.small{width:100%}input:not([type='range']){overflow:hidden}input[type='text']{-webkit-appearance:none;-moz-appearance:none;appearance:none}input::placeholder{color:var(--color-text-label-placeholder)}input::-webkit-input-placeholder{color:var(--color-text-label-placeholder)}input::-moz-placeholder{color:var(--color-text-label-placeholder)}input:-ms-input-placeholder{color:var(--color-text-label-placeholder)}input:-moz-placeholder{color:var(--color-text-label-placeholder)}input::-moz-placeholder{opacity:1}.bh-dropdown__container{display:flex;flex-direction:row;width:100%}.bh-dropdown__label{color:var(--color-text-common-primary)}.bh-dropdown__required:after{color:var(--color-text-label-critical);content:' *'}.bh-dropdown__label--disabled{color:var(--color-text-label-disabled-default)}.bh-dropdown__icon{padding-left:var(--spacing-padding-small);align-self:center;color:var(--color-text-common-secondary);position:absolute;right:var(--spacing-padding-small);pointer-events:none;}.bh-dropdown__icon.focused{color:var(--color-text-common-primary)}.bh-dropdown__icon--error{color:var(--color-text-label-error)}.bh-dropdown__icon--disabled{color:var(--color-text-label-disabled-default)}.bh-dropdown__input{width:224px;height:18px;padding:var(--spacing-padding-small)\\r\\n    calc(30px + var(--spacing-padding-small)) var(--spacing-padding-small)\\r\\n    var(--spacing-padding-small);margin-top:var(--spacing-margin-xxsmall);margin-bottom:var(--spacing-margin-xxsmall);border-radius:var(--effect-border-radius-medium);border-style:solid;border-width:var(--effect-border-width-regular);border-color:var(--color-border-form-default);background-color:var(--color-fill-common-secondary);color:transparent;cursor:pointer;-moz-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.bh-dropdown__value{position:absolute;width:100%;box-sizing:border-box;margin:var(--spacing-margin-xxsmall) 0;padding:var(--spacing-padding-small)\\r\\n    calc(30px + var(--spacing-padding-small)) var(--spacing-padding-small)\\r\\n    var(--spacing-padding-small);pointer-events:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.bh-dropdown__value.small{width:inherit;padding:var(--spacing-padding-xsmall)\\r\\n    calc(var(--spacing-padding-small) + 30px) var(--spacing-padding-xsmall)\\r\\n    var(--spacing-padding-small)}.bh-dropdown__value.placeholder{color:var(--color-text-label-placeholder)}.bh-dropdown__value.fluid,.bh-dropdown__value.small.fluid{width:calc(100% - 54px)}.bh-dropdown__value.disabled{color:var(--color-text-label-disabled-default)}.bh-dropdown__value.error{color:var(--color-text-label-error)}.bh-dropdown__input::selection{background:transparent}.bh-dropdown__input::-moz-selection{background:transparent}.bh-dropdown__input::placeholder{color:transparent}.bh-dropdown__input.bh-dropdown__input-small{width:84px;padding:var(--spacing-padding-xsmall)\\r\\n    calc(var(--spacing-padding-small) + 30px) var(--spacing-padding-xsmall)\\r\\n    var(--spacing-padding-small)}.bh-dropdown__input--fluid.bh-dropdown__input-small{width:100%}.bh-dropdown__input:hover{border-color:var(--color-border-form-hover);cursor:pointer}.bh-dropdown__input:focus{outline:none;border-color:var(--color-border-form-focused);box-shadow:var(--effect-drop-shadow-focus-primary)}.bh-dropdown__input:focus:not(:focus-visible){outline:none;border-color:none;box-shadow:none}.bh-dropdown__input--fluid{width:100%}.bh-dropdown__input--disabled,.bh-dropdown__input--disabled:hover{border-color:var(--color-text-label-disabled-default);background-color:var(--color-fill-form-disabled);cursor:not-allowed}.bh-dropdown__input--error,.bh-dropdown:invalid{background-color:var(--color-fill-form-error);border-color:var(--color-border-form-error)}.bh-dropdown__input--error::placeholder{border-color:var(--color-border-form-error);color:transparent}.bh-dropdown__input--error:hover{border-color:var(--color-border-form-error-hover)}.bh-dropdown__input--error:focus{box-shadow:var(--effect-drop-shadow-focus-error);border-color:var(--color-border-form-error)}.bh-dropdown__input--error:focus:not(:focus-visible){outline:none;border-color:none;box-shadow:none}.bh-dropdown__menu-container{position:absolute;z-index:1000;top:52px;width:100%}.bh-dropdown__menu-container.fit-content{display:table}.bh-dropdown__menu-container.small{top:44px;width:140px}.bh-dropdown__menu-container.with-label.small{top:62px}.bh-dropdown__menu-container.with-label{top:70px}.bh-dropdown__menu-container.flipped{top:unset;bottom:52px}.bh-dropdown__menu-container.flipped.with-message{top:unset;bottom:70px}.bh-dropdown__menu-container.small.flipped{top:unset;bottom:44px}.bh-dropdown__menu-container.small.flipped.with-message{top:unset;bottom:62px}.bh-dropdown__menu-container.hidden{display:none}\";\n\nconst BhDropdown = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventOpen = createEvent(this, \"bhEventOpen\", 3);\r\n    this.bhEventClose = createEvent(this, \"bhEventClose\", 3);\r\n    this.bhEventCtaClick = createEvent(this, \"bhEventCtaClick\", 3);\r\n    this.bhEventSelected = createEvent(this, \"bhEventSelected\", 7);\r\n    this.bhEventChange = createEvent(this, \"bhEventChange\", 7);\r\n    this.selected = createEvent(this, \"selected\", 7);\r\n    this.opened = createEvent(this, \"opened\", 7);\r\n    /**\r\n     * Required form element indicator\r\n     */\r\n    this.isRequired = false;\r\n    /**\r\n     * Fluid buttons expand to the width of their parent container\r\n     */\r\n    this.isFluid = false;\r\n    /**\r\n     * Error state for input\r\n     */\r\n    this.isError = false;\r\n    /**\r\n     * Disabled text inputs are grayed out and cannot be clicked\r\n     */\r\n    this.isDisabled = false;\r\n    /**\r\n     * Changes the label value of 'All' with item label\r\n     */\r\n    this.showAllLabel = 'all';\r\n    /**\r\n     * Size of the dropdown (useful for reading/prepopulating)\r\n     */\r\n    this.isSmall = false;\r\n    /**\r\n     * Used to anchor element for inline usecase (like within table)\r\n     */\r\n    this.inlineAnchorId = \"\";\r\n    /**\r\n     * flag to determine if the dropdown is opened or closed\r\n     */\r\n    this.isOpen = false;\r\n    // internal states\r\n    /**\r\n     * Determines vertical offset by px to trigger the flip interaction upon scroll overflow\r\n     */\r\n    this.flipOffset = 50;\r\n    this.isFlipped = false;\r\n    this.inlineStyle = {};\r\n    this.searchMode = 'contains';\r\n    this.handlerCtaClick = (e) => {\r\n      this.bhEventCtaClick.emit(e.detail);\r\n    };\r\n  }\r\n  isOpenChange() {\r\n    if (this.isOpen) {\r\n      this.bhEventOpen.emit();\r\n    }\r\n    else {\r\n      this.bhEventClose.emit();\r\n      setTimeout(() => {\r\n        this.element__dropdownInput.focus();\r\n      });\r\n    }\r\n    this.opened.emit({\r\n      isOpen: this.isOpen,\r\n      inlineAnchorId: this.inlineAnchorId,\r\n    });\r\n    const userAgent = window.navigator.userAgent;\r\n    if (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) {\r\n      if (this.isOpen) {\r\n        this.interval = setInterval(() => {\r\n          this.setIsFlipped();\r\n        }, 30);\r\n      }\r\n      else {\r\n        clearInterval(this.interval);\r\n      }\r\n    }\r\n    if (this.inlineAnchorId || this.isInline) {\r\n      if (this.isOpen) {\r\n        setTimeout(() => {\r\n          this.styleMenu();\r\n        }, 50);\r\n        this.disableScroll();\r\n      }\r\n      else {\r\n        this.enableScroll();\r\n        this.isInlineStyleSet = false;\r\n        document.body.removeChild(document.getElementById(`bh-dropdown__inline-menu__${this.inlineUuid}`));\r\n      }\r\n    }\r\n  }\r\n  handleResize() {\r\n    this.setIsFlipped();\r\n    if (this.inlineAnchorId || this.isInline)\r\n      this.styleMenu();\r\n  }\r\n  bhEventScroll(e) {\r\n    var _a, _b;\r\n    try {\r\n      if (((_b = (_a = e.detail) === null || _a === void 0 ? void 0 : _a.payload) === null || _b === void 0 ? void 0 : _b.initiator) === 'tabularlist') {\r\n        this.closeMenu();\r\n      }\r\n      else {\r\n        if (this.inlineAnchorId || this.isInline)\r\n          this.styleMenu();\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  closeMenu() {\r\n    this.isOpen = false;\r\n  }\r\n  onSelect(item) {\r\n    try {\r\n      this.value = item.label;\r\n      this.selectedValue = item.value;\r\n      this.keySelected = item.label;\r\n      this.selected.emit(item);\r\n      this.bhEventChange.emit(this.selectedValue);\r\n      this.bhEventSelected.emit(this.selectedValue);\r\n      this.closeMenu();\r\n      if (this.inlineAnchorId || this.isInline) {\r\n        this.enableScroll();\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  onUnselect() {\r\n    try {\r\n      this.value = \"\";\r\n      this.selectedValue = \"\";\r\n      this.keySelected = \"\";\r\n      this.bhEventChange.emit(this.selectedValue);\r\n      this.bhEventSelected.emit(this.selectedValue);\r\n      this.closeMenu();\r\n      if (this.inlineAnchorId || this.isInline) {\r\n        this.enableScroll();\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  onMultiselectChange(event) {\r\n    try {\r\n      if (this.isMultiSelect) {\r\n        const checkedItem = event.detail.checkedItem;\r\n        const isSelectedAll = event.detail.isSelectedAll;\r\n        this.value = (isSelectedAll && this.showAllLabel == 'all')\r\n          ? checkedItem.length == 0 ? \"\" : \"All\"\r\n          : checkedItem.reduce((label, selection) => {\r\n            return label\r\n              ? label + \", \" + selection.label\r\n              : label + selection.label;\r\n          }, \"\");\r\n        this.bhEventSelected.emit(checkedItem);\r\n        this.bhEventChange.emit(checkedItem);\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  bindDropdownClickEvent(event) {\r\n    try {\r\n      if (!this.element__dropdownInput.contains(event.target) &&\r\n        !this.element__dropdownMenu.contains(event.target))\r\n        this.isOpen = false;\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  componentWillLoad() {\r\n    // try{\r\n    //   if(!this.value && this.selectedValue!==''){\r\n    //     const options = typeof this.menuItems==='string'? JSON.parse(this.menuItems) as BhMenuItems : this.menuItems as BhMenuItems;\r\n    //     const data = options?.itemGroups[0].items.filter(opt => opt.value === this.selectedValue)\r\n    //     if(data.length>0){\r\n    //       this.value = data[0].label;\r\n    //     }\r\n    //   }\r\n    // }catch(err){\r\n    //   console.log(err);\r\n    // }\r\n    try {\r\n      if (this.inlineAnchorId || this.isInline) {\r\n        this.inlineUuid = v4();\r\n        let supportsPassive = false;\r\n        try {\r\n          window.addEventListener(\"test\", null, Object.defineProperty({}, \"passive\", {\r\n            get: function () {\r\n              supportsPassive = true;\r\n            },\r\n          }));\r\n        }\r\n        catch (e) { }\r\n        this.wheelOpt = supportsPassive ? { passive: false } : false;\r\n        this.wheelEvent =\r\n          \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : \"mousewheel\";\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  componentDidLoad() {\r\n    try {\r\n      window.addEventListener(\"click\", (event) => this.bindDropdownClickEvent(event));\r\n      // this.element__dropdownInput.addEventListener('keydown', (event) => this.bindKeydownEvent(event));\r\n      window.addEventListener(\"mousewheel\", () => this.setIsFlipped());\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  disconnectedCallback() {\r\n    try {\r\n      window.removeEventListener(\"click\", (event) => this.bindDropdownClickEvent(event));\r\n      // this.element__dropdownInput.removeEventListener('keydown', (event) => this.bindKeydownEvent(event));\r\n      window.removeEventListener(\"mousewheel\", () => this.setIsFlipped());\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  setIsFlipped() {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    try {\r\n      if (this.inlineAnchorId || this.isInline)\r\n        return;\r\n      this.isFlipped =\r\n        ((_b = (_a = this.element__dropdownInput) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) === null || _b === void 0 ? void 0 : _b.top) >= 0 &&\r\n          ((_d = (_c = this.element__dropdownInput) === null || _c === void 0 ? void 0 : _c.getBoundingClientRect()) === null || _d === void 0 ? void 0 : _d.bottom) + ((_f = (_e = this.element__dropdownInput) === null || _e === void 0 ? void 0 : _e.getBoundingClientRect()) === null || _f === void 0 ? void 0 : _f.height) -\r\n            window.innerHeight >\r\n            -this.flipOffset &&\r\n          window.innerHeight > 500;\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  styleMenu() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\r\n    try {\r\n      if (!this.inlineAnchorId && !this.isInline)\r\n        return;\r\n      try {\r\n        const tar = this.inlineAnchorId\r\n          ? document.body.querySelector(`[inline-anchor-id=\"${this.inlineAnchorId}\"]`)\r\n          : this.element__host;\r\n        const shouldFlip = (((_a = tar === null || tar === void 0 ? void 0 : tar.getBoundingClientRect()) === null || _a === void 0 ? void 0 : _a.top) + ((_b = tar === null || tar === void 0 ? void 0 : tar.getBoundingClientRect()) === null || _b === void 0 ? void 0 : _b.height) + 4) + ((_d = (_c = this.element__dropdownMenuGhost) === null || _c === void 0 ? void 0 : _c.getBoundingClientRect()) === null || _d === void 0 ? void 0 : _d.height) > window.innerHeight;\r\n        this.inlineStyle = {\r\n          position: \"fixed\",\r\n          left: `${(_e = tar === null || tar === void 0 ? void 0 : tar.getBoundingClientRect()) === null || _e === void 0 ? void 0 : _e.left}px`,\r\n          top: `${((_f = tar === null || tar === void 0 ? void 0 : tar.getBoundingClientRect()) === null || _f === void 0 ? void 0 : _f.top) + ((_g = tar === null || tar === void 0 ? void 0 : tar.getBoundingClientRect()) === null || _g === void 0 ? void 0 : _g.height)}px`,\r\n          width: `${(_h = tar === null || tar === void 0 ? void 0 : tar.getBoundingClientRect()) === null || _h === void 0 ? void 0 : _h.width}px`,\r\n          transform: `translateY(${shouldFlip ? -((_k = (_j = this.element__dropdownMenuGhost) === null || _j === void 0 ? void 0 : _j.getBoundingClientRect()) === null || _k === void 0 ? void 0 : _k.height) - ((_l = tar === null || tar === void 0 ? void 0 : tar.getBoundingClientRect()) === null || _l === void 0 ? void 0 : _l.height) - 8 : 0}px)`\r\n        };\r\n        this.isInlineStyleSet = true;\r\n        this.element__dropdownMenu.id = `bh-dropdown__inline-menu__${this.inlineUuid}`;\r\n        document.body.appendChild(this.element__dropdownMenu);\r\n        if (this.element__dropdownMenu.id) {\r\n          this.element__dropdownMenu.removeEventListener('bhEventCtaClick', this.handlerCtaClick);\r\n          this.element__dropdownMenu.addEventListener('bhEventCtaClick', this.handlerCtaClick);\r\n        }\r\n      }\r\n      catch (err) {\r\n        console.warn(err);\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  preventDefault(event) {\r\n    event.preventDefault();\r\n  }\r\n  // call this to Disable\r\n  disableScroll() {\r\n    try {\r\n      window.addEventListener(\"DOMMouseScroll\", this.preventDefault, false); // older FF\r\n      window.addEventListener(this.wheelEvent, this.preventDefault, this.wheelOpt); // modern desktop\r\n      window.addEventListener(\"touchmove\", this.preventDefault, this.wheelOpt); // mobile\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  // call this to Enable\r\n  enableScroll() {\r\n    try {\r\n      window.removeEventListener(\"DOMMouseScroll\", this.preventDefault, false);\r\n      window.removeEventListener(this.wheelEvent, this.preventDefault, this.wheelOpt);\r\n      window.removeEventListener(\"touchmove\", this.preventDefault, this.wheelOpt);\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  handleClick() {\r\n    this.isOpen = !this.isOpen;\r\n  }\r\n  render() {\r\n    try {\r\n      const prefix = this.host.tagName.toLowerCase().replace(components.dropdown.tagNameBase, '');\r\n      const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n      const labelClasses = [\"bh-dropdown__label\", \"typography--label-small\", \"typography--color-primary\"];\r\n      const iconClasses = [\r\n        \"bh-dropdown__icon\",\r\n        \"typography--icon-small\",\r\n        \"motion--normal\",\r\n      ];\r\n      const inputClasses = [\r\n        \"bh-dropdown__input\",\r\n        \"typography--body-medium\",\r\n        \"motion--normal\",\r\n      ];\r\n      if (this.isRequired) {\r\n        labelClasses.push(\"bh-dropdown__required\");\r\n      }\r\n      if (this.isFluid)\r\n        inputClasses.push(\"bh-dropdown__input--fluid\");\r\n      if (this.isDisabled) {\r\n        labelClasses.push(\"bh-dropdown__label--disabled\");\r\n      }\r\n      if (this.isDisabled) {\r\n        inputClasses.push(\"bh-dropdown__input--disabled\");\r\n      }\r\n      if (this.isDisabled) {\r\n        iconClasses.push(\"bh-dropdown__icon--disabled\");\r\n      }\r\n      // if (this.isDisabled) {\r\n      // \tthis.placeholder = '';\r\n      // }\r\n      if (this.isError) {\r\n        inputClasses.push(\"bh-dropdown__input--error\");\r\n      }\r\n      if (this.isError) {\r\n        iconClasses.push(\"bh-dropdown__icon--error\");\r\n      }\r\n      if (this.isSmall) {\r\n        inputClasses.push(\"bh-dropdown__input-small\");\r\n      }\r\n      this.setIsFlipped();\r\n      const getMenuWidth = () => {\r\n        if (this.isFluid) {\r\n          return \"fluid\";\r\n        }\r\n        else if (this.menuWidth) {\r\n          if (this.menuWidth === \"large\")\r\n            return \"large\";\r\n          if (this.menuWidth === \"medium\")\r\n            return \"medium\";\r\n          if (this.menuWidth === \"small\")\r\n            return \"small\";\r\n          if (this.menuWidth === \"inherit\" || this.menuWidth === \"fluid\")\r\n            return \"fluid\";\r\n        }\r\n        else {\r\n          return \"fluid\";\r\n        }\r\n      };\r\n      return (h(Host, { class: `bh-dropdown ${this.isSmall ? \"small\" : \"\"} ${this.isFluid ? \"fluid\" : \"\"}`, ref: (el) => {\r\n          this.element__host = el;\r\n        } }, this.label && (h(\"label\", { class: labelClasses.join(\" \") }, this.label)), h(\"div\", { class: \"bh-dropdown__container\" }, h(\"input\", { type: \"text\", class: inputClasses.join(\" \"), placeholder: this.placeholder ? this.placeholder : \"Select\", disabled: this.isDisabled, value: this.value, readonly: true, onClick: () => this.handleClick(), onKeyDown: (event) => {\r\n          if (event.code === \"Enter\") {\r\n            this.handleClick();\r\n          }\r\n        }, onFocus: () => {\r\n          var _a, _b;\r\n          (_b = (_a = this.element__dropdownInput.parentElement) === null || _a === void 0 ? void 0 : _a.querySelector(\".bh-dropdown__icon\")) === null || _b === void 0 ? void 0 : _b.classList.add(\"focused\");\r\n        }, onBlur: () => {\r\n          var _a, _b;\r\n          (_b = (_a = this.element__dropdownInput.parentElement) === null || _a === void 0 ? void 0 : _a.querySelector(\".bh-dropdown__icon\")) === null || _b === void 0 ? void 0 : _b.classList.remove(\"focused\");\r\n          this.enableScroll();\r\n        }, ref: (el) => (this.element__dropdownInput = el) }), h(\"span\", { class: `bh-dropdown__value typography--body-medium typography--color-primary ${this.isSmall ? \"small\" : \"\"} ${this.isFluid ? \"fluid\" : \"\"} ${this.isError ? \"error\" : \"\"} ${this.isDisabled ? \"disabled\" : \"\"} ${this.value ? \"\" : \"placeholder\"}` }, this.value ? this.value : this.placeholder), h(\"i\", { class: iconClasses.join(\" \") }, \"expand_more\"), h(\"div\", { class: `bh-dropdown__menu-container ${this.inlineAnchorId || this.isInline\r\n          ? this.isOpen && this.isInlineStyleSet\r\n            ? \"shown\"\r\n            : \"hidden\"\r\n          : this.isOpen\r\n            ? \"shown\"\r\n            : \"hidden\"}\r\n\t\t\t\t\t\t  ${this.isSmall ? \"small\" : \"\"} ${this.label ? \"with-label\" : \"\"} ${this.message ? \"with-message\" : \"\"} ${this.isFluid ? \"fluid\" : \"\"} ${this.isFlipped ? \"flipped\" : \"\"} ${this.menuWidth === \"fluid\" ? \"fit-content\" : \"\"}`, style: this.inlineAnchorId || this.isInline ? this.inlineStyle : {}, ref: (el) => (this.element__dropdownMenu = el) }, h(Components.menu, { selected: this.selectedValue, menuItems: this.menuItems, menuWidth: getMenuWidth(), menuHeight: this.isSmall ? \"small\" : \"medium\", isFocused: this.isOpen, isDropDownMenu: true, isMultiSelect: this.isMultiSelect, isSelectAll: this.isSelectAll, isSearchable: this.isSearchable, searchMode: this.searchMode, isUnselectable: this.isMultiSelect ? false : this.isUnselectable, placeholder: this.placeholder ? this.placeholder : \"Select\", isEllipsis: this.isEllipsis, onMultiselectChange: (event) => {\r\n          this.onMultiselectChange(event);\r\n        }, onUnselect: () => {\r\n          this.onUnselect();\r\n        }, isItemPaddingRight: this.isItemPaddingRight, onBhEventChange: (e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }, onBhEventSelected: (e) => {\r\n          this.onSelect(e.detail);\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }, onClose: () => {\r\n          this.isOpen = false;\r\n        } })), (this.isInline || this.inlineAnchorId) &&\r\n        h(\"div\", { style: { visibility: 'hidden', position: 'absolute', left: '-99999px' }, ref: (el) => { this.element__dropdownMenuGhost = el; } }, h(Components.menu, { selected: this.selectedValue, menuItems: this.menuItems, menuWidth: getMenuWidth(), menuHeight: this.isSmall ? \"small\" : \"medium\", isFocused: this.isOpen, isMultiSelect: this.isMultiSelect, isSelectAll: this.isSelectAll, isSearchable: this.isSearchable, isUnselectable: this.isMultiSelect ? false : this.isUnselectable, placeholder: this.placeholder ? this.placeholder : \"Select\", isEllipsis: this.isEllipsis, onMultiselectChange: (event) => {\r\n            this.onMultiselectChange(event);\r\n          }, onUnselect: () => {\r\n            this.onUnselect();\r\n          }, isItemPaddingRight: this.isItemPaddingRight, onBhEventChange: (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }, onBhEventSelected: (e) => {\r\n            this.onSelect(e.detail);\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }, onClose: () => {\r\n            this.isOpen = false;\r\n          } }))), this.message && (h(Components.formMessage, { message: this.message, isError: this.isError, isDisabled: this.isDisabled }))));\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE$1);\r\n    }\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"isOpen\": [\"isOpenChange\"]\r\n  }; }\r\n};\r\nBhDropdown.style = bhDropdownCss;\n\nconst BhIconColorList = [\r\n  'primary',\r\n  'secondary',\r\n  'tertiary',\r\n  'inverse_primary',\r\n  'inverse_secondary',\r\n  'teal',\r\n  'rose',\r\n  'cyan',\r\n  'gold',\r\n];\n\nconst bhIconCss = \".bh-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bh-icon.bh-icon-size--small{width:18px;height:18px}.bh-icon.bh-icon-size--medium{width:24px;height:24px}.bh-icon-link{cursor:pointer}.bh-icon-color--primary{color:var(--color-text-common-primary)}.bh-icon-color--secondary{color:var(--color-text-common-secondary)}.bh-icon-color--tertiary{color:var(--color-text-common-tertiary)}.bh-icon-color--inverse_primary{color:var(--color-text-common-inverse-primary)}.bh-icon-color--inverse_secondary{color:var(--color-text-common-inverse-secondary)}.bh-icon-color--teal{color:var(--color-fill-semantic-success-default)}.bh-icon-color--rose{color:var(--color-fill-semantic-error-default)}.bh-icon-color--cyan{color:var(--color-fill-semantic-info-default)}.bh-icon-color--gold{color:var(--color-fill-semantic-warning-default)}\";\n\nconst BhIcon = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    /**\r\n     * Defines the size of the icon area - default is \"medium (24px)\". BhIconSize options are \"medium (24px)\" | \"small (18px)\"\r\n     */\r\n    this.size = \"medium\";\r\n    /**\r\n     * Defines the icon appearance. Must be a string that maps to the available icons in the Material UI Icon set\r\n     */\r\n    this.icon = \"\";\r\n    /**\r\n     * Defines the color of the icon - default is \"primary\". BhIconColor options are \"primary\" | \"secondary\" | \"tertiary\" | \"inverse_primary\" | \"inverse_secondary\" | \"teal\" | \"rose\" | \"cyan\" | \"gold\"\r\n     */\r\n    this.color = \"primary\";\r\n    /**\r\n     * Defines the link target based on HTML a tag spec - default is _self. Valid options are _blank | _self | _parent | _top, or namely any custom framename\r\n     */\r\n    this.target = \"_self\";\r\n  }\r\n  render() {\r\n    return (h(Host, { class: `bh-icon ${this.size === \"small\" ? \"bh-icon-size--small\" : \"bh-icon-size--medium\"}` }, this.href && (h(\"a\", { class: \"bh-icon-link\", href: this.href, target: this.target }, h(\"i\", { style: BhIconColorList.find((c) => c === this.color)\r\n        ? { color: \"\" }\r\n        : { color: this.color }, class: `material-icons material-icons-outlined ${this.size === \"small\"\r\n        ? \"typography--icon-small\"\r\n        : \"typography--icon-medium\"} ${BhIconColorList.find((c) => c === this.color)\r\n        ? `bh-icon-color--${this.color}`\r\n        : \"\"}` }, this.icon))), !this.href && (h(\"i\", { style: BhIconColorList.find((c) => c === this.color)\r\n        ? {}\r\n        : { color: this.color }, class: `material-icons material-icons-outlined ${this.size === \"small\"\r\n        ? \"typography--icon-small\"\r\n        : \"typography--icon-medium\"} ${BhIconColorList.find((c) => c === this.color)\r\n        ? `bh-icon-color--${this.color}`\r\n        : \"\"}` }, this.icon))));\r\n  }\r\n};\r\nBhIcon.style = bhIconCss;\n\nconst bhModalCss = \".bh-modal__wrapper.close{visibility:hidden;opacity:0}.bh-modal__wrapper.open{visibility:visible;opacity:1}.bh-modal__container{width:800px;border-radius:var(--effect-border-radius-medium);box-shadow:var(--effect-drop-shadow-elevation-low);overflow:hidden;position:fixed;z-index:3001;top:var(--spacing-padding-large);left:calc(50vw - 400px);opacity:0;transition:opacity var(--motion-duration-fast) var(--motion-easing-fast)}.bh-modal__container.open{opacity:1;transition:opacity var(--motion-duration-normal) var(--motion-easing-normal)}.bh-modal__header{overflow:hidden;padding:var(--spacing-padding-medium);background-color:var(--color-fill-common-tertiary);border-bottom:var(--effect-border-width-regular) solid var(--color-border-common-primary);display:flex;justify-content:space-between;align-items:center}.bh-modal__header-copy--header{margin:0;color:var(--color-text-common-primary)}.bh-modal__header-copy--subheader{color:var(--color-text-common-secondary);display:block;white-space:nowrap;max-width:calc(100% - 40px);overflow:hidden;text-overflow:ellipsis}.bh--modal__header-dismiss{cursor:pointer;color:var(--color-text-common-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:box-shadow;transition-timing-function:var(--motion-easing-fast);transition-duration:var(--motion-duration-fast);outline:none}.bh--modal__header-dismiss:focus{box-shadow:var(--effect-drop-shadow-focus-primary)}.bh--modal__header-dismiss:focus:not(:focus-visible){box-shadow:none}.bh-modal__body{background-color:var(--color-fill-common-secondary);padding:var(--spacing-padding-medium);max-height:484px;overflow-y:auto}.bh-modal__footer{background-color:var(--color-fill-common-tertiary);border-top:var(--effect-border-width-regular) solid var(--color-border-common-primary);padding:var(--spacing-padding-medium)}.bh-modal__footer--ctas{display:flex;justify-content:flex-end}.bh-modal__footer--cta{margin:0 calc(var(--spacing-margin-small) / 2)}.bh-modal__footer--cta:first-child{margin-left:0}.bh-modal__footer--cta:last-child{margin-right:0}.bh-modal__backdrop{width:100vw;height:100vh;position:fixed;background-color:var(--color-fill-common-overlay);opacity:0;top:0;left:0;z-index:3000;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);transition:opacity var(--motion-duration-fast) var(--motion-easing-fast)}.bh-modal__backdrop.open{opacity:1;transition:opacity var(--motion-duration-normal) var(--motion-easing-normal)}@media (max-width: 599px){.bh-modal__header{padding:var(--spacing-padding-medium) var(--spacing-padding-small)}.bh-modal__body{padding:var(--spacing-padding-medium) var(--spacing-padding-small)}.bh-modal__footer{padding:var(--spacing-padding-medium) var(--spacing-padding-small)}}\";\n\nconst BhModal = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventOpen = createEvent(this, \"bhEventOpen\", 7);\r\n    this.bhEventClose = createEvent(this, \"bhEventClose\", 7);\r\n    this.bhEventCtaClick = createEvent(this, \"bhEventCtaClick\", 7);\r\n    this.ctaClick = createEvent(this, \"ctaClick\", 3);\r\n    /**\r\n     * width\r\n     * The width of modal container - valiod options are \"large\" | \"medium\" | \"small\". Default is medium\r\n     * DOM Attribute: width\r\n     * Usage: <bh-modal width=\"large\" />\r\n     * Default: large\r\n     * Optional\r\n     */\r\n    this.width = 'medium';\r\n    /**\r\n     * isOpen\r\n     * Boolean prop to control open/close state of the modal\r\n     * DOM Attribute: open\r\n     * Usage: <bh-modal open=\"true\" />\r\n     * Default: false\r\n     * Optional\r\n     */\r\n    this.isOpen = false;\r\n    this.wrapperIsOpen = false;\r\n    /**\r\n     * isDismissible\r\n     * Determines if the dialog is dismissible or not through x or backdrop\r\n     * DOM Attribute: illustration\r\n     * Usage: <bh-dialog illustration=\"Broom\" />\r\n     * Default: undefined\r\n     * Optional\r\n     */\r\n    this.isDismissible = true;\r\n  }\r\n  watchIsOpen() {\r\n    const that = this;\r\n    if (this.isOpen) {\r\n      this.wrapperIsOpen = true;\r\n      this.bhEventOpen.emit();\r\n      setTimeout(() => {\r\n        const focusableContents = that.element__container.querySelectorAll('button, [href], input, textarea, [tabindex]:not([tabindex=\"-1\"])');\r\n        const firstFocusableElement = focusableContents[0];\r\n        firstFocusableElement.focus();\r\n      }, 100);\r\n    }\r\n    else {\r\n      setTimeout(() => {\r\n        this.wrapperIsOpen = false;\r\n        this.bhEventClose.emit();\r\n      }, 100);\r\n    }\r\n  }\r\n  watchCtas() {\r\n    this.parseData();\r\n  }\r\n  /**\r\n   * open\r\n   * Custom event for opening the modal through custom event\r\n   * Event Name: open\r\n   */\r\n  openModalEvent() {\r\n    this.isOpen = true;\r\n  }\r\n  /**\r\n   * close\r\n   * Custom event for closing the modal through custom event\r\n   * Event Name: close\r\n   */\r\n  closeModalEvent() {\r\n    this.isOpen = false;\r\n  }\r\n  watchOpen() {\r\n    this.setStyle();\r\n  }\r\n  handleResize() {\r\n    this.viewport = getBreakpoint();\r\n    this.setStyle();\r\n  }\r\n  setStyle() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\r\n    const modalMaxWidth = () => {\r\n      switch (this.width) {\r\n        case 'large':\r\n          return 960;\r\n        case 'medium':\r\n          return 800;\r\n        case 'small':\r\n          return 640;\r\n      }\r\n    };\r\n    const padding = () => {\r\n      switch (this.viewport) {\r\n        case 'large':\r\n          return 20;\r\n        case 'medium':\r\n          return 20;\r\n        case 'small':\r\n          return 0;\r\n      }\r\n    };\r\n    this.containerStyle = this.viewport === 'small' ? {\r\n      width: '100vw',\r\n      top: '0',\r\n      left: '0'\r\n    } : {\r\n      width: `${window.innerWidth - padding() * 2 > modalMaxWidth() ? modalMaxWidth() : window.innerWidth - padding() * 2}px`,\r\n      top: `52px`,\r\n      left: `${window.innerWidth - padding() * 2 > modalMaxWidth() ? window.innerWidth / 2 - modalMaxWidth() / 2 : window.innerWidth / 2 - (window.innerWidth - padding() * 2) / 2}px`\r\n    };\r\n    this.subheaderStyle = {\r\n      // Small 12px(left padding) + 12px (padding between copy + x) + 12px padding (left) + x icon (24px) = 60px\r\n      maxWidth: `${((_a = this.element__container) === null || _a === void 0 ? void 0 : _a.clientWidth) - (this.viewport === 'small' ? 60 : 84)}px`\r\n    };\r\n    const modalBody = (_b = this.element__container) === null || _b === void 0 ? void 0 : _b.querySelector('.bh-modal__body');\r\n    if (modalBody) {\r\n      if (this.viewport === 'small') {\r\n        modalBody.style.maxHeight = 'unset';\r\n        modalBody.style.height = ((_d = (_c = this.element__container) === null || _c === void 0 ? void 0 : _c.querySelector('.bh-modal__footer')) === null || _d === void 0 ? void 0 : _d.clientHeight) && ((_f = (_e = this.element__container) === null || _e === void 0 ? void 0 : _e.querySelector('.bh-modal__header')) === null || _f === void 0 ? void 0 : _f.clientHeight) ?\r\n          `${window.innerHeight - (((_h = (_g = this.element__container) === null || _g === void 0 ? void 0 : _g.querySelector('.bh-modal__header')) === null || _h === void 0 ? void 0 : _h.clientHeight) + ((_k = (_j = this.element__container) === null || _j === void 0 ? void 0 : _j.querySelector('.bh-modal__footer')) === null || _k === void 0 ? void 0 : _k.clientHeight) + 120)}px`\r\n          :\r\n            `${window.innerHeight - (((_m = (_l = this.element__container) === null || _l === void 0 ? void 0 : _l.querySelector('.bh-modal__header')) === null || _m === void 0 ? void 0 : _m.clientHeight) + 80)}px`;\r\n        // modalBody.style.height = `${window.innerHeight - (this.element__container?.querySelector('.bh-modal__header')?.clientHeight + this.element__container?.querySelector('.bh-modal__footer')?.clientHeight + 120)}px`;\r\n      }\r\n      else {\r\n        modalBody.style.maxHeight = ((_p = (_o = this.element__container) === null || _o === void 0 ? void 0 : _o.querySelector('.bh-modal__footer')) === null || _p === void 0 ? void 0 : _p.clientHeight) && ((_r = (_q = this.element__container) === null || _q === void 0 ? void 0 : _q.querySelector('.bh-modal__header')) === null || _r === void 0 ? void 0 : _r.clientHeight) ?\r\n          `${window.innerHeight - (((_t = (_s = this.element__container) === null || _s === void 0 ? void 0 : _s.querySelector('.bh-modal__header')) === null || _t === void 0 ? void 0 : _t.clientHeight) + ((_v = (_u = this.element__container) === null || _u === void 0 ? void 0 : _u.querySelector('.bh-modal__footer')) === null || _v === void 0 ? void 0 : _v.clientHeight) + 120 + 52)}px`\r\n          :\r\n            `${window.innerHeight - (((_x = (_w = this.element__container) === null || _w === void 0 ? void 0 : _w.querySelector('.bh-modal__header')) === null || _x === void 0 ? void 0 : _x.clientHeight) + 80 + 52)}px`;\r\n        modalBody.style.height = 'auto';\r\n        // modalBody.style.maxHeight = `${window.innerHeight- (this.element__container?.querySelector('.bh-modal__header')?.clientHeight + this.element__container?.querySelector('.bh-modal__footer')?.clientHeight + 120 + 52)}px`;\r\n      }\r\n    }\r\n  }\r\n  closeModal() {\r\n    this.isOpen = false;\r\n  }\r\n  onCtaClick(key) {\r\n    this.ctaClick.emit(key);\r\n    this.bhEventCtaClick.emit(key);\r\n  }\r\n  parseData() {\r\n    this._ctas = typeof (this.ctas) === 'string'\r\n      ? JSON.parse(this.ctas)\r\n      : this.ctas;\r\n  }\r\n  componentWillLoad() {\r\n    this.viewport = getBreakpoint();\r\n    this.parseData();\r\n    this.setStyle();\r\n  }\r\n  componentDidLoad() {\r\n    const that = this;\r\n    window.addEventListener('keydown', (event) => {\r\n      if (!that.isOpen || event.key !== 'Tab')\r\n        return;\r\n      const focusableContents = that.element__container.querySelectorAll('button, [href], input, textarea, [tabindex]:not([tabindex=\"-1\"])');\r\n      const firstFocusableElement = focusableContents[0];\r\n      const lastFocusableElement = focusableContents[focusableContents.length - 1];\r\n      if (event.shiftKey) {\r\n        if (document.activeElement === firstFocusableElement) {\r\n          lastFocusableElement.focus();\r\n          event.preventDefault();\r\n        }\r\n      }\r\n      else {\r\n        if (document.activeElement === lastFocusableElement) {\r\n          firstFocusableElement.focus();\r\n          event.preventDefault();\r\n        }\r\n      }\r\n    }, false);\r\n  }\r\n  render() {\r\n    var _a, _b;\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.modal.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix);\r\n    return (h(Host, { class: \"bh-modal\" }, h(\"div\", { class: `bh-modal__wrapper ${this.wrapperIsOpen ? 'open' : 'close'}` }, h(\"div\", { class: `bh-modal__container ${this.isOpen ? 'open' : 'close'}`, style: this.containerStyle, ref: (el) => { this.element__container = el; } }, h(\"div\", { class: \"bh-modal__header\" }, h(\"div\", { class: \"bh-modal__header--copy-wrapper\" }, h(\"h3\", { class: \"typography--subtitle-large bh-modal__header-copy--header\" }, this.header), this.subheader &&\r\n      h(\"span\", { class: \"typography--decorative-small bh-modal__header-copy--subheader\", style: this.subheaderStyle }, this.subheader)), this.isDismissible &&\r\n      h(\"i\", { tabIndex: 0, class: \"material-icons material-icons-outlined typography--icon-medium bh--modal__header-dismiss\", onClick: () => { this.closeModal(); }, onKeyDown: (event) => {\r\n          if (event.key === 'Enter')\r\n            this.closeModal();\r\n        } }, 'close')), h(\"div\", { class: \"bh-modal__body\" }, h(\"slot\", null)), this._ctas &&\r\n      h(\"div\", { class: \"bh-modal__footer\" }, h(\"div\", { class: \"bh-modal__footer--ctas\" }, (_b = (_a = this._ctas) === null || _a === void 0 ? void 0 : _a.slice(0, 3)) === null || _b === void 0 ? void 0 : _b.map((cta) => {\r\n        var _a, _b;\r\n        return h(\"div\", { class: \"bh-modal__footer--cta\", style: this.viewport === 'small' ? { width: `${100 / ((_b = (_a = this._ctas) === null || _a === void 0 ? void 0 : _a.slice(0, 3)) === null || _b === void 0 ? void 0 : _b.length)}%` } : {} }, h(Components.button, { \"data-key\": cta.key, isSmall: cta.size === 'medium' ? false : true, type: cta.type, label: cta.label, isFluid: this.viewport === 'small', isDisabled: cta.isDisabled, isLoading: cta.isLoading, leftIcon: cta.leftIcon, rightIcon: cta.rightIcon, onClick: () => {\r\n            if (cta.isDisabled)\r\n              return;\r\n            this.onCtaClick(cta.key);\r\n          } }));\r\n      })))), h(\"div\", { class: `bh-modal__backdrop ${this.isOpen ? 'open' : 'close'}`, onClick: () => {\r\n        if (this.isDismissible) {\r\n          this.closeModal();\r\n        }\r\n      } }))));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"isOpen\": [\"watchIsOpen\", \"watchOpen\"],\r\n    \"ctas\": [\"watchCtas\"]\r\n  }; }\r\n};\r\nBhModal.style = bhModalCss;\n\nclass Helper {\n  static getDescendantProperty(object, path, list = []) {\n    let firstSegment;\n    let remaining;\n    let dotIndex;\n    let value;\n    let index;\n    let length;\n\n    if (path) {\n      dotIndex = path.indexOf('.');\n\n      if (dotIndex === -1) {\n        firstSegment = path;\n      } else {\n        firstSegment = path.slice(0, dotIndex);\n        remaining = path.slice(dotIndex + 1);\n      }\n\n      value = object[firstSegment];\n      if (value !== null && typeof value !== 'undefined') {\n        if (! remaining && (typeof value === 'string' || typeof value === 'number')) {\n          list.push(value);\n        } else if (Object.prototype.toString.call(value) === '[object Array]') {\n          for (index = 0, length = value.length; index < length; index++) {\n            Helper.getDescendantProperty(value[index], remaining, list);\n          }\n        } else if (remaining) {\n          Helper.getDescendantProperty(value, remaining, list);\n        }\n      }\n    } else {\n      list.push(object);\n    }\n\n    return list;\n  }\n}\n\nclass FuzzySearch {\n  constructor(haystack = [], keys = [], options = {}) {\n    if (! Array.isArray(keys)) {\n      options = keys;\n      keys = [];\n    }\n\n    this.haystack = haystack;\n    this.keys = keys;\n    this.options = Object.assign({\n      caseSensitive: false,\n      sort: false,\n    }, options);\n  }\n\n  search(query = '') {\n    if (query === '') {\n      return this.haystack;\n    }\n\n    const results = [];\n\n    for (let i = 0; i < this.haystack.length; i++) {\n      const item = this.haystack[i];\n\n      if (this.keys.length === 0) {\n        const score = FuzzySearch.isMatch(item, query, this.options.caseSensitive);\n\n        if (score) {\n          results.push({ item, score });\n        }\n      } else {\n        for (let y = 0; y < this.keys.length; y++) {\n          const propertyValues = Helper.getDescendantProperty(item, this.keys[y]);\n\n          let found = false;\n\n          for (let z = 0; z < propertyValues.length; z++) {\n            const score = FuzzySearch.isMatch(propertyValues[z], query, this.options.caseSensitive);\n\n            if (score) {\n              found = true;\n\n              results.push({ item, score });\n\n              break;\n            }\n          }\n\n          if (found) {\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.options.sort) {\n      results.sort((a, b) => a.score - b.score);\n    }\n\n    return results.map(result => result.item);\n  }\n\n  static isMatch(item, query, caseSensitive) {\n    item = String(item);\n    query = String(query);\n\n    if (! caseSensitive) {\n      item = item.toLocaleLowerCase();\n      query = query.toLocaleLowerCase();\n    }\n\n    const indexes = FuzzySearch.nearestIndexesFor(item, query);\n\n    if (! indexes) {\n      return false;\n    }\n\n    // Exact matches should be first.\n    if (item === query) {\n      return 1;\n    }\n\n    // If we have more than 2 letters, matches close to each other should be first.\n    if (indexes.length > 1) {\n      return 2 + (indexes[indexes.length - 1] - indexes[0]);\n    }\n\n    // Matches closest to the start of the string should be first.\n    return 2 + indexes[0];\n  }\n\n  static nearestIndexesFor(item, query) {\n    const letters = query.split('');\n    let indexes = [];\n\n    const indexesOfFirstLetter = FuzzySearch.indexesOfFirstLetter(item, query);\n\n    indexesOfFirstLetter.forEach((startingIndex, loopingIndex) => {\n      let index = startingIndex + 1;\n\n      indexes[loopingIndex] = [startingIndex];\n\n      for (let i = 1; i < letters.length; i++) {\n        const letter = letters[i];\n\n        index = item.indexOf(letter, index);\n\n        if (index === -1) {\n          indexes[loopingIndex] = false;\n\n          break;\n        }\n\n        indexes[loopingIndex].push(index);\n\n        index++;\n      }\n    });\n\n    indexes = indexes.filter(letterIndexes => letterIndexes !== false);\n\n    if (! indexes.length) {\n      return false;\n    }\n\n    return indexes.sort((a, b) => {\n      if (a.length === 1) {\n        return a[0] - b[0];\n      }\n\n      a = a[a.length - 1] - a[0];\n      b = b[b.length - 1] - b[0];\n\n      return a - b;\n    })[0];\n  }\n\n  static indexesOfFirstLetter(item, query) {\n    const match = query[0];\n\n    return item.split('').map((letter, index) => {\n      if (letter !== match) {\n        return false;\n      }\n\n      return index;\n    }).filter(index => index !== false);\n  }\n}\n\nconst bhSearchCss = \".bh-search{--effect-border-radius-medium:25px}.bh-search[type=\\\"date-picker\\\"] .search-button-cta{margin-top:-4px}.bh-search__container-wrapper{display:flex !important;align-items:center;position:relative}.bh-search__container-wrapper .bh-text-input__container .bh-text-input__input{padding-right:50px}.bh-search__container-wrapper .bh-text-input__input--disabled,.bh-text-input__input--disabled:hover{background-color:var(--color-fill-cta-disabled) !important}.text-input{position:relative}.text-input--fluid{width:100%}.search-button-cta{cursor:pointer;outline:none;margin-left:-44px;z-index:1}.search-button-cta--small{cursor:pointer;outline:none;margin-left:-36px;z-index:1}.search-button-cta--fluid{cursor:pointer;outline:none;position:absolute;right:0}.search-button-cta .bh-button:focus:not(:active):not(:hover){box-shadow:none !important}.search-button-cta .bh-button:focus:not(:active):not(:hover){box-shadow:none !important}.search-button-cta .bh-button--type-ghost:hover{background-color:var(--color-fill-cta-secondary-default)}.search-button-cta .bh-button--type-active:hover{background-color:var(--color-fill-cta-secondary-default)}.search-button-cta .bh-button--disabled,.bh-button--disabled:hover,.bh-button--disabled:active{background-color:transparent}\";\n\nconst BhSearch = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.query = createEvent(this, \"query\", 7);\r\n    this.results = createEvent(this, \"results\", 7);\r\n    this.ctaClick = createEvent(this, \"ctaClick\", 7);\r\n    this.bhEventCtaClick = createEvent(this, \"bhEventCtaClick\", 7);\r\n    this.type = 'text';\r\n    /**\r\n     * Defines whether or not the input expands to the width of its parent container\r\n     */\r\n    this.isFluid = false;\r\n    /**\r\n     * The height of the input (medium / small)\r\n     */\r\n    this.isSmall = false;\r\n    /**\r\n     * Disabled text inputs are grayed out and cannot be clicked\r\n     */\r\n    this.isDisabled = false;\r\n    /**\r\n     * To disable the fuzzy search, default is false\r\n     */\r\n    this.disableFuzzySearch = false;\r\n    /**\r\n     * Defines whether or not the input is in an error state\r\n     */\r\n    this.isError = false;\r\n    /**\r\n     * Style option for rounded text input\r\n     */\r\n    this.isRounded = true;\r\n    this.filterQuery = \"\";\r\n  }\r\n  watchData() {\r\n    if (typeof this.data === \"string\") {\r\n      try {\r\n        this._data = JSON.parse(this.data);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      this._data = this.data;\r\n    }\r\n  }\r\n  ;\r\n  watchSearch() {\r\n    this.parseData();\r\n  }\r\n  parseData() {\r\n    this._searchBtn =\r\n      typeof this.search === \"string\"\r\n        ? JSON.parse(this.search)\r\n        : this.search;\r\n  }\r\n  watchSearchParams() {\r\n    if (typeof this.searchParams === \"string\") {\r\n      try {\r\n        this._searchParams = JSON.parse(this.searchParams);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      this._searchParams = this.searchParams;\r\n    }\r\n  }\r\n  componentWillLoad() {\r\n    if (typeof this.data === \"string\") {\r\n      try {\r\n        this._data = JSON.parse(this.data);\r\n      }\r\n      catch (_a) { }\r\n    }\r\n    else {\r\n      this._data = this.data;\r\n    }\r\n    if (typeof this.searchParams === \"string\") {\r\n      try {\r\n        this._searchParams = JSON.parse(this.searchParams);\r\n      }\r\n      catch (_b) { }\r\n    }\r\n    else {\r\n      this._searchParams = this.searchParams;\r\n    }\r\n    this.parseData();\r\n  }\r\n  onInputChange(e) {\r\n    let type = this.type;\r\n    clearTimeout(this.timer);\r\n    this.timer = setTimeout(() => {\r\n      var _a;\r\n      this.value = type === 'text' ? e.target.value : e.detail;\r\n      const params = this._searchParams || Object.keys(this._data[0]);\r\n      if (this.disableFuzzySearch || type === 'date-picker') {\r\n        this.searchResults = (_a = this._data) === null || _a === void 0 ? void 0 : _a.filter(function (item) {\r\n          for (let key of params) {\r\n            if (type == 'date-picker')\r\n              if (String(item[key]).indexOf(e.detail) >= 0)\r\n                return true;\r\n            if (type === 'text')\r\n              if (String(item[key]).toLowerCase().indexOf(e.target.value.toLowerCase()) >= 0)\r\n                return true;\r\n          }\r\n        });\r\n      }\r\n      else {\r\n        let searcher = new FuzzySearch(this._data, params);\r\n        this.searchResults = searcher.search(e.detail);\r\n      }\r\n      if (!this.isButtonSearch) {\r\n        this.query.emit(e.target.value);\r\n        this.results.emit(this.searchResults);\r\n      }\r\n      // Trigger search click on enter\r\n      if (e.keyCode === 13) {\r\n        this.onSearchClick(e, { key: '' });\r\n      }\r\n    }, 500);\r\n    // If no params provided, default to all keys\r\n  }\r\n  onSearchClick(e, button) {\r\n    e.preventDefault();\r\n    this.filterQuery = this.value;\r\n    this.results.emit(this.searchResults);\r\n    this.ctaClick.emit({ key: button.key, value: this.value });\r\n    this.bhEventCtaClick.emit({ key: button.key, value: this.value });\r\n  }\r\n  getButtonType(buttonType) {\r\n    if (this.isError) {\r\n      return 'critical';\r\n    }\r\n    else if (this.isDisabled) {\r\n      return 'disabled';\r\n    }\r\n    else {\r\n      return buttonType;\r\n    }\r\n  }\r\n  render() {\r\n    var _a, _b;\r\n    const prefix = this.host.tagName\r\n      .toLowerCase()\r\n      .replace(components.search.tagNameBase, \"\");\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    const containerWrapperClasses = [\"bh-search__container-wrapper\"];\r\n    const textInputClasses = [\"text-input\"];\r\n    const searchButtonClasses = [\"search-button-cta\"];\r\n    if (this.isFluid) {\r\n      textInputClasses.push(\"text-input--fluid\");\r\n      searchButtonClasses.push(\"search-button-cta--fluid\");\r\n    }\r\n    if (this.isSmall) {\r\n      searchButtonClasses.push(\"search-button-cta--small\");\r\n    }\r\n    return (h(Host, { class: \"bh-search\" }, h(\"div\", { class: containerWrapperClasses.join(\" \") }, h(\"span\", { class: textInputClasses.join(\" \") }, this.type === 'date-picker' ?\r\n      h(Components.datePicker, { placeholder: this.placeholder, value: this.value, onKeyUp: (e) => {\r\n          this.onInputChange(e);\r\n        }, onBhEventChange: (e) => {\r\n          this.onInputChange(e);\r\n        }, isInvalid: this.isError, errorMessage: '', label: \"\", disableHelper: true, onFocus: this.onFocus && !this.isError, onBlur: this.onBlur, isSmall: this.isSmall, width: this.isFluid ? 'fluid' : 'medium', isRounded: this.isRounded, isReadOnly: this.isDisabled }) :\r\n      h(Components.textInput, { placeholder: this.placeholder, value: this.value, onBhEventInput: (e) => {\r\n          this.onInputChange(e);\r\n        }, onFocus: this.onFocus, onBlur: this.onBlur, isSmall: this.isSmall, isFluid: this.isFluid, isRounded: this.isRounded, isError: this.isError, isDisabled: this.isDisabled })), h(\"span\", { class: searchButtonClasses.join(\" \") }, this._searchBtn && ((_b = (_a = this._searchBtn) === null || _a === void 0 ? void 0 : _a.slice(0, 1)) === null || _b === void 0 ? void 0 : _b.map((button) => (h(Components.button, { key: button.key, label: \"\", type: this.getButtonType(button.type), leftIcon: \"search\", isSmall: this.isSmall, isDisabled: this.isDisabled, isLoading: button.isLoading, onClick: (e) => {\r\n        if (button.isDisabled)\r\n          return;\r\n        this.onSearchClick(e, button);\r\n      } })))))), this.isButtonSearch && (h(Components.button, { label: \"Search\", leftIcon: \"search\", isSmall: this.isSmall, style: {\r\n        marginLeft: this.isRounded && !this.isSmall ? \"-20px\" : \"-10px\",\r\n      }, onClick: (e) => this.onSearchClick(e, { key: '' }) }))));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"data\": [\"watchData\"],\r\n    \"search\": [\"watchSearch\"],\r\n    \"searchParams\": [\"watchSearchParams\"]\r\n  }; }\r\n};\r\nBhSearch.style = bhSearchCss;\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * `<vaadin-grid-selection-column>` is a helper element for the `<vaadin-grid>`\n * that provides default templates and functionality for item selection.\n *\n * #### Example:\n * ```html\n * <vaadin-grid items=\"[[items]]\">\n *  <vaadin-grid-selection-column frozen auto-select></vaadin-grid-selection-column>\n *\n *  <vaadin-grid-column>\n *    ...\n * ```\n *\n * By default the selection column displays `<vaadin-checkbox>` elements in the\n * column cells. The checkboxes in the body rows toggle selection of the corresponding row items.\n *\n * When the grid data is provided as an array of [`items`](#/elements/vaadin-grid#property-items),\n * the column header gets an additional checkbox that can be used for toggling\n * selection for all the items at once.\n *\n * __The default content can also be overridden__\n *\n * @fires {CustomEvent} select-all-changed - Fired when the `selectAll` property changes.\n */\nclass GridSelectionColumnElement extends GridColumnElement {\n  static get template() {\n    return html`\n      <template class=\"header\" id=\"defaultHeaderTemplate\">\n        <vaadin-checkbox\n          class=\"vaadin-grid-select-all-checkbox\"\n          aria-label=\"Select All\"\n          hidden$=\"[[_selectAllHidden]]\"\n          on-checked-changed=\"_onSelectAllCheckedChanged\"\n          checked=\"[[_isChecked(selectAll, _indeterminate)]]\"\n          indeterminate=\"[[_indeterminate]]\"\n        ></vaadin-checkbox>\n      </template>\n      <template id=\"defaultBodyTemplate\">\n        <vaadin-checkbox aria-label=\"Select Row\" checked=\"{{selected}}\"></vaadin-checkbox>\n      </template>\n    `;\n  }\n\n  static get is() {\n    return 'vaadin-grid-selection-column';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Width of the cells for this column.\n       */\n      width: {\n        type: String,\n        value: '58px'\n      },\n\n      /**\n       * Flex grow ratio for the cell widths. When set to 0, cell width is fixed.\n       * @attr {number} flex-grow\n       * @type {number}\n       */\n      flexGrow: {\n        type: Number,\n        value: 0\n      },\n\n      /**\n       * When true, all the items are selected.\n       * @attr {boolean} select-all\n       * @type {boolean}\n       */\n      selectAll: {\n        type: Boolean,\n        value: false,\n        notify: true\n      },\n\n      /**\n       * When true, the active gets automatically selected.\n       * @attr {boolean} auto-select\n       * @type {boolean}\n       */\n      autoSelect: {\n        type: Boolean,\n        value: false\n      },\n\n      /** @private */\n      _indeterminate: Boolean,\n\n      /**\n       * The previous state of activeItem. When activeItem turns to `null`,\n       * previousActiveItem will have an Object with just unselected activeItem\n       * @private\n       */\n      _previousActiveItem: Object,\n\n      /** @private */\n      _selectAllHidden: Boolean\n    };\n  }\n\n  static get observers() {\n    return ['_onSelectAllChanged(selectAll)'];\n  }\n\n  /** @private */\n  _pathOrHeaderChanged(\n    path,\n    header,\n    headerCell,\n    footerCell,\n    cells,\n    renderer,\n    headerRenderer,\n    bodyTemplate,\n    headerTemplate\n  ) {\n    // As a special case, allow overriding the default header / body templates\n    if (cells.value && (path !== undefined || renderer !== undefined)) {\n      this._bodyTemplate = bodyTemplate = undefined;\n      this.__cleanCellsOfTemplateProperties(cells.value);\n    }\n    if (headerCell && (header !== undefined || headerRenderer !== undefined)) {\n      this._headerTemplate = headerTemplate = undefined;\n      this.__cleanCellsOfTemplateProperties([headerCell]);\n    }\n    super._pathOrHeaderChanged(\n      path,\n      header,\n      headerCell,\n      footerCell,\n      cells,\n      renderer,\n      headerRenderer,\n      bodyTemplate,\n      headerTemplate\n    );\n  }\n\n  /** @private */\n  __cleanCellsOfTemplateProperties(cells) {\n    cells.forEach((cell) => {\n      cell._content.innerHTML = '';\n      delete cell._instance;\n      delete cell._template;\n    });\n  }\n\n  /** @private */\n  _prepareHeaderTemplate() {\n    const headerTemplate = this._prepareTemplatizer(this._findTemplate(true) || this.$.defaultHeaderTemplate);\n    // needed to override the dataHost correctly in case internal template is used.\n    headerTemplate.templatizer.dataHost = headerTemplate === this.$.defaultHeaderTemplate ? this : this.dataHost;\n\n    return headerTemplate;\n  }\n\n  /** @private */\n  _prepareBodyTemplate() {\n    const template = this._prepareTemplatizer(this._findTemplate() || this.$.defaultBodyTemplate);\n    // needed to override the dataHost correctly in case internal template is used.\n    template.templatizer.dataHost = template === this.$.defaultBodyTemplate ? this : this.dataHost;\n\n    return template;\n  }\n\n  constructor() {\n    super();\n\n    this._boundOnActiveItemChanged = this._onActiveItemChanged.bind(this);\n    this._boundOnDataProviderChanged = this._onDataProviderChanged.bind(this);\n    this._boundOnSelectedItemsChanged = this._onSelectedItemsChanged.bind(this);\n  }\n\n  /** @protected */\n  disconnectedCallback() {\n    this._grid.removeEventListener('active-item-changed', this._boundOnActiveItemChanged);\n    this._grid.removeEventListener('data-provider-changed', this._boundOnDataProviderChanged);\n    this._grid.removeEventListener('filter-changed', this._boundOnSelectedItemsChanged);\n    this._grid.removeEventListener('selected-items-changed', this._boundOnSelectedItemsChanged);\n\n    super.disconnectedCallback();\n  }\n\n  /** @protected */\n  connectedCallback() {\n    super.connectedCallback();\n    if (this._grid) {\n      this._grid.addEventListener('active-item-changed', this._boundOnActiveItemChanged);\n      this._grid.addEventListener('data-provider-changed', this._boundOnDataProviderChanged);\n      this._grid.addEventListener('filter-changed', this._boundOnSelectedItemsChanged);\n      this._grid.addEventListener('selected-items-changed', this._boundOnSelectedItemsChanged);\n    }\n  }\n\n  /** @private */\n  _onSelectAllChanged(selectAll) {\n    if (selectAll === undefined || !this._grid) {\n      return;\n    }\n\n    if (this._selectAllChangeLock) {\n      return;\n    }\n\n    this._grid.selectedItems = selectAll && Array.isArray(this._grid.items) ? this._grid._filter(this._grid.items) : [];\n  }\n\n  /**\n   * Return true if array `a` contains all the items in `b`\n   * We need this when sorting or to preserve selection after filtering.\n   * @private\n   */\n  _arrayContains(a, b) {\n    for (var i = 0; a && b && b[i] && a.indexOf(b[i]) >= 0; i++); // eslint-disable-line\n    return i == b.length;\n  }\n\n  /** @private */\n  _onSelectAllCheckedChanged(e) {\n    this.selectAll = this._indeterminate || e.target.checked;\n  }\n\n  /**\n   * iOS needs indeterminated + checked at the same time\n   * @private\n   */\n  _isChecked(selectAll, indeterminate) {\n    return indeterminate || selectAll;\n  }\n\n  /** @private */\n  _onActiveItemChanged(e) {\n    const activeItem = e.detail.value;\n    if (this.autoSelect) {\n      const item = activeItem || this._previousActiveItem;\n      if (item) {\n        this._grid._toggleItem(item);\n      }\n    }\n    this._previousActiveItem = activeItem;\n  }\n\n  /** @private */\n  _onSelectedItemsChanged() {\n    this._selectAllChangeLock = true;\n    if (Array.isArray(this._grid.items)) {\n      if (!this._grid.selectedItems.length) {\n        this.selectAll = false;\n        this._indeterminate = false;\n      } else if (this._arrayContains(this._grid.selectedItems, this._grid._filter(this._grid.items))) {\n        this.selectAll = true;\n        this._indeterminate = false;\n      } else {\n        this.selectAll = false;\n        this._indeterminate = true;\n      }\n    }\n    this._selectAllChangeLock = false;\n  }\n\n  /** @private */\n  _onDataProviderChanged() {\n    this._selectAllHidden = !Array.isArray(this._grid.items);\n  }\n}\n\ncustomElements.define(GridSelectionColumnElement.is, GridSelectionColumnElement);\n\nconst ERROR_MESSAGE = 'Unable to locate the expected attributes. Please check the documentation and attach mandatory attributes';\n\nconst bhTabularListCss = \".bh-tabular-list{--datepicker-input-field-height:36px;--datepicker-input-icon-position-left:4px;--datepicker-input-icon-position-top:8px;--datepicker-input-value-padding:0px 0px 0px 12px}.bh-tabular-list__grid-template__header-with-filter__copy:after{position:absolute;font-family:var(--font-family-icon-small);font-size:var(--font-size-icon-small);color:var(--color-text-common-secondary);content:'\\\\e945';right:12px;width:18px;height:18px;opacity:0;-webkit-transition:all var(--motion-duration-fast) var(--motion-easing-fast);transition:all var(--motion-duration-fast) var(--motion-easing-fast)}.bh-tabular-list__grid-template__header-with-filter__copy:hover:after{opacity:1;-webkit-transition:all var(--motion-duration-fast) var(--motion-easing-fast);transition:all var(--motion-duration-fast) var(--motion-easing-fast)}.bh-tabular-list__container{border:var(--effect-border-width-regular) solid var(--color-border-common-primary);border-radius:var(--effect-border-radius-medium);background-color:var(--color-fill-common-secondary);overflow:visible;position:relative}.bh-tabular-list__header{padding:var(--spacing-padding-small);display:flex;align-items:center;justify-content:space-between}.bh-tabular-list__header__title{color:var(--color-text-common-primary)}.bh-tabular-list__header__cta-group{display:flex;align-items:center}.bh-tabular-list__header__cta{margin-left:var(--spacing-margin-xsmall)}.bh-tabular-list__header__cta.hidden{display:none}.bh-tabular-list__action-menu.hidden{display:none}.bh-tabular-list__search{margin-left:var(--spacing-margin-xsmall)}.bh-tabular-list__table{overflow:hidden;border-radius:0 0 var(--effect-border-radius-medium) var(--effect-border-radius-medium);position:relative}.bh-tabular-list__pagination{border-top:1px solid var(--color-border-common-primary);padding:var(--spacing-padding-small) var(--spacing-padding-small)}.bh-tabular-list__tooltip{position:absolute;left:50px;top:0;background-color:rgba(0, 0, 0, 0.8);color:white;display:table;padding:var(--spacing-padding-xsmall) var(--spacing-padding-small);border-radius:var(--effect-border-radius-medium);pointer-events:none;opacity:0;transition:opacity var(--motion-duration-fast) var(--motion-easing-fast)}.bh-tabular-list__tooltip.shown{opacity:1}.bh-tabular-list__tooltip__ghost-element{visibility:hidden;pointer-events:none;display:table;padding:0 var(--spacing-padding-small);height:0;position:absolute}.bh-tabular-list__empty-state{padding:var(--spacing-padding-medium);display:flex;justify-content:center}.bh-tabular-list__inline-action-menu-wrapper{width:100%;display:flex;justify-content:flex-end}.bh-tabular-list__inline-action-menu,.bh-tabular-list__inline-action-menu .bh-button--small.bh-button--icon{width:12px;height:12px}.bh-tabular-list__inline-action-menu .bh-button--small.bh-button--icon:hover{background-color:transparent}.bh-tabular-list__inline-action-menu .bh-button--small.bh-button--icon:focus{box-shadow:none}.bh-tabular-list__context-menu-container{position:fixed;z-index:100000;top:0;left:0}.bh-tabular-list__context-menu-container.hidden{display:none}.bh-tabular-list__loading{position:absolute;top:42px;width:100%;height:calc(100% - 42px);display:flex;align-items:center;justify-content:center;pointer-events:none}.bh-tabular-list__loading .bh-spinner{opacity:1}.bh-tabular-list__loading .overlay{opacity:0.5;background-color:var(--color-fill-common-secondary);position:absolute;width:100%;height:100%}@media (max-width: 599px){.bh-tabular-list{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bh-tabular-list__search{width:150px}}.bh-tabular-list__grid-template__header-with-filter__copy{height:42px;display:flex;align-items:center;border-bottom:var(--effect-border-width-regular) solid var(--color-border-common-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bh-tabular-list__grid-template__header-with-filter__copy>span{overflow:var(--tabulatlist-header-cell-overflow);text-overflow:var(--tabulatlist-header-cell-textoverflow)}.bh-tabular-list__grid-template__header-with-filter__copy.filter-column{padding:0 var(--spacing-padding-small)}.bh-tabular-list__grid-template__header-with-filter__text-field{height:44px;background-color:var(--color-fill-common-secondary);padding:0 var(--spacing-padding-xxsmall);border-bottom:1px solid var(--color-border-common-primary)}.bh-tabular-list__grid-template__header-with-filter__sort-icon{margin-left:var(--spacing-margin-xsmall)}.bh-tabular-list .bh-dropdown__container .bh-dropdown__input{box-sizing:initial}.bh-tabular-list .bh-dropdown__container .placeholder{background-color:inherit}\";\n\nconst BhTabularList = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventSelected = createEvent(this, \"bhEventSelected\", 7);\r\n    this.bhEventChange = createEvent(this, \"bhEventChange\", 7);\r\n    this.bhEventCtaClick = createEvent(this, \"bhEventCtaClick\", 7);\r\n    this.bhEventAppended = createEvent(this, \"bhEventAppended\", 7);\r\n    this.bhEventScroll = createEvent(this, \"bhEventScroll\", 7);\r\n    this._data = [];\r\n    this._rowsSelected = [];\r\n    this._sortedData = [];\r\n    // Loading\r\n    this.isLoading = false;\r\n    // Sorting\r\n    this.sorter = { path: '', direction: 'default' };\r\n    // Filter\r\n    this.filterQueries = [];\r\n    // Misc.\r\n    this.isContextMenuShown = false;\r\n    this.isFirstTimeToRender = true;\r\n    this.templateEvents = {};\r\n    this.readyToBlurWithTabShift = false;\r\n  }\r\n  ;\r\n  watchHeader() {\r\n    this.parseData();\r\n    this.handleUpdateDataToShow();\r\n  }\r\n  watchSchema() {\r\n    this.parseData();\r\n    this.handleUpdateDataToShow();\r\n  }\r\n  watchSelectedItems() {\r\n    this.parseData();\r\n    this.handleUpdateDataToShow();\r\n  }\r\n  watchPayload() {\r\n    var _a;\r\n    this.parseData();\r\n    this.filterWithWholeSearch();\r\n    this.paginationOptions = ((_a = this._option) === null || _a === void 0 ? void 0 : _a.paginationOptions) || [10, 20, 50];\r\n    this.handlePaginationChange({\r\n      itemCount: this._itemCount || this.paginationOptions[0],\r\n      currentPage: this._currentPage || 0,\r\n    });\r\n    if (this._option && this._option.dataLoadingMode === 'sync') {\r\n      this.isFirstTimeToRender = true;\r\n    }\r\n    this.handleUpdateDataToShow();\r\n  }\r\n  watchOption() {\r\n    var _a, _b, _c;\r\n    this.parseData();\r\n    if (!_.isEqual(this.sorter, (_a = this._option) === null || _a === void 0 ? void 0 : _a.sortState)) {\r\n      this.sorter = this._option.sortState;\r\n      const targetHeaderTemplateElement = (_c = (_b = this.el__grid) === null || _b === void 0 ? void 0 : _b.querySelector(`.bh-tabular-list__grid-template__header-with-filter__copy[prop=\"${this.sorter.path}\"]`)) === null || _c === void 0 ? void 0 : _c.querySelector('.bh-tabular-list__grid-template__header-with-filter__sort-icon');\r\n      if (targetHeaderTemplateElement)\r\n        targetHeaderTemplateElement.setAttribute('icon', this.sorter.direction ? (this.sorter.direction === 'asc' ? 'north' : 'south') : '');\r\n    }\r\n    this.handleUpdateDataToShow();\r\n  }\r\n  // Listeners\r\n  handleResize() {\r\n    if (!this.isWindowResizing) {\r\n      this.isWindowResizing = true;\r\n    }\r\n    clearTimeout(this.windowResizeTimeout);\r\n    this.windowResizeTimeout = setTimeout(() => {\r\n      if (this.isWindowResizing)\r\n        this.isWindowResizing = false;\r\n    }, 100);\r\n    const bp = getBreakpoint();\r\n    if (this.viewport !== bp)\r\n      this.viewport = bp;\r\n  }\r\n  setSearchResults(event) {\r\n    if (this._header.search) {\r\n      this.searchResults = event.detail;\r\n      if (this.searchResults.length) {\r\n        this.handlePaginationReset({\r\n          itemCount: this._itemCount,\r\n          currentPage: 0,\r\n        });\r\n      }\r\n      this.handleUpdateDataToShow();\r\n    }\r\n  }\r\n  parseWidth(width) {\r\n    if (typeof width === 'number')\r\n      return `${width}px`;\r\n    if (typeof width === 'string') {\r\n      return width.indexOf('px') > -1 ? width : null;\r\n    }\r\n  }\r\n  filterWithWholeSearch() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h;\r\n    try {\r\n      if ((_a = this._option) === null || _a === void 0 ? void 0 : _a.clearSearchResults) {\r\n        this.filterQueries = [];\r\n        this.searchQuery = '';\r\n      }\r\n      else {\r\n        if (this.searchQuery && this.searchQuery != '') {\r\n          const params = ((_c = (_b = this._header) === null || _b === void 0 ? void 0 : _b.search) === null || _c === void 0 ? void 0 : _c.searchParams) || Object.keys((_d = this._payload) === null || _d === void 0 ? void 0 : _d.data[0]);\r\n          if (((_e = this._option) === null || _e === void 0 ? void 0 : _e.disableFuzzySearch) && ((_f = this._payload) === null || _f === void 0 ? void 0 : _f.data)) {\r\n            this.searchResults = (_h = (_g = this._payload) === null || _g === void 0 ? void 0 : _g.data) === null || _h === void 0 ? void 0 : _h.filter((item) => {\r\n              for (let key of params) {\r\n                if (item[key] && this.searchQuery && String(item[key]).toLowerCase().indexOf(this.searchQuery.toLowerCase()) >= 0) {\r\n                  return true;\r\n                }\r\n              }\r\n            });\r\n          }\r\n          else {\r\n            let searcher = new FuzzySearch(this._payload.data, params);\r\n            this.searchResults = searcher.search(this.searchQuery);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  handleSort(_data) {\r\n    if (this.sorter) {\r\n      let data = this._sortedData = _.sortBy(_data, (i) => {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\r\n        if (((_b = (_a = this.sorter) === null || _a === void 0 ? void 0 : _a.option) === null || _b === void 0 ? void 0 : _b.dataType) == 'Number') {\r\n          return isNaN(i[(_c = this.sorter) === null || _c === void 0 ? void 0 : _c.path]) ? 0 : i[(_d = this.sorter) === null || _d === void 0 ? void 0 : _d.path];\r\n        }\r\n        if (typeof i[(_e = this.sorter) === null || _e === void 0 ? void 0 : _e.path] === 'number') {\r\n          return i[(_f = this.sorter) === null || _f === void 0 ? void 0 : _f.path];\r\n        }\r\n        if (typeof i[(_g = this.sorter) === null || _g === void 0 ? void 0 : _g.path] !== 'number') {\r\n          if ((_h = this.sorter.option) === null || _h === void 0 ? void 0 : _h.dateFormat) {\r\n            return hooks(i[(_j = this.sorter) === null || _j === void 0 ? void 0 : _j.path].toLowerCase(), (_k = this.sorter.option) === null || _k === void 0 ? void 0 : _k.dateFormat).valueOf();\r\n          }\r\n          else {\r\n            return (i[(_l = this.sorter) === null || _l === void 0 ? void 0 : _l.path].toLowerCase());\r\n          }\r\n        }\r\n      });\r\n      return this.sorter.direction === 'asc' ? data : data.reverse();\r\n    }\r\n    return _data;\r\n  }\r\n  handleUpdateDataToShow() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n    try {\r\n      if (this._option && this._option.dataLoadingMode === 'async') {\r\n        this.dataToShow = (_a = this._payload) === null || _a === void 0 ? void 0 : _a.data;\r\n      }\r\n      else {\r\n        let _data;\r\n        if (((_b = this._option) === null || _b === void 0 ? void 0 : _b.searchMode) === 'whole') {\r\n          _data = this.searchQuery ? this.searchResults : (_c = this._payload) === null || _c === void 0 ? void 0 : _c.data;\r\n        }\r\n        else if (((_d = this._option) === null || _d === void 0 ? void 0 : _d.searchMode) === 'column') {\r\n          _data = (_e = this._payload) === null || _e === void 0 ? void 0 : _e.data;\r\n          this.filterQueries.forEach((fq) => {\r\n            _data = _data.filter((datum) => {\r\n              if (typeof (datum[fq.prop]) === 'string') {\r\n                return datum[fq.prop] && fq.query && datum[fq.prop].toLowerCase().includes(fq.query.toLowerCase());\r\n              }\r\n              else {\r\n                return datum[fq.prop] && fq.query && datum[fq.prop].toString().includes(fq.query);\r\n              }\r\n            });\r\n          });\r\n        }\r\n        else {\r\n          _data = (_f = this._payload) === null || _f === void 0 ? void 0 : _f.data;\r\n        }\r\n        this._data = [..._data];\r\n        if ((_g = this._option) === null || _g === void 0 ? void 0 : _g.disableSort) {\r\n          this.dataToShow = ((_h = this._option) === null || _h === void 0 ? void 0 : _h.paginationMode) === 'hidden'\r\n            ? _data\r\n            : _data.slice(this.dataIndexStart, this.dataIndexEnd);\r\n        }\r\n        else {\r\n          if (this.sorter && (this.sorter.direction === 'asc' || this.sorter.direction === 'desc')) {\r\n            this.dataToShow = ((_j = this._option) === null || _j === void 0 ? void 0 : _j.paginationMode) === 'hidden'\r\n              ? this.handleSort(_data)\r\n              : this.handleSort(_data).slice(this.dataIndexStart, this.dataIndexEnd);\r\n          }\r\n          else {\r\n            this.dataToShow = ((_k = this._option) === null || _k === void 0 ? void 0 : _k.paginationMode) === 'hidden'\r\n              ? _data\r\n              : _data.slice(this.dataIndexStart, this.dataIndexEnd);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  handleSorting(arg) {\r\n    try {\r\n      if (!arg.path)\r\n        return;\r\n      let direction = 'default';\r\n      if (arg.path === this.sorter.path) {\r\n        if (this._option.disableDefaultSort && this._option.disableDefaultSort === true) {\r\n          if (this.sorter.direction === 'asc') {\r\n            direction = 'desc';\r\n          }\r\n          else if (this.sorter.direction === 'desc') {\r\n            direction = 'asc';\r\n          }\r\n          else {\r\n            direction = 'asc';\r\n          }\r\n        }\r\n        else {\r\n          if (this.sorter.direction === 'asc') {\r\n            direction = 'desc';\r\n          }\r\n          else if (this.sorter.direction === 'desc') {\r\n            direction = 'default';\r\n          }\r\n          else if (this.sorter.direction === 'default') {\r\n            direction = 'asc';\r\n          }\r\n          else {\r\n            direction = 'asc';\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        direction = 'asc';\r\n      }\r\n      this.sorter = { direction, path: arg.path, option: arg.option };\r\n      setTimeout(() => {\r\n        var _a, _b, _c;\r\n        (_a = this.el__grid) === null || _a === void 0 ? void 0 : _a.querySelectorAll('.bh-tabular-list__grid-template__header-with-filter__copy').forEach((el) => {\r\n          var _a;\r\n          (_a = el === null || el === void 0 ? void 0 : el.querySelector('.bh-tabular-list__grid-template__header-with-filter__sort-icon')) === null || _a === void 0 ? void 0 : _a.setAttribute('icon', 'unfold_more');\r\n        });\r\n        const targetHeaderTemplateElement = (_c = (_b = this.el__grid) === null || _b === void 0 ? void 0 : _b.querySelector(`.bh-tabular-list__grid-template__header-with-filter__copy[prop=\"${arg.path}\"]`)) === null || _c === void 0 ? void 0 : _c.querySelector('.bh-tabular-list__grid-template__header-with-filter__sort-icon');\r\n        if (targetHeaderTemplateElement && arg.path === this.sorter.path)\r\n          targetHeaderTemplateElement.setAttribute('icon', this.sorter.direction ? (this.sorter.direction === 'asc' ? 'north' : 'south') : this.sorter.direction ? this.sorter.direction === 'default' ? 'unfold_more' : '' : '');\r\n        if (this.sorter.direction === 'default') {\r\n          targetHeaderTemplateElement.setAttribute('icon', 'unfold_more');\r\n        }\r\n      });\r\n      this.handleUpdateDataToShow();\r\n      this.bhEventChange.emit({\r\n        type: 'sort',\r\n        payload: this.sorter\r\n      });\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  handlePaginationChange(arg) {\r\n    try {\r\n      this._itemCount = arg.itemCount;\r\n      this._currentPage = arg.currentPage;\r\n      this.handlePaginationReset(arg);\r\n      this.handleUpdateDataToShow();\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  handlePaginationReset(arg) {\r\n    var _a, _b, _c;\r\n    try {\r\n      if (!Array.isArray((_a = this._payload) === null || _a === void 0 ? void 0 : _a.data))\r\n        return;\r\n      const itemCount = arg.itemCount || 0;\r\n      const currentPage = arg.currentPage || 0;\r\n      this.dataIndexStart =\r\n        ((_b = this._option) === null || _b === void 0 ? void 0 : _b.paginationMode) === 'hidden' ? 0 : itemCount * currentPage;\r\n      this.dataIndexEnd =\r\n        ((_c = this._option) === null || _c === void 0 ? void 0 : _c.paginationMode) === 'hidden'\r\n          ? this._payload.length\r\n          : itemCount * (currentPage + 1);\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  handleLinkClick(event) {\r\n    var _a, _b, _c, _d;\r\n    try {\r\n      const item = (_a = this.el__grid.getEventContext(event)) === null || _a === void 0 ? void 0 : _a.item;\r\n      if (item && ((_b = this._option) === null || _b === void 0 ? void 0 : _b.link) && ((_c = this._option) === null || _c === void 0 ? void 0 : _c.link.prop)) {\r\n        const href = item[this._option.link.prop];\r\n        if (!href)\r\n          return;\r\n        window.open(href, ((_d = this._option.link) === null || _d === void 0 ? void 0 : _d.target) || '_self');\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  parseData() {\r\n    var _a, _b;\r\n    try {\r\n      this._header =\r\n        typeof this.header === 'string'\r\n          ? JSON.parse(this.header)\r\n          : this.header;\r\n      if (typeof this.schema === 'string') {\r\n        try {\r\n          this._schema = JSON.parse(this.schema);\r\n        }\r\n        catch (_c) { }\r\n      }\r\n      else {\r\n        this._schema = this.schema;\r\n      }\r\n      this._payload =\r\n        typeof this.payload === 'string'\r\n          ? JSON.parse(this.payload)\r\n          : this.payload;\r\n      this._option =\r\n        typeof this.option === 'string'\r\n          ? JSON.parse(this.option)\r\n          : this.option;\r\n      this._selectedItems = typeof this.selectedItems === 'string' ? JSON.parse(this.selectedItems) : this.selectedItems;\r\n      try {\r\n        this._customSelectionEnabled = (_a = this._option) === null || _a === void 0 ? void 0 : _a.customSelectionEnabled;\r\n        if (this._payload && this._payload.data) {\r\n          this._payload.data = this._sortedData = this._payload.data.map((item, index) => {\r\n            item['bh-tabular-list-index'] = index;\r\n            if ('$rowSelected' in item || '$rowDisabled' in item) {\r\n              this._customSelectionEnabled = true;\r\n            }\r\n            return item;\r\n          });\r\n          if ((_b = this._option) === null || _b === void 0 ? void 0 : _b.isMultiRowsSelectable) {\r\n            if (this._customSelectionEnabled) {\r\n              this._rowsSelected = this._payload.data.filter((item) => item['$rowSelected']);\r\n            }\r\n            if (this._customCheckkbox) {\r\n              this._customCheckkbox.setAttribute('checked', 'false');\r\n            }\r\n          }\r\n        }\r\n      }\r\n      catch (e) {\r\n        console.warn(ERROR_MESSAGE);\r\n        this._payload = {\r\n          length: 0,\r\n          data: []\r\n        };\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  componentWillLoad() {\r\n    var _b, _c;\r\n    try {\r\n      this.parseData();\r\n      this.viewport = getBreakpoint();\r\n      if (!document.getElementById('bh-ui-toolkit__vaadin-grid')) {\r\n        CreateDomModules$1().forEach(m => {\r\n          document.body.appendChild(m);\r\n        });\r\n      }\r\n      // Sorter\r\n      this.sorter = ((_b = this._option) === null || _b === void 0 ? void 0 : _b.sortState) || { direction: 'default', path: '' };\r\n      // Pagination\r\n      this.paginationOptions = ((_c = this._option) === null || _c === void 0 ? void 0 : _c.paginationOptions) || [10, 20, 50];\r\n      this.handlePaginationChange({\r\n        itemCount: this._itemCount || this.paginationOptions[0],\r\n        currentPage: this._currentPage || 0,\r\n      });\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  mouseOverEvent(event) {\r\n    try {\r\n      const root = event.target;\r\n      const innerContent = root.innerHTML;\r\n      this.el__tooltipGhostElement.innerHTML = innerContent;\r\n      if (this.el__tooltipGhostElement.clientWidth > root.clientWidth) {\r\n        this.el__tooltip.classList.add('shown');\r\n        this.el__tooltipMessage.innerHTML = innerContent;\r\n        const eventTargetRect = event.target.getClientRects()[0];\r\n        const containerRect = this.el__container.getClientRects()[0];\r\n        const leftPostion = (eventTargetRect.x - containerRect.x - (this.el__tooltip.clientWidth - eventTargetRect.width) / 2);\r\n        this.el__tooltip.style.left = `${leftPostion < 0 ? 0 : (leftPostion > containerRect.width ? containerRect.width - this.el__tooltip.clientWidth : leftPostion)}px`;\r\n        this.el__tooltip.style.top = `${eventTargetRect.y -\r\n          containerRect.y -\r\n          (eventTargetRect.top > 200\r\n            ? this.el__tooltip.clientHeight - 8\r\n            : 8 - 2 * this.el__tooltip.clientHeight)}px`;\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  mouseLeaveEvent() {\r\n    try {\r\n      this.el__tooltip.classList.remove('shown');\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  columnSearchQuery(payload) {\r\n    try {\r\n      clearTimeout(this.timer);\r\n      this.timer = setTimeout(() => {\r\n        var _a;\r\n        const { schemaPartial, value } = payload;\r\n        this.bhEventChange.emit({\r\n          type: 'search',\r\n          payload: {\r\n            label: schemaPartial.label,\r\n            prop: schemaPartial.prop,\r\n            query: value\r\n          }\r\n        });\r\n        if (((_a = this._option) === null || _a === void 0 ? void 0 : _a.dataLoadingMode) === 'sync') {\r\n          const propTar = schemaPartial.prop;\r\n          var queryTar = value;\r\n          if (propTar == '_filter-query--all') ;\r\n          else {\r\n            if (this.filterQueries.find((q) => { return propTar === q.prop; })) {\r\n              this.filterQueries = this.filterQueries.filter((q) => { return propTar !== q.prop; });\r\n              if (queryTar)\r\n                this.filterQueries = [...this.filterQueries, { prop: propTar, query: queryTar }];\r\n            }\r\n            else {\r\n              if (queryTar)\r\n                this.filterQueries = [...this.filterQueries, { prop: propTar, query: queryTar }];\r\n            }\r\n          }\r\n          if (this.filterQueries.length) {\r\n            this.handlePaginationReset({\r\n              itemCount: this._itemCount,\r\n              currentPage: 0,\r\n            });\r\n          }\r\n          this.handleUpdateDataToShow();\r\n          // this.isFirstTimeToRender=true;\r\n          // this.appendHtmlTemplate();\r\n        }\r\n      }, 500);\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  appendHtmlTemplate() {\r\n    var _a, _b, _c, _d;\r\n    try {\r\n      const prefix = this.host.tagName.toLowerCase().replace(components.tabularList.tagNameBase, '');\r\n      const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n      const that = this;\r\n      this.hasHTMLTemplate = false;\r\n      const columns = document\r\n        .getElementById(this.id)\r\n        .querySelectorAll('vaadin-grid-column');\r\n      const selection_columns = document\r\n        .getElementById(this.id)\r\n        .querySelectorAll('vaadin-grid-selection-column');\r\n      // Template Column\r\n      // From Schema\r\n      (_a = this._schema) === null || _a === void 0 ? void 0 : _a.forEach((schemaPartial, index) => {\r\n        var _a, _b;\r\n        const _mouseOverEvent = (event) => {\r\n          this.mouseOverEvent(event);\r\n        };\r\n        const _mouseLeaveEvent = () => {\r\n          this.mouseLeaveEvent();\r\n        };\r\n        if (!columns[index])\r\n          return;\r\n        // Header Cell Template\r\n        if (this.isFirstTimeToRender) {\r\n          columns[index].headerRenderer = (root) => {\r\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\r\n            let columnSearchTemplate = ``;\r\n            const searchPlaceHolder = ((_a = this._option) === null || _a === void 0 ? void 0 : _a.searchMode) === 'column' ? `<div class=\"bh-tabular-list__grid-template__header-with-filter__text-field\">\r\n\t\t\t\t\t</div>` : '';\r\n            if ((_b = schemaPartial.option) === null || _b === void 0 ? void 0 : _b.searchType) {\r\n              if (((_d = (_c = schemaPartial.option) === null || _c === void 0 ? void 0 : _c.searchType) === null || _d === void 0 ? void 0 : _d.component) === 'dropdown') {\r\n                columnSearchTemplate = `\r\n\t\t\t\t\t\t\t<div class=\"bh-tabular-list__grid-template__header-with-filter__copy filter-column\" prop=\"${schemaPartial.prop}\">\r\n\t\t\t\t\t\t\t\t<span>${schemaPartial.label}</span>\r\n\t\t\t\t\t\t\t\t${((_e = schemaPartial.option) === null || _e === void 0 ? void 0 : _e.isSortable) ? `<${Components.icon} class=\"bh-tabular-list__grid-template__header-with-filter__sort-icon\" color=\"teal\" size=\"small\"></${Components.icon}>` : ''}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"bh-tabular-list__grid-template__header-with-filter__text-field\">\r\n\t\t\t\t\t\t\t\t<${Components.dropdown} menu-items='${JSON.stringify((_f = schemaPartial.option) === null || _f === void 0 ? void 0 : _f.searchType.values)}' inline fluid small placeholder=\"Search by ${schemaPartial.label}\"></${Components.dropdown}>\r\n\t\t\t\t\t\t\t</div>`;\r\n              }\r\n              else if (((_h = (_g = schemaPartial.option) === null || _g === void 0 ? void 0 : _g.searchType) === null || _h === void 0 ? void 0 : _h.component) === 'date-picker') {\r\n                columnSearchTemplate = `\r\n\t\t\t\t\t\t\t<div class=\"bh-tabular-list__grid-template__header-with-filter__copy filter-column\" prop=\"${schemaPartial.prop}\">\r\n\t\t\t\t\t\t\t\t<span>${schemaPartial.label}</span>\r\n\t\t\t\t\t\t\t\t${((_j = schemaPartial.option) === null || _j === void 0 ? void 0 : _j.isSortable) ? `<${Components.icon} class=\"bh-tabular-list__grid-template__header-with-filter__sort-icon\" color=\"teal\" size=\"small\"></${Components.icon}>` : ''}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"bh-tabular-list__grid-template__header-with-filter__text-field\">\r\n\t\t\t\t\t\t\t\t<${Components.datePicker} date-format=\"${(_k = schemaPartial.option) === null || _k === void 0 ? void 0 : _k.dateFormat}\" label=\"\" disable-helper=\"true\" inline width=\"fluid\" placeholder=\"Search by ${schemaPartial.label}\"></${Components.dropdown}>\r\n\t\t\t\t\t\t\t</div>`;\r\n              }\r\n            }\r\n            else {\r\n              const value = ([...this.filterQueries].find((i) => i.prop == schemaPartial.prop)) ? ([...this.filterQueries].find((i) => i.prop == schemaPartial.prop)).query : '';\r\n              columnSearchTemplate = ` <div class=\"bh-tabular-list__grid-template__header-with-filter__copy filter-column\" prop=\"${schemaPartial.prop}\">\r\n\t\t\t\t\t\t\t\t \t<span>${schemaPartial.label}</span>\r\n\t\t\t\t\t\t\t\t \t${((_l = schemaPartial.option) === null || _l === void 0 ? void 0 : _l.isSortable) ? `<${Components.icon} class=\"bh-tabular-list__grid-template__header-with-filter__sort-icon\" color=\"teal\" size=\"small\"></${Components.icon}>` : ''}\r\n\t\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t\t <div class=\"bh-tabular-list__grid-template__header-with-filter__text-field\">\r\n\t\t\t\t\t\t\t\t <${Components.textInput} value=\"${value}\" start-icon=\"search\" fluid small placeholder=\"Search by ${schemaPartial.label}\"></${Components.textInput}>\r\n\t\t\t\t\t\t\t\t </div>`;\r\n            }\r\n            root.innerHTML = ((_m = this._option) === null || _m === void 0 ? void 0 : _m.searchMode) === 'column' && (!this._option.disableSearchProps || !(((_o = this._option.disableSearchProps) === null || _o === void 0 ? void 0 : _o.indexOf(schemaPartial.prop)) >= 0)) ? columnSearchTemplate\r\n              : `\r\n\t\t\t\t\t<div class=\"bh-tabular-list__grid-template__header-with-filter__copy\" prop=\"${schemaPartial.prop}\">\r\n\t\t\t\t\t\t<span>${schemaPartial.label}</span>\r\n\t\t\t\t\t\t${((_p = schemaPartial.option) === null || _p === void 0 ? void 0 : _p.isSortable) ? `<${Components.icon} class=\"bh-tabular-list__grid-template__header-with-filter__sort-icon\" color=\"teal\" size=\"small\"></${Components.icon}>` : ''}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t ${searchPlaceHolder}`;\r\n            if (((_q = this._option) === null || _q === void 0 ? void 0 : _q.searchMode) === 'column' && !(((_r = this._option.disableSearchProps) === null || _r === void 0 ? void 0 : _r.indexOf(schemaPartial.prop)) >= 0)) {\r\n              if (((_t = (_s = schemaPartial.option) === null || _s === void 0 ? void 0 : _s.searchType) === null || _t === void 0 ? void 0 : _t.component) === 'date-picker') {\r\n                const datePicker = root.getElementsByTagName('bh-date-picker');\r\n                (_u = datePicker[0]) === null || _u === void 0 ? void 0 : _u.addEventListener('bhEventChange', (event) => {\r\n                  var _a;\r\n                  event.stopImmediatePropagation();\r\n                  const selectedDate = event.detail;\r\n                  let query = '';\r\n                  if (selectedDate.trim() != '') {\r\n                    query = hooks(selectedDate, 'YYYY-MM-DD').format((_a = schemaPartial.option) === null || _a === void 0 ? void 0 : _a.dateFormat);\r\n                  }\r\n                  that.columnSearchQuery({ schemaPartial, value: query });\r\n                });\r\n              }\r\n              else if (((_w = (_v = schemaPartial.option) === null || _v === void 0 ? void 0 : _v.searchType) === null || _w === void 0 ? void 0 : _w.component) === 'dropdown') {\r\n                const dropdown = root.getElementsByTagName('bh-dropdown');\r\n                (_x = dropdown[0]) === null || _x === void 0 ? void 0 : _x.addEventListener('bhEventSelected', (event) => {\r\n                  this.columnSearchQuery({ schemaPartial, value: (event['detail']) });\r\n                  event.stopImmediatePropagation();\r\n                });\r\n              }\r\n              else {\r\n                root.onkeyup = (event) => {\r\n                  that.columnSearchQuery({ schemaPartial, value: event.target.value });\r\n                };\r\n              }\r\n            }\r\n            if ((_y = schemaPartial.option) === null || _y === void 0 ? void 0 : _y.isSortable) {\r\n              const targetHeaderTemplateElement = (_0 = (_z = this.el__grid) === null || _z === void 0 ? void 0 : _z.querySelector(`.bh-tabular-list__grid-template__header-with-filter__copy[prop=\"${schemaPartial.prop}\"]`)) === null || _0 === void 0 ? void 0 : _0.querySelector('.bh-tabular-list__grid-template__header-with-filter__sort-icon');\r\n              if (targetHeaderTemplateElement) {\r\n                targetHeaderTemplateElement.setAttribute('icon', 'unfold_more');\r\n              }\r\n              if (targetHeaderTemplateElement && schemaPartial.prop === that.sorter.path) {\r\n                targetHeaderTemplateElement.setAttribute('icon', that.sorter.direction ? (that.sorter.direction === 'asc' ? 'north' : 'south') : '');\r\n              }\r\n              root.onclick = (event) => {\r\n                var _a, _b;\r\n                if ((_b = (_a = that.el__grid) === null || _a === void 0 ? void 0 : _a.querySelector(`.bh-tabular-list__grid-template__header-with-filter__copy[prop=\"${schemaPartial.prop}\"]`)) === null || _b === void 0 ? void 0 : _b.contains(event.target)) {\r\n                  this.handleSorting({ path: schemaPartial.prop, option: schemaPartial.option });\r\n                }\r\n              };\r\n            }\r\n          };\r\n        }\r\n        // Body Cell Template\r\n        columns[index].renderer = (root, column, model) => {\r\n          var _a, _b;\r\n          if (that.isWindowResizing)\r\n            return;\r\n          if ((_a = schemaPartial === null || schemaPartial === void 0 ? void 0 : schemaPartial.html) === null || _a === void 0 ? void 0 : _a.template) {\r\n            this.hasHTMLTemplate = true;\r\n            let _template = schemaPartial.html.template;\r\n            (_b = schemaPartial.html.keys) === null || _b === void 0 ? void 0 : _b.forEach((key, index) => {\r\n              _template = _template.replace(`{${index}}`, typeof model.item[key] === 'object'\r\n                ? JSON.stringify(model.item[key])\r\n                : model.item[key]);\r\n            });\r\n            root.innerHTML = _template;\r\n            root.setAttribute('bh-tabular-list-index', model.item['bh-tabular-list-index']);\r\n            if (schemaPartial.html.events && schemaPartial.html.events.length) {\r\n              schemaPartial.html.events.forEach((eventDefinition) => {\r\n                var _a;\r\n                let _func = `if(this.getAttribute('bh-tabular-list-index')!= ${model.item['bh-tabular-list-index']}) return;` + eventDefinition.func;\r\n                if (_func) {\r\n                  (_a = schemaPartial.html.keys) === null || _a === void 0 ? void 0 : _a.forEach((key, index) => {\r\n                    _func = _func.replace(`{${index}}`, typeof model.item[key] === 'object'\r\n                      ? JSON.stringify(model.item[key])\r\n                      : model.item[key]);\r\n                  });\r\n                  if (!this.templateEvents[model.index.toString()])\r\n                    this.templateEvents[model.index.toString()] = {};\r\n                  if (!this.templateEvents[model.index.toString()][schemaPartial.prop])\r\n                    this.templateEvents[model.index.toString()][schemaPartial.prop] = {};\r\n                  if (!this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type])\r\n                    this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type] = {};\r\n                  root.removeEventListener(`${eventDefinition.type}`, this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type]['func']);\r\n                  this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type]['func'] = new Function('event', _func);\r\n                  root.addEventListener(`${eventDefinition.type}`, this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type]['func']);\r\n                }\r\n                if (!this.templateEvents[model.index.toString()])\r\n                  this.templateEvents[model.index.toString()] = {};\r\n                if (!this.templateEvents[model.index.toString()][schemaPartial.prop])\r\n                  this.templateEvents[model.index.toString()][schemaPartial.prop] = {};\r\n                if (!this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type])\r\n                  this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type] = {};\r\n                root.removeEventListener(`${eventDefinition.type}`, this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type]['appended']);\r\n                let that = this;\r\n                this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type]['appended'] = function (event) {\r\n                  var _a;\r\n                  if (parseInt(this.getAttribute('bh-tabular-list-index')) !== model.item['bh-tabular-list-index'])\r\n                    return;\r\n                  that.bhEventAppended.emit({\r\n                    type: eventDefinition.type,\r\n                    event,\r\n                    items: ((_a = schemaPartial === null || schemaPartial === void 0 ? void 0 : schemaPartial.html) === null || _a === void 0 ? void 0 : _a.keys) ? schemaPartial.html.keys.reduce((item, key) => {\r\n                      return Object.assign(Object.assign({}, item), { [key]: model.item[key] });\r\n                    }, {}) : model.item,\r\n                    rowId: model.item['bh-tabular-list-index'],\r\n                    itemRaw: model.item,\r\n                  });\r\n                };\r\n                root.addEventListener(`${eventDefinition.type}`, this.templateEvents[model.index.toString()][schemaPartial.prop][eventDefinition.type]['appended']);\r\n              });\r\n            }\r\n          }\r\n          else {\r\n            const innerContent = model.item[schemaPartial.prop];\r\n            root.innerHTML = `${innerContent}`;\r\n            root.removeEventListener('mouseover', _mouseOverEvent, true);\r\n            root.addEventListener('mouseover', _mouseOverEvent, true);\r\n            root.removeEventListener('mouseleave', _mouseLeaveEvent, true);\r\n            root.addEventListener('mouseleave', _mouseLeaveEvent, true);\r\n          }\r\n        };\r\n        try {\r\n          if (this._customSelectionEnabled && ((_a = this._option) === null || _a === void 0 ? void 0 : _a.isMultiRowsSelectable)) {\r\n            if (!selection_columns[index])\r\n              return;\r\n            let selectAllCheckbox = this.el__grid.querySelector('.vaadin-grid-select-all-checkbox');\r\n            if (selectAllCheckbox) {\r\n              this._customCheckkbox = ((_b = this._option) === null || _b === void 0 ? void 0 : _b.hideMultiRowsSelectable) || this._sortedData.length === 0 ? document.createElement(\"span\") : document.createElement(\"bh-checkbox\");\r\n              this._rowsSelected = this._sortedData.filter((item) => item['$rowSelected']);\r\n              if (!this.templateEvents)\r\n                this.templateEvents = {};\r\n              if (!this.templateEvents['bh-checkbox-all'])\r\n                this.templateEvents['bh-checkbox-all'] = {};\r\n              if (!this.templateEvents['bh-checkbox-all']['bhEventChange'])\r\n                this.templateEvents['bh-checkbox-all']['bhEventChange'] = {};\r\n              this._customCheckkbox.removeEventListener(`bhEventChange`, this.templateEvents['bh-checkbox-all']['bhEventChange']['func']);\r\n              this.templateEvents['bh-checkbox-all']['bhEventChange']['func'] = (e) => {\r\n                this._customCheckkbox.removeAttribute('indeterminate');\r\n                const newPayload = this._sortedData.map((item) => {\r\n                  item['$rowSelected'] = e.detail;\r\n                  return item;\r\n                });\r\n                this._payload = Object.assign({\r\n                  data: newPayload,\r\n                  length: newPayload.length\r\n                });\r\n                this._rowsSelected = this._sortedData.filter((item) => item['$rowSelected']);\r\n                this.bhEventSelected.emit({ type: 'multi-rows-selection', payload: this._rowsSelected });\r\n              };\r\n              this._customCheckkbox.addEventListener(`bhEventChange`, this.templateEvents['bh-checkbox-all']['bhEventChange']['func']);\r\n              selectAllCheckbox.parentNode.replaceChild(this._customCheckkbox, selectAllCheckbox);\r\n            }\r\n            if (this._customCheckkbox && this._rowsSelected.length > 0 && this._rowsSelected.length < this._data.length) {\r\n              this._customCheckkbox.setAttribute('indeterminate', '');\r\n            }\r\n            selection_columns[index].renderer = (root, column, model) => {\r\n              if (that.isWindowResizing)\r\n                return;\r\n              root.innerHTML = `<bh-checkbox data-index=\"${index}\" ${model.item['$rowSelected'] ? 'checked' : ''} ${model.item['$rowDisabled'] ? 'disabled' : ''}></bh-checkbox>`;\r\n              if (!this.templateEvents[model.index.toString()])\r\n                this.templateEvents[model.index.toString()] = {};\r\n              if (!this.templateEvents[model.index.toString()]['bh-checkbox'])\r\n                this.templateEvents[model.index.toString()]['bh-checkbox'] = {};\r\n              if (!this.templateEvents[model.index.toString()]['bh-checkbox']['bhEventChange'])\r\n                this.templateEvents[model.index.toString()]['bh-checkbox']['bhEventChange'] = {};\r\n              root.removeEventListener(`bhEventChange`, this.templateEvents[model.index.toString()]['bh-checkbox']['bhEventChange']['func']);\r\n              this.templateEvents[model.index.toString()]['bh-checkbox']['bhEventChange']['func'] = (e) => {\r\n                var _a, _b;\r\n                model.item['$rowSelected'] = e.detail;\r\n                model.selected = e.detail;\r\n                if ((_a = this._option) === null || _a === void 0 ? void 0 : _a.isRowSelectable) {\r\n                  const item = model.item;\r\n                  this.bhEventSelected.emit({ type: 'row-selection', item: item ? item : {} });\r\n                }\r\n                if ((_b = this._option) === null || _b === void 0 ? void 0 : _b.isMultiRowsSelectable) {\r\n                  this._rowsSelected = this._payload.data.filter((item) => item['$rowSelected']);\r\n                  this.bhEventSelected.emit({ type: 'multi-rows-selection', payload: this._rowsSelected });\r\n                  if (this._customCheckkbox) {\r\n                    if (this._rowsSelected.length === 0) {\r\n                      this._customCheckkbox.removeAttribute('indeterminate');\r\n                      this._customCheckkbox.setAttribute('checked', 'false');\r\n                    }\r\n                    else {\r\n                      if (this._rowsSelected.length === this._data.length) {\r\n                        this._customCheckkbox.removeAttribute('indeterminate');\r\n                        this._customCheckkbox.setAttribute('checked', '');\r\n                      }\r\n                      else if (this._rowsSelected.length < this._data.length) {\r\n                        this._customCheckkbox.setAttribute('indeterminate', '');\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n              root.addEventListener(`bhEventChange`, this.templateEvents[model.index.toString()]['bh-checkbox']['bhEventChange']['func']);\r\n            };\r\n          }\r\n        }\r\n        catch (e) {\r\n          console.warn(ERROR_MESSAGE);\r\n        }\r\n      });\r\n      // Action Menu\r\n      if ((_b = this._option) === null || _b === void 0 ? void 0 : _b.actionMenu) {\r\n        if (!columns[columns.length - 1])\r\n          return;\r\n        if (this._option.searchMode === 'column') {\r\n          columns[columns.length - 1].headerRenderer = (root) => {\r\n            root.innerHTML = `\r\n\t\t\t\t\t\t<div class=\"bh-tabular-list__grid-template__header-with-filter__copy\"></div>\r\n\t\t\t\t\t\t<div class=\"bh-tabular-list__grid-template__header-with-filter__text-field\"></div>\r\n\t\t\t\t\t`;\r\n          };\r\n        }\r\n        columns[columns.length - 1].renderer = (root, column, model) => {\r\n          var _a;\r\n          if (that.isWindowResizing)\r\n            return;\r\n          const prefix = this.host.tagName.toLowerCase().replace(components.tabularList.tagNameBase, '');\r\n          const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n          root.innerHTML = `<div class=\"bh-tabular-list__inline-action-menu-wrapper\"><${Components.actionMenu} disable-tooltip=\"true\" class=\"bh-tabular-list__inline-action-menu ${this._option.spacing}\" small inline menu-items='${JSON.stringify((_a = this._option) === null || _a === void 0 ? void 0 : _a.actionMenu)}' width=\"small\"></${Components.actionMenu}></div>`;\r\n          if (!this.templateEvents[model.index.toString()])\r\n            this.templateEvents[model.index.toString()] = {};\r\n          root.removeEventListener('bhEventSelected', this.templateEvents[model.index.toString()][\"action-menu\"]);\r\n          this.templateEvents[model.index.toString()][\"action-menu\"] = function (event) {\r\n            var _a;\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            if (_.isEqual(model.item, (_a = that.el__grid.getEventContext(event)) === null || _a === void 0 ? void 0 : _a.item))\r\n              that.bhEventSelected.emit({ type: 'action-menu', payload: event.detail, item: model.item });\r\n          };\r\n          root.addEventListener('bhEventSelected', this.templateEvents[model.index.toString()][\"action-menu\"]);\r\n        };\r\n      }\r\n      try {\r\n        if (this._option && ((_c = this._option) === null || _c === void 0 ? void 0 : _c.hideMultiRowsSelectable)) {\r\n          if (that.el__grid.querySelector('.vaadin-grid-select-all-checkbox')) {\r\n            const childNode = that.el__grid.querySelector('.vaadin-grid-select-all-checkbox');\r\n            childNode.parentNode.replaceChild(document.createElement(\"span\"), childNode);\r\n          }\r\n        }\r\n        if (this.hasHTMLTemplate) {\r\n          const columnHeight = (_d = that.el__grid) === null || _d === void 0 ? void 0 : _d.shadowRoot.querySelector('tbody').querySelectorAll('tr')[0].cells[0].clientHeight;\r\n          let initHeight = 0;\r\n          that.el__grid.shadowRoot.querySelector('tbody').querySelectorAll('tr').forEach((item) => {\r\n            item.style.transform = `translateY(${initHeight}px)`;\r\n            initHeight += columnHeight;\r\n          });\r\n        }\r\n      }\r\n      catch (e) {\r\n        console.warn(ERROR_MESSAGE);\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  componentDidLoad() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n    try {\r\n      this.appendHtmlTemplate();\r\n      setTimeout(() => {\r\n        if (this.isFirstTimeToRender)\r\n          this.isFirstTimeToRender = false;\r\n      }, 0);\r\n      if ((_a = this._option) === null || _a === void 0 ? void 0 : _a.contextMenu) {\r\n        window.addEventListener('mousewheel', () => {\r\n          this.isContextMenuShown = false;\r\n        });\r\n        window.addEventListener('click', (event) => {\r\n          var _a, _b;\r\n          if (!((_a = this.el__contextMenuContainer) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\r\n            if (this.isContextMenuShown)\r\n              this.isContextMenuShown = false;\r\n            if (!((_b = this._option) === null || _b === void 0 ? void 0 : _b.isMultiRowsSelectable)) {\r\n              if (this.el__grid.selectedItems.length > 0)\r\n                this.el__grid.selectedItems = [];\r\n            }\r\n          }\r\n        });\r\n      }\r\n      if (this.sorter.direction && this.sorter.path) {\r\n        const targetHeaderTemplateElement = (_c = (_b = this.el__grid) === null || _b === void 0 ? void 0 : _b.querySelector(`.bh-tabular-list__grid-template__header-with-filter__copy[prop=\"${this.sorter.path}\"]`)) === null || _c === void 0 ? void 0 : _c.querySelector('.bh-tabular-list__grid-template__header-with-filter__sort-icon');\r\n        if (targetHeaderTemplateElement) {\r\n          targetHeaderTemplateElement.setAttribute('icon', this.sorter.direction ? (this.sorter.direction === 'asc' ? 'north' : 'south') : '');\r\n        }\r\n      }\r\n      this.setSelectedItems();\r\n      (_d = this.el__grid) === null || _d === void 0 ? void 0 : _d.addEventListener('active-item-changed', (event) => {\r\n        var _a;\r\n        if ((_a = this._option) === null || _a === void 0 ? void 0 : _a.isRowSelectable) {\r\n          const item = event.detail.value;\r\n          setTimeout(() => {\r\n            this.el__grid.selectedItems = item ? [item] : [];\r\n            this.bhEventSelected.emit({ type: 'row-selection', item: item ? item : {} });\r\n          });\r\n        }\r\n      });\r\n      (_e = this.el__grid) === null || _e === void 0 ? void 0 : _e.shadowRoot.getElementById('table').addEventListener('scroll', (event) => {\r\n        this.bhEventScroll.emit({\r\n          type: 'scroll',\r\n          payload: { event: event, initiator: 'tabularlist' }\r\n        });\r\n      });\r\n      (_f = this.el__grid) === null || _f === void 0 ? void 0 : _f.addEventListener('selected-items-changed', (event) => {\r\n        var _a;\r\n        event.preventDefault();\r\n        if (!((_a = this._option) === null || _a === void 0 ? void 0 : _a.isMultiRowsSelectable))\r\n          return;\r\n        if (event.detail.path !== 'selectedItems.splices') {\r\n          this.bhEventSelected.emit({ type: 'multi-rows-selection', payload: this.el__grid.selectedItems });\r\n        }\r\n      });\r\n      if (!((_g = this._option) === null || _g === void 0 ? void 0 : _g.selectAllMode) || ((_h = this._option) === null || _h === void 0 ? void 0 : _h.selectAllMode) == 'all') {\r\n        if (this.el__grid && this.el__grid.querySelector('.vaadin-grid-select-all-checkbox')) {\r\n          this.el__grid.querySelector('.vaadin-grid-select-all-checkbox').addEventListener('click', (event) => {\r\n            var _a;\r\n            event.preventDefault();\r\n            if (!((_a = this._option) === null || _a === void 0 ? void 0 : _a.isMultiRowsSelectable))\r\n              return;\r\n            if (event.target['ariaChecked'] === 'true') {\r\n              this.el__grid.selectedItems = [...this._data];\r\n            }\r\n            else {\r\n              this.el__grid.selectedItems = [];\r\n            }\r\n          });\r\n        }\r\n      }\r\n      try {\r\n        if (this.hasHTMLTemplate) {\r\n          const columnHeight = (_j = this.el__grid) === null || _j === void 0 ? void 0 : _j.shadowRoot.querySelector('tbody').querySelectorAll('tr')[0].cells[0].clientHeight;\r\n          let initHeight = 0;\r\n          (_k = this.el__grid) === null || _k === void 0 ? void 0 : _k.shadowRoot.querySelector('tbody').querySelectorAll('tr').forEach((item) => {\r\n            item.style.transform = `translateY(${initHeight}px)`;\r\n            initHeight += columnHeight;\r\n          });\r\n        }\r\n      }\r\n      catch (e) {\r\n        console.warn(ERROR_MESSAGE);\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  setSelectedItems() {\r\n    var _a, _b;\r\n    try {\r\n      if (this._selectedItems && ((_a = this._selectedItems['value']) === null || _a === void 0 ? void 0 : _a.length) > 0) {\r\n        const values = this._selectedItems['value'];\r\n        const attribute = this._selectedItems['attribute'];\r\n        this._payload.data = this._payload.data.map(item => {\r\n          if (values.find(iterator => iterator === item[attribute])) {\r\n            item['$rowSelected'] = true;\r\n          }\r\n          return item;\r\n        });\r\n        if (!this._customSelectionEnabled) {\r\n          this.el__grid.selectedItems = this._payload.data.filter((item) => item['$rowSelected']);\r\n        }\r\n      }\r\n      else if (this._selectedItems && ((_b = this._selectedItems['value']) === null || _b === void 0 ? void 0 : _b.length) === 0) {\r\n        this.el__grid.selectedItems = [];\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  componentDidUpdate() {\r\n    try {\r\n      this.setSelectedItems();\r\n      this.appendHtmlTemplate();\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  handleKeyDown(event) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;\r\n    try {\r\n      switch (event.code) {\r\n        case 'Tab':\r\n          const targetCellWithTemplate = document.activeElement.parentElement.closest('vaadin-grid-cell-content');\r\n          if (targetCellWithTemplate) {\r\n            setTimeout(() => {\r\n              var _a, _b, _c;\r\n              const slotName = targetCellWithTemplate === null || targetCellWithTemplate === void 0 ? void 0 : targetCellWithTemplate.getAttribute('slot');\r\n              const targetCell = (_b = (_a = this.el__grid) === null || _a === void 0 ? void 0 : _a.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector(`[part~=\"body-cell\"][id=\"${slotName.replace('vaadin-grid-cell-content-', 'vaadin-grid-cell-')}\"]`);\r\n              (_c = targetCell) === null || _c === void 0 ? void 0 : _c.focus();\r\n            });\r\n          }\r\n          if (((_a = this._option) === null || _a === void 0 ? void 0 : _a.searchMode) === 'column') {\r\n            const focusedFormElement = document.querySelector('.bh-tabular-list__grid-template__header-with-filter__text-field input:focus');\r\n            if (focusedFormElement) {\r\n              // this.el__grid.dispatchEvent(new KeyboardEvent('keydown', { bubbles: false, cancelable: true, key: 'ArrowUp', code: 'ArrowUp' }));\r\n              event.preventDefault();\r\n              this.el__grid._onKeyDown(event);\r\n              if (event.shiftKey) {\r\n                const vaadinGridCellContent = focusedFormElement.closest('vaadin-grid-cell-content');\r\n                const slotName = vaadinGridCellContent === null || vaadinGridCellContent === void 0 ? void 0 : vaadinGridCellContent.getAttribute('slot');\r\n                if (slotName) {\r\n                  const targetCell = (_c = (_b = this.el__grid) === null || _b === void 0 ? void 0 : _b.shadowRoot) === null || _c === void 0 ? void 0 : _c.querySelector(`[part~=\"header-cell\"][id=\"${slotName.replace('vaadin-grid-cell-content-', 'vaadin-grid-cell-')}\"]`);\r\n                  targetCell.focus();\r\n                }\r\n              }\r\n              else {\r\n                const bodyCellElement = (_e = (_d = this.el__grid) === null || _d === void 0 ? void 0 : _d.shadowRoot) === null || _e === void 0 ? void 0 : _e.querySelector('[part~=\"body-cell\"][tabIndex=\"0\"]');\r\n                (_f = bodyCellElement) === null || _f === void 0 ? void 0 : _f.focus();\r\n              }\r\n            }\r\n          }\r\n          break;\r\n        case 'Enter':\r\n          const focusedCellElement = (_h = (_g = this.el__grid) === null || _g === void 0 ? void 0 : _g.shadowRoot) === null || _h === void 0 ? void 0 : _h.querySelector('[part~=\"body-cell\"][tabIndex=\"0\"]:focus');\r\n          if (focusedCellElement) {\r\n            const name = (_j = focusedCellElement.querySelector('slot')) === null || _j === void 0 ? void 0 : _j.getAttribute('name');\r\n            Array.from(document.querySelectorAll(`vaadin-grid-cell-content[slot=\"${name}\"]`)).forEach((el) => {\r\n              var _a;\r\n              const focusableElement = el.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\r\n              if (focusableElement) {\r\n                (_a = focusableElement) === null || _a === void 0 ? void 0 : _a.focus();\r\n                setTimeout(() => {\r\n                  focusableElement.dispatchEvent(event);\r\n                });\r\n              }\r\n            });\r\n          }\r\n          break;\r\n        case 'ArrowUp':\r\n          // event.preventDefault();\r\n          if (((_k = this._option) === null || _k === void 0 ? void 0 : _k.searchMode) === 'column') {\r\n            const focusedFormElement = document.querySelector('.bh-tabular-list__grid-template__header-with-filter__text-field input:focus');\r\n            if (focusedFormElement) {\r\n              const vaadinGridCellContent = focusedFormElement.closest('vaadin-grid-cell-content');\r\n              const slotName = vaadinGridCellContent === null || vaadinGridCellContent === void 0 ? void 0 : vaadinGridCellContent.getAttribute('slot');\r\n              if (slotName) {\r\n                this.el__grid._onKeyDown(event);\r\n                const targetCell = (_m = (_l = this.el__grid) === null || _l === void 0 ? void 0 : _l.shadowRoot) === null || _m === void 0 ? void 0 : _m.querySelector(`[part~=\"header-cell\"][id=\"${slotName.replace('vaadin-grid-cell-content-', 'vaadin-grid-cell-')}\"]`);\r\n                targetCell.focus();\r\n              }\r\n            }\r\n          }\r\n          break;\r\n        case 'ArrowDown':\r\n          // event.preventDefault();\r\n          if (((_o = this._option) === null || _o === void 0 ? void 0 : _o.searchMode) === 'column') {\r\n            const focusedCellElement = (_q = (_p = this.el__grid) === null || _p === void 0 ? void 0 : _p.shadowRoot) === null || _q === void 0 ? void 0 : _q.querySelector('[part~=\"header-cell\"][tabIndex=\"0\"]:focus slot');\r\n            if (focusedCellElement) {\r\n              const name = (_r = focusedCellElement) === null || _r === void 0 ? void 0 : _r.getAttribute('name');\r\n              if (name) {\r\n                this.el__grid._onKeyDown(event);\r\n                Array.from(document.querySelectorAll(`vaadin-grid-cell-content[slot=\"${name}\"]`)).forEach((element) => {\r\n                  if (element.querySelector('input')) {\r\n                    element.querySelector('input').focus();\r\n                  }\r\n                });\r\n              }\r\n            }\r\n          }\r\n          break;\r\n        case 'ArrowRight':\r\n          this.el__grid._onKeyDown(event);\r\n          if (((_s = this._option) === null || _s === void 0 ? void 0 : _s.searchMode) === 'column') {\r\n            const focusedFormElement = document.querySelector('.bh-tabular-list__grid-template__header-with-filter__text-field input:focus');\r\n            if (focusedFormElement) {\r\n              const filterFormElements = document.querySelectorAll('.bh-tabular-list__grid-template__header-with-filter__text-field input');\r\n              const focusFormIndex = Array.from(filterFormElements).findIndex((element) => { return focusedFormElement === element; });\r\n              if (filterFormElements.length > focusFormIndex + 1)\r\n                filterFormElements[focusFormIndex + 1].focus();\r\n            }\r\n          }\r\n          break;\r\n        case 'ArrowLeft':\r\n          this.el__grid._onKeyDown(event);\r\n          if (((_t = this._option) === null || _t === void 0 ? void 0 : _t.searchMode) === 'column') {\r\n            const focusedFormElement = document.querySelector('.bh-tabular-list__grid-template__header-with-filter__text-field input:focus');\r\n            if (focusedFormElement) {\r\n              const filterFormElements = document.querySelectorAll('.bh-tabular-list__grid-template__header-with-filter__text-field input');\r\n              const focusFormIndex = Array.from(filterFormElements).findIndex((element) => { return focusedFormElement === element; });\r\n              if (focusFormIndex > 0)\r\n                filterFormElements[focusFormIndex - 1].focus();\r\n            }\r\n          }\r\n          break;\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  render() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23, _24, _25, _26, _27, _28, _29, _30, _31;\r\n    try {\r\n      const prefix = this.host.tagName.toLowerCase().replace(components.tabularList.tagNameBase, '');\r\n      const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n      let headerCtaProp;\r\n      if ((_a = this._header) === null || _a === void 0 ? void 0 : _a.ctas) {\r\n        headerCtaProp = Array.isArray(this._header.ctas)\r\n          ? this._header.ctas.map((cta) => {\r\n            return { label: cta.label, value: cta.key };\r\n          })\r\n          : [\r\n            {\r\n              label: this._header.ctas.label,\r\n              value: this._header.ctas.key,\r\n            },\r\n          ];\r\n      }\r\n      let totalItemCount;\r\n      if (((_b = this._option) === null || _b === void 0 ? void 0 : _b.dataLoadingMode) === 'async') {\r\n        totalItemCount = (_c = this._payload) === null || _c === void 0 ? void 0 : _c.length;\r\n      }\r\n      else {\r\n        if (((_d = this._option) === null || _d === void 0 ? void 0 : _d.searchMode) === 'whole') {\r\n          totalItemCount = this.searchQuery ? (_e = this.searchResults) === null || _e === void 0 ? void 0 : _e.length : (_g = (_f = this._payload) === null || _f === void 0 ? void 0 : _f.data) === null || _g === void 0 ? void 0 : _g.length;\r\n        }\r\n        else if (((_h = this._option) === null || _h === void 0 ? void 0 : _h.searchMode) === 'column') {\r\n          let _data = (_j = this._payload) === null || _j === void 0 ? void 0 : _j.data;\r\n          this.filterQueries.forEach((fq) => {\r\n            _data = _data.filter((datum) => {\r\n              if (typeof (datum[fq.prop]) === 'string') {\r\n                return datum[fq.prop].toLowerCase().includes(fq.query.toLowerCase());\r\n              }\r\n              else {\r\n                return datum[fq.prop].toString().includes(fq.query);\r\n              }\r\n            });\r\n          });\r\n          totalItemCount = _data === null || _data === void 0 ? void 0 : _data.length;\r\n        }\r\n        else {\r\n          totalItemCount = (_k = this._payload) === null || _k === void 0 ? void 0 : _k.length;\r\n        }\r\n      }\r\n      return (h(Host, { class: 'bh-tabular-list', id: this.id }, h(\"div\", { class: 'bh-tabular-list__container', ref: (el) => {\r\n          this.el__container = el;\r\n        } }, this._header && (h(\"div\", { class: 'bh-tabular-list__header' }, ((_l = this._header) === null || _l === void 0 ? void 0 : _l.label) && (h(\"span\", { class: 'bh-tabular-list__header__title typography--subtitle-medium' }, this._header.label)), h(\"div\", { class: 'bh-tabular-list__header__cta-group' }, ((_m = this._header) === null || _m === void 0 ? void 0 : _m.actionMenu) && (h(\"div\", null, h(Components.actionMenu, { class: `bh-tabular-list__action-menu ${this.viewport === 'small' ? 'hidden' : ''}`, isSmall: true, disableTooltip: true, menuItems: (_o = this._header.actionMenu) === null || _o === void 0 ? void 0 : _o.menuItems, menuWidth: (_p = this._header.actionMenu) === null || _p === void 0 ? void 0 : _p.menuWidth, isMultiSelect: (_q = this._header.actionMenu) === null || _q === void 0 ? void 0 : _q.isMultiSelect, isSearchable: (_r = this._header.actionMenu) === null || _r === void 0 ? void 0 : _r.isSearchable, isUnselectable: (_s = this._header.actionMenu) === null || _s === void 0 ? void 0 : _s.isUnselectable, placeholder: (_t = this._header.actionMenu) === null || _t === void 0 ? void 0 : _t.placeholder, iconOverride: (_u = this._header.actionMenu) === null || _u === void 0 ? void 0 : _u.iconOverride, onBhEventSelected: (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.bhEventCtaClick.emit(event.detail.value);\r\n        }, onBhEventCtaClick: (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.bhEventCtaClick.emit(event.detail);\r\n        } }), h(Components.actionMenu, { class: `bh-tabular-list__action-menu ${this.viewport === 'small' ? '' : 'hidden'}`, isSmall: true, disableTooltip: true, menuItems: (headerCtaProp === null || headerCtaProp === void 0 ? void 0 : headerCtaProp.length) > 0\r\n          ? {\r\n            itemGroups: [\r\n              { items: headerCtaProp, divider: false },\r\n              ...(_w = (_v = this._header.actionMenu) === null || _v === void 0 ? void 0 : _v.menuItems) === null || _w === void 0 ? void 0 : _w.itemGroups,\r\n            ],\r\n            ctas: (_y = (_x = this._header.actionMenu) === null || _x === void 0 ? void 0 : _x.menuItems) === null || _y === void 0 ? void 0 : _y.ctas,\r\n          }\r\n          : (_z = this._header.actionMenu) === null || _z === void 0 ? void 0 : _z.menuItems, menuWidth: (_0 = this._header.actionMenu) === null || _0 === void 0 ? void 0 : _0.menuWidth, isMultiSelect: (_1 = this._header.actionMenu) === null || _1 === void 0 ? void 0 : _1.isMultiSelect, isSearchable: (_2 = this._header.actionMenu) === null || _2 === void 0 ? void 0 : _2.isSearchable, isUnselectable: (_3 = this._header.actionMenu) === null || _3 === void 0 ? void 0 : _3.isUnselectable, placeholder: (_4 = this._header.actionMenu) === null || _4 === void 0 ? void 0 : _4.placeholder, iconOverride: (_5 = this._header.actionMenu) === null || _5 === void 0 ? void 0 : _5.iconOverride, onBhEventSelected: (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.bhEventCtaClick.emit(event.detail.value);\r\n        }, onBhEventCtaClick: (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.bhEventCtaClick.emit(event.detail);\r\n        } }))), ((_6 = this._header) === null || _6 === void 0 ? void 0 : _6.ctas) &&\r\n        Array.isArray(this._header.ctas) &&\r\n        this._header.ctas.map((cta) => {\r\n          return (h(Components.button, { class: `bh-tabular-list__header__cta ${this.viewport === 'small' ? 'hidden' : ''}`, isSmall: cta.size === 'medium' ? false : true, type: cta.type, label: cta.label, isDisabled: cta.isDisabled, isLoading: cta.isLoading, leftIcon: cta.leftIcon, rightIcon: cta.rightIcon, onClick: () => {\r\n              if (cta.isDisabled)\r\n                return;\r\n              this.bhEventCtaClick.emit(cta.key || '');\r\n            } }));\r\n        }), this._header.ctas && !Array.isArray(this._header.ctas) && (h(Components.button, { class: `bh-tabular-list__header__cta ${this.viewport === 'small' ? 'hidden' : ''}`, isSmall: true, type: this._header.ctas.type, label: this._header.ctas.label, isDisabled: this._header.ctas.isDisabled, isLoading: this._header.ctas.isLoading, leftIcon: this._header.ctas.leftIcon, rightIcon: this._header.ctas.rightIcon, onClick: () => {\r\n          if (this._header.ctas.isDisabled)\r\n            return;\r\n          this.bhEventCtaClick.emit(this._header.ctas.key || '');\r\n        } })), ((_7 = this._option) === null || _7 === void 0 ? void 0 : _7.searchMode) === 'whole' && (h(Components.search, { class: `bh-tabular-list__search`, placeholder: (_9 = (_8 = this._header) === null || _8 === void 0 ? void 0 : _8.search) === null || _9 === void 0 ? void 0 : _9.placeholder, data: (_10 = this._payload) === null || _10 === void 0 ? void 0 : _10.data, value: this.searchQuery, searchParams: (_12 = (_11 = this._header) === null || _11 === void 0 ? void 0 : _11.search) === null || _12 === void 0 ? void 0 : _12.searchParams, isSmall: true, disableFuzzySearch: (_13 = this._option) === null || _13 === void 0 ? void 0 : _13.disableFuzzySearch, fluid: true, onQuery: (event) => {\r\n          this.searchQuery = event.detail;\r\n          this.bhEventChange.emit({\r\n            type: 'search',\r\n            payload: {\r\n              label: '_filter-query--all',\r\n              prop: '_filter-query--all',\r\n              query: this.searchQuery\r\n            }\r\n          });\r\n        } }))))), h(\"div\", { class: 'bh-tabular-list__table', onContextMenu: (event) => {\r\n          var _a;\r\n          if (!((_a = this._option) === null || _a === void 0 ? void 0 : _a.contextMenu))\r\n            return;\r\n          this.isContextMenuShown = true;\r\n          this.el__contextMenuContainer.style.left = `${event.clientX + 160 > window.innerWidth\r\n            ? event.clientX - 160\r\n            : event.clientX}px`;\r\n          this.el__contextMenuContainer.style.top = `${event.clientY}px`;\r\n          event.preventDefault();\r\n          const item = this.el__grid.getEventContext(event).item;\r\n          this.el__grid.selectedItems =\r\n            this.el__grid.selectedItems[0] === item ? [] : [item];\r\n        }, onTouchStart: (event) => {\r\n          var _a;\r\n          if (!((_a = this._option) === null || _a === void 0 ? void 0 : _a.contextMenu))\r\n            return;\r\n          this.contextMenuTimeout = setTimeout(() => {\r\n            this.isContextMenuShown = true;\r\n            this.el__contextMenuContainer.style.left = `${event.touches[0].clientX}px`;\r\n            this.el__contextMenuContainer.style.top = `${event.touches[0].clientY}px`;\r\n            event.preventDefault();\r\n          }, 750);\r\n        }, onTouchEnd: () => {\r\n          var _a;\r\n          if (!((_a = this._option) === null || _a === void 0 ? void 0 : _a.contextMenu))\r\n            return;\r\n          clearTimeout(this.contextMenuTimeout);\r\n        } }, h(\"vaadin-grid\", { gridtype: \"tabularlist\", id: `${this.id}__vaadin-grid`, items: this.dataToShow, \"aria-label\": 'Content Renderer Function', theme: 'no-border', \"column-reordering-allowed\": !((_14 = this._option) === null || _14 === void 0 ? void 0 : _14.columnReorderingDisabled), ref: (el) => {\r\n          this.el__grid = el;\r\n        },\r\n        // elementfocus={this.isGridFocused ? 'true' : 'false'}\r\n        heightByRows: true, spacing: ((_15 = this._option) === null || _15 === void 0 ? void 0 : _15.spacing) || 'medium', shouldoverflow: ((_16 = this.dataToShow) === null || _16 === void 0 ? void 0 : _16.length) > this.paginationOptions[0] &&\r\n          this._option.paginationMode !== 'hidden'\r\n          ? 'true'\r\n          : 'false', noverticalborder: ((_17 = this._option) === null || _17 === void 0 ? void 0 : _17.hideCellVerticalBorder) ? 'true' : 'false', searchmode: ((_18 = this._option) === null || _18 === void 0 ? void 0 : _18.searchMode) ? (_19 = this._option) === null || _19 === void 0 ? void 0 : _19.searchMode : '', rowselection: ((_20 = this._option) === null || _20 === void 0 ? void 0 : _20.isRowSelectable) ? 'true' : '', linkitem: ((_21 = this._option) === null || _21 === void 0 ? void 0 : _21.link) ? 'true' : '',\r\n        //added ?\r\n        selection: ((_22 = this._option) === null || _22 === void 0 ? void 0 : _22.isMultiRowsSelectable) ? 'true' : '', onClick: (event) => {\r\n          var _a;\r\n          if ((_a = this._option) === null || _a === void 0 ? void 0 : _a.link)\r\n            this.handleLinkClick(event);\r\n          // if (this._option?.isRowSelectable) this.handleRowSelection(event);\r\n        },\r\n        // onFocus={() => { this.isGridFocused = true; }}\r\n        // onBlur={() => { this.isGridFocused = false; }}\r\n        onKeyDown: (event) => this.handleKeyDown(event) }, !!this._option && ((_23 = this._option) === null || _23 === void 0 ? void 0 : _23.isMultiRowsSelectable) &&\r\n        h(\"vaadin-grid-selection-column\", { \"auto-select\": false, frozen: true, ref: (el) => {\r\n            this.el__grid_column = el;\r\n          } }), this._schema &&\r\n        this._schema.map((schemaPartial) => {\r\n          var _a;\r\n          return (h(\"vaadin-grid-column\", { path: schemaPartial.prop, header: schemaPartial.label, resizable: true, width: this.parseWidth((_a = schemaPartial === null || schemaPartial === void 0 ? void 0 : schemaPartial.option) === null || _a === void 0 ? void 0 : _a.width) }));\r\n          // }\r\n        }), ((_24 = this._option) === null || _24 === void 0 ? void 0 : _24.actionMenu) && (h(\"vaadin-grid-column\", { header: '', resizable: true }))), this.isLoading &&\r\n        h(\"div\", { class: \"bh-tabular-list__loading\" }, h(\"div\", { class: \"overlay\" }), h(Components.spinner, { size: 'medium', position: 'inline' })), h(\"div\", { class: `bh-tabular-list__context-menu-container ${this.isContextMenuShown ? '' : 'hidden'}`, ref: (el) => {\r\n          this.el__contextMenuContainer = el;\r\n        } }, h(Components.menu, { menuItems: JSON.stringify((_26 = (_25 = this._option) === null || _25 === void 0 ? void 0 : _25.contextMenu) === null || _26 === void 0 ? void 0 : _26.menuItems), menuHeight: 'small', menuWidth: 'small', onBhEventSelected: (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.bhEventSelected.emit({\r\n            type: 'context',\r\n            payload: event.detail,\r\n            item: this.el__grid.selectedItems[0],\r\n          });\r\n          this.isContextMenuShown = false;\r\n        }, onBhEventChange: (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.bhEventChange.emit({\r\n            type: 'context',\r\n            payload: event.detail,\r\n            item: this.el__grid.selectedItems[0],\r\n          });\r\n        }, onBhEventCtaClick: (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.bhEventCtaClick.emit({\r\n            type: 'context',\r\n            payload: event.detail,\r\n            item: this.el__grid.selectedItems[0],\r\n          });\r\n          this.isContextMenuShown = false;\r\n        } }))), h(\"div\", { class: `bh-tabular-list__tooltip`, ref: (el) => {\r\n          this.el__tooltip = el;\r\n        } }, h(\"span\", { class: 'typography--body-small-semi-bold', ref: (el) => {\r\n          this.el__tooltipMessage = el;\r\n        } })), h(\"div\", { class: 'bh-tabular-list__tooltip__ghost-element typography--body-medium', ref: (el) => {\r\n          this.el__tooltipGhostElement = el;\r\n        } }), ((_27 = this.dataToShow) === null || _27 === void 0 ? void 0 : _27.length) === 0 && (h(\"div\", { class: 'bh-tabular-list__empty-state' }, h(\"span\", { class: 'typography--body-medium typography--color-secondary' }, \"No data available\"))), (((_28 = this._option) === null || _28 === void 0 ? void 0 : _28.paginationMode) === 'shown' ||\r\n        ((!((_29 = this._option) === null || _29 === void 0 ? void 0 : _29.paginationMode) ||\r\n          ((_30 = this._option) === null || _30 === void 0 ? void 0 : _30.paginationMode) === 'auto') &&\r\n          ((_31 = this._payload) === null || _31 === void 0 ? void 0 : _31.length) >\r\n            Math.min.apply(Math, this.paginationOptions))) && totalItemCount > 0 && (h(\"div\", { class: 'bh-tabular-list__pagination' }, h(Components.pagination, { itemCountOptions: this.paginationOptions, totalItemCount: totalItemCount, itemCount: this._itemCount, onBhEventChange: (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.handlePaginationChange(event.detail);\r\n          this.bhEventChange.emit({\r\n            type: 'pagination',\r\n            payload: event.detail\r\n          });\r\n        }, onBhEventSelected: (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        } }))))));\r\n    }\r\n    catch (err) {\r\n      console.warn(ERROR_MESSAGE);\r\n    }\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"header\": [\"watchHeader\"],\r\n    \"schema\": [\"watchSchema\"],\r\n    \"selectedItems\": [\"watchSelectedItems\"],\r\n    \"payload\": [\"watchPayload\"],\r\n    \"option\": [\"watchOption\"]\r\n  }; }\r\n};\r\nBhTabularList.style = bhTabularListCss;\n\nconst bhTextInputCss = \".bh-text-input{border:none;padding:var(--spacing-padding-none);margin:var(--spacing-margin-none);font:inherit;cursor:default;outline:none;-webkit-appearance:none;-moz-appearance:none;-o-appearance:none;appearance:none;display:flex;flex-direction:column;align-items:flex-start}input:not([type='range']){overflow:hidden}input[type='text'],input[type='number'],input[type='password'],input[type='email'],input[type='tel']{-webkit-appearance:none;-moz-appearance:none;appearance:none}input::placeholder{color:var(--color-text-label-placeholder)}input::-webkit-input-placeholder{color:var(--color-text-label-placeholder)}input::-moz-placeholder{color:var(--color-text-label-placeholder)}input:-ms-input-placeholder{color:var(--color-text-label-placeholder)}input:-moz-placeholder{color:var(--color-text-label-placeholder)}input::-moz-placeholder{opacity:1}.bh-text-input__container{display:flex;flex-direction:row;align-items:center;position:relative}.bh-text-input__container.flex{width:100%}.bh-text-input__label{color:var(--color-text-common-primary)}.bh-text-input__required:after{color:var(--color-text-label-critical);content:' *'}.bh-text-input__label--disabled.bh-text-input__required:after{color:var(--color-text-label-disabled-default)}.bh-text-input__label--disabled{color:var(--color-text-label-disabled-default)}.bh-text-input__end-icon{padding-left:var(--spacing-padding-small);align-self:center;color:inherit;display:flex;position:relative;left:-40px;margin-right:-30px}.bh-text-input__start-icon,.bh-text-input__start-icon.rounded.small{padding-left:var(--spacing-padding-small);align-self:center;color:inherit;display:flex;position:relative;margin-right:-30px}.bh-text-input__start-icon.rounded{padding-left:var(--spacing-padding-medium);margin-right:-38px}.bh-text-input__icon--error{color:var(--color-text-label-error)}.bh-text-input__unit{display:flex;justify-content:flex-end;position:absolute;right:12px;width:60px;padding-left:var(--spacing-padding-small);color:var(--color-text-label-placeholder)}.bh-text-input__unit--disabled{color:var(--color-text-label-disabled-default)}.bh-text-input__unit--error{color:var(--color-text-label-error)}.bh-text-input__input{box-sizing:border-box;width:280px;padding:calc(var(--spacing-padding-small) - 1px) var(--spacing-padding-small);margin-top:var(--spacing-margin-xxsmall);margin-bottom:var(--spacing-margin-xxsmall);border-radius:var(--effect-border-radius-medium);border-style:solid;border-width:var(--effect-border-width-regular);border-color:var(--color-border-form-default);background-color:var(--color-fill-common-secondary);color:var(--color-text-common-primary);cursor:text}.bh-text-input__input.small{padding:calc(var(--spacing-padding-xsmall) - 1px)\\r\\n    var(--spacing-padding-small)}.bh-text-input__input.rounded{border-radius:100px}.bh-text-input__input:hover{border-color:var(--color-border-form-hover);cursor:text}.bh-text-input__input:focus{outline:none;border-color:var(--color-border-form-focused);box-shadow:var(--effect-drop-shadow-focus-primary)}.bh-text-input__input:focus:not(:focus-visible){outline:none;border-color:unset;box-shadow:none}.bh-text-input__input--fluid{width:100%;}.bh-text-input__container--fluid{width:100%}.bh-text-input__input--disabled,.bh-text-input__input--disabled:hover{border-color:var(--color-border-form-disabled);background-color:var(--color-fill-form-disabled);color:var(--color-text-label-disabled-default);-webkit-text-fill-color:var(\\r\\n    --color-text-label-disabled-default\\r\\n  );opacity:1;cursor:not-allowed}.bh-text-input__input--disabled::placeholder .bh-text-input__input--disabled::placeholder{color:var(--color-text-label-disabled)}.bh-text-input__input--disabled::-webkit-input-placeholder{color:var(--color-text-label-disabled)}.bh-text-input__input--disabled::-moz-placeholder{color:var(--color-text-label-disabled)}.bh-text-input__input--disabled:-ms-input-placeholder{color:var(--color-text-label-disabled)}.bh-text-input__input--disabled:-moz-placeholder{color:var(--color-text-label-disabled)}.bh-text-input__input--error,.bh-text-input:invalid{background-color:var(--color-fill-form-error);border-color:var(--color-border-form-error)}.bh-text-input__input--read-only,.bh-text-input__input--read-only:hover,.bh-text-input__input--read-only:focus{border:var(--effect-border-width-regular) dashed\\r\\n    var(--color-border-form-default);box-shadow:none;cursor:default}.bh-text-input__input--read-only:focus:not(:focus-visible){border:var(--effect-border-width-regular) dashed\\r\\n    var(--color-border-form-default);box-shadow:none;cursor:default}.bh-text-input__input--error::placeholder{border-color:var(--color-border-form-error);color:var(--color-border-form-error)}.bh-text-input__input--error:hover{border-color:var(--color-border-form-error-hover)}.bh-text-input__input--error:focus{box-shadow:var(--effect-drop-shadow-focus-error);border-color:var(--color-border-form-error)}.bh-text-input__input--error:focus:not(:focus-visible){box-shadow:none;border-color:unset}\";\n\nconst BhTextInput = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventInput = createEvent(this, \"bhEventInput\", 7);\r\n    this.bhEventChange = createEvent(this, \"bhEventChange\", 7);\r\n    this.bhEventBlur = createEvent(this, \"bhEventBlur\", 7);\r\n    /**\r\n     * Valid input types are: 'text' 'email' 'password' 'tel' 'date'\r\n     */\r\n    this.type = 'text';\r\n    /**\r\n     * Required form element indicator\r\n     */\r\n    this.isRequired = false;\r\n    /**\r\n     * Fluid buttons expand to the width of their parent container\r\n     */\r\n    this.isFluid = false;\r\n    /**\r\n     * Error state for input\r\n     */\r\n    this.isError = false;\r\n    /**\r\n     * Disabled text inputs are grayed out and cannot be clicked\r\n     */\r\n    this.isDisabled = false;\r\n    /**\r\n     * Max character size of the input\r\n     */\r\n    this.maxLength = 40;\r\n    /**\r\n     * Value of the input (useful for reading/prepopulating)\r\n     */\r\n    this.value = '';\r\n    /**\r\n     * The height of the input (medium / small)\r\n     */\r\n    this.isSmall = false;\r\n    this.isRounded = false;\r\n    /**\r\n     * Denotes whether the input is read-only\r\n     */\r\n    this.isReadOnly = false;\r\n    /**\r\n     * To be used internally for text inputs that have widths smaller than 280px (TODO: Evaluate for refactoring)\r\n     */\r\n    this.isSmallWidth = false;\r\n  }\r\n  renderIconColor() {\r\n    if (this.isError) {\r\n      return 'var(--color-text-label-error)';\r\n    }\r\n    else if (this.isDisabled) {\r\n      return 'var(--color-text-label-disabled-default)';\r\n    }\r\n    else {\r\n      return 'primary';\r\n    }\r\n  }\r\n  handleChange(e) {\r\n    var el = e.target;\r\n    e.preventDefault();\r\n    this.value = el.value;\r\n    this.bhEventChange.emit(el.value);\r\n  }\r\n  handleBlur(e) {\r\n    var el = e.target;\r\n    e.preventDefault();\r\n    this.value = el.value;\r\n    this.bhEventBlur.emit(el.value);\r\n  }\r\n  handleInput(e) {\r\n    var el = e.target;\r\n    e.preventDefault();\r\n    this.value = el.value;\r\n    this.bhEventInput.emit(el.value);\r\n    this.bhEventChange.emit(el.value);\r\n  }\r\n  setInputLeftPadding() {\r\n    if (this.isRounded) {\r\n      return this.startIcon && this.isSmall ? '34px' : '20px';\r\n    }\r\n    else if (this.startIcon) {\r\n      return '34px';\r\n    }\r\n  }\r\n  render() {\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.textInput.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    const labelClasses = ['bh-text-input__label', 'typography--label-small'];\r\n    const containerClasses = ['bh-text-input__container'];\r\n    const startIconClasses = ['bh-text-input__start-icon'];\r\n    const endIconClasses = [\r\n      'bh-text-input__end-icon',\r\n      'typography--icon-small',\r\n    ];\r\n    const unitClasses = ['bh-text-input__unit', 'typography--body-small'];\r\n    const inputClasses = [\r\n      'bh-text-input__input',\r\n      'typography--body-medium',\r\n      'motion--normal',\r\n    ];\r\n    if (this.isSmallWidth) {\r\n      containerClasses.push('flex');\r\n    }\r\n    if (this.isRequired) {\r\n      labelClasses.push('bh-text-input__required');\r\n    }\r\n    if (this.isFluid) {\r\n      inputClasses.push('bh-text-input__input--fluid');\r\n      containerClasses.push('bh-text-input__container--fluid');\r\n    }\r\n    if (this.isDisabled) {\r\n      labelClasses.push('bh-text-input__label--disabled');\r\n      inputClasses.push('bh-text-input__input--disabled');\r\n      unitClasses.push('bh-text-input__unit--disabled');\r\n      // this.placeholder = '';\r\n    }\r\n    if (this.isError) {\r\n      inputClasses.push('bh-text-input__input--error');\r\n      unitClasses.push('bh-text-input__unit--error');\r\n    }\r\n    if (this.isReadOnly) {\r\n      inputClasses.push('bh-text-input__input--read-only');\r\n    }\r\n    if (this.isSmall) {\r\n      containerClasses.push('small');\r\n      inputClasses.push('small');\r\n      startIconClasses.push('small');\r\n    }\r\n    if (this.isRounded) {\r\n      containerClasses.push('rounded');\r\n      inputClasses.push('rounded');\r\n      startIconClasses.push('rounded');\r\n    }\r\n    if (this.startIcon) {\r\n      containerClasses.push('start-icon');\r\n    }\r\n    return (h(Host, { class: 'bh-text-input' }, this.label && (h(\"label\", { class: labelClasses.join(' ') }, this.label)), h(\"div\", { class: containerClasses.join(' ') }, this.startIcon && (h(Components.icon, { icon: this.startIcon, size: 'small', color: this.renderIconColor(), class: startIconClasses.join(' ') })), h(\"input\", { style: {\r\n        // Sets the allowance for the startIcon at the beginning of the input\r\n        paddingLeft: this.setInputLeftPadding(),\r\n      }, class: inputClasses.join(' '), type: this.type, placeholder: this.placeholder, disabled: this.isDisabled, readonly: this.isReadOnly, maxlength: this.unit ? 26 : this.maxLength, pattern: this.pattern, value: this.value, onFocus: this.onFocus, onBlur: (event) => {\r\n        this.handleBlur(event);\r\n      }, onChange: (event) => {\r\n        this.handleChange(event);\r\n      }, onInput: (event) => {\r\n        this.handleInput(event);\r\n      } }), this.unit && h(\"span\", { class: unitClasses.join(' ') }, this.unit), this.endIcon && (h(Components.icon, { icon: this.endIcon, size: 'small', color: this.renderIconColor(), class: endIconClasses.join(' ') }))), this.message && (h(Components.formMessage, { message: this.message, isError: this.isError, isDisabled: this.isDisabled }))));\r\n  }\r\n  get host() { return getElement(this); }\r\n};\r\nBhTextInput.style = bhTextInputCss;\n\nconst bhTitleWrapperCss = \".bh-title-wrapper__container{display:flex;justify-content:space-between;align-items:flex-start}.bh-title-wrapper__header-copy{color:var(--color-text-common-brand);margin:0 0 var(--spacing-margin-xxsmall)}.bh-title-wrapper__header-copy.no-subtext{margin-bottom:0}.bh-title-wrapper__subtext-copy{color:var(--color-text-common-secondary)}.bh-title-wrapper__ctas{display:flex;align-items:flex-start}.bh-title-wrapper__cta--primary,.bh-title-wrapper__cta--secondary,.bh-title-wrapper__cta--ghost{margin-left:var(--spacing-margin-small)}.bh-title-wrapper__header-actions__slot-container{display:flex;align-items:center}.bh-title-wrapper__header-actions__slot-container bh-button-group{justify-content:flex-end;align-items:center}.bh-title-wrapper__header-actions__slot-container bh-action-menu{display:block;height:36px;margin-right:var(--spacing-margin-xsmall)}.bh-title-wrapper__header-actions__slot-container__supplelemental-action-menu.hidden{display:none}@media (max-width: 599px){.bh-title-wrapper__cta--primary,.bh-title-wrapper__cta--secondary{display:none}}\";\n\nconst BhTitleWrapper = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventCtaClick = createEvent(this, \"bhEventCtaClick\", 7);\r\n    /**\r\n     * Defines the header size among - 'title' / 'subtitle' or 'label'\r\n     */\r\n    this.type = \"title\";\r\n    this.withHeaderActionSlot = false;\r\n  }\r\n  handleResize() {\r\n    this.breakpoint = getBreakpoint();\r\n  }\r\n  watchCta() {\r\n    this._cta = typeof (this.cta) === 'string' ? JSON.parse(this.cta) : this.cta;\r\n  }\r\n  componentWillLoad() {\r\n    this._cta = typeof (this.cta) === 'string' ? JSON.parse(this.cta) : this.cta;\r\n    this.breakpoint = getBreakpoint();\r\n  }\r\n  componentDidLoad() {\r\n    var _a, _b, _c;\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.titleWrapper.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    if (this.withHeaderActionSlot) {\r\n      const headerActionsSlot = (_a = this.host) === null || _a === void 0 ? void 0 : _a.querySelector('[slot=\"bh-title-wrapper__header-actions\"]');\r\n      // wrapping actions\r\n      if ((headerActionsSlot === null || headerActionsSlot === void 0 ? void 0 : headerActionsSlot.querySelector(Components.button)) && !(headerActionsSlot === null || headerActionsSlot === void 0 ? void 0 : headerActionsSlot.querySelector(Components.actionMenu))) {\r\n        const element__buttons = headerActionsSlot.querySelectorAll(Components.button);\r\n        const element__supplemental_action_menu = (_b = this.host) === null || _b === void 0 ? void 0 : _b.querySelector('.bh-title-wrapper__header-actions__slot-container__supplelemental-action-menu');\r\n        element__supplemental_action_menu === null || element__supplemental_action_menu === void 0 ? void 0 : element__supplemental_action_menu.setAttribute('menu-items', JSON.stringify(Array.from(element__buttons).filter((el) => { return el.label; }).map((el) => { return el.getAttribute('label'); })));\r\n        if (this.breakpoint === 'small') {\r\n          element__buttons.forEach((el) => {\r\n            if (el.getAttribute('label')) {\r\n              el.style.display = 'none';\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          element__buttons.forEach((el) => {\r\n            if (el.getAttribute('label')) {\r\n              el.style.display = 'block';\r\n            }\r\n          });\r\n        }\r\n      }\r\n      else {\r\n        const element__supplemental_action_menu = (_c = this.host) === null || _c === void 0 ? void 0 : _c.querySelector('.bh-title-wrapper__header-actions__slot-container__supplelemental-action-menu');\r\n        element__supplemental_action_menu.style.display = 'none';\r\n      }\r\n    }\r\n  }\r\n  componentDidRender() {\r\n    var _a;\r\n    const headerActionsSlot = (_a = this.host) === null || _a === void 0 ? void 0 : _a.querySelector('[slot=\"bh-title-wrapper__header-actions\"]');\r\n    if (this.withHeaderActionSlot && !headerActionsSlot) {\r\n      this.withHeaderActionSlot = false;\r\n    }\r\n    else if (!this.withHeaderActionSlot && headerActionsSlot) {\r\n      this.withHeaderActionSlot = true;\r\n    }\r\n    if (this.withHeaderActionSlot) {\r\n      // wrapping actions\r\n      if (headerActionsSlot === null || headerActionsSlot === void 0 ? void 0 : headerActionsSlot.querySelector('bh-button')) {\r\n        if (headerActionsSlot === null || headerActionsSlot === void 0 ? void 0 : headerActionsSlot.querySelector('bh-action-menu')) {\r\n          const element__actionMenu = headerActionsSlot.querySelector('bh-action-menu');\r\n          const element__buttons = headerActionsSlot.querySelectorAll('bh-button');\r\n          if (this.breakpoint === 'small') {\r\n            element__actionMenu.setAttribute('additional-menu-items', JSON.stringify(Array.from(element__buttons).filter((el) => { return el.label; }).map((el) => { return el.getAttribute('label'); })));\r\n            element__buttons.forEach((el) => {\r\n              if (el.getAttribute('label')) {\r\n                el.style.display = 'none';\r\n              }\r\n            });\r\n          }\r\n          else {\r\n            element__actionMenu.removeAttribute('additional-menu-items');\r\n            element__buttons.forEach((el) => {\r\n              if (el.getAttribute('label')) {\r\n                el.style.display = 'block';\r\n              }\r\n            });\r\n          }\r\n        }\r\n        else {\r\n          const element__buttons = headerActionsSlot.querySelectorAll('bh-button');\r\n          if (this.breakpoint === 'small') {\r\n            element__buttons.forEach((el) => {\r\n              if (el.getAttribute('label')) {\r\n                el.style.display = 'none';\r\n              }\r\n            });\r\n          }\r\n          else {\r\n            element__buttons.forEach((el) => {\r\n              if (el.getAttribute('label')) {\r\n                el.style.display = 'block';\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.titleWrapper.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    const titleClasses = [\"bh-title-wrapper__header-copy\"];\r\n    if (this.type == \"title\") {\r\n      titleClasses.push(\"typography--title-medium\");\r\n    }\r\n    if (this.type == \"subtitle\") {\r\n      titleClasses.push(\"typography--subtitle-medium\");\r\n    }\r\n    if (this.type == \"label\") {\r\n      titleClasses.push(\"typography--label-small\");\r\n    }\r\n    if (!this.subtext) {\r\n      titleClasses.push(\"no-subtext\");\r\n    }\r\n    const ctaProps = [];\r\n    if ((_a = this._cta) === null || _a === void 0 ? void 0 : _a.primary)\r\n      ctaProps.push(typeof ((_b = this._cta) === null || _b === void 0 ? void 0 : _b.primary) === 'string' ? { label: this._cta.primary, value: `${this._cta.primary}` } : { label: this._cta.primary.label, value: this._cta.primary.key });\r\n    if ((_c = this._cta) === null || _c === void 0 ? void 0 : _c.secondary)\r\n      ctaProps.push(typeof ((_d = this._cta) === null || _d === void 0 ? void 0 : _d.secondary) === 'string' ? { label: this._cta.secondary, value: `${this._cta.secondary}` } : { label: this._cta.secondary.label, value: this._cta.secondary.key });\r\n    return (h(Host, { class: \"bh-title-wrapper\" }, h(\"div\", { class: \"bh-title-wrapper__container\" }, h(\"div\", { class: \"bh-title-wrapper__copies\" }, h(\"h2\", { class: titleClasses.join(' ') }, this.header), this.subtext &&\r\n      h(\"span\", { class: \"typography--decorative-small bh-title-wrapper__subtext-copy\" }, this.subtext)), this.withHeaderActionSlot &&\r\n      h(\"div\", { class: \"bh-title-wrapper__ctas bh-title-wrapper__header-actions__slot-container\" }, h(Components.actionMenu, { class: `bh-title-wrapper__header-actions__slot-container__supplelemental-action-menu ${this.breakpoint === 'small' ? '' : 'hidden'}`, isSmall: true }), h(\"slot\", { name: \"bh-title-wrapper__header-actions\" })), this._cta &&\r\n      h(\"div\", { class: \"bh-title-wrapper__ctas\" }, h(\"div\", null, (ctaProps.length > 0 || ((_e = this._cta) === null || _e === void 0 ? void 0 : _e.actionMenu)) &&\r\n        h(Components.actionMenu, { class: \"bh-title-wrapper__cta--action-menu--mobile\", isSmall: true, menuItems: {\r\n            itemGroups: (((_f = this._cta.actionMenu) === null || _f === void 0 ? void 0 : _f.menuItems) && ((_h = (_g = this._cta.actionMenu) === null || _g === void 0 ? void 0 : _g.menuItems) === null || _h === void 0 ? void 0 : _h.itemGroups))\r\n              ? (ctaProps.length > 0\r\n                ? [{ items: ctaProps, divider: false }, ...this._cta.actionMenu.menuItems.itemGroups]\r\n                : this._cta.actionMenu.menuItems.itemGroups)\r\n              : [{ items: ctaProps, divider: false }],\r\n            ctas: (_l = (_k = (_j = this._cta) === null || _j === void 0 ? void 0 : _j.actionMenu) === null || _k === void 0 ? void 0 : _k.menuItems) === null || _l === void 0 ? void 0 : _l.ctas,\r\n          }, onBhEventSelected: (event) => { event.preventDefault(); event.stopPropagation(); this.bhEventCtaClick.emit(event.detail); } }), ((_m = this._cta) === null || _m === void 0 ? void 0 : _m.actionMenu) &&\r\n        h(Components.actionMenu, { class: \"bh-title-wrapper__cta--action-menu--desktop\", isSmall: false, menuItems: this._cta.actionMenu.menuItems, onBhEventSelected: (event) => { event.preventDefault(); event.stopPropagation(); this.bhEventCtaClick.emit(event.detail); } })), ((_o = this._cta) === null || _o === void 0 ? void 0 : _o.ghost) && !Array.isArray((_p = this._cta) === null || _p === void 0 ? void 0 : _p.ghost) &&\r\n        h(Components.button, { class: \"bh-title-wrapper__cta--ghost\", type: \"ghost\", isDisabled: typeof (this._cta.ghost) === 'string' ? false : this._cta.ghost.isDisabled, isLoading: typeof (this._cta.ghost) === 'string' ? false : this._cta.ghost.isLoading, leftIcon: typeof (this._cta.ghost) === 'string' ? '' : this._cta.ghost.leftIcon, rightIcon: typeof (this._cta.ghost) === 'string' ? '' : this._cta.ghost.rightIcon, label: typeof (this._cta.ghost) === 'string' ? this._cta.ghost : (_q = this._cta.ghost) === null || _q === void 0 ? void 0 : _q.label, onClick: () => {\r\n            var _a;\r\n            if (typeof (this._cta.ghost) !== 'string' && this._cta.ghost.isDisabled)\r\n              return;\r\n            this.bhEventCtaClick.emit(typeof (this._cta.ghost) === 'string' ? this._cta.ghost : (_a = this._cta.ghost) === null || _a === void 0 ? void 0 : _a.key);\r\n          }, isSmall: this.breakpoint === 'small' }), ((_r = this._cta) === null || _r === void 0 ? void 0 : _r.ghost) && Array.isArray((_s = this._cta) === null || _s === void 0 ? void 0 : _s.ghost) && ((_t = this._cta) === null || _t === void 0 ? void 0 : _t.ghost.map((ghostCta) => {\r\n        return (h(Components.button, { class: \"bh-title-wrapper__cta--ghost\", type: \"ghost\", isDisabled: typeof (ghostCta) === 'string' ? false : ghostCta.isDisabled, isLoading: typeof (ghostCta) === 'string' ? false : ghostCta.isLoading, leftIcon: typeof (ghostCta) === 'string' ? '' : ghostCta.leftIcon, rightIcon: typeof (ghostCta) === 'string' ? '' : ghostCta.rightIcon, label: typeof (ghostCta) === 'string' ? ghostCta : ghostCta === null || ghostCta === void 0 ? void 0 : ghostCta.label, onClick: () => {\r\n            var _a;\r\n            if (typeof (ghostCta) !== 'string' && ghostCta.isDisabled)\r\n              return;\r\n            this.bhEventCtaClick.emit(typeof (ghostCta) === 'string' ? ghostCta : (_a = ghostCta) === null || _a === void 0 ? void 0 : _a.key);\r\n          }, isSmall: this.breakpoint === 'small' }));\r\n      })), ((_u = this._cta) === null || _u === void 0 ? void 0 : _u.secondary) &&\r\n        h(Components.button, { class: `bh-title-wrapper__cta--secondary ${((_v = this._cta) === null || _v === void 0 ? void 0 : _v.actionMenu) ? 'with-action-menu' : ''}`, type: \"secondary\", isDisabled: typeof (this._cta.secondary) === 'string' ? false : this._cta.secondary.isDisabled, isLoading: typeof (this._cta.secondary) === 'string' ? false : this._cta.secondary.isLoading, leftIcon: typeof (this._cta.secondary) === 'string' ? '' : this._cta.secondary.leftIcon, rightIcon: typeof (this._cta.secondary) === 'string' ? '' : this._cta.secondary.rightIcon, label: typeof (this._cta.secondary) === 'string' ? this._cta.secondary : (_w = this._cta.secondary) === null || _w === void 0 ? void 0 : _w.label, onClick: () => {\r\n            var _a;\r\n            if (typeof (this._cta.secondary) !== 'string' && this._cta.secondary.isDisabled)\r\n              return;\r\n            this.bhEventCtaClick.emit(typeof (this._cta.secondary) === 'string' ? this._cta.secondary : (_a = this._cta.secondary) === null || _a === void 0 ? void 0 : _a.key);\r\n          } }), ((_x = this._cta) === null || _x === void 0 ? void 0 : _x.primary) &&\r\n        h(Components.button, { class: `bh-title-wrapper__cta--primary ${((_y = this._cta) === null || _y === void 0 ? void 0 : _y.actionMenu) ? 'with-action-menu' : ''}`, type: \"primary\", isDisabled: typeof (this._cta.primary) === 'string' ? false : this._cta.primary.isDisabled, isLoading: typeof (this._cta.primary) === 'string' ? false : this._cta.primary.isLoading, leftIcon: typeof (this._cta.primary) === 'string' ? '' : this._cta.primary.leftIcon, rightIcon: typeof (this._cta.primary) === 'string' ? '' : this._cta.primary.rightIcon, label: typeof (this._cta.primary) === 'string' ? this._cta.primary : (_z = this._cta.primary) === null || _z === void 0 ? void 0 : _z.label, onClick: () => {\r\n            var _a;\r\n            if (typeof (this._cta.primary) !== 'string' && this._cta.primary.isDisabled)\r\n              return;\r\n            this.bhEventCtaClick.emit(typeof (this._cta.primary) === 'string' ? this._cta.primary : (_a = this._cta.primary) === null || _a === void 0 ? void 0 : _a.key);\r\n          } })))));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"cta\": [\"watchCta\"]\r\n  }; }\r\n};\r\nBhTitleWrapper.style = bhTitleWrapperCss;\n\nconst bhTypeAheadCss = \".bh-type-ahead__menu-container{position:relative;width:100%;z-index:1000}.bh-type-ahead__menu-inner-container{position:absolute;left:0;right:0px}.bh-type-ahead__menu-container.small{margin-top:0px}\";\n\nconst BhTypeAhead = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.selected = createEvent(this, \"selected\", 7);\r\n    this.bhEventOpen = createEvent(this, \"bhEventOpen\", 7);\r\n    this.bhEventClose = createEvent(this, \"bhEventClose\", 7);\r\n    this.bhEventSelected = createEvent(this, \"bhEventSelected\", 7);\r\n    /**\r\n     * Value of the input (useful for reading/prepopulating)\r\n     */\r\n    this.value = '';\r\n    /**\r\n     * Defines whether or not the input expands to the width of its parent container\r\n     */\r\n    this.isFluid = false;\r\n    /**\r\n     * The size of the input. Valid options are 'medium' | 'small'\r\n     */\r\n    this.isSmall = false;\r\n    /**\r\n     * Disabled text inputs are grayed out and cannot be clicked\r\n     */\r\n    this.isDisabled = false;\r\n    /**\r\n     * Defines whether or not the input is in an error state\r\n     */\r\n    this.isError = false;\r\n    this.isOpen = false;\r\n    this.query = '';\r\n  }\r\n  watchData() {\r\n    this._data =\r\n      typeof this.data === 'string'\r\n        ? JSON.parse(this.data)\r\n        : this.data;\r\n  }\r\n  watchIsOpen() {\r\n    if (this.isOpen) {\r\n      this.bhEventOpen.emit({ \"isOpen\": this.isOpen, \"value\": this.value });\r\n    }\r\n    else {\r\n      this.bhEventClose.emit({ \"isOpen\": this.isOpen, \"value\": this.value });\r\n    }\r\n  }\r\n  setMenuItems(event) {\r\n    if (this.query) {\r\n      this.isOpen = true;\r\n      this.menuItems = {\r\n        itemGroups: [{ items: event.detail }],\r\n      };\r\n    }\r\n  }\r\n  setQuery(event) {\r\n    this.query = event.detail;\r\n    this.showRecentSearches();\r\n  }\r\n  componentWillLoad() {\r\n    this._data =\r\n      typeof this.data === 'string'\r\n        ? JSON.parse(this.data)\r\n        : this.data;\r\n  }\r\n  closeMenu() {\r\n    this.isOpen = false;\r\n  }\r\n  onSelect(item) {\r\n    this.value = item.label;\r\n    this.query = item.label;\r\n    this.selected.emit(this.value);\r\n    this.closeMenu();\r\n    // Parse any JSON previously stored in recentSearches\r\n    let existingSearches = JSON.parse(localStorage.getItem('recentSearches'));\r\n    if (existingSearches == null)\r\n      existingSearches = [];\r\n    // Save recentSearches back to local storage\r\n    existingSearches.unshift(Object.assign(Object.assign({}, item), { icon: 'schedule' }));\r\n    localStorage.setItem('recentSearches', JSON.stringify(existingSearches));\r\n    this.bhEventSelected.emit(this.value);\r\n  }\r\n  showRecentSearches() {\r\n    const recentSearches = JSON.parse(window.localStorage.getItem('recentSearches'));\r\n    if (this.query === '' && recentSearches) {\r\n      const filteredMenuItems = Array.from(new Set(recentSearches.map((menuItem) => menuItem.label)))\r\n        .map((label) => {\r\n        return recentSearches.find((menuItem) => menuItem.label === label);\r\n      })\r\n        .slice(0, 5);\r\n      this.menuItems = {\r\n        itemGroups: [\r\n          {\r\n            header: 'Recent',\r\n            items: filteredMenuItems,\r\n          },\r\n        ],\r\n      };\r\n      this.isOpen = true;\r\n    }\r\n  }\r\n  handleBlur() {\r\n    // Need setTimeout to allow for the onSelect to run first\r\n    setTimeout(() => {\r\n      this.closeMenu();\r\n    }, 300);\r\n  }\r\n  render() {\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.typeAhead.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix);\r\n    return (h(Host, null, h(Components.search, { value: this.query, data: Array.isArray(this._data)\r\n        ? (typeof (this._data[0]) === 'string'\r\n          ? this._data.map(d => { return { label: d, value: d }; })\r\n          : this._data)\r\n        : this._data.itemGroups[0].items, searchParams: ['label'], placeholder: this.placeholder, onFocus: () => this.showRecentSearches(), onBlur: () => this.handleBlur(), isSmall: this.isSmall, isFluid: this.isFluid, isError: this.isError, isDisabled: this.isDisabled, isRounded: false }), h(\"div\", { class: `bh-type-ahead__menu-container ${this.isSmall ? 'small' : ''}`, ref: (el) => (this.element__typeAheadMenu = el) }, this.menuItems && this.isOpen && (h(\"div\", { class: 'bh-type-ahead__menu-inner-container' }, h(Components.menu, { isTypeAhead: true, menuWidth: this.isFluid ? 'fluid' : 'large', menuItems: this.menuItems, query: this.query, onBhEventSelected: (event) => {\r\n        this.onSelect(event.detail);\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      } }))))));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"data\": [\"watchData\"],\r\n    \"isOpen\": [\"watchIsOpen\"]\r\n  }; }\r\n};\r\nBhTypeAhead.style = bhTypeAheadCss;\n\nconst $_documentContainer = html`<dom-module id=\"lumo-progress-bar\" theme-for=\"vaadin-progress-bar\">\n  <template>\n    <style>\n      :host {\n        height: calc(var(--lumo-size-l) / 10);\n        margin: var(--lumo-space-s) 0;\n      }\n\n      [part=\"bar\"] {\n        border-radius: var(--lumo-border-radius);\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      [part=\"value\"] {\n        border-radius: var(--lumo-border-radius);\n        background-color: var(--lumo-primary-color);\n        /* Use width instead of transform to preserve border radius */\n        transform: none;\n        width: calc(var(--vaadin-progress-value) * 100%);\n        will-change: width;\n        transition: 0.1s width linear;\n      }\n\n      /* Indeterminate mode */\n\n      :host([indeterminate]) [part=\"value\"] {\n        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));\n        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));\n        width: 100%;\n        background-color: transparent !important;\n        background-image: var(--lumo-progress-indeterminate-progress-bar-background);\n        opacity: 0.75;\n        will-change: transform;\n        animation: vaadin-progress-indeterminate 1.6s infinite cubic-bezier(.645, .045, .355, 1);\n      }\n\n      @keyframes vaadin-progress-indeterminate {\n        0% {\n          transform: scaleX(0.015);\n          transform-origin: 0% 0%;\n        }\n\n        25% {\n          transform: scaleX(0.4);\n        }\n\n        50% {\n          transform: scaleX(0.015);\n          transform-origin: 100% 0%;\n          background-image: var(--lumo-progress-indeterminate-progress-bar-background);\n        }\n\n        50.1% {\n          transform: scaleX(0.015);\n          transform-origin: 100% 0%;\n          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);\n        }\n\n        75% {\n          transform: scaleX(0.4);\n        }\n\n        100% {\n          transform: scaleX(0.015);\n          transform-origin: 0% 0%;\n          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);\n        }\n      }\n\n      :host(:not([aria-valuenow])) [part=\"value\"]::before,\n      :host([indeterminate]) [part=\"value\"]::before {\n        content: \"\";\n        display: block;\n        width: 100%;\n        height: 100%;\n        border-radius: inherit;\n        background-color: var(--lumo-primary-color);\n        will-change: opacity;\n        animation: vaadin-progress-pulse3 1.6s infinite cubic-bezier(.645, .045, .355, 1);\n      }\n\n      @keyframes vaadin-progress-pulse3 {\n        0% { opacity: 1; }\n        10% { opacity: 0; }\n        40% { opacity: 0; }\n        50% { opacity: 1; }\n        50.1% { opacity: 1; }\n        60% { opacity: 0; }\n        90% { opacity: 0; }\n        100% { opacity: 1; }\n      }\n\n      /* Contrast color */\n\n      :host([theme~=\"contrast\"]) [part=\"value\"],\n      :host([theme~=\"contrast\"]) [part=\"value\"]::before {\n        background-color: var(--lumo-contrast-80pct);\n        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-80pct));\n        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-60pct));\n      }\n\n      /* Error color */\n\n      :host([theme~=\"error\"]) [part=\"value\"],\n      :host([theme~=\"error\"]) [part=\"value\"]::before {\n        background-color: var(--lumo-error-color);\n        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));\n        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));\n      }\n\n      /* Primary color */\n\n      :host([theme~=\"success\"]) [part=\"value\"],\n      :host([theme~=\"success\"]) [part=\"value\"]::before {\n        background-color: var(--lumo-success-color);\n        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));\n        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));\n      }\n\n      /* RTL specific styles */\n\n      :host([indeterminate][dir=\"rtl\"]) [part=\"value\"] {\n        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to left, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));\n        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to right, var(--lumo-primary-color-10pct) 10%, var(--lumo-primary-color));\n        animation: vaadin-progress-indeterminate-rtl 1.6s infinite cubic-bezier(.355, .045, .645, 1);\n      }\n\n      :host(:not([aria-valuenow])[dir=\"rtl\"]) [part=\"value\"]::before,\n      :host([indeterminate][dir=\"rtl\"]) [part=\"value\"]::before {\n        animation: vaadin-progress-pulse3 1.6s infinite cubic-bezier(.355, .045, .645, 1);\n      }\n\n      @keyframes vaadin-progress-indeterminate-rtl {\n        0% {\n          transform: scaleX(0.015);\n          transform-origin: 100% 0%;\n        }\n\n        25% {\n          transform: scaleX(0.4);\n        }\n\n        50% {\n          transform: scaleX(0.015);\n          transform-origin: 0% 0%;\n          background-image: var(--lumo-progress-indeterminate-progress-bar-background);\n        }\n\n        50.1% {\n          transform: scaleX(0.015);\n          transform-origin: 0% 0%;\n          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);\n        }\n\n        75% {\n          transform: scaleX(0.4);\n        }\n\n        100% {\n          transform: scaleX(0.015);\n          transform-origin: 100% 0%;\n          background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);\n        }\n      }\n\n      /* Contrast color */\n\n      :host([theme~=\"contrast\"][dir=\"rtl\"]) [part=\"value\"],\n      :host([theme~=\"contrast\"][dir=\"rtl\"]) [part=\"value\"]::before {\n        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to left, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-80pct));\n        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to right, var(--lumo-contrast-5pct) 10%, var(--lumo-contrast-60pct));\n      }\n\n      /* Error color */\n\n      :host([theme~=\"error\"][dir=\"rtl\"]) [part=\"value\"],\n      :host([theme~=\"error\"][dir=\"rtl\"]) [part=\"value\"]::before {\n        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to left, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));\n        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to right, var(--lumo-error-color-10pct) 10%, var(--lumo-error-color));\n      }\n\n      /* Primary color */\n\n      :host([theme~=\"success\"][dir=\"rtl\"]) [part=\"value\"],\n      :host([theme~=\"success\"][dir=\"rtl\"]) [part=\"value\"]::before {\n        --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to left, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));\n        --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to right, var(--lumo-success-color-10pct) 10%, var(--lumo-success-color));\n      }\n    </style>\n  </template>\n</dom-module><custom-style>\n  <style>\n    @keyframes vaadin-progress-pulse3 {\n      0% { opacity: 1; }\n      10% { opacity: 0; }\n      40% { opacity: 0; }\n      50% { opacity: 1; }\n      50.1% { opacity: 1; }\n      60% { opacity: 0; }\n      90% { opacity: 0; }\n      100% { opacity: 1; }\n    }\n  </style>\n</custom-style>`;\n\ndocument.head.appendChild($_documentContainer.content);\n\n/* Safari fails to declare animations for pseudo elements inside a shadow DOM */\n\n/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n/**\n * @polymerMixin\n */\nconst ProgressMixin = superClass =>\n  class VaadinProgressMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Current progress value.\n         */\n        value: {\n          type: Number,\n          observer: '_valueChanged'\n        },\n        /**\n         * Minimum bound of the progress bar.\n         * @type {number}\n         */\n        min: {\n          type: Number,\n          value: 0,\n          observer: '_minChanged'\n        },\n        /**\n         * Maximum bound of the progress bar.\n         * @type {number}\n         */\n        max: {\n          type: Number,\n          value: 1,\n          observer: '_maxChanged'\n        },\n        /**\n         * Indeterminate state of the progress bar.\n         * This property takes precedence over other state properties (min, max, value).\n         * @type {boolean}\n         */\n        indeterminate: {\n          type: Boolean,\n          value: false,\n          reflectToAttribute: true\n        }\n      };\n    }\n\n    static get observers() {\n      return [\n        '_normalizedValueChanged(value, min, max)'\n      ];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.setAttribute('role', 'progressbar');\n    }\n\n    /** @private */\n    _normalizedValueChanged(value, min, max) {\n      const newNormalizedValue = this._normalizeValue(value, min, max);\n\n      this.style.setProperty('--vaadin-progress-value', newNormalizedValue);\n\n      this.updateStyles({\n        '--vaadin-progress-value': String(newNormalizedValue)\n      });\n    }\n\n    /** @private */\n    _valueChanged(newV, oldV) {\n      this.setAttribute('aria-valuenow', newV);\n    }\n\n    /** @private */\n    _minChanged(newV, oldV) {\n      this.setAttribute('aria-valuemin', newV);\n    }\n\n    /** @private */\n    _maxChanged(newV, oldV) {\n      this.setAttribute('aria-valuemax', newV);\n    }\n\n    /**\n     * Percent of current progress relative to whole progress bar (max - min)\n     * @private\n     */\n    _normalizeValue(value, min, max) {\n      let nV;\n\n      if (!value && value != 0) {\n        nV = 0;\n      } else if (min >= max) {\n        nV = 1;\n      } else {\n        nV = (value - min) / (max - min);\n\n        nV = Math.min(Math.max(nV, 0), 1);\n      }\n\n      return nV;\n    }\n  };\n\n/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n/**\n * `<vaadin-progress-bar>` is a Web Component for progress bars.\n *\n * ```html\n * <vaadin-progress-bar min=\"0\" max=\"1\" value=\"0.5\">\n * </vaadin-progress-bar>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `bar` | Progress-bar's background\n * `value` | Progress-bar's foreground\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * The following custom properties are available:\n *\n * Custom property | Description | Default\n * ----------------|-------------|-------------\n * `--vaadin-progress-value` | current progress value (between 0 and 1) | 0\n *\n * The following state attributes are available for styling:\n *\n * Attribute       | Description | Part name\n * ----------------|-------------|------------\n * `indeterminate` | Set to an indeterminate progress bar | :host\n *\n * @extends PolymerElement\n * @mixes ProgressMixin\n * @mixes ThemableMixin\n * @mixes ElementMixin\n * @demo demo/index.html\n */\nclass ProgressBarElement extends ElementMixin(ThemableMixin(ProgressMixin(PolymerElement))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n        width: 100%; /* prevent collapsing inside non-stretching column flex */\n        height: 8px;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      [part=\"bar\"] {\n        height: 100%;\n      }\n\n      [part=\"value\"] {\n        height: 100%;\n        transform-origin: 0 50%;\n        transform: scaleX(var(--vaadin-progress-value));\n      }\n\n      /* RTL specific styles */\n\n      :host([dir=\"rtl\"]) [part=\"value\"] {\n        transform-origin: 100% 50%;\n      }\n    </style>\n\n    <div part=\"bar\">\n      <div part=\"value\"></div>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-progress-bar';\n  }\n\n  static get version() {\n    return '1.3.0';\n  }\n}\n\ncustomElements.define(ProgressBarElement.is, ProgressBarElement);\n\nregisterStyles(\n  'vaadin-upload',\n  css`\n    :host {\n      line-height: var(--lumo-line-height-m);\n    }\n\n    :host(:not([nodrop])) {\n      overflow: hidden;\n      border: 1px dashed var(--lumo-contrast-20pct);\n      border-radius: var(--lumo-border-radius-s);\n      padding: var(--lumo-space-m);\n      transition: background-color 0.6s, border-color 0.6s;\n    }\n\n    [part='primary-buttons'] > * {\n      display: inline-block;\n      white-space: nowrap;\n    }\n\n    [part='drop-label'] {\n      display: inline-block;\n      white-space: normal;\n      padding: 0 var(--lumo-space-s);\n      color: var(--lumo-secondary-text-color);\n      font-family: var(--lumo-font-family);\n    }\n\n    :host([dragover-valid]) {\n      border-color: var(--lumo-primary-color-50pct);\n      background: var(--lumo-primary-color-10pct);\n      transition: background-color 0.1s, border-color 0.1s;\n    }\n\n    :host([dragover-valid]) [part='drop-label'] {\n      color: var(--lumo-primary-text-color);\n    }\n\n    [part='drop-label-icon'] {\n      display: inline-block;\n    }\n\n    [part='drop-label-icon']::before {\n      content: var(--lumo-icons-upload);\n      font-family: lumo-icons;\n      font-size: var(--lumo-icon-size-m);\n      line-height: 1;\n      vertical-align: -0.25em;\n    }\n  `,\n  { moduleId: 'lumo-upload' }\n);\n\nregisterStyles(\n  'vaadin-upload-file',\n  css`\n    :host {\n      padding: var(--lumo-space-s) 0;\n    }\n\n    :host(:not(:first-child)) {\n      border-top: 1px solid var(--lumo-contrast-10pct);\n    }\n\n    [part='row'] {\n      display: flex;\n      align-items: baseline;\n      justify-content: space-between;\n    }\n\n    [part='status'],\n    [part='error'] {\n      color: var(--lumo-secondary-text-color);\n      font-size: var(--lumo-font-size-s);\n    }\n\n    [part='info'] {\n      display: flex;\n      align-items: baseline;\n      flex: auto;\n    }\n\n    [part='meta'] {\n      width: 0.001px;\n      flex: 1 1 auto;\n    }\n\n    [part='name'] {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    [part='commands'] {\n      display: flex;\n      align-items: baseline;\n      flex: none;\n    }\n\n    [part='done-icon'],\n    [part='warning-icon'] {\n      margin-right: var(--lumo-space-xs);\n    }\n\n    /* When both icons are hidden, let us keep space for one */\n    [part='done-icon'][hidden] + [part='warning-icon'][hidden] {\n      display: block !important;\n      visibility: hidden;\n    }\n\n    [part='done-icon'],\n    [part='warning-icon'] {\n      font-size: var(--lumo-icon-size-m);\n      font-family: 'lumo-icons';\n      line-height: 1;\n    }\n\n    [part='start-button'],\n    [part='retry-button'],\n    [part='clear-button'] {\n      flex: none;\n      margin-left: var(--lumo-space-xs);\n    }\n\n    [part='done-icon']::before,\n    [part='warning-icon']::before,\n    [part='start-button']::before,\n    [part='retry-button']::before,\n    [part='clear-button']::before {\n      vertical-align: -0.25em;\n    }\n\n    [part='done-icon']::before {\n      content: var(--lumo-icons-checkmark);\n      color: var(--lumo-primary-text-color);\n    }\n\n    [part='warning-icon']::before {\n      content: var(--lumo-icons-error);\n      color: var(--lumo-error-text-color);\n    }\n\n    [part='start-button']::before {\n      content: var(--lumo-icons-play);\n    }\n\n    [part='retry-button']::before {\n      content: var(--lumo-icons-reload);\n    }\n\n    [part='clear-button']::before {\n      content: var(--lumo-icons-cross);\n    }\n\n    [part='error'] {\n      color: var(--lumo-error-text-color);\n    }\n\n    [part='progress'] {\n      width: auto;\n      margin-left: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));\n      margin-right: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));\n    }\n\n    [part='progress'][complete],\n    [part='progress'][error] {\n      display: none;\n    }\n  `,\n  { include: ['lumo-field-button'], moduleId: 'lumo-upload-file' }\n);\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nconst $_documentContainer$1 = document.createElement('template');\n\n$_documentContainer$1.innerHTML = `\n  <style>\n    @font-face {\n      font-family: 'vaadin-upload-icons';\n      src: url(data:application/font-woff;charset=utf-8;base64,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) format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n  </style>\n`;\n\ndocument.head.appendChild($_documentContainer$1.content);\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * `<vaadin-upload-file>` element represents a file in the file list of `<vaadin-upload>`.\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ---|---\n * `row` | File container\n * `info` | Container for file status icon, file name, status and error messages\n * `done-icon` | File done status icon\n * `warning-icon` | File warning status icon\n * `meta` | Container for file name, status and error messages\n * `name` | File name\n * `error` | Error message, shown when error happens\n * `status` | Status message\n * `commands` | Container for file command icons\n * `start-button` | Start file upload button\n * `retry-button` | Retry file upload button\n * `clear-button` | Clear file button\n * `progress`| Progress bar\n *\n * The following state attributes are available for styling:\n *\n * Attribute | Description | Part name\n * ---|---|---\n * `error` | An error has happened during uploading | `:host`\n * `indeterminate` | Uploading is in progress, but the progress value is unknown | `:host`\n * `uploading` | Uploading is in progress | `:host`\n * `complete` | Uploading has finished successfully | `:host`\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @mixes ThemableMixin\n */\nclass UploadFileElement extends ThemableMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n        }\n\n        [hidden] {\n          display: none;\n        }\n      </style>\n\n      <div part=\"row\">\n        <div part=\"info\">\n          <div part=\"done-icon\" hidden$=\"[[!file.complete]]\"></div>\n          <div part=\"warning-icon\" hidden$=\"[[!file.error]]\"></div>\n\n          <div part=\"meta\">\n            <div part=\"name\" id=\"name\">[[file.name]]</div>\n            <div part=\"status\" hidden$=\"[[!file.status]]\" id=\"status\">[[file.status]]</div>\n            <div part=\"error\" id=\"error\" hidden$=\"[[!file.error]]\">[[file.error]]</div>\n          </div>\n        </div>\n        <div part=\"commands\">\n          <div part=\"start-button\" file-event=\"file-start\" on-click=\"_fireFileEvent\" hidden$=\"[[!file.held]]\"></div>\n          <div part=\"retry-button\" file-event=\"file-retry\" on-click=\"_fireFileEvent\" hidden$=\"[[!file.error]]\"></div>\n          <div part=\"clear-button\" file-event=\"file-abort\" on-click=\"_fireFileEvent\"></div>\n        </div>\n      </div>\n\n      <vaadin-progress-bar\n        part=\"progress\"\n        id=\"progress\"\n        value$=\"[[_formatProgressValue(file.progress)]]\"\n        error$=\"[[file.error]]\"\n        indeterminate$=\"[[file.indeterminate]]\"\n        uploading$=\"[[file.uploading]]\"\n        complete$=\"[[file.complete]]\"\n      ></vaadin-progress-bar>\n    `;\n  }\n\n  static get is() {\n    return 'vaadin-upload-file';\n  }\n\n  static get properties() {\n    return {\n      file: Object\n    };\n  }\n\n  static get observers() {\n    return [\n      '_fileAborted(file.abort)',\n      '_toggleHostAttribute(file.error, \"error\")',\n      '_toggleHostAttribute(file.indeterminate, \"indeterminate\")',\n      '_toggleHostAttribute(file.uploading, \"uploading\")',\n      '_toggleHostAttribute(file.complete, \"complete\")'\n    ];\n  }\n\n  /** @private */\n  _fileAborted(abort) {\n    if (abort) {\n      this._remove();\n    }\n  }\n\n  /** @private */\n  _remove() {\n    this.dispatchEvent(\n      new CustomEvent('file-remove', {\n        detail: { file: this.file },\n        bubbles: true,\n        composed: true\n      })\n    );\n  }\n\n  /** @private */\n  _formatProgressValue(progress) {\n    return progress / 100;\n  }\n\n  /** @private */\n  _fireFileEvent(e) {\n    e.preventDefault();\n    return this.dispatchEvent(\n      new CustomEvent(e.target.getAttribute('file-event'), {\n        detail: { file: this.file },\n        bubbles: true,\n        composed: true\n      })\n    );\n  }\n\n  /** @private */\n  _toggleHostAttribute(value, attributeName) {\n    const shouldHave = Boolean(value);\n    const has = this.hasAttribute(attributeName);\n    if (has !== shouldHave) {\n      if (shouldHave) {\n        this.setAttribute(attributeName, '');\n      } else {\n        this.removeAttribute(attributeName);\n      }\n    }\n  }\n\n  /**\n   * Fired when the retry button is pressed. It is listened by `vaadin-upload`\n   * which will start a new upload process of this file.\n   *\n   * @event file-retry\n   * @param {Object} detail\n   * @param {Object} detail.file file to retry upload of\n   */\n\n  /**\n   * Fired when the start button is pressed. It is listened by `vaadin-upload`\n   * which will start a new upload process of this file.\n   *\n   * @event file-start\n   * @param {Object} detail\n   * @param {Object} detail.file file to start upload of\n   */\n\n  /**\n   * Fired when abort button is pressed. It is listened by `vaadin-upload` which\n   * will abort the upload in progress, but will not remove the file from the list\n   * to allow the animation to hide the element to be run.\n   *\n   * @event file-abort\n   * @param {Object} detail\n   * @param {Object} detail.file file to abort upload of\n   */\n\n  /**\n   * Fired after the animation to hide the element has finished. It is listened\n   * by `vaadin-upload` which will actually remove the file from the upload\n   * file list.\n   *\n   * @event file-remove\n   * @param {Object} detail\n   * @param {Object} detail.file file to remove from the  upload of\n   */\n}\n\ncustomElements.define(UploadFileElement.is, UploadFileElement);\n\n/**\n * @license\n * Copyright (c) 2020 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * `<vaadin-upload>` is a Web Component for uploading multiple files with drag and drop support.\n *\n * Example:\n *\n * ```\n * <vaadin-upload></vaadin-upload>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ---|---\n * `primary-buttons` | Upload container\n * `upload-button` | Upload button\n * `drop-label` | Label for drop indicator\n * `drop-label-icon` | Icon for drop indicator\n * `file-list` | File list container\n *\n * The following state attributes are available for styling:\n *\n * Attribute | Description | Part name\n * ---|---|---\n * `nodrop` | Set when drag and drop is disabled (e. g., on touch devices) | `:host`\n * `dragover` | A file is being dragged over the element | `:host`\n * `dragover-valid` | A dragged file is valid with `maxFiles` and `accept` criteria | `:host`\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @fires {CustomEvent} file-reject - Fired when a file cannot be added to the queue due to a constrain.\n * @fires {CustomEvent} files-changed - Fired when the `files` property changes.\n * @fires {CustomEvent} max-files-reached-changed - Fired when the `maxFilesReached` property changes.\n * @fires {CustomEvent} upload-before - Fired before the XHR is opened.\n * @fires {CustomEvent} upload-start - Fired when the XHR is sent.\n * @fires {CustomEvent} upload-progress - Fired as many times as the progress is updated.\n * @fires {CustomEvent} upload-success - Fired in case the upload process succeeded.\n * @fires {CustomEvent} upload-error - Fired in case the upload process failed.\n * @fires {CustomEvent} upload-request - Fired when the XHR has been opened but not sent yet.\n * @fires {CustomEvent} upload-response - Fired when on the server response before analyzing it.\n * @fires {CustomEvent} upload-retry - Fired when retry upload is requested.\n * @fires {CustomEvent} upload-abort - Fired when upload abort is requested.\n *\n * @extends HTMLElement\n * @mixes ThemableMixin\n * @mixes ElementMixin\n */\nclass UploadElement extends ElementMixin(ThemableMixin(PolymerElement)) {\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n          position: relative;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n      </style>\n\n      <div part=\"primary-buttons\">\n        <div id=\"addFiles\" on-touchend=\"_onAddFilesTouchEnd\" on-click=\"_onAddFilesClick\">\n          <slot name=\"add-button\">\n            <vaadin-button part=\"upload-button\" id=\"addButton\" disabled=\"[[maxFilesReached]]\">\n              [[_i18nPlural(maxFiles, i18n.addFiles, i18n.addFiles.*)]]\n            </vaadin-button>\n          </slot>\n        </div>\n        <div part=\"drop-label\" hidden$=\"[[nodrop]]\" id=\"dropLabelContainer\">\n          <slot name=\"drop-label-icon\">\n            <div part=\"drop-label-icon\"></div>\n          </slot>\n          <slot name=\"drop-label\" id=\"dropLabel\"> [[_i18nPlural(maxFiles, i18n.dropFiles, i18n.dropFiles.*)]] </slot>\n        </div>\n      </div>\n      <slot name=\"file-list\">\n        <div id=\"fileList\" part=\"file-list\">\n          <template is=\"dom-repeat\" items=\"[[files]]\" as=\"file\">\n            <vaadin-upload-file file=\"[[file]]\"></vaadin-upload-file>\n          </template>\n        </div>\n      </slot>\n      <slot></slot>\n      <input\n        type=\"file\"\n        id=\"fileInput\"\n        hidden\n        on-change=\"_onFileInputChange\"\n        accept$=\"{{accept}}\"\n        multiple$=\"[[_isMultiple(maxFiles)]]\"\n        capture$=\"[[capture]]\"\n      />\n    `;\n  }\n\n  static get is() {\n    return 'vaadin-upload';\n  }\n\n  static get version() {\n    return '5.0.0';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Define whether the element supports dropping files on it for uploading.\n       * By default it's enabled in desktop and disabled in touch devices\n       * because mobile devices do not support drag events in general. Setting\n       * it false means that drop is enabled even in touch-devices, and true\n       * disables drop in all devices.\n       *\n       * @type {boolean}\n       * @default true in touch-devices, false otherwise.\n       */\n      nodrop: {\n        type: Boolean,\n        reflectToAttribute: true,\n        value: function () {\n          try {\n            return !!document.createEvent('TouchEvent');\n          } catch (e) {\n            return false;\n          }\n        }\n      },\n\n      /**\n       * The server URL. The default value is an empty string, which means that\n       * _window.location_ will be used.\n       * @type {string}\n       */\n      target: {\n        type: String,\n        value: ''\n      },\n\n      /**\n       * HTTP Method used to send the files. Only POST and PUT are allowed.\n       * @type {!UploadMethod}\n       */\n      method: {\n        type: String,\n        value: 'POST'\n      },\n\n      /**\n       * Key-Value map to send to the server. If you set this property as an\n       * attribute, use a valid JSON string, for example:\n       * ```\n       * <vaadin-upload headers='{\"X-Foo\": \"Bar\"}'></vaadin-upload>\n       * ```\n       * @type {object | string}\n       */\n      headers: {\n        type: Object,\n        value: {}\n      },\n\n      /**\n       * Max time in milliseconds for the entire upload process, if exceeded the\n       * request will be aborted. Zero means that there is no timeout.\n       * @type {number}\n       */\n      timeout: {\n        type: Number,\n        value: 0\n      },\n\n      /** @private */\n      _dragover: {\n        type: Boolean,\n        value: false,\n        observer: '_dragoverChanged'\n      },\n\n      /**\n       * The array of files being processed, or already uploaded.\n       *\n       * Each element is a [`File`](https://developer.mozilla.org/en-US/docs/Web/API/File)\n       * object with a number of extra properties  to track the upload process:\n       * - `uploadTarget`: The target URL used to upload this file.\n       * - `elapsed`: Elapsed time since the upload started.\n       * - `elapsedStr`: Human-readable elapsed time.\n       * - `remaining`: Number of seconds remaining for the upload to finish.\n       * - `remainingStr`: Human-readable remaining time for the upload to finish.\n       * - `progress`: Percentage of the file already uploaded.\n       * - `speed`: Upload speed in kB/s.\n       * - `size`: File size in bytes.\n       * - `totalStr`: Human-readable total size of the file.\n       * - `loaded`: Bytes transferred so far.\n       * - `loadedStr`: Human-readable uploaded size at the moment.\n       * - `status`: Status of the upload process.\n       * - `error`: Error message in case the upload failed.\n       * - `abort`: True if the file was canceled by the user.\n       * - `complete`: True when the file was transferred to the server.\n       * - `uploading`: True while transferring data to the server.\n       * @type {!Array<!UploadFile>}\n       */\n      files: {\n        type: Array,\n        notify: true,\n        value: function () {\n          return [];\n        }\n      },\n\n      /**\n       * Limit of files to upload, by default it is unlimited. If the value is\n       * set to one, native file browser will prevent selecting multiple files.\n       * @attr {number} max-files\n       * @type {number}\n       */\n      maxFiles: {\n        type: Number,\n        value: Infinity\n      },\n\n      /**\n       * Specifies if the maximum number of files have been uploaded\n       * @attr {boolean} max-files-reached\n       * @type {boolean}\n       */\n      maxFilesReached: {\n        type: Boolean,\n        value: false,\n        notify: true,\n        readOnly: true,\n        computed: '_maxFilesAdded(maxFiles, files.length)'\n      },\n\n      /**\n       * Specifies the types of files that the server accepts.\n       * Syntax: a comma-separated list of MIME type patterns (wildcards are\n       * allowed) or file extensions.\n       * Notice that MIME types are widely supported, while file extensions\n       * are only implemented in certain browsers, so avoid using it.\n       * Example: accept=\"video/*,image/tiff\" or accept=\".pdf,audio/mp3\"\n       * @type {string}\n       */\n      accept: {\n        type: String,\n        value: ''\n      },\n\n      /**\n       * Specifies the maximum file size in bytes allowed to upload.\n       * Notice that it is a client-side constraint, which will be checked before\n       * sending the request. Obviously you need to do the same validation in\n       * the server-side and be sure that they are aligned.\n       * @attr {number} max-file-size\n       * @type {number}\n       */\n      maxFileSize: {\n        type: Number,\n        value: Infinity\n      },\n\n      /**\n       * Specifies if the dragover is validated with maxFiles and\n       * accept properties.\n       * @private\n       */\n      _dragoverValid: {\n        type: Boolean,\n        value: false,\n        observer: '_dragoverValidChanged'\n      },\n\n      /**\n       * Specifies the 'name' property at Content-Disposition\n       * @attr {string} form-data-name\n       * @type {string}\n       */\n      formDataName: {\n        type: String,\n        value: 'file'\n      },\n\n      /**\n       * Prevents upload(s) from immediately uploading upon adding file(s).\n       * When set, you must manually trigger uploads using the `uploadFiles` method\n       * @attr {boolean} no-auto\n       * @type {boolean}\n       */\n      noAuto: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Set the withCredentials flag on the request.\n       * @attr {boolean} with-credentials\n       * @type {boolean}\n       */\n      withCredentials: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * Pass-through to input's capture attribute. Allows user to trigger device inputs\n       * such as camera or microphone immediately.\n       */\n      capture: String,\n\n      /**\n       * The object used to localize this component.\n       * For changing the default localization, change the entire\n       * _i18n_ object or just the property you want to modify.\n       *\n       * The object has the following JSON structure and default values:\n\n      {\n        dropFiles: {\n        one: 'Drop file here',\n        many: 'Drop files here'\n        },\n        addFiles: {\n        one: 'Select File...',\n        many: 'Upload Files...'\n        },\n        cancel: 'Cancel',\n        error: {\n        tooManyFiles: 'Too Many Files.',\n        fileIsTooBig: 'File is Too Big.',\n        incorrectFileType: 'Incorrect File Type.'\n        },\n        uploading: {\n        status: {\n          connecting: 'Connecting...',\n          stalled: 'Stalled',\n          processing: 'Processing File...',\n          held: 'Queued'\n        },\n        remainingTime: {\n          prefix: 'remaining time: ',\n          unknown: 'unknown remaining time'\n        },\n        error: {\n          serverUnavailable: 'Server Unavailable',\n          unexpectedServerError: 'Unexpected Server Error',\n          forbidden: 'Forbidden'\n        }\n        },\n        units: {\n        size: ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n        sizeBase: 1000\n        },\n        formatSize: function(bytes) {\n        // returns the size followed by the best suitable unit\n        },\n        formatTime: function(seconds, [secs, mins, hours]) {\n        // returns a 'HH:MM:SS' string\n        }\n      }\n\n      * @type {!UploadI18n}\n      * @default {English}\n      */\n      i18n: {\n        type: Object,\n        value: function () {\n          return {\n            dropFiles: {\n              one: 'Drop file here',\n              many: 'Drop files here'\n            },\n            addFiles: {\n              one: 'Upload File...',\n              many: 'Upload Files...'\n            },\n            cancel: 'Cancel',\n            error: {\n              tooManyFiles: 'Too Many Files.',\n              fileIsTooBig: 'File is Too Big.',\n              incorrectFileType: 'Incorrect File Type.'\n            },\n            uploading: {\n              status: {\n                connecting: 'Connecting...',\n                stalled: 'Stalled',\n                processing: 'Processing File...',\n                held: 'Queued'\n              },\n              remainingTime: {\n                prefix: 'remaining time: ',\n                unknown: 'unknown remaining time'\n              },\n              error: {\n                serverUnavailable: 'Server Unavailable',\n                unexpectedServerError: 'Unexpected Server Error',\n                forbidden: 'Forbidden'\n              }\n            },\n            units: {\n              size: ['B', 'kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n            }\n          };\n        }\n      }\n    };\n  }\n\n  /** @protected */\n  ready() {\n    super.ready();\n    this.addEventListener('dragover', this._onDragover.bind(this));\n    this.addEventListener('dragleave', this._onDragleave.bind(this));\n    this.addEventListener('drop', this._onDrop.bind(this));\n    this.addEventListener('file-retry', this._onFileRetry.bind(this));\n    this.addEventListener('file-abort', this._onFileAbort.bind(this));\n    this.addEventListener('file-remove', this._onFileRemove.bind(this));\n    this.addEventListener('file-start', this._onFileStart.bind(this));\n  }\n\n  /** @private */\n  _formatSize(bytes) {\n    if (typeof this.i18n.formatSize === 'function') {\n      return this.i18n.formatSize(bytes);\n    }\n\n    // https://wiki.ubuntu.com/UnitsPolicy\n    const base = this.i18n.units.sizeBase || 1000;\n    const unit = ~~(Math.log(bytes) / Math.log(base));\n    const dec = Math.max(0, Math.min(3, unit - 1));\n    const size = parseFloat((bytes / Math.pow(base, unit)).toFixed(dec));\n    return size + ' ' + this.i18n.units.size[unit];\n  }\n\n  /** @private */\n  _splitTimeByUnits(time) {\n    const unitSizes = [60, 60, 24, Infinity];\n    const timeValues = [0];\n\n    for (var i = 0; i < unitSizes.length && time > 0; i++) {\n      timeValues[i] = time % unitSizes[i];\n      time = Math.floor(time / unitSizes[i]);\n    }\n\n    return timeValues;\n  }\n\n  /** @private */\n  _formatTime(seconds, split) {\n    if (typeof this.i18n.formatTime === 'function') {\n      return this.i18n.formatTime(seconds, split);\n    }\n\n    // Fill HH:MM:SS with leading zeros\n    while (split.length < 3) {\n      split.push(0);\n    }\n\n    return split\n      .reverse()\n      .map((number) => {\n        return (number < 10 ? '0' : '') + number;\n      })\n      .join(':');\n  }\n\n  /** @private */\n  _formatFileProgress(file) {\n    return (\n      file.totalStr +\n      ': ' +\n      file.progress +\n      '% (' +\n      (file.loaded > 0\n        ? this.i18n.uploading.remainingTime.prefix + file.remainingStr\n        : this.i18n.uploading.remainingTime.unknown) +\n      ')'\n    );\n  }\n\n  /** @private */\n  _maxFilesAdded(maxFiles, numFiles) {\n    return maxFiles >= 0 && numFiles >= maxFiles;\n  }\n\n  /** @private */\n  _onDragover(event) {\n    event.preventDefault();\n    if (!this.nodrop && !this._dragover) {\n      this._dragoverValid = !this.maxFilesReached;\n      this._dragover = true;\n    }\n    event.dataTransfer.dropEffect = !this._dragoverValid || this.nodrop ? 'none' : 'copy';\n  }\n\n  /** @private */\n  _onDragleave(event) {\n    event.preventDefault();\n    if (this._dragover && !this.nodrop) {\n      this._dragover = this._dragoverValid = false;\n    }\n  }\n\n  /** @private */\n  _onDrop(event) {\n    if (!this.nodrop) {\n      event.preventDefault();\n      this._dragover = this._dragoverValid = false;\n      this._addFiles(event.dataTransfer.files);\n    }\n  }\n\n  /** @private */\n  _createXhr() {\n    return new XMLHttpRequest();\n  }\n\n  /** @private */\n  _configureXhr(xhr) {\n    if (typeof this.headers == 'string') {\n      try {\n        this.headers = JSON.parse(this.headers);\n      } catch (e) {\n        this.headers = undefined;\n      }\n    }\n    for (var key in this.headers) {\n      xhr.setRequestHeader(key, this.headers[key]);\n    }\n    if (this.timeout) {\n      xhr.timeout = this.timeout;\n    }\n    xhr.withCredentials = this.withCredentials;\n  }\n\n  /** @private */\n  _setStatus(file, total, loaded, elapsed) {\n    file.elapsed = elapsed;\n    file.elapsedStr = this._formatTime(file.elapsed, this._splitTimeByUnits(file.elapsed));\n    file.remaining = Math.ceil(elapsed * (total / loaded - 1));\n    file.remainingStr = this._formatTime(file.remaining, this._splitTimeByUnits(file.remaining));\n    file.speed = ~~(total / elapsed / 1024);\n    file.totalStr = this._formatSize(total);\n    file.loadedStr = this._formatSize(loaded);\n    file.status = this._formatFileProgress(file);\n  }\n\n  /**\n   * Triggers the upload of any files that are not completed\n   *\n   * @param {!UploadFile | !Array<!UploadFile>=} files - Files being uploaded. Defaults to all outstanding files\n   */\n  uploadFiles(files) {\n    if (files && !Array.isArray(files)) {\n      files = [files];\n    }\n    files = files || this.files;\n    files = files.filter((file) => !file.complete);\n    Array.prototype.forEach.call(files, this._uploadFile.bind(this));\n  }\n\n  /** @private */\n  _uploadFile(file) {\n    if (file.uploading) {\n      return;\n    }\n\n    const ini = Date.now();\n    const xhr = (file.xhr = this._createXhr(file));\n\n    let stalledId, last;\n    // onprogress is called always after onreadystatechange\n    xhr.upload.onprogress = (e) => {\n      clearTimeout(stalledId);\n\n      last = Date.now();\n      const elapsed = (last - ini) / 1000;\n      const loaded = e.loaded,\n        total = e.total,\n        progress = ~~((loaded / total) * 100);\n      file.loaded = loaded;\n      file.progress = progress;\n      file.indeterminate = loaded <= 0 || loaded >= total;\n\n      if (file.error) {\n        file.indeterminate = file.status = undefined;\n      } else if (!file.abort) {\n        if (progress < 100) {\n          this._setStatus(file, total, loaded, elapsed);\n          stalledId = setTimeout(() => {\n            file.status = this.i18n.uploading.status.stalled;\n            this._notifyFileChanges(file);\n          }, 2000);\n        } else {\n          file.loadedStr = file.totalStr;\n          file.status = this.i18n.uploading.status.processing;\n          file.uploading = false;\n        }\n      }\n\n      this._notifyFileChanges(file);\n      this.dispatchEvent(new CustomEvent('upload-progress', { detail: { file, xhr } }));\n    };\n\n    // More reliable than xhr.onload\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState == 4) {\n        clearTimeout(stalledId);\n        file.indeterminate = file.uploading = false;\n        if (file.abort) {\n          this._notifyFileChanges(file);\n          return;\n        }\n        file.status = '';\n        // Custom listener can modify the default behavior either\n        // preventing default, changing the xhr, or setting the file error\n        const evt = this.dispatchEvent(\n          new CustomEvent('upload-response', {\n            detail: { file, xhr },\n            cancelable: true\n          })\n        );\n\n        if (!evt) {\n          return;\n        }\n        if (xhr.status === 0) {\n          file.error = this.i18n.uploading.error.serverUnavailable;\n        } else if (xhr.status >= 500) {\n          file.error = this.i18n.uploading.error.unexpectedServerError;\n        } else if (xhr.status >= 400) {\n          file.error = this.i18n.uploading.error.forbidden;\n        }\n\n        file.complete = !file.error;\n        this.dispatchEvent(\n          new CustomEvent(`upload-${file.error ? 'error' : 'success'}`, {\n            detail: { file, xhr }\n          })\n        );\n        this._notifyFileChanges(file);\n      }\n    };\n\n    const formData = new FormData();\n\n    file.uploadTarget = file.uploadTarget || this.target || '';\n    file.formDataName = this.formDataName;\n\n    const evt = this.dispatchEvent(\n      new CustomEvent('upload-before', {\n        detail: { file, xhr },\n        cancelable: true\n      })\n    );\n    if (!evt) {\n      return;\n    }\n\n    formData.append(file.formDataName, file, file.name);\n\n    xhr.open(this.method, file.uploadTarget, true);\n    this._configureXhr(xhr);\n\n    file.status = this.i18n.uploading.status.connecting;\n    file.uploading = file.indeterminate = true;\n    file.complete = file.abort = file.error = file.held = false;\n\n    xhr.upload.onloadstart = () => {\n      this.dispatchEvent(\n        new CustomEvent('upload-start', {\n          detail: { file, xhr }\n        })\n      );\n      this._notifyFileChanges(file);\n    };\n\n    // Custom listener could modify the xhr just before sending it\n    // preventing default\n    const uploadEvt = this.dispatchEvent(\n      new CustomEvent('upload-request', {\n        detail: { file, xhr, formData },\n        cancelable: true\n      })\n    );\n    if (uploadEvt) {\n      xhr.send(formData);\n    }\n  }\n\n  /** @private */\n  _retryFileUpload(file) {\n    const evt = this.dispatchEvent(\n      new CustomEvent('upload-retry', {\n        detail: { file, xhr: file.xhr },\n        cancelable: true\n      })\n    );\n    if (evt) {\n      this._uploadFile(file);\n    }\n  }\n\n  /** @private */\n  _abortFileUpload(file) {\n    const evt = this.dispatchEvent(\n      new CustomEvent('upload-abort', {\n        detail: { file, xhr: file.xhr },\n        cancelable: true\n      })\n    );\n    if (evt) {\n      file.abort = true;\n      if (file.xhr) {\n        file.xhr.abort();\n      }\n      this._notifyFileChanges(file);\n    }\n  }\n\n  /** @private */\n  _notifyFileChanges(file) {\n    var p = 'files.' + this.files.indexOf(file) + '.';\n    for (let i in file) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (file.hasOwnProperty(i)) {\n        this.notifyPath(p + i, file[i]);\n      }\n    }\n  }\n\n  /** @private */\n  _addFiles(files) {\n    Array.prototype.forEach.call(files, this._addFile.bind(this));\n  }\n\n  /**\n   * Add the file for uploading. Called internally for each file after picking files from dialog or dropping files.\n   *\n   * @param {!UploadFile} file File being added\n   * @protected\n   */\n  _addFile(file) {\n    if (this.maxFilesReached) {\n      this.dispatchEvent(\n        new CustomEvent('file-reject', {\n          detail: { file, error: this.i18n.error.tooManyFiles }\n        })\n      );\n      return;\n    }\n    if (this.maxFileSize >= 0 && file.size > this.maxFileSize) {\n      this.dispatchEvent(\n        new CustomEvent('file-reject', {\n          detail: { file, error: this.i18n.error.fileIsTooBig }\n        })\n      );\n      return;\n    }\n    const fileExt = file.name.match(/\\.[^.]*$|$/)[0];\n    const re = new RegExp('^(' + this.accept.replace(/[, ]+/g, '|').replace(/\\/\\*/g, '/.*') + ')$', 'i');\n    if (this.accept && !(re.test(file.type) || re.test(fileExt))) {\n      this.dispatchEvent(\n        new CustomEvent('file-reject', {\n          detail: { file, error: this.i18n.error.incorrectFileType }\n        })\n      );\n      return;\n    }\n    file.loaded = 0;\n    file.held = true;\n    file.status = this.i18n.uploading.status.held;\n    this.unshift('files', file);\n\n    if (!this.noAuto) {\n      this._uploadFile(file);\n    }\n  }\n\n  /**\n   * Remove file from upload list. Called internally if file upload was canceled.\n   * @param {!UploadFile} file File to remove\n   * @protected\n   */\n  _removeFile(file) {\n    if (this.files.indexOf(file) > -1) {\n      this.splice('files', this.files.indexOf(file), 1);\n    }\n  }\n\n  /** @private */\n  _onAddFilesTouchEnd(e) {\n    // Cancel the event to avoid the following click event\n    e.preventDefault();\n    // FIXME(platosha): workaround for Polymer Gestures mouseCanceller\n    // cancelling the following synthetic click. See also:\n    // https://github.com/Polymer/polymer/issues/5289\n    this.__resetMouseCanceller();\n    this._onAddFilesClick();\n  }\n\n  /** @private */\n  __resetMouseCanceller() {\n    resetMouseCanceller();\n  }\n\n  /** @private */\n  _onAddFilesClick() {\n    if (this.maxFilesReached) {\n      return;\n    }\n\n    this.$.fileInput.value = '';\n    this.$.fileInput.click();\n  }\n\n  /** @private */\n  _onFileInputChange(event) {\n    this._addFiles(event.target.files);\n  }\n\n  /** @private */\n  _onFileStart(event) {\n    this._uploadFile(event.detail.file);\n  }\n\n  /** @private */\n  _onFileRetry(event) {\n    this._retryFileUpload(event.detail.file);\n  }\n\n  /** @private */\n  _onFileAbort(event) {\n    this._abortFileUpload(event.detail.file);\n  }\n\n  /** @private */\n  _onFileRemove(event) {\n    this._removeFile(event.detail.file);\n  }\n\n  /** @private */\n  _dragoverChanged(dragover) {\n    dragover ? this.setAttribute('dragover', dragover) : this.removeAttribute('dragover');\n  }\n\n  /** @private */\n  _dragoverValidChanged(dragoverValid) {\n    dragoverValid ? this.setAttribute('dragover-valid', dragoverValid) : this.removeAttribute('dragover-valid');\n  }\n\n  /** @private */\n  _i18nPlural(value, plural) {\n    return value == 1 ? plural.one : plural.many;\n  }\n\n  /** @private */\n  _isMultiple(maxFiles) {\n    return maxFiles != 1;\n  }\n\n  /**\n   * Fired when a file cannot be added to the queue due to a constrain:\n   *  file-size, file-type or maxFiles\n   *\n   * @event file-reject\n   * @param {Object} detail\n   * @param {Object} detail.file the file added\n   * @param {string} detail.error the cause\n   */\n\n  /**\n   * Fired before the XHR is opened. Could be used for changing the request\n   * URL. If the default is prevented, then XHR would not be opened.\n   *\n   * @event upload-before\n   * @param {Object} detail\n   * @param {Object} detail.xhr the xhr\n   * @param {Object} detail.file the file being uploaded\n   * @param {Object} detail.file.uploadTarget the upload request URL, initialized with the value of vaadin-upload `target` property\n   */\n\n  /**\n   * Fired when the XHR has been opened but not sent yet. Useful for appending\n   * data keys to the FormData object, for changing some parameters like\n   * headers, etc. If the event is defaultPrevented, `vaadin-upload` will not\n   * send the request allowing the user to do something on his own.\n   *\n   * @event upload-request\n   * @param {Object} detail\n   * @param {Object} detail.xhr the xhr\n   * @param {Object} detail.file the file being uploaded\n   * @param {Object} detail.formData the FormData object\n   */\n\n  /**\n   * Fired when the XHR is sent.\n   *\n   * @event upload-start\n   * @param {Object} detail\n   * @param {Object} detail.xhr the xhr\n   * @param {Object} detail.file the file being uploaded\n   */\n\n  /**\n   * Fired as many times as the progress is updated.\n   *\n   * @event upload-progress\n   * @param {Object} detail\n   * @param {Object} detail.xhr the xhr\n   * @param {Object} detail.file the file being uploaded with loaded info\n   */\n\n  /**\n   * Fired when we have the actual server response, and before the component\n   * analyses it. It's useful for developers to make the upload fail depending\n   * on the server response. If the event is defaultPrevented the vaadin-upload\n   * will return allowing the user to do something on his own like retry the\n   * upload, etc. since he has full access to the `xhr` and `file` objects.\n   * Otherwise, if the event is not prevented default `vaadin-upload` continues\n   * with the normal workflow checking the `xhr.status` and `file.error`\n   * which also might be modified by the user to force a customized response.\n   *\n   * @event upload-response\n   * @param {Object} detail\n   * @param {Object} detail.xhr the xhr\n   * @param {Object} detail.file the file being uploaded\n   */\n\n  /**\n   * Fired in case the upload process succeed.\n   *\n   * @event upload-success\n   * @param {Object} detail\n   * @param {Object} detail.xhr the xhr\n   * @param {Object} detail.file the file being uploaded with loaded info\n   */\n\n  /**\n   * Fired in case the upload process failed.\n   *\n   * @event upload-error\n   * @param {Object} detail\n   * @param {Object} detail.xhr the xhr\n   * @param {Object} detail.file the file being uploaded\n   */\n\n  /**\n   * Fired when retry upload is requested. If the default is prevented, then\n   * retry would not be performed.\n   *\n   * @event upload-retry\n   * @param {Object} detail\n   * @param {Object} detail.xhr the previous upload xhr\n   * @param {Object} detail.file the file being uploaded\n   */\n\n  /**\n   * Fired when retry abort is requested. If the default is prevented, then the\n   * file upload would not be aborted.\n   *\n   * @event upload-abort\n   * @param {Object} detail\n   * @param {Object} detail.xhr the xhr\n   * @param {Object} detail.file the file being uploaded\n   */\n}\n\ncustomElements.define(UploadElement.is, UploadElement);\n\nfunction CreateDomModules(options) {\r\n  // UPLOAD\r\n  const DomModuleUploaderUpload = document.createElement('dom-module');\r\n  DomModuleUploaderUpload.setAttribute('theme-for', 'vaadin-upload');\r\n  DomModuleUploaderUpload.setAttribute('id', `bh-uploader__upload-style`);\r\n  DomModuleUploaderUpload.innerHTML = `<template><style>\r\n    :host(:not([nodrop])) {\r\n      overflow: unset;\r\n      padding: var(--spacing-padding-medium);\r\n      min-height: 120px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n      \r\n      background-color: var(--color-fill-cta-secondary-hover);\r\n      border: var(--effect-border-width-regular) dashed var(--color-border-form-hover);\r\n      transition: var(--motion-duration-normal) var(--motion-easing-normal);\r\n    }\r\n\r\n    :host() ::slotted(add-button) {\r\n      background-color: red;\r\n    }\r\n\r\n    :host([dragover-valid]) {\r\n      background-color: var(--color-fill-cta-secondary-pressed);\r\n      border: var(--effect-border-width-regular) dashed var(--color-border-form-hover);\r\n    }\r\n\r\n    :host([dragover-valid]) [part='drop-label'] {\r\n      display: none;\r\n    }\r\n\r\n    :host(:not([nodrop])) [part='upload-button'] {\r\n      background-color: transparent;\r\n\r\n      color: var(--color-text-common-secondary);\r\n      font-family: var(--font-family-body-small);\r\n      font-size: var(--font-size-body-small);\r\n      text-decoration: underline;\r\n    }\r\n\r\n    :host(:not([nodrop])) [part='upload-button']:hover::before {\r\n      background-color: transparent;\r\n      opacity: 0;\r\n    }\r\n\r\n    :host(:not([nodrop])) [part='upload-button']::after {\r\n      transition: none;\r\n      filter: none;\r\n    }\r\n\r\n    :host(:not([nodrop])) [part='upload-button']:active  {\r\n      background-color: transparent;\r\n    }\r\n\r\n    :host(:not([nodrop])) [part='upload-button'][focused] {\r\n      box-shadow: none;\r\n    }\r\n\r\n    [part='drop-label'] {\r\n      display: none;\r\n    }\r\n\r\n    [part=\"primary-buttons\"] {\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n\r\n    :host([nodrop]) [part='upload-button'] {\r\n      min-width: 124px;\r\n      height: 44px;\r\n      padding: var(--spacing-padding-small) var(--spacing-padding-medium);\r\n      margin: 0;\r\n      box-sizing: border-box;\r\n      font-family: var(--font-family-button-link-medium);\r\n      font-size: var(--font-size-button-link-medium);\r\n      font-weight: 600;\r\n      color: var(--color-text-common-inverse-primary);\r\n      background-color: var(--color-fill-cta-primary-default);\r\n      border-radius: var(--effect-border-radius-medium);\r\n      cursor: pointer;\r\n      transition: var(--motion-duration-normal);\r\n    }\r\n\r\n    :host([nodrop]) [part='upload-button']:hover  {\r\n      background-color: var(--color-fill-cta-primary-hover);\r\n    }\r\n\r\n    :host([nodrop]) [part='upload-button']:active  {\r\n      background-color: var(--color-fill-cta-primary-pressed);\r\n    }\r\n\r\n    :host([nodrop]) [part='upload-button'][focused] {\r\n      box-shadow: var(--effect-drop-shadow-focus-primary);\r\n    }\r\n\r\n    [part='file-list'] {\r\n      width: 100%;\r\n    }\r\n\r\n    [part='file-list'] vaadin-upload-file:first-child {\r\n      margin-top: var(--spacing-margin-medium);\r\n    }\r\n\r\n    [part='file-list'] vaadin-upload-file:last-child {\r\n      margin-bottom: 0px;\r\n    }\r\n\t</style></template>`;\r\n  // UPLOADED FILE\r\n  const DomModuleUploaderFile = document.createElement('dom-module');\r\n  DomModuleUploaderFile.setAttribute('theme-for', 'vaadin-upload-file');\r\n  DomModuleUploaderFile.setAttribute('id', `bh-uploader__file-style`);\r\n  DomModuleUploaderFile.innerHTML = `<template><style>\r\n    :host {\r\n      padding: 0;\r\n      margin-bottom: var(--spacing-margin-medium);\r\n\r\n      line-height: initial;\r\n    }\r\n\r\n    :host(:not(:first-child)) {\r\n      border-top: none;\r\n    }\r\n\r\n    [part='info'] {\r\n      align-items: initial;\r\n    }\r\n\r\n    [part='done-icon'], [part='warning-icon'] {\r\n      font-size: var(--font-size-icon-small);\r\n      font-family: var(--font-family-icon-small);\r\n      margin-right: var(--spacing-margin-xsmall);\r\n      margin-top: 1px;\r\n    }\r\n\r\n    [part='done-icon']::before {\r\n      display: flex;\r\n      content: 'check_circle';\r\n      color: var(--color-fill-cta-primary-default);\r\n    }\r\n\r\n    [part='warning-icon']::before {\r\n      display: flex;\r\n      content: 'error_outline';\r\n      color: var(--color-fill-cta-critical-default);\r\n    }\r\n\r\n    [part='name'] {\r\n      color: var(--color-text-common-primary);\r\n      font-family: var(--font-family-body-medium);\r\n      font-size: var(--font-size-body-medium);\r\n      line-height: var(--font-line-height-body-medium);\r\n    }\r\n\r\n    [part$=\"button\"] {\r\n      width: var(--font-size-icon-small);\r\n      height: var(--font-size-icon-small);\r\n    }\r\n\r\n    [part='start-button'], [part='retry-button'], [part='clear-button'] {\r\n      cursor: pointer;\r\n      margin-left: var(--spacing-margin-small);\r\n    }\r\n\r\n    [part='clear-button']::before {\r\n      display: flex;\r\n\r\n      font-family: var(--font-family-icon-small);\r\n      font-size: var(--font-size-icon-small);\r\n      content: 'close';\r\n      color: var(--color-text-common-secondary);\r\n    }\r\n\r\n    [part='retry-button']::before {\r\n      display: flex;\r\n\r\n      font-family: var(--font-family-icon-small);\r\n      font-size: var(--font-size-icon-small);\r\n      content: 'refresh';\r\n      color: var(--color-text-common-secondary);\r\n    }\r\n\r\n    [part='start-button']::before {\r\n      display: flex;\r\n\r\n      font-family: var(--font-family-icon-small);\r\n      font-size: var(--font-size-icon-small);\r\n      content: 'play_arrow';\r\n      color: var(--color-text-common-secondary);\r\n    }\r\n\r\n    [part='status'], [part='error'] {\r\n      color: var(--color-text-common-secondary);\r\n      font-family: var(--font-family-body-small);\r\n      font-size: var(--font-size-body-small);\r\n      line-height: var(--font-line-height-body-small);\r\n    }\r\n\r\n    [part='error'] {\r\n      color: var(--color-fill-cta-critical-default);\r\n    }\r\n\r\n    [part='progress'] {\r\n      height: var(--spacing-margin-xxsmall);\r\n      margin-top: var(--spacing-margin-small);\r\n    }\r\n\t</style></template>`;\r\n  // PROGRESS BAR\r\n  const DomModuleUploaderProgressBar = document.createElement('dom-module');\r\n  DomModuleUploaderProgressBar.setAttribute('theme-for', 'vaadin-progress-bar');\r\n  DomModuleUploaderProgressBar.setAttribute('id', `bh-uploader__progress-bar-style`);\r\n  DomModuleUploaderProgressBar.innerHTML = `<template><style>\r\n    [part=\"bar\"] {\r\n      border-radius: 0;\r\n      background-color: var(--color-border-data-viz-comparison-secondary);\r\n    }\r\n\r\n    [part=\"value\"] {\r\n      border-radius: 0;\r\n      background-color: var(--color-fill-control-selected);\r\n    }\r\n  \r\n    :host([indeterminate]) [part=\"value\"] {\r\n      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(to right, var(--color-fill-control-selected) 10%, var(--color-fill-control-selected));\r\n      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(to left, var(--color-fill-control-selected) 10%, var(--color-fill-control-selected));\r\n    }\r\n\r\n    :host(:not([aria-valuenow])) [part=\"value\"]::before, :host([indeterminate]) [part=\"value\"]::before {\r\n      background-color: var(--color-fill-control-selected);\r\n    }\r\n\t</style></template>`;\r\n  return [\r\n    DomModuleUploaderUpload,\r\n    DomModuleUploaderFile,\r\n    DomModuleUploaderProgressBar,\r\n  ];\r\n}\n\nconst bhUploaderCss = \".bh-uploader--button{border:none;padding:0;font:inherit;outline:inherit;display:flex;justify-content:center;align-items:center;border-radius:var(--effect-border-radius-medium);box-shadow:none;padding:0 var(--spacing-padding-medium);background-color:var(--color-fill-cta-primary-default);color:var(--color-text-common-inverse-primary);height:var(--button-medium-height);min-width:var(--button-medium-width);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;cursor:pointer}.bh-uploader--button:hover{background-color:var(--color-fill-cta-primary-hover)}.bh-uploader--button:active{background-color:var(--color-fill-cta-primary-pressed)}.bh-uploader--button:focus{box-shadow:var(--effect-drop-shadow-focus-primary)}.bh-uploader--button:focus:not(:focus-visible){box-shadow:none}.bh-uploader--button-icon{margin-right:var(--spacing-margin-xsmall)}.bh-uploader--help-text{color:var(--color-text-common-secondary)}.bh-uploader--dropzone-button{border:none;padding:0;font:inherit;outline:inherit;background-color:transparent;cursor:pointer}.bh-uploader--dropzone-text{color:var(--color-text-common-secondary);font-family:var(--font-family-body-small);font-size:var(--font-size-body-small);text-decoration:underline}.bh-uploader--secondary--disabled,.bh-uploader--secondary--disabled:hover,.bh-uploader--secondary--disabled:active{cursor:not-allowed}.bh-uploader--ghost--disabled,.bh-uploader--ghost--disabled:hover,.bh-uploader--ghost--disabled:active{cursor:not-allowed}\";\n\nconst BhUploader = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhUploadSucess = createEvent(this, \"bhUploadSucess\", 7);\r\n    this.bhUploadStart = createEvent(this, \"bhUploadStart\", 7);\r\n    this.bhUploadError = createEvent(this, \"bhUploadError\", 7);\r\n    this.bhUploadProgress = createEvent(this, \"bhUploadProgress\", 7);\r\n    this.bhFileReject = createEvent(this, \"bhFileReject\", 7);\r\n    this.bhFilesChanged = createEvent(this, \"bhFilesChanged\", 7);\r\n    this.bhMaxFilesReachedChanged = createEvent(this, \"bhMaxFilesReachedChanged\", 7);\r\n    this.bhUploadAbort = createEvent(this, \"bhUploadAbort\", 7);\r\n    this.bhUploadBefore = createEvent(this, \"bhUploadBefore\", 7);\r\n    this.bhUploadRequest = createEvent(this, \"bhUploadRequest\", 7);\r\n    this.bhUploadResponse = createEvent(this, \"bhUploadResponse\", 7);\r\n    this.bhUploadRetry = createEvent(this, \"bhUploadRetry\", 7);\r\n    /**\r\n     * Denotes whether or not the drop zone appears.\r\n     */\r\n    // @Prop({ attribute: 'dropzone' }) isDropZone: boolean = false;\r\n    /**\r\n     * Small buttons are shorter, with smaller font size\r\n     */\r\n    this.isSmall = false;\r\n    /**\r\n     * Specifies the types of files that the server accepts. Syntax: a comma-separated list of MIME type patterns (wildcards are allowed) or file extensions. Notice that MIME types are widely supported, while file extensions are only implemented in certain browsers, so avoid using it. Example: accept=\"video/*,image/tiff\" or accept=\".pdf,audio/mp3\"\r\n     */\r\n    this.fileType = '';\r\n    /**\r\n     * HTTP Method used to send the files. Only POST and PUT are allowed.\r\n     */\r\n    this.method = 'POST';\r\n    /**\r\n     * The server URL. The default value is an empty string, which means that window.location will be used.\r\n     */\r\n    this.target = '';\r\n    /**\r\n     * Button type.\r\n     */\r\n    this.type = 'primary';\r\n    /**\r\n     * left icon appended to the button label\r\n     */\r\n    this.leftIcon = 'cloud_upload';\r\n    /**\r\n     * prevent auto file upload upon file addition\r\n     */\r\n    this.noAuto = false;\r\n    this.isDisabled = false;\r\n    /**\r\n     * button label\r\n     */\r\n    this.label = 'Upload';\r\n    /**\r\n     * Key-Value map to send to the server. If you set this property as an attribute, use a valid JSON string\r\n     */\r\n    this.headers = {};\r\n  }\r\n  uploadEventHandler(event) {\r\n    if (event.detail) {\r\n      this.el__uploader.uploadFiles(event.detail);\r\n    }\r\n    else {\r\n      this.el__uploader.uploadFiles();\r\n    }\r\n  }\r\n  componentWillLoad() {\r\n    if (!document.getElementById('bh-uploader__upload-style') ||\r\n      !document.getElementById('bh-uploader__button-style') ||\r\n      !document.getElementById('bh-uploader__file-style') ||\r\n      !document.getElementById('bh-uploader__progress-bar-style')) {\r\n      CreateDomModules().forEach((m) => {\r\n        document.body.appendChild(m);\r\n      });\r\n    }\r\n  }\r\n  componentDidLoad() {\r\n    this.el__uploader.addEventListener('upload-success', event => this.bhUploadSucess.emit(event));\r\n    this.el__uploader.addEventListener('upload-start', event => this.bhUploadStart.emit(event));\r\n    this.el__uploader.addEventListener('upload-error', event => this.bhUploadError.emit(event));\r\n    this.el__uploader.addEventListener('upload-progress', event => this.bhUploadProgress.emit(event));\r\n    this.el__uploader.addEventListener('file-reject', event => this.bhFileReject.emit(event));\r\n    this.el__uploader.addEventListener('files-changed', event => this.bhFilesChanged.emit(event));\r\n    this.el__uploader.addEventListener('max-files-reached-changed', event => this.bhMaxFilesReachedChanged.emit(event));\r\n    this.el__uploader.addEventListener('upload-abort', event => this.bhUploadAbort.emit(event));\r\n    this.el__uploader.addEventListener('upload-before', event => this.bhUploadBefore.emit(event));\r\n    this.el__uploader.addEventListener('upload-request', event => this.bhUploadRequest.emit(event));\r\n    this.el__uploader.addEventListener('upload-response', event => this.bhUploadResponse.emit(event));\r\n    this.el__uploader.addEventListener('upload-retry', event => this.bhUploadRetry.emit(event));\r\n  }\r\n  render() {\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.uploader.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    const buttonClasses = [\"bh-uploader motion--normal\"];\r\n    if (this.isDisabled && this.type === \"secondary\") {\r\n      buttonClasses.push(\"bh-uploader--secondary--disabled\");\r\n    }\r\n    else if (this.isDisabled && this.type === \"ghost\") {\r\n      buttonClasses.push(\"bh-uploader--ghost--disabled\");\r\n    }\r\n    else if (this.isDisabled) {\r\n      buttonClasses.push(\"bh-uploader--disabled\");\r\n    }\r\n    else {\r\n      buttonClasses.push(`bh-uploader--type-${this.type}`);\r\n    }\r\n    return (h(Host, null, h(\"vaadin-upload\", { class: buttonClasses.join(\" \"), disabled: this.isDisabled, ref: (el) => { this.el__uploader = el; }, nodrop: true, headers: this.headers, method: this.method, \"max-files\": this.maxFiles, accept: this.fileType, \"max-file-size\": this.maxFileSize, target: this.target, \"no-auto\": this.noAuto }, h(Components.button, { type: this.type, slot: 'add-button', isSmall: this.isSmall, label: this.label, leftIcon: this.leftIcon, isDisabled: this.isDisabled, onClick: (event) => {\r\n        if (this.isDisabled)\r\n          event.stopPropagation();\r\n        event.preventDefault();\r\n      } }), this.helpText && (h(\"span\", { class: 'typography--body-small bh-uploader--help-text' }, this.helpText)))));\r\n  }\r\n  get host() { return getElement(this); }\r\n};\r\nBhUploader.style = bhUploaderCss;\n\nconst bhVerticalMenuCss = \".bh-vertical-menu>.bh-menu__container{border-radius:var(--effect-border-radius-medium);box-shadow:none}.bh-vertical-menu>.bh-menu__container>.bh-menu__ul{max-height:none}\";\n\nconst BhVerticalMenu = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.bhEventSelected = createEvent(this, \"bhEventSelected\", 7);\r\n    this.onSelect = (item) => {\r\n      this.selected = item.value;\r\n      this._selected = item.label;\r\n      this.bhEventSelected.emit(item);\r\n    };\r\n  }\r\n  handleResize() {\r\n    const bp = getBreakpoint();\r\n    if (this.viewport !== bp)\r\n      this.viewport = bp;\r\n  }\r\n  componentWillLoad() {\r\n    this.viewport = getBreakpoint();\r\n    this._menuItems =\r\n      typeof this.menuItems === \"string\"\r\n        ? JSON.parse(this.menuItems)\r\n        : this.menuItems;\r\n    if (!this.selected) {\r\n      this.selected = this._menuItems.itemGroups[0].items[0].value;\r\n      this._selected = this._menuItems.itemGroups[0].items[0].label;\r\n    }\r\n  }\r\n  render() {\r\n    const prefix = this.host.tagName.toLowerCase().replace(components.verticalMenu.tagNameBase, '');\r\n    const Components = generateComponentLiteralWithPrefix(prefix || defaultPrefix);\r\n    return (h(Host, null, this.viewport === \"small\" ? (h(Components.dropdown, { onSelected: (event) => {\r\n        this.onSelect(event.detail);\r\n      }, menuItems: this.menuItems, menuWidth: \"fluid\", selectedValue: this.selected, value: this._selected })) : (h(Components.menu, { class: \"bh-vertical-menu\", menuItems: this.menuItems, selected: this.selected, onBhEventSelected: (e) => {\r\n        this.onSelect(e.detail);\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      } }))));\r\n  }\r\n  get host() { return getElement(this); }\r\n};\r\nBhVerticalMenu.style = bhVerticalMenuCss;\n\nexport { BhA as bh_a, BhActionBar as bh_action_bar, BhAppShell as bh_app_shell, BhBreadcrumbs as bh_breadcrumbs, BhButton as bh_button, BhButtonTabs as bh_button_tabs, BhCard as bh_card, BhCheckbox as bh_checkbox, BhChip as bh_chip, BhContent as bh_content, BhDateRangePicker as bh_date_range_picker, BhDonutChart as bh_donut_chart, BhDropdown as bh_dropdown, BhIcon as bh_icon, BhModal as bh_modal, BhSearch as bh_search, BhTabularList as bh_tabular_list, BhTextInput as bh_text_input, BhTitleWrapper as bh_title_wrapper, BhTypeAhead as bh_type_ahead, BhUploader as bh_uploader, BhVerticalMenu as bh_vertical_menu };\n","import { D as DesignTokens } from './tokens-0cdc4f36.js';\n\nfunction getBreakpoint(w) {\r\n  const width = w ? w : window.innerWidth;\r\n  if (DesignTokens.breakpoints.LayoutMediaQueryLarge <= width) {\r\n    return 'large';\r\n  }\r\n  else if (DesignTokens.breakpoints.LayoutMediaQueryMedium <= width &&\r\n    DesignTokens.breakpoints.LayoutMediaQueryLarge > width) {\r\n    return 'medium';\r\n  }\r\n  else {\r\n    return 'small';\r\n  }\r\n}\r\nfunction parseMessage(message, className) {\r\n  const bTagStart = '<b>';\r\n  const bTagEnd = '</b>';\r\n  let str = message;\r\n  if ((str === null || str === void 0 ? void 0 : str.indexOf(bTagStart)) > -1) {\r\n    const tags = [];\r\n    while ((str === null || str === void 0 ? void 0 : str.indexOf(bTagStart)) > -1) {\r\n      tags.push(`<span>${str.slice(0, str.indexOf(bTagStart))}</span>`);\r\n      tags.push(`<span class=\"${className} typography--body-small-semi-bold\">${str.slice(str.indexOf(bTagStart) + bTagStart.length, str.indexOf(bTagEnd))}</span>`);\r\n      str = str.substring(str.indexOf(bTagEnd) + bTagEnd.length);\r\n    }\r\n    if (str)\r\n      tags.push(`<span>${str}</span>`);\r\n    return `<span class=\"typography--body-small\">${tags\r\n      .map((tag) => {\r\n      return tag;\r\n    })\r\n      .join('')}</span>`;\r\n  }\r\n  else {\r\n    return `<span class=\"typography--body-small\">${message}</span>`;\r\n  }\r\n}\n\nexport { getBreakpoint as g, parseMessage as p };\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n\nconst REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport { v4 as v };\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import { o as dom } from './iron-resizable-behavior-b5089143.js';\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * `Polymer.IronScrollTargetBehavior` allows an element to respond to scroll\n * events from a designated scroll target.\n *\n * Elements that consume this behavior can override the `_scrollHandler`\n * method to add logic on the scroll event.\n *\n * @demo demo/scrolling-region.html Scrolling Region\n * @demo demo/document.html Document Element\n * @polymerBehavior\n */\nconst IronScrollTargetBehavior = {\n\n  properties: {\n\n    /**\n     * Specifies the element that will handle the scroll event\n     * on the behalf of the current element. This is typically a reference to an\n     *element, but there are a few more posibilities:\n     *\n     * ### Elements id\n     *\n     *```html\n     * <div id=\"scrollable-element\" style=\"overflow: auto;\">\n     *  <x-element scroll-target=\"scrollable-element\">\n     *    <!-- Content-->\n     *  </x-element>\n     * </div>\n     *```\n     * In this case, the `scrollTarget` will point to the outer div element.\n     *\n     * ### Document scrolling\n     *\n     * For document scrolling, you can use the reserved word `document`:\n     *\n     *```html\n     * <x-element scroll-target=\"document\">\n     *   <!-- Content -->\n     * </x-element>\n     *```\n     *\n     * ### Elements reference\n     *\n     *```js\n     * appHeader.scrollTarget = document.querySelector('#scrollable-element');\n     *```\n     *\n     * @type {HTMLElement}\n     * @default document\n     */\n    scrollTarget: {\n      type: HTMLElement,\n      value: function() {\n        return this._defaultScrollTarget;\n      }\n    }\n  },\n\n  observers: ['_scrollTargetChanged(scrollTarget, isAttached)'],\n\n  /**\n   * True if the event listener should be installed.\n   */\n  _shouldHaveListener: true,\n\n  _scrollTargetChanged: function(scrollTarget, isAttached) {\n\n    if (this._oldScrollTarget) {\n      this._toggleScrollListener(false, this._oldScrollTarget);\n      this._oldScrollTarget = null;\n    }\n    if (!isAttached) {\n      return;\n    }\n    // Support element id references\n    if (scrollTarget === 'document') {\n      this.scrollTarget = this._doc;\n\n    } else if (typeof scrollTarget === 'string') {\n      var domHost = this.domHost;\n\n      this.scrollTarget = domHost && domHost.$ ?\n          domHost.$[scrollTarget] :\n          dom(this.ownerDocument).querySelector('#' + scrollTarget);\n\n    } else if (this._isValidScrollTarget()) {\n      this._oldScrollTarget = scrollTarget;\n      this._toggleScrollListener(this._shouldHaveListener, scrollTarget);\n    }\n  },\n\n  /**\n   * Runs on every scroll event. Consumer of this behavior may override this\n   * method.\n   *\n   * @protected\n   */\n  _scrollHandler: function scrollHandler() {},\n\n  /**\n   * The default scroll target. Consumers of this behavior may want to customize\n   * the default scroll target.\n   *\n   * @type {Element}\n   */\n  get _defaultScrollTarget() {\n    return this._doc;\n  },\n\n  /**\n   * Shortcut for the document element\n   *\n   * @type {Element}\n   */\n  get _doc() {\n    return this.ownerDocument.documentElement;\n  },\n\n  /**\n   * Gets the number of pixels that the content of an element is scrolled\n   * upward.\n   *\n   * @type {number}\n   */\n  get _scrollTop() {\n    if (this._isValidScrollTarget()) {\n      return this.scrollTarget === this._doc ? window.pageYOffset :\n                                               this.scrollTarget.scrollTop;\n    }\n    return 0;\n  },\n\n  /**\n   * Gets the number of pixels that the content of an element is scrolled to the\n   * left.\n   *\n   * @type {number}\n   */\n  get _scrollLeft() {\n    if (this._isValidScrollTarget()) {\n      return this.scrollTarget === this._doc ? window.pageXOffset :\n                                               this.scrollTarget.scrollLeft;\n    }\n    return 0;\n  },\n\n  /**\n   * Sets the number of pixels that the content of an element is scrolled\n   * upward.\n   *\n   * @type {number}\n   */\n  set _scrollTop(top) {\n    if (this.scrollTarget === this._doc) {\n      window.scrollTo(window.pageXOffset, top);\n    } else if (this._isValidScrollTarget()) {\n      this.scrollTarget.scrollTop = top;\n    }\n  },\n\n  /**\n   * Sets the number of pixels that the content of an element is scrolled to the\n   * left.\n   *\n   * @type {number}\n   */\n  set _scrollLeft(left) {\n    if (this.scrollTarget === this._doc) {\n      window.scrollTo(left, window.pageYOffset);\n    } else if (this._isValidScrollTarget()) {\n      this.scrollTarget.scrollLeft = left;\n    }\n  },\n\n  /**\n   * Scrolls the content to a particular place.\n   *\n   * @method scroll\n   * @param {number|!{left: number, top: number}} leftOrOptions The left position or scroll options\n   * @param {number=} top The top position\n   * @return {void}\n   */\n  scroll: function(leftOrOptions, top) {\n    var left;\n\n    if (typeof leftOrOptions === 'object') {\n      left = leftOrOptions.left;\n      top = leftOrOptions.top;\n    } else {\n      left = leftOrOptions;\n    }\n\n    left = left || 0;\n    top = top || 0;\n    if (this.scrollTarget === this._doc) {\n      window.scrollTo(left, top);\n    } else if (this._isValidScrollTarget()) {\n      this.scrollTarget.scrollLeft = left;\n      this.scrollTarget.scrollTop = top;\n    }\n  },\n\n  /**\n   * Gets the width of the scroll target.\n   *\n   * @type {number}\n   */\n  get _scrollTargetWidth() {\n    if (this._isValidScrollTarget()) {\n      return this.scrollTarget === this._doc ? window.innerWidth :\n                                               this.scrollTarget.offsetWidth;\n    }\n    return 0;\n  },\n\n  /**\n   * Gets the height of the scroll target.\n   *\n   * @type {number}\n   */\n  get _scrollTargetHeight() {\n    if (this._isValidScrollTarget()) {\n      return this.scrollTarget === this._doc ? window.innerHeight :\n                                               this.scrollTarget.offsetHeight;\n    }\n    return 0;\n  },\n\n  /**\n   * Returns true if the scroll target is a valid HTMLElement.\n   *\n   * @return {boolean}\n   */\n  _isValidScrollTarget: function() {\n    return this.scrollTarget instanceof HTMLElement;\n  },\n\n  _toggleScrollListener: function(yes, scrollTarget) {\n    var eventTarget = scrollTarget === this._doc ? window : scrollTarget;\n    if (yes) {\n      if (!this._boundScrollHandler) {\n        this._boundScrollHandler = this._scrollHandler.bind(this);\n        eventTarget.addEventListener('scroll', this._boundScrollHandler);\n      }\n    } else {\n      if (this._boundScrollHandler) {\n        eventTarget.removeEventListener('scroll', this._boundScrollHandler);\n        this._boundScrollHandler = null;\n      }\n    }\n  },\n\n  /**\n   * Enables or disables the scroll event listener.\n   *\n   * @param {boolean} yes True to add the event, False to remove it.\n   */\n  toggleScrollListener: function(yes) {\n    this._shouldHaveListener = yes;\n    this._toggleScrollListener(yes, this.scrollTarget);\n  }\n\n};\n\nexport { IronScrollTargetBehavior as I };\n","import './iron-resizable-behavior-b5089143.js';\n\nconst $_documentContainer = document.createElement('template');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-field-button\">\n  <template>\n    <style>\n      [part\\$=\"button\"] {\n        flex: none;\n        width: 1em;\n        height: 1em;\n        line-height: 1;\n        font-size: var(--lumo-icon-size-m);\n        text-align: center;\n        color: var(--lumo-contrast-60pct);\n        transition: 0.2s color;\n        cursor: var(--lumo-clickable-cursor);\n      }\n\n      :host(:not([readonly])) [part\\$=\"button\"]:hover {\n        color: var(--lumo-contrast-90pct);\n      }\n\n      :host([disabled]) [part\\$=\"button\"],\n      :host([readonly]) [part\\$=\"button\"] {\n        color: var(--lumo-contrast-20pct);\n      }\n\n      [part\\$=\"button\"]::before {\n        font-family: \"lumo-icons\";\n        display: block;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n"],"sourceRoot":""}