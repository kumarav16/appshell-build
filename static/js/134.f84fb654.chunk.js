(this["webpackJsonpapp-shell-client"]=this["webpackJsonpapp-shell-client"]||[]).push([[134],{637:function(t,i,e){"use strict";e.r(i),e.d(i,"bh_scatter_chart",(function(){return s}));var o=e(46),n=e(17),a=e(12),l=e(175),r=e(688),d=(e(774),e(873),e(992)),s=function(){function t(i){Object(n.a)(this,t),Object(l.h)(this,i),this.bhEventChange=Object(l.d)(this,"bhEventChange",7),this.height=400,this.disabledDatasetIndex=[]}return Object(a.a)(t,[{key:"watchData",value:function(){this._data="string"===typeof this.data?JSON.parse(this.data):this.data,this.componentDidLoad()}},{key:"watchOption",value:function(){this._option="string"===typeof this.option?JSON.parse(this.option):this.option,this.componentDidLoad()}},{key:"watchcCartOptionOverride",value:function(){this._chartOptionOverride="string"===typeof this.chartOptionOverride?JSON.parse(this.chartOptionOverride):this.chartOptionOverride,this.componentDidLoad()}},{key:"watchTheme",value:function(){this._theme="string"===typeof this.theme?JSON.parse(this.theme):this.theme}},{key:"componentWillLoad",value:function(){this._chartOptionOverride="string"===typeof this.chartOptionOverride?JSON.parse(this.chartOptionOverride):this.chartOptionOverride,this._data="string"===typeof this.data?JSON.parse(this.data):this.data,this._option="string"===typeof this.option?JSON.parse(this.option):this.option,this._theme="string"===typeof this.theme?JSON.parse(this.theme):this.theme}},{key:"componentDidLoad",value:function(){var t,i,e,o,n,a,l,s,c,p,h,v,u,g,y,m,b,f,x,_,O,S,k,A,w,C,F,L,I,D,z,j,R,X,P,B,E=this,H=this,J=this.element__canvas.getContext("2d"),M=this._theme||r.a;this._chartOption=this.chartOptionOverride?this.chartOptionOverride:{type:"scatter",data:{datasets:null===(t=this._data)||void 0===t?void 0:t.datasets.map((function(t,i){return{label:t.label,data:t.data,pointStyle:t.pointStyle||"circle",borderWidth:M.effectBorderWidth.regular.replace("px",""),borderColor:M.colorFill.commonSecondary,hoverBorderColor:M.colorFill.commonSecondary,backgroundColor:E._option.styleOverride&&E._option.styleOverride[i]&&E._option.styleOverride[i].color?E._option.styleOverride[i].color:Object(d.b)(E._option.mode,i),hoverBackgroundColor:E._option.styleOverride&&E._option.styleOverride[i]&&E._option.styleOverride[i].color?E._option.styleOverride[i].color:Object(d.b)(E._option.mode,i),pointRadius:t.pointRadius||3,pointHoverRadius:t.pointHoverRadius||5,pointHitRadius:t.pointHoverRadius||5}}))},options:{responsive:!0,tooltips:{enabled:!1,intersect:!1,mode:"point",caretSize:0,caretPadding:parseInt(M.spacing.paddingXsmall.replace("px","")),titleFontFamily:M.fontFamily.bodySmall,bodyFontFamily:M.fontFamily.bodySmall,titleSpacing:parseInt(M.spacing.paddingXxsmall.replace("px","")),bodySpacing:0,cornerRadius:M.effectBorderRadius.medium.replace("px",""),xPadding:parseInt(M.spacing.paddingXsmall.replace("px","")),yPadding:parseInt(M.spacing.paddingXxsmall.replace("px","")),custom:(null===(i=this._option)||void 0===i?void 0:i.tooltipSetting)&&(null===(e=this._option)||void 0===e?void 0:e.tooltipSetting.isDisabled)?function(){}:function(t){var i,e=H.element__tooltip;if(0===t.opacity)return void(e.style.opacity="0");e.classList.remove("above","below","no-transform"),t.yAlign?e.classList.add(t.yAlign):e.classList.add("no-transform");if(t.body){var o=t.title||[],n=t.dataPoints.map((function(t){return{x:t.xLabel,y:t.yLabel}})),a="<thead>";o.forEach((function(t){a+="<tr><th>"+t+"</th></tr>"})),a+="</thead>",(null===(i=H._option.tooltipSetting)||void 0===i?void 0:i.title)&&(a+='<span class="typography--body-small-semi-bold bh-scatter-chart--tooltip-title">'.concat(H._option.tooltipSetting.title,"</span>")),a+="<tbody>",n.forEach((function(i,e){var o,n,l,r,d,s,c,p,h,v,u,g,y,m,b,f,x,_,O,S,k,A,w,C;if(!H.disabledDatasetIndex.includes(e)){var F=t.labelColors[e],L="background:"+F.backgroundColor;L+="; border-color:"+F.backgroundColor,L+="; border-width: ".concat(M.effectBorderWidth.thick);var I='<div style="background-color: '+F.backgroundColor+"; width: ".concat(M.spacing.marginXsmall,"; height: ").concat(M.spacing.marginXsmall,"; border-radius: 50%; margin-right: ").concat(M.spacing.marginXsmall,';"></div>'),D='<span style="'+L+'"></span>',z="".concat((null===(l=null===(n=null===(o=H._option.tooltipSetting)||void 0===o?void 0:o.units)||void 0===n?void 0:n.xAxis)||void 0===l?void 0:l.prefix)?null===(s=null===(d=null===(r=H._option.tooltipSetting)||void 0===r?void 0:r.units)||void 0===d?void 0:d.xAxis)||void 0===s?void 0:s.prefix:"").concat(i.x).concat((null===(h=null===(p=null===(c=H._option.tooltipSetting)||void 0===c?void 0:c.units)||void 0===p?void 0:p.xAxis)||void 0===h?void 0:h.suffix)?null===(g=null===(u=null===(v=H._option.tooltipSetting)||void 0===v?void 0:v.units)||void 0===u?void 0:u.xAxis)||void 0===g?void 0:g.suffix:""),j="".concat((null===(b=null===(m=null===(y=H._option.tooltipSetting)||void 0===y?void 0:y.units)||void 0===m?void 0:m.yAxis)||void 0===b?void 0:b.prefix)?null===(_=null===(x=null===(f=H._option.tooltipSetting)||void 0===f?void 0:f.units)||void 0===x?void 0:x.yAxis)||void 0===_?void 0:_.prefix:"").concat(i.y).concat((null===(k=null===(S=null===(O=H._option.tooltipSetting)||void 0===O?void 0:O.units)||void 0===S?void 0:S.yAxis)||void 0===k?void 0:k.suffix)?null===(C=null===(w=null===(A=H._option.tooltipSetting)||void 0===A?void 0:A.units)||void 0===w?void 0:w.yAxis)||void 0===C?void 0:C.suffix:"");a+='<tr><td><div style="display: flex; align-items: center;">'+I+D+"".concat(z,"/").concat(j)+"</div></td></tr>"}})),a+="</tbody>",e.querySelector("table").innerHTML=a}var l=this._chart.canvas.getBoundingClientRect();if(e.style.opacity="1",e.style.textAlign="left",e.style.position="absolute",t.caretX+t.width>.75*l.width){var r=t.caretX-2*t.width-parseInt(M.spacing.paddingXsmall.replace("px",""));e.style.left=(r<0?0:r)+"px"}else{var d=t.caretX+parseInt(M.spacing.paddingXsmall.replace("px",""));e.style.left=(d>l.width?l.width:d)+"px"}e.style.top=t.caretY+"px",e.style.fontFamily=t._bodyFontFamily,e.style.fontSize=t.bodyFontSize+"px",e.style.fontStyle=t._bodyFontStyle,e.style.padding=t.yPadding+"px "+t.xPadding+"px",e.style.pointerEvents="none",e.style.transition="opacity ".concat(M.motionDuration.normal," ").concat(M.motionEasing.normal),e.style.color=M.colorText.commonInversePrimary,e.style.borderRadius=M.effectBorderRadius.medium,e.style.backgroundColor=M.colorFill.commonOverlay,e.style.zIndex="30"}},maintainAspectRatio:!1,scales:{xAxes:[{scatterPercentage:.75,categoryPercentage:.5,ticks:{suggestedMin:null===(n=null===(o=this._option)||void 0===o?void 0:o.xAxis)||void 0===n?void 0:n.suggestedMin,suggestedMax:null===(l=null===(a=this._option)||void 0===a?void 0:a.xAxis)||void 0===l?void 0:l.suggestedMax,stepSize:(null===(c=null===(s=this._option)||void 0===s?void 0:s.xAxis)||void 0===c?void 0:c.stepSize)?null===(h=null===(p=this._option)||void 0===p?void 0:p.xAxis)||void 0===h?void 0:h.stepSize:20,fontFamily:M.fontFamily.bodySmall,fontColor:M.colorText.commonSecondary,fontSize:M.fontSize.bodySmall.replace("px",""),padding:parseInt(M.spacing.paddingXsmall.replace("px",""))},gridLines:{color:(null===(u=null===(v=this._option)||void 0===v?void 0:v.xAxis)||void 0===u?void 0:u.isHidden)?M.colorFill.controlUnselected:M.colorBorder.commonPrimary,zeroLineColor:(null===(y=null===(g=this._option)||void 0===g?void 0:g.xAxis)||void 0===y?void 0:y.isHidden)?M.colorFill.controlUnselected:M.colorBorder.commonPrimary,zeroLineWidth:0},scaleLabel:{display:!!(null===(b=null===(m=this._option)||void 0===m?void 0:m.xAxis)||void 0===b?void 0:b.label),fontFamily:M.fontFamily.bodySmall,labelString:null===(x=null===(f=this._option)||void 0===f?void 0:f.xAxis)||void 0===x?void 0:x.label}}],yAxes:[{ticks:{suggestedMin:null===(O=null===(_=this._option)||void 0===_?void 0:_.yAxis)||void 0===O?void 0:O.suggestedMin,suggestedMax:null===(k=null===(S=this._option)||void 0===S?void 0:S.yAxis)||void 0===k?void 0:k.suggestedMax,fontFamily:M.fontFamily.bodySmall,fontColor:M.colorText.commonSecondary,fontSize:M.fontSize.bodySmall.replace("px",""),padding:parseInt(M.spacing.paddingXsmall.replace("px","")),stepSize:(null===(w=null===(A=this._option)||void 0===A?void 0:A.yAxis)||void 0===w?void 0:w.stepSize)?null===(F=null===(C=this._option)||void 0===C?void 0:C.yAxis)||void 0===F?void 0:F.stepSize:20},gridLines:{color:(null===(I=null===(L=this._option)||void 0===L?void 0:L.yAxis)||void 0===I?void 0:I.isHidden)?M.colorFill.controlUnselected:M.colorBorder.commonPrimary,zeroLineColor:(null===(z=null===(D=this._option)||void 0===D?void 0:D.yAxis)||void 0===z?void 0:z.isHidden)?M.colorFill.controlUnselected:M.colorBorder.commonPrimary},scaleLabel:{display:!!(null===(R=null===(j=this._option)||void 0===j?void 0:j.xAxis)||void 0===R?void 0:R.label),fontFamily:M.fontFamily.bodySmall,labelString:null===(P=null===(X=this._option)||void 0===X?void 0:X.yAxis)||void 0===P?void 0:P.label}}]},legend:{position:"bottom",display:!1},legendCallback:function(t){return'\n        <ul class="bh-scatter-chart--legend">\n          '.concat(function(t){return t.data.datasets.map((function(t){return'<li class="bh-scatter-chart--legend-li">\n            <div class="bh-scatter-chart--legend-item">\n              <span class="bh-scatter-chart--legend-item--dot '.concat("circle"===t.pointStyle||"rect"===t.pointStyle||"rectRounded"===t.pointStyle||"rectRot"===t.pointStyle||"triangle"===t.pointStyle?t.pointStyle:"",'" style="background-color: ').concat("triangle"===t.pointStyle?"none":t.backgroundColor,"; border-color: ").concat("triangle"===t.pointStyle?"transparent transparent ".concat(t.backgroundColor," transparent"):"none",';"></span>\n              <span class="typography--label-small typography--color-primary">').concat(t.label,"</span>\n            </div>\n          </li>\n          ")})).join("")}(t),"\n        </ul>\n        \n      ")}}},this._chart=new d.a(J,this._chartOption),(null===(B=this._option)||void 0===B?void 0:B.disableLegend)||(this.element__legends.innerHTML=this._chart.generateLegend(),this.bindLegendClickEvent())}},{key:"bindLegendClickEvent",value:function(){var t=this,i=this.element__legends.querySelectorAll(".bh-scatter-chart--legend-li");i.forEach((function(e,n){e.addEventListener("click",(function(){t.disabledDatasetIndex=t.disabledDatasetIndex.find((function(t){return t===n}))>-1?t.disabledDatasetIndex.filter((function(t){return t!==n})):[].concat(Object(o.a)(t.disabledDatasetIndex),[n]),t.disabledDatasetIndex.find((function(t){return t===n}))>-1?i[n].classList.add("hidden"):i[n].classList.remove("hidden");var e=t._option.styleOverride&&t._option.styleOverride[n]&&t._option.styleOverride[n].color?t._option.styleOverride[n].color:Object(d.b)(t._option.mode,n);t._chart.data.datasets[n].backgroundColor=t.disabledDatasetIndex.find((function(t){return t===n}))>-1?"".concat(e,"14"):e,t._chart.data.datasets[n].hoverBackgroundColor=t.disabledDatasetIndex.find((function(t){return t===n}))>-1?"".concat(e,"14"):e,t._chart.update(),t.bhEventChange.emit({disabledDatasetIndex:t.disabledDatasetIndex})}))}))}},{key:"render",value:function(){var t=this;return Object(l.f)(l.a,{class:"bh-scatter-chart"},Object(l.f)("div",{class:"bh-scatter-chart-wrapper",style:{minWidth:"".concat(this.height,"px"),height:"".concat(this.height,"px")}},Object(l.f)("canvas",{ref:function(i){t.element__canvas=i}})),Object(l.f)("div",{ref:function(i){t.element__legends=i}}),Object(l.f)("div",{ref:function(i){t.element__tooltip=i}},Object(l.f)("table",{class:"bink-calc__tooltip"})))}}],[{key:"watchers",get:function(){return{data:["watchData"],option:["watchOption"],chartOptionOverride:["watchcCartOptionOverride"],theme:["watchTheme"]}}}]),t}();s.style=".bh-scatter-chart{display:block;overflow-x:hidden}.bh-scatter-chart--legend{list-style-type:none;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:0;display:flex;flex-wrap:wrap;justify-content:center;margin-top:calc(var(--spacing-margin-medium) - var(--spacing-margin-xxsmall));margin-right:calc(-1 * var(--spacing-margin-large))}.bh-scatter-chart--legend-li{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:var(--spacing-margin-xxsmall)}.bh-scatter-chart--legend-li.hidden{opacity:0.2}.bh-scatter-chart--legend-item{display:flex;align-items:center;margin-right:var(--spacing-margin-large)}.bh-scatter-chart--legend-item--dot{width:8px;height:8px;border-radius:50%;display:block;margin-right:var(--spacing-margin-xsmall)}.bh-scatter-chart--legend-item--dot.rect{border-radius:0}.bh-scatter-chart--legend-item--dot.rectRounded{border-radius:var(--effect-border-radius-light)}.bh-scatter-chart--legend-item--dot.rectRot{border-radius:0;transform:rotate(45deg)}.bh-scatter-chart--legend-item--dot.triangle{width:0;height:0;border-radius:0;border-style:solid;border-width:0 5px 8px 5px}.bh-scatter-chart--tooltip-title{margin-bottom:var(--spacing-margin-xxsmall);white-space:nowrap}"}}]);
//# sourceMappingURL=134.f84fb654.chunk.js.map